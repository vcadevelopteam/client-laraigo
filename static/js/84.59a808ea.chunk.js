(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[84],{1393:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(26),c=a(20),i=a(0),o=a.n(i),u=a(25),s=a(40),l=a(94),d=a(48),b=a(7),j=a(779),m=a(169),f=a(780),O=a.n(f),v=a(46),p=a(122),h=a(8),g=a(205),w=a(83),y=a(44),x=a(778),N=a.n(x),C=a(10),D=a(2),I=Object(m.a)((function(e){return{containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"}}})),_=function(e){var t,a,n,j,m,f=e.data,v=f.row,x=f.edit,C=e.setViewSelected,_=e.multiData,F=e.fetchData,E=e.arrayBread,k=I(),S=Object(i.useState)(!1),L=Object(c.a)(S,2),R=L[0],T=L[1],V=Object(u.b)((function(e){return e.main.execute})),z=Object(s.c)(),q=Object(p.a)().t,H=_[0]&&_[0].success?_[0].data:[],M=Object(g.d)({defaultValues:{type:"NINGUNO",id:v?v.whitelistid:0,username:v&&v.username||"",phone:v&&v.phone||"",documenttype:v&&v.documenttype||"",documentnumber:v?v.documentnumber:0,usergroup:v?v.usergroup:"",operation:v?"EDIT":"INSERT",status:"ACTIVO"}}),B=M.register,A=M.handleSubmit,G=M.setValue,U=M.formState.errors;o.a.useEffect((function(){B("type"),B("id"),B("username",{validate:function(e){return e&&e.length||q(h.a.field_required)}}),B("documenttype",{validate:function(e){return e&&e.length||q(h.a.field_required)}}),B("phone",{validate:function(e){return e&&e>0||q(h.a.field_required)}}),B("documentnumber",{validate:function(e){return e&&e>0||q(h.a.field_required)}}),B("usergroup",{validate:function(e){return e&&e.length||q(h.a.field_required)}})}),[x,B]),Object(i.useEffect)((function(){if(R)if(V.loading||V.error){if(V.error){var e=q(V.code||"error_unexpected_error",{module:q(h.a.whitelist).toLocaleLowerCase()});z(Object(y.e)({show:!0,severity:"error",message:e})),T(!1),z(Object(y.d)(!1))}}else z(Object(y.e)({show:!0,severity:"success",message:q(v?h.a.successful_edit:h.a.successful_register)})),F&&F(),z(Object(y.d)(!1)),C("view-1")}),[V,R]);var P=A((function(e){z(Object(y.a)({visible:!0,question:q(h.a.confirmation_save),callback:function(){z(Object(w.c)(Object(b.lg)(e))),z(Object(y.d)(!0)),T(!0)}}))}));return Object(D.jsx)("div",{style:{width:"100%"},children:Object(D.jsxs)("form",{onSubmit:P,children:[Object(D.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(d.L,{breadcrumbs:[].concat(Object(r.a)(E),[{id:"view-2",name:q(h.a.whitelist)+" "+q(h.a.detail)}]),handleClick:C}),Object(D.jsx)(d.R,{title:v?"".concat(v.username):q(h.a.newwhitelist)})]}),Object(D.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(D.jsx)(l.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(D.jsx)(N.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return C("view-1")},children:q(h.a.back)}),x&&Object(D.jsx)(l.a,{className:k.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(D.jsx)(O.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:q(h.a.save)})]})]}),Object(D.jsxs)("div",{className:k.containerDetail,children:[Object(D.jsxs)("div",{className:"row-zyx",children:[Object(D.jsx)(d.l,{label:q(h.a.username),className:"col-6",onChange:function(e){return G("username",e)},valueDefault:v&&v.username||"",error:null===U||void 0===U||null===(t=U.username)||void 0===t?void 0:t.message}),Object(D.jsx)(d.l,{label:q(h.a.phone),className:"col-6",onChange:function(e){return G("phone",e?parseInt(e):0)},valueDefault:v&&v.phone||"",type:"number",error:null===U||void 0===U||null===(a=U.phone)||void 0===a?void 0:a.message})]}),Object(D.jsxs)("div",{className:"row-zyx",children:[Object(D.jsx)(d.u,{label:q(h.a.documenttype),className:"col-6",valueDefault:v&&v.documenttype||"",onChange:function(e){return G("documenttype",e?e.domainvalue:"")},error:null===U||void 0===U||null===(n=U.usergroup)||void 0===n?void 0:n.message,data:[{domainvalue:"DNI"},{domainvalue:"RUC"}],optionDesc:"domainvalue",optionValue:"domainvalue"}),Object(D.jsx)(d.l,{label:q(h.a.documentnumber),error:null===U||void 0===U||null===(j=U.documentnumber)||void 0===j?void 0:j.message,onChange:function(e){return G("documentnumber",e?parseInt(e):0)},type:"number",className:"col-6",valueDefault:v&&v.documentnumber||""})]}),Object(D.jsx)("div",{className:"row-zyx",children:Object(D.jsx)(d.u,{label:q(h.a.usergroup),className:"col-6",valueDefault:v&&v.usergroup||"",onChange:function(e){return G("usergroup",e?e.domainvalue:"")},error:null===U||void 0===U||null===(m=U.usergroup)||void 0===m?void 0:m.message,data:H,optionDesc:"domaindesc",optionValue:"domainvalue"})})]})]})})};t.default=function(){var e=Object(v.g)(),t=Object(s.c)(),a=Object(p.a)().t,r=Object(u.b)((function(e){return e.main})),m=Object(u.b)((function(e){return e.main.execute})),f=Object(i.useState)("view-1"),O=Object(c.a)(f,2),g=O[0],x=O[1],I=Object(i.useState)({row:null,edit:!1}),F=Object(c.a)(I,2),E=F[0],k=F[1],S=Object(i.useState)(!1),L=Object(c.a)(S,2),R=L[0],T=L[1],V=[{id:"view-0",name:a(h.a.configuration_plural)},{id:"view-1",name:a(h.a.whitelist)}],z=o.a.useMemo((function(){return[{accessor:"userid",NoFilter:!0,isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(D.jsx)(d.M,{viewFunction:function(){return H(t)},deleteFunction:function(){return B(t)},editFunction:function(){return M(t)}})}},{Header:a(h.a.username),accessor:"username",NoFilter:!0},{Header:a(h.a.documenttype),accessor:"documenttype",NoFilter:!0},{Header:a(h.a.documentnumber),accessor:"documentnumber",NoFilter:!0},{Header:a(h.a.phone),accessor:"phone",NoFilter:!0},{Header:a(h.a.usergroup),accessor:"usergroup",NoFilter:!0}]}),[a]),q=function(){return t(Object(w.g)(Object(b.Qe)(0)))};Object(i.useEffect)((function(){return q(),t(Object(w.p)([Object(b.Ke)("GRUPOS"),Object(b.Ke)("ESTADOGENERICO")])),function(){t(Object(w.t)())}}),[]),Object(i.useEffect)((function(){if(R)if(m.loading||m.error){if(m.error){var e=a(m.code||"error_unexpected_error",{module:a(h.a.whitelist).toLocaleLowerCase()});t(Object(y.e)({show:!0,severity:"error",message:e})),t(Object(y.d)(!1)),T(!1)}}else t(Object(y.e)({show:!0,severity:"success",message:a(h.a.successful_delete)})),q(),t(Object(y.d)(!1)),T(!1)}),[m,R]);var H=function(e){x("view-2"),k({row:e,edit:!1})},M=function(e){x("view-2"),k({row:e,edit:!0})},B=function(e){t(Object(y.a)({visible:!0,question:a(h.a.confirmation_delete),callback:function(){t(Object(w.c)(Object(b.lg)(Object(n.a)(Object(n.a)({},e),{},{operation:"DELETE",status:"ELIMINADO",id:e.whitelistid})))),t(Object(y.d)(!0)),T(!0)}}))};function A(t){"view-0"!==t?x(t):e.push(C.a.CONFIGURATION)}return"view-1"===g?Object(D.jsxs)("div",{style:{width:"100%"},children:[Object(D.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(D.jsx)(d.L,{breadcrumbs:V,handleClick:A})}),Object(D.jsx)(j.f,{columns:z,titlemodule:a(h.a.whitelist,{count:2}),data:r.mainData.data,download:!0,onClickRow:M,ButtonsElement:function(){return Object(D.jsx)(l.a,{disabled:r.mainData.loading,variant:"contained",type:"button",color:"primary",startIcon:Object(D.jsx)(N.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return e.push(C.a.CONFIGURATION)},children:a(h.a.back)})},loading:r.mainData.loading,register:!0,handleRegister:function(){x("view-2"),k({row:null,edit:!0})}})]}):"view-2"===g?Object(D.jsx)(_,{data:E,setViewSelected:A,multiData:r.multiData.data,fetchData:q,arrayBread:V}):null}},778:function(e,t,a){"use strict";var n=a(45),r=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),i=(0,n(a(62)).default)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=i},780:function(e,t,a){"use strict";var n=a(45),r=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),i=(0,n(a(62)).default)(c.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=i}}]);
//# sourceMappingURL=84.59a808ea.chunk.js.map