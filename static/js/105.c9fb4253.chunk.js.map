{"version":3,"sources":["store/getlocations/actions.ts","pages/Map.js","pages/GetLocations.tsx"],"names":["getLocations","requestBody","callAPI","ActivationUserService","types","loading","actionTypes","GETLOCATION","success","GETLOCATION_SUCCESS","failure","GETLOCATION_FAILURE","type","useStyles","makeStyles","theme","containerDetail","marginTop","spacing","padding","background","button","fontWeight","fontSize","textTransform","searchLocationContainer","height","width","searchLocationTitle","color","textAlign","paddingLeft","paddingRight","backgroundColor","paddingTop","paddingBottom","borderTopLeftRadius","borderTopRightRadius","containersearch","maxWidth","marginLeft","marginRight","textlabel","marginBottom","formControl","display","lineHeight","backgroundClip","border","borderRadius","colxs12colmd6","position","flex","libraries","mapContainerStyle","options","disableDefaultUI","zoomControl","Map","token","useParams","useLoadScript","googleMapsApiKey","isLoaded","loadError","React","useState","department","province","district","zone","zipcode","reference","street","streetNumber","movedmarker","searchLocation","directionData","setDirectionData","lat","lng","time","Date","center","setcenter","marker","setMarker","showPosition","coords","latitude","longitude","urltosearch","apiUrls","GETGEOCODE","fetch","method","response","ok","json","r","status","results","Array","length","cleanDataAddres","address_components","prev","formatted_address","street_number","find","x","includes","postal_code","route","administrative_area_level_1","administrative_area_level_2","locality","sublocality_level_1","long_name","e","latLng","useEffect","navigator","geolocation","getCurrentPosition","console","error","mapRef","useRef","onMapLoad","useCallback","map","current","panTo","setZoom","id","zoom","onLoad","onClick","Search","classes","t","useTranslation","getlocationdata","useSelector","state","getlocations","dispatch","useDispatch","a","setdisabled","lon","window","close","usePlacesAutocomplete","requestOptions","location","radius","ready","value","suggestions","data","setValue","clearSuggestions","disabled","handleSelect","address","getGeocode","getLatLng","warn","style","className","langKeys","firstDataLocation","onSelect","onChange","target","placeholder","searchyourlocation","description","secondDataLocation","TextField","label","variant","size","postalcode","extraInformation","multiline","maxRows","Button","sendData","send","GetLocations"],"mappings":"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","file":"static/js/105.c9fb4253.chunk.js","sourcesContent":["import { IActionCall, IRequestBody } from \"@types\";\r\nimport { ActivationUserService } from \"network\";\r\nimport actionTypes from \"./actionTypes\";\r\n\r\nexport const getLocations = (requestBody: IRequestBody): IActionCall => ({\r\n    callAPI: () => ActivationUserService.getLocations(requestBody),\r\n    types: {\r\n        loading: actionTypes.GETLOCATION,\r\n        success: actionTypes.GETLOCATION_SUCCESS,\r\n        failure: actionTypes.GETLOCATION_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetgetLocations = (): IActionCall => ({ type: actionTypes.GETLOCATION_RESET });","import React,{useEffect} from \"react\";\r\nimport {GoogleMap,useLoadScript,Marker\r\n} from \"@react-google-maps/api\";\r\nimport usePlacesAutocomplete, {getGeocode,getLatLng,\r\n} from \"use-places-autocomplete\";\r\nimport {Combobox,ComboboxInput,ComboboxPopover,ComboboxList,ComboboxOption,} from \"@reach/combobox\";\r\nimport { useParams } from 'react-router';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { getLocations } from 'store/getlocations/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'hooks';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { apiUrls } from \"common/constants\";\r\n\r\nimport \"@reach/combobox/styles.css\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    searchLocationContainer: {\r\n        height: '50vh', width: '100%'\r\n    },\r\n    searchLocationTitle:{\r\n        color: \"white\",\r\n        fontSize: \"12px\",\r\n        textAlign: \"center\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"10px\",\r\n        backgroundColor: \"rgb(235, 0, 43)\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        ['@media (min-width:600px)']: { // eslint-disable-line no-useless-computed-key\r\n            fontSize: \"18px\",\r\n            paddingTop: \"8px\",\r\n            paddingBottom: \"8px\",\r\n            borderTopLeftRadius: \"20px\",\r\n            borderTopRightRadius: \"20px\",\r\n        }\r\n    },\r\n    containersearch:{\r\n        marginTop: \"10px\",\r\n        maxWidth: \"80%\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n    },\r\n    textlabel:{\r\n        marginBottom: \"10px\",\r\n        fontWeight: \"bold\",\r\n        color: \"rgb(235, 0, 43)\",\r\n    },\r\n    formControl:{\r\n        display: \"block\",\r\n        width: \"100%\",\r\n        height: \"calc(1.5em + 0.75rem + 2px)\",\r\n        padding: \"18.5px 14px\",\r\n        fontSize: \"1rem\",\r\n        lineHeight: \"1.5\",\r\n        color: \"#495057\",\r\n        backgroundColor: \"#fff\",\r\n        backgroundClip: \"padding-box\",\r\n        border: \"1px solid #ced4da\",\r\n        borderRadius: \"0.25rem\",\r\n    },\r\n    colxs12colmd6:{\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        paddingRight: \"15px\",\r\n        paddingLeft: \"15px\",\r\n        ['@media (min-width:760px)']: { // eslint-disable-line no-useless-computed-key\r\n            flex: \"0 0 50%\",\r\n            maxWidth: \"50%\",\r\n        }\r\n    }\r\n}));\r\n\r\nconst libraries = [\"places\"];\r\nconst mapContainerStyle = {\r\n  height: \"50vh\",\r\n  width: \"100vw\",\r\n};\r\nconst options = {\r\n  disableDefaultUI: true,\r\n  zoomControl: true,\r\n};\r\n\r\nexport default function Map() {\r\n  \r\n  const {token} = useParams();\r\n  const { isLoaded, loadError } = useLoadScript({\r\n    googleMapsApiKey: \"AIzaSyAqrFCH95Tbqwo6opvVPcdtrVd-1fnBLr4\" /*\"AIzaSyCBij6DbsB8SQC_RRKm3-X07RLmvQEnP9w\"*/,\r\n    libraries,\r\n  });\r\n  const [directionData, setDirectionData] = React.useState({\r\n    department: \"\",\r\n    province: \"\",\r\n    district: \"\",\r\n    zone: \"\",\r\n    zipcode: \"\",\r\n    reference: \"\",\r\n    street: \"\",\r\n    streetNumber: \"\",\r\n    movedmarker: false,\r\n    searchLocation: \"\",\r\n    token: token\r\n  });\r\n  const [center, setcenter] = React.useState({\r\n    lat: 0,\r\n    lng: 0,\r\n    time: new Date(),\r\n  });\r\n  const [marker, setMarker] = React.useState({\r\n    lat: 0,\r\n    lng: 0,\r\n    time: new Date(),\r\n  });\r\n  \r\n  useEffect(() => {\r\n    getLocation();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  function getLocation(){\r\n    if(navigator.geolocation){\r\n      navigator.geolocation.getCurrentPosition(showPosition)\r\n    }else{\r\n      console.error('Geolocation not supported by this browser')\r\n    }\r\n  }\r\n  async function showPosition(position) {\r\n    const lat = position.coords.latitude;\r\n    const lng = position.coords.longitude;\r\n\r\n    \r\n    setMarker({\r\n      lat: lat,\r\n      lng: lng,\r\n      time: new Date(),\r\n    });\r\n    setcenter({\r\n      lat: lat,\r\n      lng: lng,\r\n    });\r\n\r\n    const urltosearch = `${apiUrls.GETGEOCODE}?lat=${lat}&lng=${lng}`;\r\n    const response = await fetch(urltosearch, {\r\n        method: 'GET',\r\n    });\r\n    if (response.ok) {\r\n        try {\r\n            const r = await response.json();\r\n            if (r.status === \"OK\" && r.results && r.results instanceof Array && r.results.length > 0) {\r\n                cleanDataAddres(r.results[0].address_components);\r\n                setDirectionData((prev)=>({...prev, \r\n                  movedmarker: true,\r\n                  searchLocation: r.results[0].formatted_address\r\n                }))\r\n            }\r\n        } catch (e) { }\r\n    }\r\n  }\r\n  \r\n  function cleanDataAddres(r) {\r\n    const street_number = r.find(x => x.types.includes(\"street_number\"));\r\n    const postal_code = r.find(x => x.types.includes(\"postal_code\"));\r\n    const route = r.find(x => x.types.includes(\"route\"));\r\n    const administrative_area_level_1 = r.find(x => x.types.includes(\"administrative_area_level_1\"));\r\n    const administrative_area_level_2 = r.find(x => x.types.includes(\"administrative_area_level_2\"));\r\n    const locality = r.find(x => x.types.includes(\"locality\"));\r\n    const sublocality_level_1 = r.find(x => x.types.includes(\"sublocality_level_1\"));\r\n\r\n    setDirectionData((prev)=>({...prev, \r\n      department: administrative_area_level_1 ? administrative_area_level_1.long_name : \"\", \r\n      province: administrative_area_level_2 ? administrative_area_level_2.long_name : \"\", \r\n      district: locality ? locality.long_name : \"\", \r\n      zone: sublocality_level_1 ? sublocality_level_1.long_name : \"\", \r\n      zipcode: postal_code ? postal_code.long_name : \"\",\r\n      street: route ? route.long_name : \"\", \r\n      streetNumber: street_number ? street_number.long_name : \"\",\r\n    }))\r\n  }\r\n  async function onMapClick(e){\r\n    const urltosearch = `${apiUrls.GETGEOCODE}?lat=${e.latLng.lat()}&lng=${e.latLng.lng()}`;\r\n    const response = await fetch(urltosearch, {\r\n        method: 'GET',\r\n    });\r\n    if (response.ok) {\r\n        try {\r\n            const r = await response.json();\r\n            if (r.status === \"OK\" && r.results && r.results instanceof Array && r.results.length > 0) {\r\n                cleanDataAddres(r.results[0].address_components);\r\n                setDirectionData((prev)=>({...prev, \r\n                  movedmarker: true,\r\n                  searchLocation: r.results[0].formatted_address\r\n                }))\r\n            }\r\n        } catch (e) { }\r\n    }\r\n    setMarker({\r\n        lat: e.latLng.lat(),\r\n        lng: e.latLng.lng(),\r\n        time: new Date(),\r\n      });\r\n  }\r\n\r\n  const mapRef = React.useRef();\r\n  const onMapLoad = React.useCallback((map) => {\r\n    mapRef.current = map;\r\n  }, []);\r\n  const panTo = React.useCallback(({ lat, lng }) => {\r\n    mapRef.current.panTo({ lat, lng });\r\n    mapRef.current.setZoom(14);\r\n  }, []);\r\n\r\n  if (loadError) return <div>\"Error\"</div>;\r\n  if (!isLoaded) return <div>Loading...</div>;\r\n  \r\n  return (\r\n    <div>\r\n      <GoogleMap\r\n        id=\"map\"\r\n        mapContainerStyle={mapContainerStyle}\r\n        zoom={11}\r\n        center={center}\r\n        options={options}\r\n        onLoad={onMapLoad}\r\n        onClick={onMapClick}\r\n      >\r\n        <Marker\r\n          key={`${marker.lat}-${marker.lng}`}\r\n          position={{ lat: marker.lat, lng: marker.lng }}\r\n        />\r\n      </GoogleMap>\t  \r\n      <Search panTo={panTo} setMarker={setMarker} directionData={directionData} setDirectionData={setDirectionData} cleanDataAddres={cleanDataAddres} marker={marker}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Search({ panTo,setMarker,directionData, setDirectionData, cleanDataAddres,marker}) {\r\n    const classes = useStyles();\r\n    const { t } = useTranslation();\r\n    const getlocationdata = useSelector(state => state.getlocations);\r\n    const dispatch = useDispatch();\r\n    \r\n  async function sendData(){\r\n    setdisabled(true)\r\n    dispatch(getLocations(\r\n      {\r\n        lon:marker.lng,\r\n        lat:marker.lat,\r\n        ...directionData\r\n      }))\r\n  }\r\n  useEffect(() => {\r\n    if(getlocationdata.getLocations.success){\r\n      window.close();\r\n    }\r\n  }, [getlocationdata]);\r\n  \r\n\tconst {\r\n\t\tready,\r\n\t\tvalue,\r\n\t\tsuggestions: { status, data },\r\n\t\tsetValue,\r\n\t\tclearSuggestions,\r\n\t} = usePlacesAutocomplete({\r\n\t\trequestOptions: {\r\n\t\tlocation: { lat: () => 43.6532, lng: () => -79.3832 },\r\n\t\tradius: 100 * 1000,\r\n\t\t},\r\n\t});\r\n  const [disabled, setdisabled] = React.useState(false);\r\n\r\n  // https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest\r\n\r\n\tconst handleInput = (e) => {\r\n\t\tsetValue(e.target.value);\r\n\t};\r\n  useEffect(() => {\r\n    if(directionData.movedmarker){\r\n      setDirectionData((prev)=>({...prev, \r\n        movedmarker: false\r\n      }))\r\n      setValue(directionData.searchLocation)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [directionData.movedmarker]);\r\n\tconst handleSelect = async (address) => {\r\n\t\tsetValue(address, false);\r\n    \r\n    setDirectionData((prev)=>({...prev, \r\n      searchLocation: address\r\n    }))\r\n\t\tclearSuggestions();\r\n\t\ttry {\r\n\t\tconst results = await getGeocode({ address });\r\n\t\tconst { lat, lng } = await getLatLng(results[0]);\r\n    if(results){\r\n      cleanDataAddres(results[0].address_components)\r\n    }\r\n    setMarker({\r\n      lat: lat,\r\n      lng: lng,\r\n      time: new Date(),\r\n    });\r\n\t\tpanTo({ lat, lng });\r\n\t\t} catch (error) {\r\n\t\tconsole.warn(\"ðŸ˜± Error: \", error);\r\n\t\t}\r\n\t};\r\n\r\n    return (\r\n\t  \r\n\t<div style={{width:\"100%\"}}>\r\n\t\t\r\n\t\t<div className={classes.searchLocationTitle}>{t(langKeys.searchLocationTitle)}</div>\r\n\t\t<div className=\"search\">\r\n\t\t\t\r\n\t\t<div className={classes.containersearch}>\r\n\t\t\t<div className={classes.textlabel}>{t(langKeys.firstDataLocation)}</div>\r\n\r\n\t\t\t<Combobox onSelect={handleSelect} style={{width:\"100%\"}}>\r\n        <ComboboxInput\r\n          value={value}\r\n          className={classes.formControl}\r\n          onChange={handleInput}\r\n          disabled={!ready}\r\n          placeholder={t(langKeys.searchyourlocation)}\r\n          />\r\n          <ComboboxPopover>\r\n            <ComboboxList>\r\n              {status === \"OK\" &&\r\n              data.map(({ id, description }) => (\r\n                <ComboboxOption key={id} value={description} />\r\n              ))}\r\n            </ComboboxList>\r\n        </ComboboxPopover>\r\n\t\t</Combobox>\r\n\r\n\t\t\t<div className={classes.textlabel}>{t(langKeys.secondDataLocation)}</div>\r\n\t\t\t\r\n\t\t\t<div className=\"row-zyx\" style={{ marginBottom: \"0px\"}}>\r\n\t\t\t\t<TextField label={t(langKeys.department)} variant=\"outlined\" size=\"small\" className=\"col-6\" value={directionData.department} onChange={(e)=>{setDirectionData((prev)=>({...prev, department: e.target.value}))}}/>\r\n\t\t\t\t<TextField label={t(langKeys.province)} variant=\"outlined\" size=\"small\" className=\"col-6\" value={directionData.province} onChange={(e)=>{setDirectionData((prev)=>({...prev, province: e.target.value}))}}/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row-zyx\" style={{ marginBottom: \"0px\"}}>\r\n\t\t\t\t<TextField label={t(langKeys.district)} variant=\"outlined\" size=\"small\" className=\"col-6\" value={directionData.district} onChange={(e)=>{setDirectionData((prev)=>({...prev, district: e.target.value}))}}/>\r\n\t\t\t\t<TextField label={t(langKeys.zone)} variant=\"outlined\" size=\"small\" className=\"col-6\" value={directionData.zone} onChange={(e)=>{setDirectionData((prev)=>({...prev, zone: e.target.value}))}}/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row-zyx\" style={{ marginBottom: \"0px\"}}>\r\n\t\t\t\t<TextField label={t(langKeys.street)} variant=\"outlined\" size=\"small\" className=\"col-6\" value={directionData.street} onChange={(e)=>{setDirectionData((prev)=>({...prev, street: e.target.value}))}}/>\r\n\t\t\t\t<TextField label={`NÂ° ${t(langKeys.street)}`} variant=\"outlined\" size=\"small\" className=\"col-6\" value={directionData.streetNumber} onChange={(e)=>{setDirectionData((prev)=>({...prev, streetNumber: e.target.value}))}}/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row-zyx\" style={{ marginBottom: \"0px\"}}>\r\n\t\t\t\t<TextField label={t(langKeys.postalcode)} variant=\"outlined\" size=\"small\" className=\"col-6\" value={directionData.zipcode} onChange={(e)=>{setDirectionData((prev)=>({...prev, zipcode: e.target.value}))}}/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row-zyx\" style={{ marginBottom: \"0px\"}}>\r\n\t\t\t\t<TextField label={t(langKeys.extraInformation)} multiline variant=\"outlined\" size=\"small\" style={{width:\"100%\"}} maxRows={4}  value={directionData.reference} onChange={(e)=>{setDirectionData((prev)=>({...prev, reference: e.target.value}))}}/>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginLeft: \"auto\", paddingTop: \"10px\", marginRight: \"auto\", display: \"block\", width: \"10%\" }}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n          onClick={()=>sendData()}\r\n          disabled={disabled}\r\n\t\t\t\t\tstyle={{ backgroundColor: \"#eb002b\" }}\r\n\t\t\t\t>{t(langKeys.send)}</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC } from 'react';\r\nimport Map from './Map.js'\r\n\r\n\r\n\r\nexport const GetLocations: FC = () => {\r\n    \r\n    return (\r\n        <>\r\n            <Map></Map>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GetLocations;"],"sourceRoot":""}