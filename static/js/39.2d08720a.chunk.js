(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[39],{1248:function(e,t,i){"use strict";var n=i(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(80)),c=i(112),o=n(i(463));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.makeStyles)(e,(0,a.default)({defaultTheme:o.default},t))};t.default=r},1416:function(e,t,i){"use strict";i.r(t),function(e){var n=i(3),a=i(24),c=i.n(a),o=i(39),r=i(1),l=i(20),s=i(0),d=i.n(s),u=i(7),b=i(83),j=i(44),p=i(784),f=i(40),O=i(25),h=i(8),m=i(122),g=i(1248),x=i.n(g),v=i(993),y=i.n(v),w=i(48),k=i(779),C=i(205),S=i(257),T=i(167),_=i(197),D=i(326),I=i.n(D),F=i(16),N=i(37),R=i(447),E=i(94),H=i(170),A=i(996),L=i.n(A),B=i(28),P=i(832),M=i(2),W=x()((function(e){return{container:{display:"flex",flexDirection:"column",gap:8,width:"100%"},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerFilter:{width:"100%",marginBottom:e.spacing(2),display:"flex",gap:16,flexWrap:"wrap"},filterComponent:{width:"250px"},filterComponentVirtualized:{width:"300px"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},labellink:{color:"#7721ad",textDecoration:"underline",cursor:"pointer"},filterStatus:{fontWeight:500,fontSize:16,cursor:"pointer"},filterStatusActive:{color:e.palette.primary.main},flex_1:{flex:1}}})),z=function(e){var t,i=e.setOpenModal,n=e.openModal,a=e.rowWithDataSelected,c=e.fetchData,o=Object(m.a)().t,r=Object(f.c)(),d=Object(s.useState)(!1),u=Object(l.a)(d,2),b=u[0],p=u[1],g=Object(O.b)((function(e){return e.main.multiData})),x=Object(O.b)((function(e){return e.inbox.triggerMassiveCloseTicket})),v=Object(C.d)(),y=v.register,k=v.handleSubmit,S=v.setValue,T=v.getValues,_=v.reset,D=v.formState.errors;Object(s.useEffect)((function(){b&&(x.loading||x.error?x.error&&(r(Object(j.e)({show:!0,severity:"error",message:o(h.a.error_unexpected_error)})),r(Object(j.d)(!1)),p(!1)):(r(Object(j.e)({show:!0,severity:"success",message:o(h.a.successful_close_ticket)})),i(!1),r(Object(j.d)(!1)),c(),p(!1)))}),[x,b]),Object(s.useEffect)((function(){n&&(_({motive:"",observation:""}),y("motive",{validate:function(e){return e&&e.length||o(h.a.field_required)}}),y("observation"))}),[n]);var I=k((function(e){var t=a.map((function(e){return{conversationid:e.conversationid,asesoridfinal:e.asesoridfinal,numeroticket:e.numeroticket,communicationchannelsite:e.communicationchannelsite,personcommunicationchanneltype:e.personcommunicationchanneltype,personcommunicationchannel:e.personcommunicationchannel,communicationchannelid:e.communicationchannelid}}));r(Object(N.v)({motive:e.motive,observation:e.observation,listTickets:t})),r(Object(j.d)(!0)),p(!0)}));return Object(M.jsx)(w.g,{open:n,title:o(h.a.close_ticket),buttonText1:o(h.a.cancel),buttonText2:o(h.a.save),handleClickButton1:function(){return i(!1)},handleClickButton2:I,button2Type:"submit",children:Object(M.jsxs)("div",{className:"row-zyx",children:[Object(M.jsx)(w.u,{label:o(h.a.closing_reason),className:"col-12",valueDefault:T("motive"),onChange:function(e){return S("motive",e?e.domainvalue:"")},error:null===D||void 0===D||null===(t=D.motive)||void 0===t?void 0:t.message,data:(null===g||void 0===g?void 0:g.data[2])&&(null===g||void 0===g?void 0:g.data[2].data),optionDesc:"domaindesc",optionValue:"domainvalue"}),Object(M.jsx)(w.o,{label:o(h.a.observation),valueDefault:T("observation"),className:"col-12",onChange:function(e){return S("observation",e)},maxLength:1024})]})})},K=function(e){var t,i,n=e.setOpenModal,a=e.openModal,c=e.rowWithDataSelected,o=e.fetchData,d=Object(m.a)().t,p=Object(f.c)(),g=Object(s.useState)(!1),x=Object(l.a)(g,2),v=x[0],y=x[1],k=Object(O.b)((function(e){return e.main.multiData})),S=Object(O.b)((function(e){return e.main.mainAux})),T=Object(O.b)((function(e){return e.inbox.triggerReassignTicket})),_=Object(s.useState)([]),D=Object(l.a)(_,2),I=D[0],F=D[1],R=Object(O.b)((function(e){return e.login.validateToken.user})),E=Object(C.d)(),H=E.register,A=E.handleSubmit,L=E.setValue,B=E.getValues,P=E.reset,W=E.formState.errors;Object(s.useEffect)((function(){if(v)if(T.loading||T.error)T.error&&(p(Object(j.e)({show:!0,severity:"error",message:d(h.a.error_unexpected_error)})),p(Object(j.d)(!1)),y(!1));else{var e=""!==B("newUserGroup")&&0===B("newUserId")?3:B("newUserId");p(Object(j.e)({show:!0,severity:"success",message:d(h.a.successful_reasign_ticket)})),n(!1),p(Object(j.d)(!1)),y(!1),c.map((function(e){return{ticketnum:e.numeroticket,displayname:e.name,lastmessage:"",personcommunicationchannel:e.personcommunicationchannel,conversationid:e.conversationid,personid:e.personid,communicationchannelid:e.communicationchannelid,interactionid:0,communicationchanneltype:e.personcommunicationchanneltype,imageurldef:e.imageurldef,communicationchannelsite:e.communicationchannelsite,lastuserid:e.asesoridfinal,firstconversationdate:e.fechainicio,userid:e.asesoridfinal,status:"ASIGNADO",countnewmessages:0,coloricon:e.coloricon,newConversation:!0,postexternalid:e.postexternalid,commentexternalid:e.commentexternalid,replyexternalid:e.replyexternalid,tdatime:e.tdatime,isAnswered:!1}})).forEach((function(t){return p(Object(N.h)({event:"reassignTicket",data:Object(r.a)(Object(r.a)({},t),{},{wasanswered:!0,newuserid:e,newUserGroup:B("newUserGroup"),lastmessage:"".concat(null===R||void 0===R?void 0:R.firstname," ").concat(null===R||void 0===R?void 0:R.lastname," reasign\xf3 este ticket ").concat(3===e?"HOLDING("+B("newUserGroup")+")":"")})}))})),o()}}),[T,v]),Object(s.useEffect)((function(){if(a){var e;P({newUserId:0,observation:"",newUserGroup:""}),H("newUserId"),H("observation"),H("newUserGroup");var t=(null===k||void 0===k||null===(e=k.data[6])||void 0===e?void 0:e.data)||[];if(1===c.length){var i=c[0].ticketgroup;F(i?t.filter((function(e){return e.domainvalue!==i})):t)}else F(t);p(Object(b.h)(Object(u.pd)()))}else p(Object(b.z)())}),[a]);var z=A((function(e){if(0!==e.newUserId||e.newUserGroup){var t=c.map((function(e){return e.conversationid})).join();p(Object(b.c)(Object(u.Lg)(t,e.newUserId,e.observation,e.newUserGroup))),p(Object(j.d)(!0)),y(!0)}else p(Object(j.e)({show:!0,severity:"error",message:d(h.a.least_user_or_group)}))}));return Object(M.jsx)(w.g,{open:a,title:d(h.a.reassign_ticket),buttonText1:d(h.a.cancel),buttonText2:d(h.a.reassign),handleClickButton1:function(){return n(!1)},handleClickButton2:z,button2Type:"submit",children:Object(M.jsxs)("div",{className:"row-zyx",children:[Object(M.jsx)(w.u,{label:d(h.a.agent_plural),className:"col-12",valueDefault:""+B("newUserId"),onChange:function(e){return L("newUserId",e?e.userid:0)},error:null===W||void 0===W||null===(t=W.newUserId)||void 0===t?void 0:t.message,data:S.data.filter((function(e){return"ACTIVO"===e.status})),loading:S.loading,optionDesc:"displayname",optionValue:"userid"}),Object(M.jsx)(w.u,{label:d(h.a.group_plural),className:"col-12",valueDefault:B("newUserGroup"),onChange:function(e){return L("newUserGroup",e?e.domainvalue:"")},error:null===W||void 0===W||null===(i=W.newUserGroup)||void 0===i?void 0:i.message,data:I,optionDesc:"domaindesc",optionValue:"domainvalue"}),Object(M.jsx)(w.o,{label:d(h.a.observation),valueDefault:B("observation"),className:"col-12",onChange:function(e){return L("observation",e)},maxLength:1024})]})})},U=function(e){var t,i,n,a=e.setOpenModal,c=e.openModal,o=e.rowWithDataSelected,r=e.fetchData,d=Object(m.a)().t,p=Object(f.c)(),g=Object(s.useState)(!1),x=Object(l.a)(g,2),v=x[0],y=x[1],k=Object(O.b)((function(e){return e.main.multiData})),S=Object(O.b)((function(e){return e.inbox.tipificationsLevel2})),T=Object(O.b)((function(e){return e.inbox.tipificationsLevel3})),_=Object(O.b)((function(e){return e.main.execute})),D=Object(C.d)(),I=D.register,F=D.handleSubmit,R=D.setValue,E=D.getValues,H=D.reset,A=D.formState.errors;Object(s.useEffect)((function(){if(v)if(_.loading||_.error){if(_.error){var e=d(_.code||"error_unexpected_error",{module:d(h.a.tipification).toLocaleLowerCase()});p(Object(j.e)({show:!0,severity:"error",message:e})),p(Object(j.d)(!1)),y(!1)}}else p(Object(j.e)({show:!0,severity:"success",message:d(h.a.successful_tipify_ticket)})),a(!1),p(Object(j.d)(!1)),y(!1),r()}),[_,v]),Object(s.useEffect)((function(){c&&(p(Object(N.A)()),p(Object(N.B)()),H({classificationid1:0,path1:"",classificationid2:0,path2:"",classificationid3:0,path3:""}),I("path1"),I("classificationid1",{validate:function(e){return e&&e>0||d(h.a.field_required)}}),I("path2"),I("classificationid2"),I("path3"),I("classificationid3"))}),[c]);var L=F((function(e){p(Object(j.d)(!0)),p(Object(b.c)(Object(u.Nf)(o.map((function(e){return e.conversationid})).join(),e.classificationid3||e.classificationid2||e.classificationid1))),y(!0)}));return Object(M.jsx)(w.g,{open:c,title:d(h.a.tipify_ticket)+"s",buttonText1:d(h.a.cancel),buttonText2:d(h.a.save),handleClickButton1:function(){return a(!1)},handleClickButton2:L,button2Type:"submit",children:Object(M.jsxs)("div",{className:"row-zyx",children:[Object(M.jsx)(w.u,{label:"".concat(d(h.a.tipification)," ").concat(d(h.a.level)," 1"),className:"col-12",valueDefault:E("classificationid1"),onChange:function(e){R("classificationid1",e?e.classificationid:""),R("path1",e?e.path:""),R("classificationid2",0),R("path2",""),R("classificationid3",0),R("path3",""),p(e?Object(N.p)(e.classificationid):Object(N.A)())},error:null===A||void 0===A||null===(t=A.classificationid1)||void 0===t?void 0:t.message,data:(null===k||void 0===k?void 0:k.data[4])&&(null===k||void 0===k?void 0:k.data[4].data),optionDesc:"path",optionValue:"classificationid"}),Object(M.jsx)(w.u,{label:"".concat(d(h.a.tipification)," ").concat(d(h.a.level)," 2"),className:"col-12",valueDefault:E("classificationid2"),onChange:function(e){R("classificationid2",e?e.classificationid:""),R("path2",e?e.path:""),R("classificationid3",0),R("path3",""),p(e?Object(N.q)(e.classificationid):Object(N.B)())},loading:S.loading,error:null===A||void 0===A||null===(i=A.classificationid2)||void 0===i?void 0:i.message,data:S.data,optionDesc:"path",optionValue:"classificationid"}),Object(M.jsx)(w.u,{label:"".concat(d(h.a.tipification)," ").concat(d(h.a.level)," 3"),className:"col-12",valueDefault:E("classificationid3"),onChange:function(e){R("classificationid2",e?e.classificationid:""),R("path2",e?e.path:"")},loading:T.loading,error:null===A||void 0===A||null===(n=A.classificationid3)||void 0===n?void 0:n.message,data:T.data,optionDesc:"path",optionValue:"classificationid"})]})})},V=function(e){var t=e.onHandlerReassign,i=e.onHandlerClassify,n=e.onHandlerClose,a=e.onHandlerShowHistory,c=(e.onHandlerCallRecord,e.disabled),o=d.a.useState(null),r=Object(l.a)(o,2),s=r[0],u=r[1],b=Object(m.a)().t;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(S.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",size:"small",disabled:c,onClick:function(e){return u(e.currentTarget)},children:Object(M.jsx)(I.a,{})}),Object(M.jsxs)(T.a,{id:"menu-appbar",anchorEl:s,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(s),onClose:function(){return u(null)},children:[t&&Object(M.jsxs)(_.a,{onClick:function(){u(null),t()},children:[Object(M.jsx)(R.a,{color:"inherit",children:Object(M.jsx)(F.Pb,{width:18,style:{fill:"#7721AD"}})}),b(h.a.reassign_ticket)]}),i&&Object(M.jsxs)(_.a,{onClick:function(){u(null),i()},children:[Object(M.jsx)(R.a,{children:Object(M.jsx)(F.ic,{width:18,style:{fill:"#7721AD"}})}),b(h.a.tipify_ticket)]}),n&&Object(M.jsxs)(_.a,{onClick:function(){u(null),n()},children:[Object(M.jsx)(R.a,{children:Object(M.jsx)(F.v,{width:18,style:{fill:"#7721AD"}})}),b(h.a.close_ticket)]}),a&&Object(M.jsxs)(_.a,{onClick:function(){u(null),a()},children:[Object(M.jsx)(R.a,{children:Object(M.jsx)(F.ab,{width:22,style:{fill:"#7721AD"}})}),b(h.a.status_history)]})]})]})},G=function(e){var t=e.ticket,i=e.openModal,n=e.setOpenModal,a=Object(m.a)().t,c=Object(f.c)(),o=Object(O.b)((function(e){return e.main.mainAux}));Object(s.useEffect)((function(){i&&t&&c(Object(b.h)(Object(u.Uc)(t.personid,t.conversationid,t.communicationchannelid)))}),[t,i]);var r=d.a.useMemo((function(){return[{Header:a(h.a.status),accessor:"status"},{Header:a(h.a.changeDate),accessor:"createdate",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return Object(u.K)(t.createdate).toLocaleString()}},{Header:a(h.a.person_who_modified),accessor:"fullname"}]}),[]);return Object(M.jsx)(w.g,{open:i,maxWidth:"md",title:"".concat(a(h.a.status_history)," ticket ").concat(null===t||void 0===t?void 0:t.numeroticket),buttonText1:a(h.a.cancel),handleClickButton1:function(){return n(!1)},children:Object(M.jsx)(k.f,{columns:r,data:o.data,filterGeneral:!1,download:!1,loading:o.loading,register:!1})})},q=function(e){var t,i,n=e.setOpenModal,a=e.openModal,r=e.fetchData,d=W(),b=Object(m.a)().t,p=Object(f.c)(),g=Object(s.useState)(!1),x=Object(l.a)(g,2),v=x[0],y=x[1],k=Object(O.b)((function(e){return e.main})),S=Object(O.b)((function(e){return e.inbox.triggerImportTicket})),T=Object(s.useState)(""),_=Object(l.a)(T,2),D=_[0],I=_[1],F=Object(s.useState)([]),R=Object(l.a)(F,2),H=R[0],A=R[1],L=Object(C.d)().handleSubmit;Object(s.useEffect)((function(){v&&(S.loading||S.error?S.error&&(p(Object(j.e)({show:!0,severity:"error",message:b(S.code||"error_unexpected_error")})),p(Object(j.d)(!1)),y(!1)):(p(Object(j.e)({show:!0,severity:"success",message:b(h.a.successful_import)})),n(!1),p(Object(j.d)(!1)),y(!1),r()))}),[S,v]),Object(s.useEffect)((function(){a&&(I(""),A([]))}),[a]);var B=L(Object(o.a)(c.a.mark((function e(){var t,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D)if(H&&(null===H||void 0===H?void 0:H.length)>0){for((t=new FormData).append("channelsite",D),i=0;i<H.length;i++)t.append(H[i].name,H[i],H[i].name);p(Object(N.u)(t)),p(Object(j.d)(!0)),y(!0)}else p(Object(j.e)({show:!0,severity:"error",message:b(h.a.no_files_selected)}));else p(Object(j.e)({show:!0,severity:"error",message:b(h.a.no_channel_selected)}));case 1:case"end":return e.stop()}}),e)})))),P=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Array.from(t).length>10?p(Object(j.e)({show:!0,severity:"error",message:b(h.a.max_limit_file_per_upload,{n:10})})):A(Array.from(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)(w.g,{open:a,title:b(h.a.upload_conversation_plural),buttonText0:b(h.a.template),buttonText1:b(h.a.cancel),buttonText2:b(h.a.import),handleClickButton0:function(){Object(u.bb)("".concat(b(h.a.template)," ").concat(b(h.a.ticket)),Object(u.fh)([{},{},{},{},{CLIENT:"CLIENT",BOT:"BOT"}],["date","personname","personphone","interactiontext","interactionfrom"]))},handleClickButton1:function(){return n(!1)},handleClickButton2:B,button2Type:"submit",children:[Object(M.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:[Object(M.jsx)(w.u,{label:b(h.a.channel),className:d.flex_1,valueDefault:D,onChange:function(e){return I(null===e||void 0===e?void 0:e.communicationchannelsite)},variant:"outlined",data:(null===k||void 0===k||null===(t=k.multiData)||void 0===t||null===(i=t.data[0])||void 0===i?void 0:i.data.sort((function(e,t){return(e.communicationchanneldesc||"").localeCompare(t.communicationchanneldesc)})))||[],optionDesc:"communicationchanneldesc",optionValue:"communicationchannelid"}),Object(M.jsx)("input",{name:"file",accept:"text/csv,.zip,.rar,.xls,.xlsx",id:"laraigo-upload-csv-file",type:"file",style:{display:"none"},onChange:function(e){return P(e.target.files)},multiple:!0}),Object(M.jsx)("label",{htmlFor:"laraigo-upload-csv-file",children:Object(M.jsx)(E.a,{className:d.button,variant:"contained",component:"span",color:"primary",style:{backgroundColor:"#55BD84"},children:b(h.a.select)})})]}),Object(M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"5px",marginTop:"10px"},children:H&&(null===H||void 0===H?void 0:H.map((function(e,t){return Object(M.jsxs)("div",{children:[t+1,". ",e.name]})})))})]})};t.default=function(){var t=Object(m.a)().t,i=W(),a=Object(O.b)((function(e){return e.main})),g=Object(f.c)(),x=Object(s.useState)({}),v=Object(l.a)(x,2),k=v[0],C=v[1],T=Object(s.useState)(!1),_=Object(l.a)(T,2),D=_[0],I=_[1],N=Object(s.useState)(!1),R=Object(l.a)(N,2),A=R[0],J=R[1],Q=Object(s.useState)(!1),X=Object(l.a)(Q,2),Y=X[0],$=X[1],Z=Object(s.useState)(!1),ee=Object(l.a)(Z,2),te=ee[0],ie=ee[1],ne=Object(s.useState)([]),ae=Object(l.a)(ne,2),ce=ae[0],oe=ae[1],re=Object(s.useState)({}),le=Object(l.a)(re,2),se=le[0],de=le[1],ue=Object(s.useState)(null),be=Object(l.a)(ue,2),je=be[0],pe=be[1],fe=Object(s.useState)(!1),Oe=Object(l.a)(fe,2),he=Oe[0],me=Oe[1],ge=Object(O.b)((function(e){return e.main.mainPaginated})),xe=Object(O.b)((function(e){return e.main.exportData})),ve=Object(s.useState)([]),ye=Object(l.a)(ve,2),we=ye[0],ke=ye[1],Ce=Object(s.useState)(!1),Se=Object(l.a)(Ce,2),Te=Se[0],_e=Se[1],De=Object(s.useState)(0),Ie=Object(l.a)(De,2),Fe=Ie[0],Ne=Ie[1],Re=Object(s.useState)(0),Ee=Object(l.a)(Re,2),He=Ee[0],Ae=Ee[1],Le=Object(s.useState)([]),Be=Object(l.a)(Le,2),Pe=Be[0],Me=Be[1],We=Object(s.useState)({pageSize:0,pageIndex:0,filters:{},sorts:{},daterange:null}),ze=Object(l.a)(We,2),Ke=ze[0],Ue=ze[1],Ve=Object(O.b)((function(e){return e.login.validateToken.user})),Ge=Object(s.useState)(!1),qe=Object(l.a)(Ge,2),Je=qe[0],Qe=qe[1],Xe=Object(s.useState)(!1),Ye=Object(l.a)(Xe,2),$e=Ye[0],Ze=Ye[1],et=Object(O.b)((function(e){return e.voximplant.requestGetCallRecord})),tt=function(e,t){C(Object(r.a)(Object(r.a)({},k),{},Object(n.a)({},e,t)))};Object(s.useEffect)((function(){0===Object.keys(se).length&&0===ce.length||oe((function(e){return Object.keys(se).map((function(t){return ge.data.find((function(e){return e.conversationid===parseInt(t)}))||e.find((function(e){return e.conversationid===parseInt(t)}))||{}}))}))}),[se]);var it=function(){var i=Object(o.a)(c.a.mark((function i(n){var a,o,r,l,s,d,u,b;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,B.m.getCallRecord({call_session_history_id:n.postexternalid});case 3:200===(a=i.sent).status&&(o=e.from(a.data,"base64"),r=new Blob([o],{type:a.headers["content-type"].split(";").find((function(e){return e.includes("audio")}))}),l=window.URL.createObjectURL(r),(s=document.createElement("a")).href=l,s.download=n.numeroticket,s.click()),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),b=t((null===i.t0||void 0===i.t0||null===(d=i.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.code)||"error_unexpected_error"),g(Object(j.e)({show:!0,severity:"error",message:b}));case 11:case"end":return i.stop()}}),i,null,[[0,7]])})));return function(e){return i.apply(this,arguments)}}();Object(s.useEffect)((function(){if($e)if(et.loading||et.error){if(et.error){var e=t(xe.code||"error_unexpected_error",{module:t(h.a.ticket_plural).toLocaleLowerCase()});g(Object(j.e)({show:!0,severity:"error",message:e})),Ze(!1)}}else et.data&&window.open(et.data),Ze(!1)}),[et,$e]);var nt=d.a.useMemo((function(){return[{accessor:"leadid",isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(M.jsx)(V,{onHandlerReassign:"CERRADO"===t.estadoconversacion?void 0:function(){ke([t]),$(!0)},onHandlerClassify:"CERRADO"===t.estadoconversacion?void 0:function(){ke([t]),I(!0)},onHandlerClose:"CERRADO"===t.estadoconversacion?void 0:function(){ke([t]),J(!0)},onHandlerShowHistory:function(){ie(!0),pe(t),ke([t])}})}},{accessor:"voxiid",isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var i=e.cell.row.original;return"VOXI"===i.communicationchanneltype&&i.postexternalid&&i.callanswereddate?Object(M.jsx)(H.a,{title:t(h.a.download_record)||"",children:Object(M.jsx)(S.a,{size:"small",onClick:function(){return it(i)},children:Object(M.jsx)(F.p,{style:{fill:"#7721AD"}})})}):null}},{Header:t(h.a.ticket_numeroticket),accessor:"numeroticket",Cell:function(e){var t=e.cell.row.original;return Object(M.jsx)("label",{className:i.labellink,onClick:function(){return at(t)},children:t.numeroticket})}},{Header:t(h.a.ticket_communicationchanneldescription),accessor:"communicationchanneldescription"},{Header:t(h.a.ticket_name),accessor:"name"},{Header:t(h.a.origin),accessor:"origin"},{Header:t(h.a.ticket_firstusergroup),accessor:"firstusergroup"},{Header:t(h.a.ticket_ticketgroup),accessor:"ticketgroup"},{Header:t(h.a.ticket_phone),accessor:"phone"},{Header:t(h.a.ticket_fechainicio),accessor:"fechainicio",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return Object(u.K)(t.fechainicio).toLocaleString()}},{Header:t(h.a.ticket_fechafin),accessor:"fechafin",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return t.fechafin?Object(u.K)(t.fechafin).toLocaleString():""}},{Header:t(h.a.status),accessor:"estadoconversacion"},{Header:t(h.a.ticket_tipocierre),accessor:"tipocierre",helpText:t(h.a.report_productivity_closetype_help)},{Header:t(h.a.ticket_duracionreal),accessor:"duracionreal",helpText:t(h.a.ticket_help_duracionreal),type:"time"},{Header:t(h.a.ticket_duracionpausa),accessor:"duracionpausa",helpText:t(h.a.ticket_duracionpausa_help),type:"time"},{Header:t(h.a.ticket_duraciontotal),helpText:t(h.a.ticket_duraciontotal_help),accessor:"duraciontotal",type:"time"},{Header:t(h.a.ticket_fechahandoff),helpText:t(h.a.ticket_fechahandoff_help),accessor:"fechahandoff",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return t.fechahandoff?Object(u.K)(t.fechahandoff).toLocaleString():""}},{Header:t(h.a.ticket_fechaultimaconversacion),helpText:t(h.a.ticket_fechaultimaconversacion_help),accessor:"fechaultimaconversacion",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return t.fechaultimaconversacion?Object(u.K)(t.fechaultimaconversacion).toLocaleString():""}},{Header:t(h.a.ticket_asesorinicial),accessor:"asesorinicial"},{Header:t(h.a.ticket_asesorfinal),accessor:"asesorfinal"},{Header:t(h.a.ticket_supervisor),accessor:"supervisor"},{Header:t(h.a.ticket_agentrol),accessor:"rolasesor"},{Header:t(h.a.ticket_empresa),accessor:"empresa"},{Header:t(h.a.campaign),accessor:"campaign"},{Header:t(h.a.ticket_tmoasesor),helpText:t(h.a.ticket_tmoasesor_help),accessor:"tmoasesor",type:"time"},{Header:t(h.a.ticket_tiempopromediorespuesta),helpText:t(h.a.ticket_tiempopromediorespuesta_help),accessor:"tiempopromediorespuesta",type:"time"},{Header:t(h.a.ticket_tiempopromediorespuestaasesor),helpText:t(h.a.ticket_tiempopromediorespuestaasesor_help),accessor:"tiempopromediorespuestaasesor",type:"time"},{Header:t(h.a.ticket_tiempoprimerarespuestaasesor),helpText:t(h.a.ticket_tiempoprimerarespuestaasesor_help),accessor:"tiempoprimerarespuestaasesor",type:"time"},{Header:t(h.a.ticket_tiempopromediorespuestapersona),helpText:t(h.a.ticket_tiempopromediorespuestapersona_help),accessor:"tiempopromediorespuestapersona",type:"time"},{Header:t(h.a.ticket_tiempoprimeraasignacion),helpText:t(h.a.ticket_tiempoprimeraasignacion_help),accessor:"tiempoprimeraasignacion",type:"time"},{Header:t(h.a.ticket_tdatime),helpText:t(h.a.ticket_tdatime_help),accessor:"tdatime",type:"time"},{Header:t(h.a.ticket_holdingwaitingtime),helpText:t(h.a.ticket_holdingwaitingtime_help),accessor:"holdingwaitingtime",type:"time"},{Header:t(h.a.supervisionduration),accessor:"supervisionduration",type:"time"},{Header:t(h.a.ticket_classification),helpText:t(h.a.ticket_tipification_help),accessor:"tipification"},{Header:t(h.a.ticket_documenttype),accessor:"documenttype"},{Header:t(h.a.documentnumber),accessor:"dni"},{Header:t(h.a.ticket_email),accessor:"email"},{Header:t(h.a.ticket_balancetimes),accessor:"balancetimes",type:"number",sortType:"number"},{Header:t(h.a.ticket_abandoned),accessor:"abandoned",Cell:function(e){return e.cell.row.original.abandoned?t(h.a.affirmative):t(h.a.negative)}},{Header:t(h.a.ticket_labels),helpText:t(h.a.ticket_labels_help),accessor:"labels"}]}),[]),at=Object(s.useCallback)((function(e){me(!0),pe(Object(r.a)(Object(r.a)({},e),{},{displayname:e.name,ticketnum:e.numeroticket}))}),[a]),ct=function(e){var t=e.pageSize,i=e.pageIndex,n=e.filters,a=e.sorts,c=e.daterange;Ue({pageSize:t,pageIndex:i,filters:n,sorts:a,daterange:c}),g(Object(b.k)(Object(u.Kd)(Object(r.a)({startdate:c.startDate,enddate:c.endDate,take:t,skip:i*t,sorts:a,filters:Object(r.a)({},n)},k))))},ot=function(){Ke.daterange&&ct(Ke)};return Object(s.useEffect)((function(){return g(Object(b.p)([Object(u.sc)(),Object(u.Me)("GRUPOS"),Object(u.Me)("MOTIVOCIERRE"),Object(u.tc)(""),Object(u.nc)("TIPIFICACION"),Object(u.He)(0),Object(u.Me)("GRUPOS"),Object(u.ac)(),Object(u.Vd)("CARGARCONVERSACIONES")])),function(){g(Object(b.t)())}}),[]),Object(s.useEffect)((function(){ge.loading||ge.error||(Ne(Ke.pageSize?Math.ceil(ge.count/Ke.pageSize):0),Ae(ge.count))}),[ge]),Object(s.useEffect)((function(){var e;if(Te)if(xe.loading||xe.error){if(xe.error){var i=t(xe.code||"error_unexpected_error",{module:t(h.a.property).toLocaleLowerCase()});g(Object(j.e)({show:!0,severity:"error",message:i})),g(Object(j.d)(!1)),_e(!1)}}else g(Object(j.d)(!1)),_e(!1),null===(e=xe.url)||void 0===e||e.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[xe,Te]),Object(s.useEffect)((function(){var e,t;(null===a||void 0===a?void 0:a.multiData.loading)||(null===a||void 0===a?void 0:a.multiData.error)||Me(((null===a||void 0===a||null===(e=a.multiData)||void 0===e||null===(t=e.data[5])||void 0===t?void 0:t.data)||[]).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{fullname:"".concat(e.firstname," ").concat(e.lastname)})})).sort((function(e,t){return e.fullname.localeCompare(t.fullname)})))}),[null===a||void 0===a?void 0:a.multiData]),Object(M.jsxs)("div",{className:i.container,children:[Object(M.jsxs)(y.a,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",style:{gap:8},children:[Object(M.jsx)("div",{className:i.title,children:t(h.a.ticket_plural)}),Object(M.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(M.jsx)(E.a,{variant:"contained",color:"primary",disabled:ge.loading||0===Object.keys(se).length,startIcon:Object(M.jsx)(F.Pb,{width:24,style:{fill:"#FFF"}}),onClick:function(){ke(ce),$(!0)},children:t(h.a.reassign)}),Object(M.jsx)(E.a,{variant:"contained",color:"primary",disabled:ge.loading||0===Object.keys(se).length,startIcon:Object(M.jsx)(F.ic,{width:24,style:{fill:"#FFF"}}),onClick:function(){ke(ce),I(!0)},children:t(h.a.ticket_typify)}),Object(M.jsx)(E.a,{variant:"contained",color:"primary",disabled:ge.loading||0===Object.keys(se).length,startIcon:Object(M.jsx)(F.v,{width:24,style:{fill:"#FFF"}}),onClick:function(){ke(ce),J(!0)},children:t(h.a.close)})]})]}),Object(M.jsx)(p.b,{columns:nt,data:ge.data,totalrow:He,loading:ge.loading,pageCount:Fe,filterrange:!0,download:!0,ButtonsElement:function(){var e,n,c,o,r;return Object(M.jsx)(M.Fragment,{children:["SUPERADMIN","ADMINISTRADOR","ADMINISTRADOR P"].includes((null===Ve||void 0===Ve?void 0:Ve.roledesc)||"")&&"1"===(null===a||void 0===a||null===(e=a.multiData)||void 0===e||null===(n=e.data)||void 0===n||null===(c=n[8])||void 0===c||null===(o=c.data)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.propertyvalue)&&Object(M.jsx)(E.a,{className:i.button,variant:"contained",color:"primary",disabled:ge.loading,onClick:function(){return Qe(!0)},startIcon:Object(M.jsx)(L.a,{}),children:t(h.a.upload_conversation_plural)})})},fetchData:ct,exportPersonalized:function(e){var t=e.filters,i=e.sorts,n=e.daterange,a=nt.filter((function(e){return!e.isComponent})).map((function(e){return{key:e.accessor,alias:e.Header}}));g(Object(b.d)(Object(u.te)(Object(r.a)({filters:Object(r.a)({},t),sorts:i,startdate:n.startDate,enddate:n.endDate},k)),"","excel",!1,a)),g(Object(j.d)(!0)),_e(!0)},useSelection:!0,selectionFilter:{key:"estadoconversacion",value:"ASIGNADO"},selectionKey:"conversationid",setSelectedRows:de,filterRangeDate:"today",FiltersElement:d.a.useMemo((function(){var e,n,c,o,r,l;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(w.q,{label:t(h.a.channel),className:i.filterComponent,valueDefault:k.channel||"",onChange:function(e){return tt("channel",e?e.map((function(e){return e.communicationchannelid})).join():"")},variant:"outlined",data:(null===a||void 0===a||null===(e=a.multiData)||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.data.sort((function(e,t){return(e.communicationchanneldesc||"").localeCompare(t.communicationchanneldesc)})))||[],optionDesc:"communicationchanneldesc",optionValue:"communicationchannelid",disabled:ge.loading},"fieldMultiSelect_channel"),Object(M.jsx)(w.q,{label:t(h.a.group),className:i.filterComponent,valueDefault:k.usergroup||"",onChange:function(e){return tt("usergroup",e?e.map((function(e){return e.domainvalue})).join():"")},variant:"outlined",data:(null===a||void 0===a||null===(c=a.multiData)||void 0===c||null===(o=c.data[1])||void 0===o?void 0:o.data)||[],optionDesc:"domaindesc",optionValue:"domainvalue",disabled:ge.loading},"fieldMultiSelect_group"),Object(M.jsx)(w.q,{label:t(h.a.agent),className:i.filterComponent,valueDefault:k.lastuserid||"",onChange:function(e){return tt("lastuserid",e?e.map((function(e){return e.userid})).join():"")},variant:"outlined",data:Pe,optionDesc:"fullname",optionValue:"userid",disabled:ge.loading},"fieldMultiSelect_user"),Object(M.jsx)(w.t,{label:t(h.a.campaign),className:i.filterComponentVirtualized,valueDefault:k.campaignid||"",onChange:function(e){return tt("campaignid",e?e.map((function(e){return e.id})).join():"")},variant:"outlined",data:(null===a||void 0===a||null===(r=a.multiData)||void 0===r||null===(l=r.data[7])||void 0===l?void 0:l.data)||[],optionDesc:"title",optionValue:"id",disabled:ge.loading},"fieldMultiSelect_campaign")]})}),[k,a.multiData,ge,Pe])}),Object(M.jsx)(P.a,{openModal:he,setOpenModal:me,ticket:je}),Object(M.jsx)(G,{openModal:te,setOpenModal:ie,ticket:je}),Object(M.jsx)(U,{fetchData:ot,rowWithDataSelected:we,openModal:D,setOpenModal:I}),Object(M.jsx)(z,{fetchData:ot,rowWithDataSelected:we,openModal:A,setOpenModal:J}),Object(M.jsx)(K,{fetchData:ot,rowWithDataSelected:we,openModal:Y,setOpenModal:$}),Object(M.jsx)(q,{fetchData:ot,openModal:Je,setOpenModal:Qe})]})}}.call(this,i(462).Buffer)},783:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",(function(){return n}))},784:function(e,t,i){"use strict";i.d(t,"c",(function(){return $})),i.d(t,"a",(function(){return Z}));var n=i(26),a=i(1),c=i(20),o=i(3),r=i(0),l=i.n(r),s=i(1048),d=i(1049),u=i(1045),b=i(1047),j=i(1146),p=i(1044),f=i(257),O=i(721),h=i(197),m=i(51),g=i(444),x=i(169),v=i(718),y=i(170),w=i(94),k=i(8),C=i(16),S=i(794),T=i.n(S),_=i(9),D=i(315),I=i(1145),F=i(830),N=i(1046),R=i(893),E=i(894),H=i(765),A=i(766),L=i(767),B=i(768),P=i(323),M=i.n(P),W=i(167),z=i(793),K=i(48),U=i(172),V=i(779),G=i(7),q=i(2),J=Object(x.a)((function(e){var t;return{footerTable:(t={display:"block"},Object(o.a)(t,e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),Object(o.a)(t,"& > div",Object(o.a)({display:"block",textAlign:"center"},e.breakpoints.up("sm"),{display:"flex",alignItems:"center"})),t),trdynamic:{"&:hover":{boxShadow:"0 11px 6px -9px rgb(84 84 84 / 78%)","& $containerfloat":{visibility:"visible"}}},containerfloat:{borderBottom:"none",padding:"4px 24px 4px 16px",backgroundColor:"white",marginTop:"1px",position:"absolute",zIndex:9999,left:0,visibility:"hidden"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerButtons:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:8},containerButtonsNoFilters:{display:"flex",width:"100%",justifyContent:"end",alignItems:"center",flexWrap:"wrap",gap:8},iconOrder:{width:20,height:20,color:e.palette.text.primary},containerHeader:Object(o.a)({display:"block",backgroundColor:"#FFF",padding:e.spacing(1)},e.breakpoints.up("sm"),{display:"flex"}),containerHeaderColumn:{display:"flex",justifyContent:"space-between",alignItems:"center"},iconHelpText:{width:15,height:15,cursor:"pointer"}}})),Q=function(e){var t=e.header,i=e.type,n=e.setFilters,s=e.filters,d=e.listSelectFilter,u=Object(r.useState)(""),b=Object(c.a)(u,2),j=b[0],p=b[1],O=l.a.useState(null),h=Object(c.a)(O,2),m=h[0],x=h[1],v=Boolean(m),y=Object(r.useState)("contains"),w=Object(c.a)(y,2),k=w[0],C=w[1];Object(r.useEffect)((function(){switch(i){case"number":case"number-centered":case"date":case"datetime-local":case"time":case"select":C("equals");break;case"boolean":C("all");break;case"string":case"color":default:C("contains")}}),[i]),Object(r.useEffect)((function(){["number","number-centered"].includes(i)&&C("equals")}),[i]);var S=function(e){x(null),C(e),"boolean"===i?(p(e),n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:e,operator:e})),0)):"select"===i?(p(e),n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,"_ALL"===e?void 0:{value:e,operator:"equals"})),0)):"text"!==i&&i?["number","number-centered"].includes(i)?"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:"",operator:e})),0):j&&n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:j,operator:e})),0):"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:"",operator:e})),0):""!==j&&n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:j,operator:e})),0):"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:"",operator:e})),0):j&&n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:j,operator:e})),0)};return Object(r.useEffect)((function(){if(0===Object.keys(s).length)p("");else if(t in s){var e;p((null===s||void 0===s||null===(e=s[t])||void 0===e?void 0:e.value)||""),(null===s||void 0===s?void 0:s[t])&&C(s[t].operator)}}),[s]),Object(q.jsx)("div",{style:{display:"flex",alignItems:"center"},children:"boolean"===i?Object(q.jsx)(V.a,{value:j,handleClickItemMenu:S}):"select"===i?Object(q.jsx)(V.d,{value:j,handleClickItemMenu:S,data:d||[]}):Object(q.jsxs)(l.a.Fragment,{children:["date"===i&&Object(V.b)(j,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(p((null===e||void 0===e?void 0:e.toISOString())||""),e||["isnull","isnotnull"].includes(k)?n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:(null===e||void 0===e?void 0:e.toISOString().split("T")[0])||"",operator:k})),0):n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,void 0)),0))})),"time"===i&&Object(V.e)(j,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(p((null===e||void 0===e?void 0:e.toISOString())||""),e||["isnull","isnotnull"].includes(k)?n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:null===e||void 0===e?void 0:e.toLocaleTimeString(),operator:k})),0):n(Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,void 0)),0))})),!["date","time"].includes(i)&&Object(q.jsx)(g.a,{style:{fontSize:"15px",minWidth:"100px"},type:["number","number-centered"].includes(i)?"number":"text",fullWidth:!0,value:j,onKeyDown:function(e){13===e.keyCode&&n(j||"noempty"===k||"empty"===k?Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,{value:j,operator:k})):Object(a.a)(Object(a.a)({},s),{},Object(o.a)({},t,void 0)),0)},onChange:function(e){return p(e.target.value)}}),Object(q.jsx)(f.a,{onClick:function(e){x(e.currentTarget)},size:"small",children:Object(q.jsx)(I.a,{style:{cursor:"pointer"},"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",color:"action",fontSize:"small"})}),Object(q.jsx)(W.a,{id:"long-menu",anchorEl:m,open:v,onClose:function(){x(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}},children:Object(V.c)(i||"string",k,S)})]})})},X=l.a.memo((function(e){var t,i=e.titlemodule,l=e.columns,g=e.data,x=e.fetchData,S=e.filterrange,D=e.totalrow,I=e.pageCount,P=e.download,W=e.register,V=e.handleRegister,X=e.HeadComponent,$=e.ButtonsElement,Z=e.exportPersonalized,ee=e.loading,te=e.importCSV,ie=e.autotrigger,ne=void 0!==ie&&ie,ae=e.autoRefresh,ce=e.useSelection,oe=e.selectionKey,re=e.selectionFilter,le=e.initialSelectedRows,se=e.cleanSelection,de=e.setCleanSelection,ue=e.setSelectedRows,be=e.onClickRow,je=e.FiltersElement,pe=e.filterRangeDate,fe=void 0===pe?"month":pe,Oe=e.onFilterChange,he=e.initialEndDate,me=void 0===he?null:he,ge=e.initialStartDate,xe=void 0===ge?null:ge,ve=e.initialFilters,ye=void 0===ve?{}:ve,we=e.initialPageIndex,ke=void 0===we?0:we,Ce=J(),Se=Object(r.useState)({sorts:{},filters:ye,pageIndex:ke}),Te=Object(c.a)(Se,2),_e=Te[0],De=Te[1],Ie=Object(r.useState)(!1),Fe=Object(c.a)(Ie,2),Ne=Fe[0],Re=Fe[1],Ee=Object(r.useState)(ne),He=Object(c.a)(Ee,2),Ae=He[0],Le=He[1],Be=Object(r.useState)({startDate:xe,endDate:me,page:ke,filters:ye}),Pe=Object(c.a)(Be,2),Me=Pe[0],We=Pe[1],ze=Object(z.useTable)({columns:l,data:g,initialState:{pageIndex:ke,pageSize:20,selectedRowIds:le||{}},manualPagination:!0,pageCount:I,useControlledState:function(e){return Object(r.useMemo)((function(){return Object(a.a)(Object(a.a)({},e),{},{pageIndex:_e.pageIndex})}),[e,_e.pageIndex])},autoResetSelectedRows:!1,getRowId:function(e,t,i){return oe?i?[e[oe],i].join("."):e[oe]:i?[i.id,t].join("."):t},stateReducer:function(e,t){switch(t.type){case"toggleAllRowsSelected":return Object(a.a)(Object(a.a)({},e),{},{selectedRowIds:{}});default:return e}}},z.useFilters,z.useGlobalFilter,z.usePagination,z.useRowSelect,(function(e){ce&&e.visibleColumns.push((function(e){return[{id:"selection",width:80,Header:function(e){var t=e.getToggleAllPageRowsSelectedProps,i=e.filteredRows;return re?Object(q.jsx)("div",{style:{textAlign:"right"},children:Object(q.jsx)(U.a,{color:"primary",style:{padding:0},checked:i.filter((function(e){return e.original[null===re||void 0===re?void 0:re.key]===(null===re||void 0===re?void 0:re.value)})).every((function(e){return e.isSelected})),onChange:function(){i.filter((function(e){return e.original[null===re||void 0===re?void 0:re.key]===(null===re||void 0===re?void 0:re.value)})).forEach((function(e){e.toggleRowSelected()}))}})}):Object(q.jsx)("div",{style:{textAlign:"right"},children:Object(q.jsx)(U.a,Object(a.a)({color:"primary",style:{padding:0}},t()))})},Cell:function(e){var t=e.row;return re&&t.original[null===re||void 0===re?void 0:re.key]!==(null===re||void 0===re?void 0:re.value)?null:Object(q.jsx)("div",{style:{textAlign:"right"},children:Object(q.jsx)(U.a,{color:"primary",style:{padding:0},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}})})},NoFilter:!0,isComponent:!0}].concat(Object(n.a)(e))}))})),Ke=ze.getTableProps,Ue=ze.getTableBodyProps,Ve=ze.headerGroups,Ge=ze.prepareRow,qe=ze.page,Je=ze.canPreviousPage,Qe=ze.canNextPage,Xe=ze.pageOptions,Ye=ze.pageCount,$e=ze.setPageSize,Ze=ze.toggleAllRowsSelected,et=ze.state,tt=et.pageIndex,it=et.pageSize,nt=et.selectedRowIds,at=function(e){De((function(t){return Object(a.a)(Object(a.a)({},t),{},{pageIndex:e,trigger:!0})})),We((function(t){return Object(a.a)(Object(a.a)({},t),{},{page:e})}))},ct=Object(r.useState)({startDate:xe?new Date(xe):"month"===fe?Object(G.Oc)():Object(G.Fc)(),endDate:me?new Date(me):"month"===fe?Object(G.kd)():Object(G.Fc)(),key:"selection"}),ot=Object(c.a)(ct,2),rt=ot[0],lt=ot[1],st=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&De((function(e){return Object(a.a)(Object(a.a)({},e),{},{pageIndex:ke,trigger:!1})})),x&&(x(Object(a.a)(Object(a.a)({},_e),{},{pageSize:it,pageIndex:e?ke:_e.pageIndex,daterange:{startDate:rt.startDate?new Date(rt.startDate.setHours(10)).toISOString().substring(0,10):null,endDate:rt.endDate?new Date(rt.endDate.setHours(10)).toISOString().substring(0,10):null}})),We((function(t){return Object(a.a)(Object(a.a)({},t),{},{page:e?ke:_e.pageIndex,startDate:rt.startDate?new Date(rt.startDate.setHours(10)).getTime():null,endDate:rt.endDate?new Date(rt.endDate.setHours(10)).getTime():null})})))};Object(r.useEffect)((function(){se&&(Ze(!1),ue&&ue({}),de&&de(!1))}),[se]),Object(r.useEffect)((function(){(null===_e||void 0===_e?void 0:_e.trigger)&&st()}),[_e,Ae]),Object(r.useEffect)((function(){Ae&&st()}),[it]),Object(r.useEffect)((function(){Ae&&Ae&&st(!0)}),[Ae]),Object(r.useEffect)((function(){(null===ae||void 0===ae?void 0:ae.value)&&(st(),null===ae||void 0===ae||ae.callback(!1))}),[ae]),Object(r.useEffect)((function(){ue&&ue(nt)}),[nt]),Object(r.useEffect)((function(){null===Oe||void 0===Oe||Oe(Me)}),[Me]);return Object(q.jsxs)(m.a,{width:1,children:[i&&Object(q.jsx)("div",{className:Ce.title,children:i}),Object(q.jsx)(m.a,{className:Ce.containerHeader,justifyContent:"space-between",alignItems:"center",children:Object(q.jsxs)("div",{className:Object(_.default)((t={},Object(o.a)(t,Ce.containerButtons,!!je),Object(o.a)(t,Ce.containerButtonsNoFilters,!je),t)),children:[S&&Object(q.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[Object(q.jsx)(K.f,{open:Ne,setOpen:Re,range:rt,onSelect:lt,children:Object(q.jsx)(w.a,{disabled:ee,style:{border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},startIcon:Object(q.jsx)(C.n,{}),onClick:function(){return Re(!Ne)},children:Object(G.Ec)(rt.startDate)+" - "+Object(G.Ec)(rt.endDate)})}),je&&je,Object(q.jsx)(w.a,{disabled:ee,variant:"contained",color:"primary",startIcon:Object(q.jsx)(F.a,{style:{color:"white"}}),style:{backgroundColor:"#55BD84",width:120},onClick:function(){Ae&&st(!0),Le(!0)},children:Object(q.jsx)(v.a,{i18nKey:k.a.search})})]}),Object(q.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[$&&Object(q.jsx)($,{}),te&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("input",{name:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",id:"laraigo-upload-csv-file",type:"file",style:{display:"none"},onChange:function(e){return te(e.target.files)}}),Object(q.jsx)("label",{htmlFor:"laraigo-upload-csv-file",children:Object(q.jsx)(w.a,{className:Ce.button,variant:"contained",component:"span",color:"primary",disabled:ee,startIcon:Object(q.jsx)(T.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:Object(q.jsx)(v.a,{i18nKey:k.a.import})})})]}),W&&Object(q.jsx)(w.a,{className:Ce.button,variant:"contained",color:"primary",disabled:ee,startIcon:Object(q.jsx)(N.a,{color:"secondary"}),onClick:V,style:{backgroundColor:"#55BD84"},children:Object(q.jsx)(v.a,{i18nKey:k.a.register})}),P&&Object(q.jsx)(w.a,{className:Ce.button,variant:"contained",color:"primary",disabled:ee,onClick:function(){Z&&Z(Object(a.a)(Object(a.a)({},_e),{},{daterange:{startDate:rt.startDate?new Date(rt.startDate.setHours(10)).toISOString().substring(0,10):null,endDate:rt.endDate?new Date(rt.endDate.setHours(10)).toISOString().substring(0,10):null}}))},startIcon:Object(q.jsx)(C.E,{}),children:Object(q.jsx)(v.a,{i18nKey:k.a.download})})]})]})}),X&&Object(q.jsx)(X,{}),Object(q.jsxs)(b.a,{style:{position:"relative"},children:[Object(q.jsx)(m.a,{overflow:"auto",children:Object(q.jsxs)(s.a,Object(a.a)(Object(a.a)({},Ke()),{},{"aria-label":"enhanced table",size:"small","aria-labelledby":"tableTitle",children:[Object(q.jsx)(j.a,{children:Ve.map((function(e){return Object(q.jsx)(p.a,Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,t){return e.activeOnHover?Object(q.jsx)("th",{style:{width:"0px"}},"header-floating"):Object(q.jsx)(u.a,{children:e.isComponent?e.render("Header"):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:Ce.containerHeaderColumn,children:[Object(q.jsxs)(m.a,Object(a.a)(Object(a.a)({component:"div"},e.getHeaderProps()),{},{onClick:function(){return!e.NoSort&&function(e){var t={};Object.keys(_e.sorts).includes(e)&&(t=Object(a.a)({},_e.sorts)),"desc"===t[e]?delete t[e]:"asc"===t[e]?t[e]="desc":t[e]="asc",De((function(e){return Object(a.a)(Object(a.a)({},e),{},{sorts:t,trigger:!0})}))}(e.id)},style:{whiteSpace:"nowrap",wordWrap:"break-word",display:"flex",cursor:"pointer",alignItems:"center"},children:[e.render("Header"),_e.sorts[e.id]&&("asc"===_e.sorts[e.id]?Object(q.jsx)(R.a,{className:Ce.iconOrder,color:"action"}):Object(q.jsx)(E.a,{className:Ce.iconOrder,color:"action"}))]})),!!e.helpText&&Object(q.jsx)(y.a,{title:Object(q.jsx)("div",{style:{fontSize:12,whiteSpace:"break-spaces"},children:e.helpText}),arrow:!0,placement:"top",children:Object(q.jsx)(M.a,{color:"action",className:Ce.iconHelpText})})]}),!e.NoFilter&&Object(q.jsx)(Q,{header:e.id,listSelectFilter:e.listSelectFilter||[],type:e.type,filters:_e.filters,setFilters:function(e,t){!function(e,t){De((function(t){return Object(a.a)(Object(a.a)({},t),{},{filters:e,pageIndex:0,trigger:!0})}))}(e),We((function(i){return Object(a.a)(Object(a.a)({},i),{},{filters:e,page:t})}))}})]})},t)}))}))}))}),Object(q.jsx)(d.a,Object(a.a)(Object(a.a)({},Ue()),{},{style:{backgroundColor:"white"},children:ee?Object(q.jsx)(Y,{columns:Ve[0].headers.length}):qe.map((function(e){return Ge(e),Object(q.jsx)(p.a,Object(a.a)(Object(a.a)({},e.getRowProps()),{},{hover:!0,style:{cursor:be?"pointer":"default"},children:e.cells.map((function(t,i){var n;return Object(q.jsx)(u.a,Object(a.a)(Object(a.a)({},t.getCellProps({style:{minWidth:t.column.minWidth,width:t.column.width,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"number"===t.column.type?"right":(null===(n=t.column.type)||void 0===n?void 0:n.includes("centered"))?"center":"left"}})),{},{onClick:function(){return"selection"!==t.column.id?be&&be(e.original):null},children:t.render("Cell")}))}))}))}))}))]}))}),Object(q.jsxs)(m.a,{className:Ce.footerTable,children:[Object(q.jsxs)(m.a,{children:[Object(q.jsx)(f.a,{onClick:function(){return at(0)},disabled:!Je,children:Object(q.jsx)(H.a,{})}),Object(q.jsx)(f.a,{onClick:function(){return at(_e.pageIndex-1)},disabled:!Je,children:Object(q.jsx)(A.a,{})}),Object(q.jsx)(f.a,{onClick:function(){return at(_e.pageIndex+1)},disabled:!Qe,children:Object(q.jsx)(L.a,{})}),Object(q.jsx)(f.a,{onClick:function(){return at(Ye-1)},disabled:!Qe,children:Object(q.jsx)(B.a,{})}),Object(q.jsx)(m.a,{component:"span",fontSize:14,children:Object(q.jsx)(v.a,{i18nKey:k.a.tablePageOf,values:{currentPage:0===Xe.length?0:tt+1,totalPages:Xe.length},components:[Object(q.jsx)(m.a,{fontWeight:"700",component:"span"}),Object(q.jsx)(m.a,{fontWeight:"700",component:"span"})]})})]}),Object(q.jsx)(m.a,{children:Object(q.jsx)(v.a,{i18nKey:1e5===(D||0)?k.a.tableShowingRecordOfMore:k.a.tableShowingRecordOf,values:{itemCount:qe.length,totalItems:D}})}),Object(q.jsxs)(m.a,{children:[Object(q.jsx)(O.a,{disableUnderline:!0,style:{display:"inline-flex"},value:it,onChange:function(e){$e(Number(e.target.value))},children:[5,10,20,50,100].map((function(e){return Object(q.jsx)(h.a,{value:e,children:e},e)}))}),Object(q.jsx)(m.a,{fontSize:14,display:"inline",style:{marginRight:"1rem"},children:Object(q.jsx)(v.a,{i18nKey:k.a.recordPerPage,count:it})})]})]})]})]})}));t.b=X;var Y=function(e){for(var t=e.columns,i=[],n=0;n<t;n++)i.push(Object(q.jsx)(u.a,{children:Object(q.jsx)(D.a,{})},"table-simple-skeleton-".concat(n)));return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{children:i},"1aux1"),Object(q.jsx)(p.a,{children:i},"2aux2")]})};function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignore:[]};return Object(r.useMemo)((function(){var i={endDate:Number(e.get("endDate")),startDate:Number(e.get("startDate")),page:Number(e.get("page")),filters:{}},n=t.ignore;return e.forEach((function(t,a){if("endDate"!==a&&"startDate"!==a&&"page"!==a&&!a.includes("-operator")&&!(n||[]).includes(a)){var c="".concat(a,"-operator");i.filters[a]={value:t,operator:e.get(c)}}})),i}),[t,e])}function Z(e,t){var i=new URLSearchParams(t);for(var n in e){var a=e[n];"filters"!==n&&void 0!==a&&null!==a&&i.set(n,String(a))}var c=e.filters;for(var o in c)"object"===typeof c[o]&&"value"in c[o]&&"operator"in c[o]&&(i.set(o,String(c[o].value)),i.set("".concat(o,"-operator"),String(c[o].operator)));return i}},826:function(e,t,i){"use strict";var n=i(3),a=i(20),c=i(0),o=i.n(c),r=(i(457),i(169)),l=i(16),s=i(773),d=i(812),u=i.n(d),b=i(813),j=i.n(b),p=i(9),f=i(122),O=i(8),h=i(25),m=i(44),g=i(40),x=i(7),v=i(258),y=i(899),w=i.n(y),k=i(259),C=i(260),S=i(722),T=i(1498),_=i(865),D=i(2),I=Object(r.a)((function(e){return{containerCarousel:{width:230,backgroundColor:"#f0f2f5",borderRadius:18,position:"relative"},imageCardCarousel:{width:"100%",objectFit:"cover",height:"100%"},buttonCarousel:{backgroundColor:"#e4e6eb",textAlign:"center",borderRadius:6,height:36,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,cursor:"pointer"},buttonLeft:{position:"absolute",top:"45%",left:-20,backgroundColor:"white"},buttonRight:{position:"absolute",top:"45%",right:-20,backgroundColor:"white"},containerTime:{visibility:"hidden",fontSize:12,float:"right",marginLeft:4,paddingRight:6,lineHeight:1,width:50},timeSeen:{color:"#4fc3f7"},timeInteraction:{position:"absolute",bottom:1.5,height:16,right:0,visibility:"visible",color:"#757377",padding:"inherit",display:"flex",alignItems:"center",gap:4},timeInteractionWithBackground:{position:"absolute",bottom:3,display:"flex",alignItems:"center",height:13,right:0,visibility:"visible",backgroundColor:"#00000059",color:"#fff",padding:"3px 2px 3px 3px",borderRadius:4,marginRight:4,gap:4}}})),F=function(e){var t,i=e.interactiontext,c=e.createdate,r=e.classes,l=e.userType,s=e.onlyTime,d=o.a.useState(!1),u=Object(a.a)(d,2),b=u[0],j=u[1],h=Object(f.a)().t,m=function(){return j(!0)},g=JSON.parse(i);return 0===((null===(t=g.Product_items)||void 0===t?void 0:t.length)||0)?Object(D.jsx)("div",{}):Object(D.jsxs)("div",{title:Object(x.K)(c).toLocaleString(),className:Object(p.default)(r.interactionText,Object(n.a)({},r.interactionTextAgent,"client"!==l)),children:[Object(D.jsxs)("div",{style:{width:300},children:[Object(D.jsxs)("div",{style:{display:"flex",backgroundColor:"#f5f6f6"},children:[Object(D.jsx)("img",{width:"70px",height:"70px",alt:"reference",src:g.Product_items[0].ImageReference}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center",paddingLeft:8},children:Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{style:{fontWeight:"bold"},children:[g.Product_items.length," ",h(O.a.elements)]}),Object(D.jsxs)("div",{style:{fontWeight:"bold"},children:[g.Product_items.reduce((function(e,t){return e+parseFloat(t.Item_price)*parseFloat(t.Quantity)}),0).toFixed(2)," ",g.Product_items[0].Currency]})]})})]}),Object(D.jsx)("div",{children:g.Text}),Object(D.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:m,children:h(O.a.show_shopping_cart)}),Object(D.jsx)(H,{interactiontype:"interactivelist",createdate:c,userType:l,time:s||""})]}),Object(D.jsx)(T.a,{anchor:"right",open:b,onClose:function(){return j(!1)},onOpen:m,children:Object(D.jsxs)("div",{style:{width:400,padding:16},children:[Object(D.jsx)("h4",{children:h(O.a.cart_sent)}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{style:{fontWeight:500},children:[g.Product_items.length," ",h(O.a.elements)]}),Object(D.jsxs)("div",{style:{color:"#8696a0"},children:[g.Product_items.reduce((function(e,t){return e+parseFloat(t.Item_price)*parseFloat(t.Quantity)}),0).toFixed(2)," ",g.Product_items[0].Currency]}),Object(D.jsx)("div",{style:{marginTop:16}})]}),Object(D.jsx)("div",{children:g.Product_items.map((function(e,t){return Object(D.jsx)("div",{children:Object(D.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:8},children:[Object(D.jsx)("img",{width:"80px",alt:"reference",height:"80px",src:e.ImageReference}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center",width:"75%",borderTop:"1px solid #ebebeb"},children:Object(D.jsxs)("div",{style:{width:"100%"},children:[Object(D.jsx)("div",{style:{fontWeight:500},children:e.Title}),Object(D.jsxs)("div",{style:{color:"#8696a0"},children:[e.Currency," ",parseFloat(e.Item_price).toFixed(2)," \u2022 ",h(O.a.quantity),": ",e.Quantity]})]})})]})},t)}))})]})})]})},N=function(e){var t,i,c,r,s=e.interactiontext,d=e.createdate,u=e.classes,b=e.userType,j=e.onlyTime,h=o.a.useState(!1),m=Object(a.a)(h,2),g=m[0],v=m[1],y=Object(f.a)().t,w=function(){return v(!0)},k=JSON.parse(s);if("product_list"===k.Type||"dynamic"===k.Type){var C,S,_,I,F=(null===(C=k.SectionList)||void 0===C||null===(S=C[0])||void 0===S||null===(_=S.ProductList)||void 0===_||null===(I=_[0])||void 0===I?void 0:I.ImageReference)||"",N=k.SectionList.reduce((function(e,t){return e+t.ProductList.length}),0);return Object(D.jsxs)("div",{title:Object(x.K)(d).toLocaleString(),className:Object(p.default)(u.interactionText,Object(n.a)({},u.interactionTextAgent,"client"!==b)),children:[Object(D.jsxs)("div",{style:{display:"flex",gap:"4px",backgroundColor:"#f5f6f6"},children:[F&&Object(D.jsx)("img",{width:"70px",height:"70px",src:F,alt:"fist"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{fontWeight:500},children:k.Header}),Object(D.jsxs)("div",{style:{color:"#8696a0"},children:[N," ",y(O.a.elements)]})]})})]}),Object(D.jsxs)("div",{style:{padding:8},children:[Object(D.jsx)("div",{style:{fontWeight:500},children:k.Body}),Object(D.jsx)("div",{style:{color:"#8696a0"},children:k.Footer})]}),Object(D.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(D.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:w,children:[Object(D.jsx)(l.ib,{})," ",y(O.a.show_items)]}),Object(D.jsx)(H,{interactiontype:"interactivelist",createdate:d,userType:b,time:j||""}),Object(D.jsx)(T.a,{anchor:"right",open:g,onClose:function(){return v(!1)},onOpen:w,children:Object(D.jsxs)("div",{style:{width:400,padding:16},children:[Object(D.jsx)("div",{style:{marginBottom:16},children:k.Body}),Object(D.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:k.SectionList.map((function(e,t){return Object(D.jsxs)("div",{style:{cursor:"pointer"},children:[Object(D.jsx)("div",{style:{color:"#008069",marginBottom:16},children:e.Title}),e.ProductList.map((function(e,t){return Object(D.jsx)("div",{children:Object(D.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:8},children:[Object(D.jsx)("img",{width:"80px",alt:"reference",height:"80px",src:e.ImageReference}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center",width:"75%",borderTop:"1px solid #ebebeb"},children:Object(D.jsxs)("div",{style:{width:"100%"},children:[Object(D.jsx)("div",{style:{fontWeight:500},children:e.Title}),Object(D.jsx)("div",{style:{color:"#8696a0",overflow:"hidden",wordBreak:"break-word",fontWeight:500,whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e.Description}),Object(D.jsxs)("div",{style:{color:"#8696a0"},children:[e.Currency," ",e.Price||10]})]})})]})},t)}))]},t)}))})]})})]})}return Object(D.jsxs)("div",{title:Object(x.K)(d).toLocaleString(),className:Object(p.default)(u.interactionText,Object(n.a)({},u.interactionTextAgent,"client"!==b)),children:[Object(D.jsxs)("div",{style:{width:300,display:"flex",flexDirection:"column"},children:[Object(D.jsx)("img",{width:"100%",src:null===k||void 0===k||null===(t=k.Product)||void 0===t?void 0:t.ImageReference,height:"320px",alt:"reference"}),Object(D.jsxs)("div",{style:{backgroundColor:"#f5f6f6",padding:8},children:[Object(D.jsx)("div",{children:null===k||void 0===k||null===(i=k.Product)||void 0===i?void 0:i.Title}),Object(D.jsxs)("div",{style:{color:"#dff3cc"},children:[null===k||void 0===k||null===(c=k.Product)||void 0===c?void 0:c.Price," ",null===k||void 0===k||null===(r=k.Product)||void 0===r?void 0:r.Currency]})]}),Object(D.jsxs)("div",{style:{padding:8},children:[Object(D.jsx)("div",{style:{fontWeight:"bold"},children:null===k||void 0===k?void 0:k.Body}),Object(D.jsx)("div",{style:{color:"#8696a0"},children:null===k||void 0===k?void 0:k.Footer})]})]}),Object(D.jsx)(H,{interactiontype:"interactivelist",createdate:d,userType:b,time:j||""})]})},R=function(e){var t=e.interactiontext,i=e.createdate,c=e.classes,r=e.userType,s=e.onlyTime,d=o.a.useState(!1),u=Object(a.a)(d,2),b=u[0],j=u[1],h=Object(f.a)().t,m=JSON.parse(t);return 0===m.sections.length?Object(D.jsx)("div",{title:Object(x.K)(i).toLocaleString(),className:Object(p.default)(c.interactionText,Object(n.a)({},c.interactionTextAgent,"client"!==r)),children:"INTERACTIVE LIST WITHOUT OPTIONS"}):Object(D.jsxs)("div",{title:Object(x.K)(i).toLocaleString(),className:Object(p.default)(c.interactionText,Object(n.a)({},c.interactionTextAgent,"client"!==r)),children:["text"!==m.headertype&&m.headertype?m.header:Object(D.jsx)("div",{style:{fontWeight:500},children:m.header}),Object(D.jsx)("div",{children:m.body}),m.footer&&Object(D.jsx)("div",{style:{color:"rgb(0,0,0,0.45)",fontSize:12},children:m.footer}),Object(D.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(D.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:function(){j(!0)},children:[Object(D.jsx)(l.ib,{}),h(O.a.options)]}),Object(D.jsx)(H,{interactiontype:"interactivelist",createdate:i,userType:r,time:s||""}),Object(D.jsxs)(v.a,{onClose:function(){j(!1)},"aria-labelledby":"simple-dialog-title",open:b,fullWidth:!0,maxWidth:"xs",children:[Object(D.jsx)(k.a,{children:h(O.a.options)}),Object(D.jsx)(C.a,{children:m.sections[0].buttons.map((function(e,t){return Object(D.jsxs)("div",{style:{background:"#FFF",borderRadius:4,padding:"12px 8px",textTransform:"uppercase",display:"flex",justifyContent:"space-between"},children:[e.title,Object(D.jsx)(w.a,{})]},t)}))})]})]})},E=function(e){var t=e.carousel,i=I(),n=Object(c.useState)(0),o=Object(a.a)(n,2),r=o[0],l=o[1];return 0===t.length?null:Object(D.jsxs)("div",{className:i.containerCarousel,children:[Object(D.jsx)("div",{style:{height:157},children:Object(D.jsx)("img",{src:t[r].mediaUrl,className:i.imageCardCarousel,alt:"logocarousel",crossOrigin:t[r].mediaUrl.includes("cloud-object-storage")?"anonymous":void 0})}),Object(D.jsxs)("div",{style:{padding:"12px",wordBreak:"break-word"},children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{fontWeight:600},children:t[r].title}),Object(D.jsx)("div",{children:t[r].description})]}),Object(D.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:8},children:t[r].actions.map((function(e,t){return Object(D.jsx)("div",{className:i.buttonCarousel,children:e.text},t)}))})]}),r>0&&Object(D.jsx)(s.a,{className:i.buttonLeft,size:"small",onClick:function(){return l(r-1)},children:Object(D.jsx)(u.a,{style:{color:"#2E2C34"}})}),r<t.length-1&&Object(D.jsx)(s.a,{className:i.buttonRight,onClick:function(){return l(r+1)},size:"small",children:Object(D.jsx)(j.a,{style:{color:"#2E2C34"}})})]})},H=function(e){var t=e.time,i=e.background,r=e.userType,s=e.createdate,d=e.interactiontype,u=I(),b=Object(h.b)((function(e){return e.inbox.ticketSelected})),j=Object(c.useState)(!1),f=Object(a.a)(j,2),O=f[0],m=f[1];return o.a.useEffect((function(){if((null===b||void 0===b?void 0:b.lastseendate)&&"LOG"!==d){var e=new Date(null===b||void 0===b?void 0:b.lastseendate),t=new Date(s);m(t<=e)}}),[s,d,null===b||void 0===b?void 0:b.lastseendate]),Object(D.jsxs)("span",{className:u.containerTime,children:[t,i?Object(D.jsxs)("div",{className:u.timeInteractionWithBackground,children:[t,"client"!==r&&Object(D.jsx)(l.Vb,{className:Object(p.default)(Object(n.a)({},u.timeSeen,O))})]}):Object(D.jsxs)("div",{className:u.timeInteraction,children:[t,"client"!==r&&Object(D.jsx)(l.Vb,{className:Object(p.default)(Object(n.a)({},u.timeSeen,O))})]})]})},A=function(e){var t=e.userType,i=e.fill,n=void 0===i?"#FFF":i;return"client"===t?Object(D.jsx)("svg",{viewBox:"0 0 11 20",width:"11",height:"20",style:{position:"absolute",bottom:-1,left:-9,fill:n},children:Object(D.jsx)("svg",{id:"message-tail-filled",viewBox:"0 0 11 20",children:Object(D.jsx)("g",{transform:"translate(9 -14)",fill:"inherit",fillRule:"evenodd",children:Object(D.jsx)("path",{d:"M-6 16h6v17c-.193-2.84-.876-5.767-2.05-8.782-.904-2.325-2.446-4.485-4.625-6.48A1 1 0 01-6 16z",transform:"matrix(1 0 0 -1 0 49)",id:"corner-fill",fill:"inherit"})})})}):Object(D.jsx)("svg",{viewBox:"0 0 11 20",width:"11",height:"20",style:{position:"absolute",bottom:0,right:-9,transform:"translateY(1px) scaleX(-1)",fill:n},children:Object(D.jsx)("svg",{id:"message-tail-filled",viewBox:"0 0 11 20",children:Object(D.jsx)("g",{transform:"translate(9 -14)",fill:"inherit",fillRule:"evenodd",children:Object(D.jsx)("path",{d:"M-6 16h6v17c-.193-2.84-.876-5.767-2.05-8.782-.904-2.325-2.446-4.485-4.625-6.48A1 1 0 01-6 16z",transform:"matrix(1 0 0 -1 0 49)",id:"corner-fill",fill:"inherit"})})})})},L=function(e){var t=e.interaction,i=t.interactionid,r=t.interactiontype,s=t.interactiontext,d=t.listImage,u=t.indexImage,b=t.createdate,j=t.onlyTime,h=e.classes,v=e.userType,y=o.a.useRef(null),w=Object(g.c)(),k=Object(f.a)().t,C=Object(c.useState)(s.length<=450),S=Object(a.a)(C,2),T=S[0],I=S[1],L=Object(_.c)({googleMapsApiKey:"AIzaSyAqrFCH95Tbqwo6opvVPcdtrVd-1fnBLr4"}).isLoaded,B=o.a.useState("0px"),P=Object(a.a)(B,2),M=P[0],W=P[1],z=function(){W((null===y||void 0===y?void 0:y.current.contentWindow.document.body.scrollHeight)+20+"px")};if(!s.trim()||"typing"===r)return null;if("text"===r)return Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),children:[Object(D.jsx)("span",{dangerouslySetInnerHTML:{__html:Object(x.wh)(T?s:s.substring(0,450)+"... ")}}),!T&&Object(D.jsx)("div",{style:{color:"#53bdeb",display:"contents",cursor:"pointer"},onClick:function(){return I(!0)},children:k(O.a.showmore)}),Object(D.jsx)(A,{userType:v,fill:"client"===v?"#FFF":"#eeffde"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]});if("html"===r)return Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),children:[Object(D.jsx)("iframe",{ref:y,srcDoc:s,id:"frame-".concat(i),width:"100%",height:M,title:"frame1",onLoad:z,style:{border:"none"}}),Object(D.jsx)(A,{userType:v,fill:"client"===v?"#FFF":"#eeffde"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]});if("email"===r)try{var K=s.split("&%MAIL%&"),U=Object(a.a)(K,3),V=U[0],G=U[1],q=U[2];return Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),children:[Object(D.jsxs)("div",{children:["RE-LARAIGO: ",V]}),Object(D.jsx)("iframe",{ref:y,srcDoc:G,id:"frame-".concat(i),width:"100%",title:"frame2",height:M,onLoad:z,style:{border:"none"}}),q&&"{}"!==q&&Object.keys(JSON.parse(q)).map((function(e){var t=JSON.parse(q)[e],i=e.split(".").pop();return Object(D.jsxs)("a",{download:!0,rel:"noreferrer",target:"_blank",href:t,style:{textDecoration:"none",display:"flex",justifyContent:"space-between",alignItems:"center",gap:4,maxWidth:200,border:"1px solid #e1e1e1",borderRadius:5,marginBottom:5,paddingRight:5},children:["pdf"===i?Object(D.jsx)(l.Hb,{width:"30",height:"30"}):"doc"===i||"docx"===i?Object(D.jsx)(l.A,{width:"30",height:"30"}):"xls"===i||"xlsx"===i||"csv"===i?Object(D.jsx)(l.tc,{width:"30",height:"30"}):"ppt"===i||"pptx"===i?Object(D.jsx)(l.Lb,{width:"30",height:"30"}):"text"===i||"txt"===i?Object(D.jsx)(l.lc,{width:"30",height:"30"}):"zip"===i||"rar"===i?Object(D.jsx)(l.wc,{width:"30",height:"30"}):Object(D.jsx)(l.U,{width:"30",height:"30"}),Object(D.jsx)("div",{style:{color:"#171717",textOverflow:"ellipsis",overflowX:"hidden",flex:1,whiteSpace:"nowrap"},children:decodeURI(e)}),Object(D.jsx)(l.F,{width:"20",height:"20",color:"primary"})]},e)})),Object(D.jsx)(A,{userType:v,fill:"client"===v?"#FFF":"#eeffde"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]})}catch(be){return null}else{if("image"===r||"comment-image"===r)return Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:h.interactionImage,children:[Object(D.jsx)("img",{className:h.imageCard,src:s,alt:"",crossOrigin:s.includes("cloud-object-storage")?"anonymous":void 0,onClick:function(){w(Object(m.b)({visible:!0,images:d,index:u}))}}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||"",background:!0})]});if("quickreply"===r)try{var J,Q;if("{"===s.substring(0,1)){var X=JSON.parse(s);return Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),children:[X.stringsmooch,Object(D.jsx)(A,{userType:v,fill:"client"===v?"#FFF":"#eeffde"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]})}J=s.split("&&&")[0],Q=s.split("&&&")[1];var Y=JSON.parse("[".concat(Q,"]"));return Object(D.jsxs)("div",{className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),style:{display:"inline-block"},children:[J,Object(D.jsx)("div",{className:h.containerQuickreply,style:{justifyContent:"space-evenly",display:"flex"},children:Y.map((function(e,t){return Object(D.jsx)("div",{className:h.buttonQuickreply,children:e.text||e.title},t)}))}),Object(D.jsx)(A,{userType:v,fill:"client"===v?"#FFF":"#eeffde"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]})}catch(be){return null}else if("postback"===r)try{var $=s.split("&&&"),Z=Object(a.a)($,2),ee=Z[0],te=Z[1],ie=JSON.parse("[".concat(te,"]"));return Object(D.jsxs)("div",{className:h.containerPostback,style:{backgroundColor:"white"},children:[Object(D.jsx)("div",{className:h.headerPostback,children:ee}),Object(D.jsx)("div",{children:ie.map((function(e,t){return Object(D.jsx)("div",{className:h.buttonPostback,children:e.text},t)}))})]})}catch(be){return null}else{if("LOG"===r)return Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),style:{backgroundColor:"#84818A",color:"white"},children:[T?s:s.substring(0,450)+"... ",!T&&Object(D.jsx)("div",{style:{color:"#53bdeb",display:"contents",cursor:"pointer"},onClick:function(){return I(!0)},children:k(O.a.showmore)}),Object(D.jsx)(A,{userType:v,fill:"#84818A"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,background:!0,time:j||""})]});if("carousel"===r)try{var ne=JSON.parse("[".concat(s,"]"));return Object(D.jsx)(E,{carousel:ne})}catch(be){return null}else{if("audio"===r||"video"===r&&s.includes(".oga"))return Object(D.jsxs)("div",{className:h.interactionImage,style:{borderRadius:0,height:50,backgroundColor:"transparent"},children:[Object(D.jsx)("audio",{controls:!0,src:s,className:h.imageCard,style:{}}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,background:!0,time:j||""})]});if("video"===r)return Object(D.jsxs)("div",{className:h.interactionImage,children:[Object(D.jsx)("video",{className:h.imageCard,width:"200",controls:!0,src:s}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||"",background:!0})]});if("file"===r){var ae=s.split("/").pop()||"",ce=(ae||"").split(".").pop();return Object(D.jsxs)("div",{style:{width:200,backgroundColor:"white",padding:"12px 13px",borderRadius:4,position:"relative"},children:[Object(D.jsxs)("a",{download:!0,rel:"noreferrer",target:"_blank",href:s,style:{textDecoration:"none",display:"flex",justifyContent:"space-between",alignItems:"center",gap:4},children:["pdf"===ce?Object(D.jsx)(l.Hb,{width:"30",height:"30"}):"doc"===ce||"docx"===ce?Object(D.jsx)(l.A,{width:"30",height:"30"}):"xls"===ce||"xlsx"===ce||"csv"===ce?Object(D.jsx)(l.tc,{width:"30",height:"30"}):"ppt"===ce||"pptx"===ce?Object(D.jsx)(l.Lb,{width:"30",height:"30"}):"text"===ce||"txt"===ce?Object(D.jsx)(l.lc,{width:"30",height:"30"}):"zip"===ce||"rar"===ce?Object(D.jsx)(l.wc,{width:"30",height:"30"}):Object(D.jsx)(l.U,{width:"30",height:"30"}),Object(D.jsx)("div",{style:{color:"#171717",textOverflow:"ellipsis",overflowX:"hidden",flex:1,whiteSpace:"nowrap"},children:ae}),Object(D.jsx)(l.F,{width:"20",height:"20",color:"primary"})]}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,background:!0,time:j||""})]})}if("interactivebutton"===r)try{var oe=JSON.parse(s);return oe.headertype=oe.headertype||"text",Object(D.jsxs)("div",{style:{display:"flex",gap:4,flexDirection:"column"},children:[Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),children:["text"===oe.headertype?Object(D.jsx)("div",{style:{fontWeight:500},children:oe.header}):oe.header,oe.body,oe.footer&&Object(D.jsx)("div",{style:{color:"rgb(0,0,0,0.45)",fontSize:12},children:oe.footer}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]}),oe.buttons.map((function(e,t){return Object(D.jsx)("div",{style:{background:"#FFF",color:"#00a5f4",borderRadius:4,padding:"6px 8px",textAlign:"center",textTransform:"uppercase"},children:e.title},t)}))]})}catch(be){return null}else{if("reply-text"===r){var re=s.split("###")[1];return Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),children:[re,Object(D.jsx)(A,{userType:v,fill:"client"===v?"#FFF":"#eeffde"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]})}if("interactivelist"===r)try{return Object(D.jsx)(R,{interactiontext:s,createdate:b,classes:h,userType:v,onlyTime:j})}catch(be){return null}else{if("post-image"===r)return Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:h.interactionImage,style:{marginLeft:"auto",marginRight:"auto"},children:[Object(D.jsx)("img",{className:h.imageCard,src:s,alt:"",onClick:function(){w(Object(m.b)({visible:!0,images:d,index:u}))}}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||"",background:!0})]});if("post-text"===r){var le=s.includes("###HTML###"),se=le?s.split("###HTML###")[1]:s;return le?Object(D.jsx)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),style:{marginLeft:"auto",marginRight:"auto"},dangerouslySetInnerHTML:{__html:se}}):Object(D.jsx)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),style:{marginLeft:"auto",marginRight:"auto"},children:se})}if("whatsappcatalog"===r)return Object(D.jsx)(N,{interactiontext:s,createdate:b,classes:h,userType:v,onlyTime:j});if("shoppingcart"===r)return Object(D.jsx)(F,{interactiontext:s,createdate:b,classes:h,userType:v,onlyTime:j});if("location"===r){var de,ue=(null===(de=s.split("=").pop())||void 0===de?void 0:de.split(","))||["",""];return L?Object(D.jsxs)("div",{title:Object(x.K)(b).toLocaleString(),className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),children:[Object(D.jsx)("div",{style:{width:"300px"},className:"interaction-gmap",children:Object(D.jsx)(_.a,{mapContainerStyle:{width:"100%",height:"200px"},center:{lat:parseFloat(ue[0]),lng:parseFloat(ue[1])},zoom:10,children:Object(D.jsx)(_.b,{position:{lat:parseFloat(ue[0]),lng:parseFloat(ue[1])}})})}),Object(D.jsx)("div",{style:{display:"none"},className:"interaction-gmap-text",children:s}),Object(D.jsx)(A,{userType:v,fill:"client"===v?"#FFF":"#eeffde"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]}):null}}}}}}return Object(D.jsxs)("div",{className:Object(p.default)(h.interactionText,Object(n.a)({},h.interactionTextAgent,"client"!==v)),children:[s,Object(D.jsx)(A,{userType:v,fill:"client"===v?"#FFF":"#eeffde"}),Object(D.jsx)(H,{interactiontype:r,createdate:b,userType:v,time:j||""})]})};t.a=function(e){var t=e.classes,i=e.groupInteraction,a=i.usertype,c=i.interactions,o=Object(h.b)((function(e){return e.inbox.ticketSelected}));return Object(D.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(D.jsx)("div",{style:{flex:1},children:Object(D.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:c.map((function(e,i){var c;return Object(D.jsxs)("div",{id:"interaction-".concat(e.interactionid),className:Object(p.default)((c={},Object(n.a)(c,t.interactionAgent,"client"!==a),Object(n.a)(c,t.interactionFromPost,"FBWA"===(null===o||void 0===o?void 0:o.communicationchanneltype)),c)),children:[!e.interactiontype.includes("post-")&&"FBWA"===(null===o||void 0===o?void 0:o.communicationchanneltype)&&"client"===a&&Object(D.jsx)(S.a,{src:e.avatar+""||void 0}),Object(D.jsx)(L,{interaction:e,classes:t,userType:a})]},i)}))})}),"agent"===a?Object(D.jsx)("div",{style:{marginTop:"auto"},children:Object(D.jsx)(l.b,{style:{width:40,height:40}})}):"BOT"===a&&Object(D.jsx)("div",{style:{marginTop:"auto"},children:Object(D.jsx)(l.k,{style:{width:40,height:40}})})]})}},832:function(e,t,i){"use strict";var n=i(1),a=i(20),c=i(0),o=i.n(c),r=i(48),l=i(169),s=i(25),d=i(40),u=i(37),b=i(122),j=i(8),p=i(826),f=i(94),O=i(718),h=i(16),m=i(902),g=i.n(m),x=i(133),v=i(170),y=i(2),w=Object(l.a)((function(e){return{containerPanel:{flex:"1",display:"flex"},titleTicketChat:{fontWeight:"bold",fontSize:15},interactionAgent:{marginLeft:"auto"},groupInteractionAgent:{marginLeft:"auto",display:"flex"},containerTickets:{flex:"0 0 300px",maxWidth:300,backgroundColor:"#FFF",flexDirection:"column",display:"flex",borderRight:"1px solid #84818a1a"},headChat:{backgroundColor:"#FFF",padding:e.spacing(1),borderBottom:"1px solid #84818a1a",display:"flex",justifyContent:"space-between",cursor:"pointer"},containerInteractions:{padding:e.spacing(2),flex:1,background:"linear-gradient(90deg, rgba(119,33,173,0.7203256302521008) 35%, rgba(189,240,249,1) 100%)"},containerQuickreply:{whiteSpace:"break-spaces",flexWrap:"wrap",fontStyle:"normal",fontWeight:"normal",display:"flex",gap:e.spacing(1)},containerPostback:{width:200,padding:0,fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:2,borderRadius:25},headerPostback:{textAlign:"center",backgroundColor:"rgb(132 129 138 / 0.4);",borderTopLeftRadius:25,borderTopRightRadius:25},itemSelected:{backgroundColor:"rgb(235, 234, 237, 0.50)"},buttonPostback:{color:e.palette.primary.main,cursor:"pointer",textAlign:"center",borderTop:"1px solid #EBEAED","&:hover":{color:e.palette.primary.dark}},buttonQuickreply:{padding:"0 ".concat(e.spacing(1),"px"),backgroundColor:e.palette.primary.main,borderRadius:"6px",color:"#FFF",cursor:"pointer","&:hover":{backgroundColor:e.palette.primary.dark}},interactionText:{whiteSpace:"break-spaces",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:2,color:"#2E2C34",wordBreak:"break-word",width:"fit-content",borderRadius:12,borderBottomLeftRadius:0,padding:"".concat(e.spacing(.5),"px ").concat(e.spacing(1),"px ").concat(e.spacing(.7),"px ").concat(e.spacing(1),"px"),position:"relative",maxWidth:480,backgroundColor:"#FFF",border:"1px solid #EBEAED"},interactionTextAgent:{borderBottomLeftRadius:12,borderBottomRightRadius:0,backgroundColor:"#eeffde"},interactionImage:{borderRadius:e.spacing(1.5),backgroundColor:"#FFF",position:"relative",width:"328px",height:"340px"},imageCard:{width:"100%",maxWidth:"100%",cursor:"pointer",objectFit:"cover",height:"100%",position:"absolute",top:0,left:0,bottom:0,right:0,borderRadius:"inherit"},timeInteraction:{color:"#84818A",fontSize:13,fontStyle:"normal",fontWeight:"normal",lineHeight:2},containerResponse:{padding:e.spacing(2),background:"#FFF",position:"relative",borderTop:"1px solid #84818a1a"},containerChat:{flex:"1",flexDirection:"column",display:"flex"},collapseInfo:{position:"absolute",top:"calc(50% - 20px)"},infoOpen:{right:-20},infoClose:{right:0},containerProfile:{flex:"0 0 300px",display:"none"},iconResponse:{cursor:"pointer",poisition:"relative",color:"#2E2C34","&:hover":{backgroundColor:"#EBEAED",borderRadius:4}},iconSend:{background:"#5542F6",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer"},iconSendDisabled:{backgroundColor:"#EBEAED",cursor:"not-allowed"},containerButtonsChat:{display:"flex"},buttonCloseticket:{background:"#F9F9FA",border:"1px solid #EBEAED",boxSizing:"border-box",borderRadius:"4px",width:"150px",height:"42px",fontFamily:"Manrope",fontStyle:"normal",fontWeight:600,fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"#ececec"}},interactionFromPost:{display:"flex",gap:8},buttonIcon:{width:48,height:42,border:"1px solid #EBEAED",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer","&:hover":{backgroundColor:"#ececec"}},container:{display:"flex",gap:e.spacing(2),width:"100%"},containerItemTicket:{display:"flex",gap:e.spacing(1),alignItems:"center",padding:e.spacing(1),borderBottom:"1px solid #EBEAED",cursor:"pointer","&:hover":{backgroundColor:"rgb(235, 234, 237, 0.18)"}},containerNewMessages:{minWidth:"22px",padding:"0px 4px",borderRadius:12,backgroundColor:e.palette.primary.main,color:"white",textAlign:"center"},name:{flex:1,fontWeight:500,fontSize:"16px",lineHeight:"22px",wordBreak:"break-word",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:200},containerQuickReply:{boxShadow:"0px 3px 6px rgb(0 0 0 / 10%)",backgroundColor:"#FFF",width:250},headerQuickReply:{fontSize:13,fontWeight:500,padding:e.spacing(1.5),borderBottom:"1px solid #EBEAED"},itemQuickReply:{fontSize:13,paddingTop:e.spacing(.7),paddingBottom:e.spacing(.7),paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),"&:hover":{backgroundColor:"#EBEAED",cursor:"pointer"}}}}));t.a=function(e){var t=e.ticket,l=e.openModal,m=e.setOpenModal,k=Object(b.a)().t,C=w(),S=Object(d.c)(),T=o.a.useState(!1),_=Object(a.a)(T,2),D=_[0],I=_[1],F=Object(s.b)((function(e){return e.inbox.interactionExtraList})),N=o.a.useState([]),R=Object(a.a)(N,2),E=R[0],H=R[1],A=o.a.useRef(null);Object(c.useEffect)((function(){t&&l&&S(Object(u.m)(null===t||void 0===t?void 0:t.conversationid,!1,0))}),[t]);var L=function(e){e.downloadFileName;return Object(y.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){i.e(102).then(i.bind(null,911)).then((function(e){if(A.current){var i=document.createElement("div");i.style.display="flex",i.style.flexDirection="column",i.style.gap="8px",i.style.width="190mm",i.id="newexportcontainer",i.innerHTML=A.current.innerHTML,i.querySelectorAll(".interaction-gmap").forEach((function(e){return e.remove()})),i.querySelectorAll(".interaction-gmap-text").forEach((function(e){return e.style.display=""})),document.body.appendChild(i),new e.jsPDF("p","mm")&&g.a.toPng(i).then((function(n){var a,c=Math.ceil(.2645833333*i.scrollHeight),o=c,r=new e.jsPDF("p","mm"),l=10;for(r.addImage(n,"PNG",10,l,200,c),o-=297;o>=0;)l=o-c+10,r.addPage(),r.addImage(n,"PNG",10,l,200,c),o-=297;r.save("ticket".concat(null===t||void 0===t?void 0:t.ticketnum,".pdf")),null===(a=document.getElementById("newexportcontainer"))||void 0===a||a.remove()}))}}))},startIcon:Object(y.jsx)(h.E,{}),style:{position:"absolute",right:16,top:16},children:Object(y.jsx)(O.a,{i18nKey:j.a.download})})};return Object(c.useEffect)((function(){H(D?F.data:F.data.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{interactions:e.interactions.filter((function(e){return!e.isHide}))})})))}),[D,F.loading]),Object(y.jsxs)(r.g,{open:l,title:(null===t||void 0===t?void 0:t.displayname)+" - "+(null===t||void 0===t?void 0:t.ticketnum),buttonText1:k(j.a.cancel),handleClickButton1:function(){return m(!1)},children:[Object(y.jsx)(L,{downloadFileName:"ticket-"+(null===t||void 0===t?void 0:t.ticketnum)}),Object(y.jsx)("div",{style:{position:"absolute",left:16,bottom:16},children:Object(y.jsx)(v.a,{title:k(j.a.show_all)||"",arrow:!0,children:Object(y.jsx)("div",{children:Object(y.jsx)(x.a,{checked:D,onChange:function(e){return I(e.target.checked)},name:"checkedB"})})})}),F.loading?Object(y.jsx)(r.H,{}):Object(y.jsx)("div",{ref:A,className:"scroll-style-go",style:{display:"flex",flexDirection:"column",gap:8,height:"60vh"},children:E.map((function(e){return Object(y.jsx)(p.a,{imageClient:null===t||void 0===t?void 0:t.imageurldef,clientName:null===t||void 0===t?void 0:t.displayname,classes:C,groupInteraction:e},e.interactionid)}))})]})}},993:function(e,t,i){"use strict";var n=i(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styleFunction=void 0;var a=i(274),c=n(i(994)),o=(0,a.styleFunctionSx)((0,a.compose)(a.borders,a.display,a.flexbox,a.grid,a.positions,a.palette,a.shadows,a.sizing,a.spacing,a.typography));t.styleFunction=o;var r=(0,c.default)("div")(o,{name:"MuiBox"});t.default=r},994:function(e,t,i){"use strict";var n=i(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(80)),c=i(112),o=n(i(463)),r=function(e){var t=(0,c.styled)(e);return function(e,i){return t(e,(0,a.default)({defaultTheme:o.default},i))}};t.default=r},996:function(e,t,i){"use strict";var n=i(45),a=i(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(i(0)),o=(0,n(i(62)).default)(c.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");t.default=o}}]);
//# sourceMappingURL=39.2d08720a.chunk.js.map