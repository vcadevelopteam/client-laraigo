(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[19,1],{1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return Fa})),n.d(t,"b",(function(){return jr})),n.d(t,"c",(function(){return xr}));var a=n(0),r=n.n(a),i=n(55),o=n(4),c=n(194),l=n(40);function s(e,t){var n=Object(a.useState)((function(){return{inputs:t,result:e()}}))[0],r=Object(a.useRef)(!0),i=Object(a.useRef)(n),o=r.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return Object(a.useEffect)((function(){r.current=!1,i.current=o}),[o]),o.result}var d=s,u=function(e,t){return s((function(){return e}),t)},p=n(88),b=function(e){var t=e.top,n=e.right,a=e.bottom,r=e.left;return{top:t,right:n,bottom:a,left:r,width:n-r,height:a-t,x:r,y:t,center:{x:(n+r)/2,y:(a+t)/2}}},f=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},m=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},j={top:0,right:0,bottom:0,left:0},g=function(e){var t=e.borderBox,n=e.margin,a=void 0===n?j:n,r=e.border,i=void 0===r?j:r,o=e.padding,c=void 0===o?j:o,l=b(f(t,a)),s=b(m(t,i)),d=b(m(s,c));return{marginBox:l,borderBox:b(t),paddingBox:s,contentBox:d,margin:a,border:i,padding:c}},v=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&Object(p.a)(!1),n},h=function(e,t){var n,a,r=e.borderBox,i=e.border,o=e.margin,c=e.padding,l=(a=t,{top:(n=r).top+a.y,left:n.left+a.x,bottom:n.bottom+a.y,right:n.right+a.x});return g({borderBox:l,border:i,margin:o,padding:c})},O=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),h(e,t)},x=function(e,t){var n={top:v(t.marginTop),right:v(t.marginRight),bottom:v(t.marginBottom),left:v(t.marginLeft)},a={top:v(t.paddingTop),right:v(t.paddingRight),bottom:v(t.paddingBottom),left:v(t.paddingLeft)},r={top:v(t.borderTopWidth),right:v(t.borderRightWidth),bottom:v(t.borderBottomWidth),left:v(t.borderLeftWidth)};return g({borderBox:e,margin:n,padding:a,border:r})},y=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return x(t,n)},w=n(150),_=function(e){var t=[],n=null,a=function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a},S=n(38),C=n.n(S);function k(e,t){}k.bind(null,"warn"),k.bind(null,"error");function D(){}function I(e,t,n){var a=t.map((function(t){var a,r,i=(a=n,r=t.options,Object(o.a)({},a,{},r));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){a.forEach((function(e){e()}))}}var N="Invariant failed";function E(e){this.message=e}function T(e,t){if(!e)throw new E(N)}E.prototype.toString=function(){return this.message};var F=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).callbacks=null,t.unbind=D,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof E&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=I(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof E))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(r.a.Component),A=function(e){return e+1},R=function(e,t){var n=e.droppableId===t.droppableId,a=A(e.index),r=A(t.index);return n?"\n      You have moved the item from position "+a+"\n      to position "+r+"\n    ":"\n    You have moved the item from position "+a+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+r+"\n  "},H=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},B=function(e){return"\n  The item has returned to its starting position\n  of "+A(e.index)+"\n"},M="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",P=function(e){return"\n  You have lifted an item in position "+A(e.source.index)+"\n"},L=function(e){var t=e.destination;if(t)return R(e.source,t);var n=e.combine;return n?H(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},z=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+B(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+R(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+H(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+B(e.source)+"\n  "},G={x:0,y:0},W=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},V=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},q=function(e,t){return e.x===t.x&&e.y===t.y},U=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Y=function(e,t,n){var a;return void 0===n&&(n=0),(a={})[e]=t,a["x"===e?"y":"x"]=n,a},K=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},J=function(e,t){return Math.min.apply(Math,t.map((function(t){return K(e,t)})))},Q=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},X=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},$=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Z=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=b({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):b(e)},ee=function(e){var t=e.page,n=e.withPlaceholder,a=e.axis,r=e.frame,i=function(e,t,n){var a;return n&&n.increasedBy?Object(o.a)({},e,((a={})[t.end]=e[t.end]+n.increasedBy[t.line],a)):e}(function(e,t){return t?X(e,t.scroll.diff.displacement):e}(t.marginBox,r),a,n);return{page:t,withPlaceholder:n,active:Z(i,r)}},te=function(e,t){e.frame||T(!1);var n=e.frame,a=V(t,n.scroll.initial),r=U(a),i=Object(o.a)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:a,displacement:r},max:n.scroll.max}}),c=ee({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return Object(o.a)({},e,{frame:i,subject:c})};function ne(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function ae(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function re(e,t){if(e.find)return e.find(t);var n=ae(e,t);return-1!==n?e[n]:void 0}function ie(e){return Array.prototype.slice.call(e)}var oe=Object(w.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ce=Object(w.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),le=Object(w.a)((function(e){return ne(e)})),se=Object(w.a)((function(e){return ne(e)})),de=Object(w.a)((function(e,t){return se(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function ue(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function pe(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var be=Object(w.a)((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),fe=function(e,t){return e.descriptor.droppableId===t.descriptor.id},me={point:G,value:0},je={invisible:{},visible:{},all:[]},ge={displaced:je,displacedBy:me,at:null},ve=function(e,t){return function(n){return e<=n&&n<=t}},he=function(e){var t=ve(e.top,e.bottom),n=ve(e.left,e.right);return function(a){if(t(a.top)&&t(a.bottom)&&n(a.left)&&n(a.right))return!0;var r=t(a.top)||t(a.bottom),i=n(a.left)||n(a.right);if(r&&i)return!0;var o=a.top<e.top&&a.bottom>e.bottom,c=a.left<e.left&&a.right>e.right;return!(!o||!c)||(o&&i||c&&r)}},Oe=function(e){var t=ve(e.top,e.bottom),n=ve(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},xe={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ye={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},we=function(e){var t=e.target,n=e.destination,a=e.viewport,r=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,o=r?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:G;return X(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,i)&&function(e,t,n){return n(t)(e)}(o,a,i)},_e=function(e){return we(Object(o.a)({},e,{isVisibleThroughFrameFn:he}))},Se=function(e){return we(Object(o.a)({},e,{isVisibleThroughFrameFn:Oe}))};function Ce(e){var t=e.afterDragging,n=e.destination,a=e.displacedBy,r=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce((function(e,t){var c=function(e,t){var n=e.page.marginBox,a={top:t.point.y,right:0,bottom:0,left:t.point.x};return b(f(n,a))}(t,a),l=t.descriptor.id;if(e.all.push(l),!_e({target:c,destination:n,viewport:r,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var s={draggableId:l,shouldAnimate:function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var a=t.invisible,r=t.visible;if(a[e])return!1;var i=r[e];return!i||i.shouldAnimate}(l,o,i)};return e.visible[l]=s,e}),{all:[],visible:{},invisible:{}})}function ke(e){var t=e.insideDestination,n=e.inHomeList,a=e.displacedBy,r=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:je,displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function De(e){var t=e.draggable,n=e.insideDestination,a=e.destination,r=e.viewport,i=e.displacedBy,o=e.last,c=e.index,l=e.forceShouldAnimate,s=fe(t,a);if(null==c)return ke({insideDestination:n,inHomeList:s,displacedBy:i,destination:a});var d=re(n,(function(e){return e.descriptor.index===c}));if(!d)return ke({insideDestination:n,inHomeList:s,displacedBy:i,destination:a});var u=be(t,n),p=n.indexOf(d);return{displaced:Ce({afterDragging:u.slice(p),destination:a,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:c}}}}function Ie(e,t){return Boolean(t.effected[e])}var Ne=function(e){var t=e.isMovingForward,n=e.isInHomeList,a=e.draggable,r=e.draggables,i=e.destination,o=e.insideDestination,c=e.previousImpact,l=e.viewport,s=e.afterCritical,d=c.at;if(d||T(!1),"REORDER"===d.type){var u=function(e){var t=e.isMovingForward,n=e.isInHomeList,a=e.insideDestination,r=e.location;if(!a.length)return null;var i=r.index,o=t?i+1:i-1,c=a[0].descriptor.index,l=a[a.length-1].descriptor.index;return o<c||o>(n?l:l+1)?null:o}({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:o});return null==u?null:De({draggable:a,insideDestination:o,destination:i,viewport:l,last:c.displaced,displacedBy:c.displacedBy,index:u})}var p=function(e){var t=e.isMovingForward,n=e.destination,a=e.draggables,r=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=r.draggableId,c=a[o].descriptor.index;return Ie(o,i)?t?c:c-1:t?c+1:c}({isMovingForward:t,destination:i,displaced:c.displaced,draggables:r,combine:d.combine,afterCritical:s});return null==p?null:De({draggable:a,insideDestination:o,destination:i,viewport:l,last:c.displaced,displacedBy:c.displacedBy,index:p})},Ee=function(e){var t=e.afterCritical,n=e.impact,a=e.draggables,r=pe(n);r||T(!1);var i=r.draggableId,o=a[i].page.borderBox.center,c=function(e){var t=e.displaced,n=e.afterCritical,a=e.combineWith,r=e.displacedBy,i=Boolean(t.visible[a]||t.invisible[a]);return Ie(a,n)?i?G:U(r.point):i?r.point:G}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return W(o,c)},Te=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Fe=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Ae=function(e){var t=e.axis,n=e.moveRelativeTo,a=e.isMoving;return Y(t.line,n.marginBox[t.end]+Te(t,a),Fe(t,n.marginBox,a))},Re=function(e){var t=e.axis,n=e.moveRelativeTo,a=e.isMoving;return Y(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,a),Fe(t,n.marginBox,a))},He=function(e){var t=e.impact,n=e.draggable,a=e.draggables,r=e.droppable,i=e.afterCritical,o=de(r.descriptor.id,a),c=n.page,l=r.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,a=e.isMoving;return Y(t.line,n.contentBox[t.start]+Te(t,a),Fe(t,n.contentBox,a))}({axis:l,moveInto:r.page,isMoving:c});var s=t.displaced,d=t.displacedBy,u=s.all[0];if(u){var p=a[u];if(Ie(u,i))return Re({axis:l,moveRelativeTo:p.page,isMoving:c});var b=h(p.page,d.point);return Re({axis:l,moveRelativeTo:b,isMoving:c})}var f=o[o.length-1];if(f.descriptor.id===n.descriptor.id)return c.borderBox.center;if(Ie(f.descriptor.id,i)){var m=h(f.page,U(i.displacedBy.point));return Ae({axis:l,moveRelativeTo:m,isMoving:c})}return Ae({axis:l,moveRelativeTo:f.page,isMoving:c})},Be=function(e,t){var n=e.frame;return n?W(t,n.scroll.diff.displacement):t},Me=function(e){var t=function(e){var t=e.impact,n=e.draggable,a=e.droppable,r=e.draggables,i=e.afterCritical,o=n.page.borderBox.center,c=t.at;return a&&c?"REORDER"===c.type?He({impact:t,draggable:n,draggables:r,droppable:a,afterCritical:i}):Ee({impact:t,draggables:r,afterCritical:i}):o}(e),n=e.droppable;return n?Be(n,t):t},Pe=function(e,t){var n=V(t,e.scroll.initial),a=U(n);return{frame:b({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:a}}}};function Le(e,t){return e.map((function(e){return t[e]}))}var ze=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,a=function(e,t){return W(e.scroll.diff.displacement,t)}(e.viewport,t),r=V(a,n.page.borderBox.center);return W(n.client.borderBox.center,r)},Ge=function(e){var t=e.draggable,n=e.destination,a=e.newPageBorderBoxCenter,r=e.viewport,i=e.withDroppableDisplacement,c=e.onlyOnMainAxis,l=void 0!==c&&c,s=V(a,t.page.borderBox.center),d={target:X(t.page.borderBox,s),destination:n,withDroppableDisplacement:i,viewport:r};return l?function(e){return we(Object(o.a)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=ve(e.top,e.bottom),a=ve(e.left,e.right);return function(e){return t===xe?n(e.top)&&n(e.bottom):a(e.left)&&a(e.right)}})}));var t}(d):Se(d)},We=function(e){var t=e.isMovingForward,n=e.draggable,a=e.destination,r=e.draggables,i=e.previousImpact,c=e.viewport,l=e.previousPageBorderBoxCenter,s=e.previousClientSelection,d=e.afterCritical;if(!a.isEnabled)return null;var u=de(a.descriptor.id,r),p=fe(n,a),b=function(e){var t=e.isMovingForward,n=e.draggable,a=e.destination,r=e.insideDestination,i=e.previousImpact;if(!a.isCombineEnabled)return null;if(!ue(i))return null;function c(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:a.descriptor.id}};return Object(o.a)({},i,{at:t})}var l=i.displaced.all,s=l.length?l[0]:null;if(t)return s?c(s):null;var d=be(n,r);if(!s)return d.length?c(d[d.length-1].descriptor.id):null;var u=ae(d,(function(e){return e.descriptor.id===s}));-1===u&&T(!1);var p=u-1;return p<0?null:c(d[p].descriptor.id)}({isMovingForward:t,draggable:n,destination:a,insideDestination:u,previousImpact:i})||Ne({isMovingForward:t,isInHomeList:p,draggable:n,draggables:r,destination:a,insideDestination:u,previousImpact:i,viewport:c,afterCritical:d});if(!b)return null;var f=Me({impact:b,draggable:n,droppable:a,draggables:r,afterCritical:d});if(Ge({draggable:n,destination:a,newPageBorderBoxCenter:f,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ze({pageBorderBoxCenter:f,draggable:n,viewport:c}),impact:b,scrollJumpRequest:null};var m=V(f,l);return{clientSelection:s,impact:function(e){var t=e.impact,n=e.viewport,a=e.destination,r=e.draggables,i=e.maxScrollChange,c=Pe(n,W(n.scroll.current,i)),l=a.frame?te(a,W(a.frame.scroll.current,i)):a,s=t.displaced,d=Ce({afterDragging:Le(s.all,r),destination:a,displacedBy:t.displacedBy,viewport:c.frame,last:s,forceShouldAnimate:!1}),u=Ce({afterDragging:Le(s.all,r),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),p={},b={},f=[s,d,u];return s.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var a=t[n].visible[e];if(a)return a}return null}(e,f);t?b[e]=t:p[e]=!0})),Object(o.a)({},t,{displaced:{all:s.all,invisible:p,visible:b}})}({impact:b,viewport:c,destination:a,draggables:r,maxScrollChange:m}),scrollJumpRequest:m}},Ve=function(e){var t=e.subject.active;return t||T(!1),t},qe=function(e,t){var n=e.page.borderBox.center;return Ie(e.descriptor.id,t)?V(n,t.displacedBy.point):n},Ue=function(e,t){var n=e.page.borderBox;return Ie(e.descriptor.id,t)?X(n,U(t.displacedBy.point)):n},Ye=Object(w.a)((function(e,t){var n=t[e.line];return{value:n,point:Y(e.line,n)}})),Ke=function(e,t){return Object(o.a)({},e,{scroll:Object(o.a)({},e.scroll,{max:t})})},Je=function(e,t,n){var a=e.frame;fe(t,e)&&T(!1),e.subject.withPlaceholder&&T(!1);var r=Ye(e.axis,t.displaceBy).point,i=function(e,t,n){var a=e.axis;if("virtual"===e.descriptor.mode)return Y(a.line,t[a.line]);var r=e.subject.page.contentBox[a.size],i=de(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[a.size]}),0)+t[a.line]-r;return i<=0?null:Y(a.line,i)}(e,r,n),c={placeholderSize:r,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){var l=ee({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return Object(o.a)({},e,{subject:l})}var s=i?W(a.scroll.max,i):a.scroll.max,d=Ke(a,s),u=ee({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:d});return Object(o.a)({},e,{subject:u,frame:d})},Qe=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,a=e.draggable,r=e.isOver,i=e.draggables,o=e.droppables,c=e.viewport,l=e.afterCritical,s=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,a=e.source,r=e.droppables,i=e.viewport,o=a.subject.active;if(!o)return null;var c=a.axis,l=ve(o[c.start],o[c.end]),s=le(r).filter((function(e){return e!==a})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return he(i.frame)(Ve(e))})).filter((function(e){var n=Ve(e);return t?o[c.crossAxisEnd]<n[c.crossAxisEnd]:n[c.crossAxisStart]<o[c.crossAxisStart]})).filter((function(e){var t=Ve(e),n=ve(t[c.start],t[c.end]);return l(t[c.start])||l(t[c.end])||n(o[c.start])||n(o[c.end])})).sort((function(e,n){var a=Ve(e)[c.crossAxisStart],r=Ve(n)[c.crossAxisStart];return t?a-r:r-a})).filter((function(e,t,n){return Ve(e)[c.crossAxisStart]===Ve(n[0])[c.crossAxisStart]}));if(!s.length)return null;if(1===s.length)return s[0];var d=s.filter((function(e){return ve(Ve(e)[c.start],Ve(e)[c.end])(n[c.line])}));return 1===d.length?d[0]:d.length>1?d.sort((function(e,t){return Ve(e)[c.start]-Ve(t)[c.start]}))[0]:s.sort((function(e,t){var a=J(n,$(Ve(e))),r=J(n,$(Ve(t)));return a!==r?a-r:Ve(e)[c.start]-Ve(t)[c.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:o,viewport:c});if(!s)return null;var d=de(s.descriptor.id,i),u=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,a=e.insideDestination,r=e.draggable,i=e.draggables,o=e.destination,c=e.viewport,l=e.afterCritical;if(!n){if(a.length)return null;var s={displaced:je,displacedBy:me,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=Me({impact:s,draggable:r,droppable:o,draggables:i,afterCritical:l}),u=fe(r,o)?o:Je(o,r,i);return Ge({draggable:r,destination:u,newPageBorderBoxCenter:d,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?s:null}var p=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),b=function(){var e=n.descriptor.index;return n.descriptor.id===r.descriptor.id||p?e:e+1}(),f=Ye(o.axis,r.displaceBy);return De({draggable:r,insideDestination:a,destination:o,viewport:c,displacedBy:f,last:je,index:b})}({previousPageBorderBoxCenter:n,destination:s,draggable:a,draggables:i,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,n=e.viewport,a=e.destination,r=e.insideDestination,i=e.afterCritical;return r.filter((function(e){return Se({target:Ue(e,i),destination:a,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var r=K(t,Be(a,qe(e,i))),o=K(t,Be(a,qe(n,i)));return r<o?-1:o<r?1:e.descriptor.index-n.descriptor.index}))[0]||null}({pageBorderBoxCenter:n,viewport:c,destination:s,insideDestination:d,afterCritical:l}),insideDestination:d,viewport:c,afterCritical:l});if(!u)return null;var p=Me({impact:u,draggable:a,droppable:s,draggables:i,afterCritical:l});return{clientSelection:ze({pageBorderBoxCenter:p,draggable:a,viewport:c}),impact:u,scrollJumpRequest:null}},Xe=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},$e=function(e){var t=e.state,n=e.type,a=function(e,t){var n=Xe(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),r=Boolean(a),i=t.dimensions.droppables[t.critical.droppable.id],o=a||i,c=o.axis.direction,l="vertical"===c&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===c&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!r)return null;var s="MOVE_DOWN"===n||"MOVE_RIGHT"===n,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,p=t.dimensions,b=p.draggables,f=p.droppables;return l?We({isMovingForward:s,previousPageBorderBoxCenter:u,draggable:d,destination:o,draggables:b,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Qe({isMovingForward:s,previousPageBorderBoxCenter:u,draggable:d,isOver:o,draggables:b,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function Ze(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function et(e){var t=ve(e.top,e.bottom),n=ve(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function tt(e){var t=e.pageBorderBox,n=e.draggable,a=e.droppables,r=le(a).filter((function(e){if(!e.isEnabled)return!1;var n,a,r=e.subject.active;if(!r)return!1;if(a=r,!((n=t).left<a.right&&n.right>a.left&&n.top<a.bottom&&n.bottom>a.top))return!1;if(et(r)(t.center))return!0;var i=e.axis,o=r.center[i.crossAxisLine],c=t[i.crossAxisStart],l=t[i.crossAxisEnd],s=ve(r[i.crossAxisStart],r[i.crossAxisEnd]),d=s(c),u=s(l);return!d&&!u||(d?c<o:l>o)}));return r.length?1===r.length?r[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,a=e.candidates,r=n.page.borderBox.center,i=a.map((function(e){var n=e.axis,a=Y(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:K(r,a)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:r}):null}var nt=function(e,t){return b(X(e,t))};function at(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var rt=function(e){var t=e.pageOffset,n=e.draggable,a=e.draggables,r=e.droppables,i=e.previousImpact,o=e.viewport,c=e.afterCritical,l=nt(n.page.borderBox,t),s=tt({pageBorderBox:l,draggable:n,droppables:r});if(!s)return ge;var d=r[s],u=de(d.descriptor.id,a),p=function(e,t){var n=e.frame;return n?nt(t,n.scroll.diff.value):t}(d,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,a=e.previousImpact,r=e.destination,i=e.insideDestination,o=e.afterCritical;if(!r.isCombineEnabled)return null;var c=r.axis,l=Ye(r.axis,t.displaceBy),s=l.value,d=n[c.start],u=n[c.end],p=re(be(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,r=n[c.size]/4,i=Ie(t,o),l=at({displaced:a.displaced,id:t});return i?l?u>n[c.start]+r&&u<n[c.end]-r:d>n[c.start]-s+r&&d<n[c.end]-s-r:l?u>n[c.start]+s+r&&u<n[c.end]+s-r:d>n[c.start]+r&&d<n[c.end]-r}));return p?{displacedBy:l,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:d,insideDestination:u,afterCritical:c})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,a=e.destination,r=e.insideDestination,i=e.last,o=e.viewport,c=e.afterCritical,l=a.axis,s=Ye(a.axis,n.displaceBy),d=s.value,u=t[l.start],p=t[l.end],b=function(e){var t=e.draggable,n=e.closest,a=e.inHomeList;return n?a&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:re(be(n,r),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],a=Ie(t,c),r=at({displaced:i,id:t});return a?r?p<=n:u<n-d:r?p<=n+d:u<n})),inHomeList:fe(n,a)});return De({draggable:n,insideDestination:r,destination:a,viewport:o,last:i,displacedBy:s,index:b})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:d,insideDestination:u,last:i.displaced,viewport:o,afterCritical:c})},it=function(e,t){var n;return Object(o.a)({},e,((n={})[t.descriptor.id]=t,n))},ot=function(e){var t=e.previousImpact,n=e.impact,a=e.droppables,r=Xe(t),i=Xe(n);if(!r)return a;if(r===i)return a;var c=a[r];if(!c.subject.withPlaceholder)return a;var l=function(e){var t=e.subject.withPlaceholder;t||T(!1);var n=e.frame;if(!n){var a=ee({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Object(o.a)({},e,{subject:a})}var r=t.oldFrameMaxScroll;r||T(!1);var i=Ke(n,r),c=ee({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return Object(o.a)({},e,{subject:c,frame:i})}(c);return it(a,l)},ct=function(e){var t=e.state,n=e.clientSelection,a=e.dimensions,r=e.viewport,i=e.impact,c=e.scrollJumpRequest,l=r||t.viewport,s=a||t.dimensions,d=n||t.current.client.selection,u=V(d,t.initial.client.selection),p={offset:u,selection:d,borderBoxCenter:W(t.initial.client.borderBoxCenter,u)},b={selection:W(p.selection,l.scroll.current),borderBoxCenter:W(p.borderBoxCenter,l.scroll.current),offset:W(p.offset,l.scroll.diff.value)},f={client:p,page:b};if("COLLECTING"===t.phase)return Object(o.a)({phase:"COLLECTING"},t,{dimensions:s,viewport:l,current:f});var m=s.draggables[t.critical.draggable.id],j=i||rt({pageOffset:b.offset,draggable:m,draggables:s.draggables,droppables:s.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,a=e.droppables,r=e.previousImpact,i=e.impact,o=ot({previousImpact:r,impact:i,droppables:a}),c=Xe(i);if(!c)return o;var l=a[c];if(fe(t,l))return o;if(l.subject.withPlaceholder)return o;var s=Je(l,t,n);return it(o,s)}({draggable:m,impact:j,previousImpact:t.impact,draggables:s.draggables,droppables:s.droppables});return Object(o.a)({},t,{current:f,dimensions:{draggables:s.draggables,droppables:g},impact:j,viewport:l,scrollJumpRequest:c||null,forceShouldAnimate:!c&&null})};var lt=function(e){var t=e.impact,n=e.viewport,a=e.draggables,r=e.destination,i=e.forceShouldAnimate,c=t.displaced,l=Ce({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(c.all,a),destination:r,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:c});return Object(o.a)({},t,{displaced:l})},st=function(e){var t=e.impact,n=e.draggable,a=e.droppable,r=e.draggables,i=e.viewport,o=e.afterCritical,c=Me({impact:t,draggable:n,draggables:r,droppable:a,afterCritical:o});return ze({pageBorderBoxCenter:c,draggable:n,viewport:i})},dt=function(e){var t=e.state,n=e.dimensions,a=e.viewport;"SNAP"!==t.movementMode&&T(!1);var r=t.impact,i=a||t.viewport,o=n||t.dimensions,c=o.draggables,l=o.droppables,s=c[t.critical.draggable.id],d=Xe(r);d||T(!1);var u=l[d],p=lt({impact:r,viewport:i,destination:u,draggables:c}),b=st({impact:p,draggable:s,droppable:u,draggables:c,viewport:i,afterCritical:t.afterCritical});return ct({impact:p,clientSelection:b,state:t,dimensions:o,viewport:i})},ut=function(e){var t=e.draggable,n=e.home,a=e.draggables,r=e.viewport,i=Ye(n.axis,t.displaceBy),o=de(n.descriptor.id,a),c=o.indexOf(t);-1===c&&T(!1);var l,s=o.slice(c+1),d=s.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:d};return{impact:{displaced:Ce({afterDragging:s,destination:n,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:u}},pt=function(e){0},bt=function(e){0},ft=function(e){var t=e.additions,n=e.updatedDroppables,a=e.viewport,r=a.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||T(!1),t}(n[t]).scroll.diff.value;return function(e){var t=e.draggable,n=e.offset,a=e.initialWindowScroll,r=h(t.client,n),i=O(r,a);return Object(o.a)({},t,{placeholder:Object(o.a)({},t.placeholder,{client:r}),client:r,page:i})}({draggable:e,offset:W(r,i),initialWindowScroll:a.scroll.initial})}))},mt=function(e){return"SNAP"===e.movementMode},jt=function(e,t,n){var a=function(e,t){return{draggables:e.draggables,droppables:it(e.droppables,t)}}(e.dimensions,t);return!mt(e)||n?ct({state:e,dimensions:a}):dt({state:e,dimensions:a})};function gt(e){return e.isDragging&&"SNAP"===e.movementMode?Object(o.a)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var vt={phase:"IDLE",completed:null,shouldFlush:!1},ht=function(e,t){if(void 0===e&&(e=vt),"FLUSH"===t.type)return Object(o.a)({},vt,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&T(!1);var n=t.payload,a=n.critical,r=n.clientSelection,i=n.viewport,c=n.dimensions,l=n.movementMode,s=c.draggables[a.draggable.id],d=c.droppables[a.droppable.id],u={selection:r,borderBoxCenter:s.client.borderBox.center,offset:G},p={client:u,page:{selection:W(u.selection,i.scroll.initial),borderBoxCenter:W(u.selection,i.scroll.initial),offset:W(u.selection,i.scroll.diff.value)}},b=le(c.droppables).every((function(e){return!e.isFixedOnPage})),f=ut({draggable:s,home:d,draggables:c.draggables,viewport:i}),m=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:l,dimensions:c,initial:p,current:p,isWindowScrollAllowed:b,impact:m,afterCritical:f.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&T(!1),Object(o.a)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&T(!1),function(e){var t=e.state,n=e.published;pt();var a=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return te(n,e.scroll)})),r=Object(o.a)({},t.dimensions.droppables,{},oe(a)),i=ce(ft({additions:n.additions,updatedDroppables:r,viewport:t.viewport})),c=Object(o.a)({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete c[e]}));var l={droppables:r,draggables:c},s=Xe(t.impact),d=s?l.droppables[s]:null,u=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],b=ut({draggable:u,home:p,draggables:c,viewport:t.viewport}),f=b.impact,m=b.afterCritical,j=d&&d.isCombineEnabled?t.impact:f,g=rt({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:j,viewport:t.viewport,afterCritical:m});bt();var v=Object(o.a)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:Object(o.a)({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Ze(e)||T(!1);var j=t.payload.client;return q(j,e.current.client.selection)?e:ct({state:e,clientSelection:j,impact:mt(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return gt(e);if("COLLECTING"===e.phase)return gt(e);Ze(e)||T(!1);var g=t.payload,v=g.id,h=g.newScroll,O=e.dimensions.droppables[v];if(!O)return e;var x=te(O,h);return jt(e,x,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ze(e)||T(!1);var y=t.payload,w=y.id,_=y.isEnabled,S=e.dimensions.droppables[w];S||T(!1),S.isEnabled===_&&T(!1);var C=Object(o.a)({},S,{isEnabled:_});return jt(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ze(e)||T(!1);var k=t.payload,D=k.id,I=k.isCombineEnabled,N=e.dimensions.droppables[D];N||T(!1),N.isCombineEnabled===I&&T(!1);var E=Object(o.a)({},N,{isCombineEnabled:I});return jt(e,E,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Ze(e)||T(!1),e.isWindowScrollAllowed||T(!1);var F=t.payload.newScroll;if(q(e.viewport.scroll.current,F))return gt(e);var A=Pe(e.viewport,F);return mt(e)?dt({state:e,viewport:A}):ct({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Ze(e))return e;var R=t.payload.maxScroll;if(q(R,e.viewport.scroll.max))return e;var H=Object(o.a)({},e.viewport,{scroll:Object(o.a)({},e.viewport.scroll,{max:R})});return Object(o.a)({phase:"DRAGGING"},e,{viewport:H})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&T(!1);var B=$e({state:e,type:t.type});return B?ct({state:e,impact:B.impact,clientSelection:B.clientSelection,scrollJumpRequest:B.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var M=t.payload.reason;return"COLLECTING"!==e.phase&&T(!1),Object(o.a)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:M})}if("DROP_ANIMATE"===t.type){var P=t.payload,L=P.completed,z=P.dropDuration,V=P.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&T(!1),{phase:"DROP_ANIMATING",completed:L,dropDuration:z,newHomeClientOffset:V,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Ot=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},xt=function(){return{type:"COLLECTION_STARTING",payload:null}},yt=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},wt=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},_t=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},St=function(e){return{type:"MOVE",payload:e}},Ct=function(){return{type:"MOVE_UP",payload:null}},kt=function(){return{type:"MOVE_DOWN",payload:null}},Dt=function(){return{type:"MOVE_RIGHT",payload:null}},It=function(){return{type:"MOVE_LEFT",payload:null}},Nt=function(e){return{type:"DROP_COMPLETE",payload:e}},Et=function(e){return{type:"DROP",payload:e}},Tt=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Ft="cubic-bezier(.2,1,.1,1)",At={drop:0,combining:.7},Rt={drop:.75},Ht=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Bt={fluid:"opacity "+Ht,snap:"transform "+Ht+", opacity "+Ht,drop:function(e){var t=e+"s "+Ft;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Ht,placeholder:"height "+Ht+", width "+Ht+", margin "+Ht},Mt=function(e){return q(e,G)?null:"translate("+e.x+"px, "+e.y+"px)"},Pt=Mt,Lt=function(e,t){var n=Mt(e);return n?t?n+" scale("+Rt.drop+")":n:null},zt=.33,Gt=.55,Wt=Gt-zt,Vt=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(a){if("DROP"===a.type){var r=t(),i=a.payload.reason;if("COLLECTING"!==r.phase){if("IDLE"!==r.phase){"DROP_PENDING"===r.phase&&r.isWaiting&&T(!1),"DRAGGING"!==r.phase&&"DROP_PENDING"!==r.phase&&T(!1);var c=r.critical,l=r.dimensions,s=l.draggables[r.critical.draggable.id],d=function(e){var t=e.draggables,n=e.reason,a=e.lastImpact,r=e.home,i=e.viewport,c=e.onLiftImpact;return a.at&&"DROP"===n?"REORDER"===a.at.type?{impact:a,didDropInsideDroppable:!0}:{impact:Object(o.a)({},a,{displaced:je}),didDropInsideDroppable:!0}:{impact:lt({draggables:t,impact:c,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),u=d.impact,p=d.didDropInsideDroppable,b=p?ue(u):null,f=p?pe(u):null,m={index:c.draggable.index,droppableId:c.droppable.id},j={draggableId:s.descriptor.id,type:s.descriptor.type,source:m,reason:i,mode:r.movementMode,destination:b,combine:f},g=function(e){var t=e.impact,n=e.draggable,a=e.dimensions,r=e.viewport,i=e.afterCritical,o=a.draggables,c=a.droppables,l=Xe(t),s=l?c[l]:null,d=c[n.descriptor.droppableId],u=st({impact:t,draggable:n,draggables:o,afterCritical:i,droppable:s||d,viewport:r});return V(u,n.client.borderBox.center)}({impact:u,draggable:s,dimensions:l,viewport:r.viewport,afterCritical:r.afterCritical}),v={critical:r.critical,afterCritical:r.afterCritical,result:j,impact:u};if(!q(r.current.client.offset,g)||Boolean(j.combine)){var h=function(e){var t=e.current,n=e.destination,a=e.reason,r=K(t,n);if(r<=0)return zt;if(r>=1500)return Gt;var i=zt+Wt*(r/1500);return Number(("CANCEL"===a?.6*i:i).toFixed(2))}({current:r.current.client.offset,destination:g,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:h,completed:v}))}else n(Nt({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(a)}}},qt=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Ut(e){var t=e.onWindowScroll;var n,a=_((function(){t(qt())})),r=(n=a,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||n()}}),i=D;function o(){return i!==D}return{start:function(){o()&&T(!1),i=I(window,[r])},stop:function(){o()||T(!1),a.cancel(),i(),i=D},isActive:o}}var Yt=function(e){var t=Ut({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Kt=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=ae(e,(function(e){return e.timerId===t}));-1===n&&T(!1),e.splice(n,1)[0].callback()}(n)})),a={timerId:n,callback:t};e.push(a)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Jt=function(e,t){pt(),t(),bt()},Qt=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Xt=function(e,t,n,a){if(e){var r=function(e){var t=!1,n=!1,a=setTimeout((function(){n=!0})),r=function(r){t||n||(t=!0,e(r),clearTimeout(a))};return r.wasCalled=function(){return t},r}(n);e(t,{announce:r}),r.wasCalled()||n(a(t))}else n(a(t))},$t=function(e,t){var n=function(e,t){var n=Kt(),a=null,r=function(n){a||T(!1),a=null,Jt(0,(function(){return Xt(e().onDragEnd,n,t,z)}))};return{beforeCapture:function(t,n){a&&T(!1),Jt(0,(function(){var a=e().onBeforeCapture;a&&a({draggableId:t,mode:n})}))},beforeStart:function(t,n){a&&T(!1),Jt(0,(function(){var a=e().onBeforeDragStart;a&&a(Qt(t,n))}))},start:function(r,i){a&&T(!1);var o=Qt(r,i);a={mode:i,lastCritical:r,lastLocation:o.source,lastCombine:null},n.add((function(){Jt(0,(function(){return Xt(e().onDragStart,o,t,P)}))}))},update:function(r,i){var c=ue(i),l=pe(i);a||T(!1);var s=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,a=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&a}(r,a.lastCritical);s&&(a.lastCritical=r);var d,u,p=(u=c,!(null==(d=a.lastLocation)&&null==u||null!=d&&null!=u&&d.droppableId===u.droppableId&&d.index===u.index));p&&(a.lastLocation=c);var b=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(a.lastCombine,l);if(b&&(a.lastCombine=l),s||p||b){var f=Object(o.a)({},Qt(r,a.mode),{combine:l,destination:c});n.add((function(){Jt(0,(function(){return Xt(e().onDragUpdate,f,t,L)}))}))}},flush:function(){a||T(!1),n.flush()},drop:r,abort:function(){if(a){var e=Object(o.a)({},Qt(a.lastCritical,a.mode),{combine:null,destination:null,reason:"CANCEL"});r(e)}}}}(e,t);return function(e){return function(t){return function(a){if("BEFORE_INITIAL_CAPTURE"!==a.type){if("INITIAL_PUBLISH"===a.type){var r=a.payload.critical;return n.beforeStart(r,a.payload.movementMode),t(a),void n.start(r,a.payload.movementMode)}if("DROP_COMPLETE"===a.type){var i=a.payload.completed.result;return n.flush(),t(a),void n.drop(i)}if(t(a),"FLUSH"!==a.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}else n.beforeCapture(a.payload.draggableId,a.payload.movementMode)}}}},Zt=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var a=e.getState();"DROP_ANIMATING"!==a.phase&&T(!1),e.dispatch(Nt({completed:a.completed}))}else t(n)}}},en=function(e){var t=null,n=null;return function(a){return function(r){if("FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type&&"DROP_ANIMATION_FINISHED"!==r.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),a(r),"DROP_ANIMATE"===r.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=I(window,[i])}))}}}},tn=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var a=e.getState();"DROP_PENDING"===a.phase&&(a.isWaiting||e.dispatch(Et({reason:a.reason})))}}}},nn=c.d,an=function(e){var t,n=e.dimensionMarshal,a=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,o=e.announce,l=e.autoScroller;return Object(c.e)(ht,nn(Object(c.a)((t=r,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,a=t.dispatch;return function(t){return function(r){if("LIFT"===r.type){var i=r.payload,o=i.id,c=i.clientSelection,l=i.movementMode,s=n();"DROP_ANIMATING"===s.phase&&a(Nt({completed:s.completed})),"IDLE"!==n().phase&&T(!1),a({type:"FLUSH",payload:null}),a({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:l}});var d={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},u=e.startPublishing(d),p=u.critical,b=u.dimensions,f=u.viewport;a({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:b,clientSelection:c,movementMode:l,viewport:f}})}else t(r)}}}}(n),Vt,Zt,en,tn,function(e){return function(t){return function(n){return function(a){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(a))return e.stop(),void n(a);if("INITIAL_PUBLISH"===a.type){n(a);var r=t.getState();return"DRAGGING"!==r.phase&&T(!1),void e.start(r)}n(a),e.scroll(t.getState())}}}}(l),Yt,function(e){var t=!1;return function(){return function(n){return function(a){if("INITIAL_PUBLISH"===a.type)return t=!0,e.tryRecordFocus(a.payload.critical.draggable.id),n(a),void e.tryRestoreFocusRecorded();if(n(a),t){if("FLUSH"===a.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===a.type){t=!1;var r=a.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(a),$t(i,o))))};var rn=function(e){var t=e.scrollHeight,n=e.scrollWidth,a=e.height,r=e.width,i=V({x:n,y:t},{x:r,y:a});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},on=function(){var e=document.documentElement;return e||T(!1),e},cn=function(){var e=on();return rn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},ln=function(e){var t=e.critical,n=e.scrollOptions,a=e.registry;pt();var r=function(){var e=qt(),t=cn(),n=e.y,a=e.x,r=on(),i=r.clientWidth,o=r.clientHeight;return{frame:b({top:n,left:a,right:a+i,bottom:n+o}),scroll:{initial:e,current:e,max:t,diff:{value:G,displacement:G}}}}(),i=r.scroll.current,o=t.droppable,c=a.droppable.getAllByType(o.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)})),l=a.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(i)})),s={draggables:ce(l),droppables:oe(c)};return bt(),{dimensions:s,critical:t,viewport:r}};function sn(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var dn=function(e,t){var n=null,a=function(e){var t=e.registry,n=e.callbacks,a={additions:{},removals:{},modified:{}},r=null,i=function(){r||(n.collectionStarting(),r=requestAnimationFrame((function(){r=null,pt();var e=a,i=e.additions,o=e.removals,c=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(G)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),s=Object.keys(c).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),d={additions:l,removals:Object.keys(o),modified:s};a={additions:{},removals:{},modified:{}},bt(),n.publish(d)})))};return{add:function(e){var t=e.descriptor.id;a.additions[t]=e,a.modified[e.descriptor.droppableId]=!0,a.removals[t]&&delete a.removals[t],i()},remove:function(e){var t=e.descriptor;a.removals[t.id]=!0,a.modified[t.droppableId]=!0,a.additions[t.id]&&delete a.additions[t.id],i()},stop:function(){r&&(cancelAnimationFrame(r),r=null,a={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),r=function(t){n||T(!1);var r=n.critical.draggable;"ADDITION"===t.type&&sn(e,r,t.value)&&a.add(t.value),"REMOVAL"===t.type&&sn(e,r,t.value)&&a.remove(t.value)};return{updateDroppableIsEnabled:function(a,r){e.droppable.exists(a)||T(!1),n&&t.updateDroppableIsEnabled({id:a,isEnabled:r})},updateDroppableIsCombineEnabled:function(a,r){n&&(e.droppable.exists(a)||T(!1),t.updateDroppableIsCombineEnabled({id:a,isCombineEnabled:r}))},scrollDroppable:function(t,a){n&&e.droppable.getById(t).callbacks.scroll(a)},updateDroppableScroll:function(a,r){n&&(e.droppable.exists(a)||T(!1),t.updateDroppableScroll({id:a,newScroll:r}))},startPublishing:function(t){n&&T(!1);var a=e.draggable.getById(t.draggableId),i=e.droppable.getById(a.descriptor.droppableId),o={draggable:a.descriptor,droppable:i.descriptor},c=e.subscribe(r);return n={critical:o,unsubscribe:c},ln({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){a.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},un=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},pn=function(e){window.scrollBy(e.x,e.y)},bn=Object(w.a)((function(e){return le(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),fn=function(e){var t=e.center,n=e.destination,a=e.droppables;if(n){var r=a[n];return r.frame?r:null}return function(e,t){return re(bn(t),(function(t){return t.frame||T(!1),et(t.frame.pageMarginBox)(e)}))}(t,a)},mn=.25,jn=.05,gn=28,vn=function(e){return Math.pow(e,2)},hn={stopDampeningAt:1200,accelerateAt:360},On=function(e){var t=e.startOfRange,n=e.endOfRange,a=e.current,r=n-t;return 0===r?0:(a-t)/r},xn=hn.accelerateAt,yn=hn.stopDampeningAt,wn=function(e){var t=e.distanceToEdge,n=e.thresholds,a=e.dragStartTime,r=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return gn;if(e===t.startScrollingFrom)return 1;var n=On({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=gn*vn(1-n);return Math.ceil(a)}(t,n);return 0===i?0:r?Math.max(function(e,t){var n=t,a=yn,r=Date.now()-n;if(r>=yn)return e;if(r<xn)return 1;var i=On({startOfRange:xn,endOfRange:a,current:r}),o=e*vn(i);return Math.ceil(o)}(i,a),1):i},_n=function(e){var t=e.container,n=e.distanceToEdges,a=e.dragStartTime,r=e.axis,i=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*mn,maxScrollValueAt:e[t.size]*jn}}(t,r);return n[r.end]<n[r.start]?wn({distanceToEdge:n[r.end],thresholds:o,dragStartTime:a,shouldUseTimeDampening:i}):-1*wn({distanceToEdge:n[r.start],thresholds:o,dragStartTime:a,shouldUseTimeDampening:i})},Sn=Q((function(e){return 0===e?0:e})),Cn=function(e){var t=e.dragStartTime,n=e.container,a=e.subject,r=e.center,i=e.shouldUseTimeDampening,o={top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y,left:r.x-n.left},c=_n({container:n,distanceToEdges:o,dragStartTime:t,axis:xe,shouldUseTimeDampening:i}),l=_n({container:n,distanceToEdges:o,dragStartTime:t,axis:ye,shouldUseTimeDampening:i}),s=Sn({x:l,y:c});if(q(s,G))return null;var d=function(e){var t=e.container,n=e.subject,a=e.proposedScroll,r=n.height>t.height,i=n.width>t.width;return i||r?i&&r?null:{x:i?0:a.x,y:r?0:a.y}:a}({container:n,subject:a,proposedScroll:s});return d?q(d,G)?null:d:null},kn=Q((function(e){return 0===e?0:e>0?1:-1})),Dn=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,a=t.max,r=t.change,i=W(n,r),o={x:e(i.x,a.x),y:e(i.y,a.y)};return q(o,G)?null:o}}(),In=function(e){var t=e.max,n=e.current,a=e.change,r={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=kn(a),o=Dn({max:r,current:n,change:i});return!o||(0!==i.x&&0===o.x||0!==i.y&&0===o.y)},Nn=function(e,t){return In({current:e.scroll.current,max:e.scroll.max,change:t})},En=function(e,t){var n=e.frame;return!!n&&In({current:n.scroll.current,max:n.scroll.max,change:t})},Tn=function(e){var t=e.state,n=e.dragStartTime,a=e.shouldUseTimeDampening,r=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,a=e.center,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=Cn({dragStartTime:r,container:t.frame,subject:n,center:a,shouldUseTimeDampening:i});return o&&Nn(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:c,center:o,shouldUseTimeDampening:a});if(l)return void r(l)}var s=fn({center:o,destination:Xe(t.impact),droppables:t.dimensions.droppables});if(s){var d=function(e){var t=e.droppable,n=e.subject,a=e.center,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var c=Cn({dragStartTime:r,container:o.pageMarginBox,subject:n,center:a,shouldUseTimeDampening:i});return c&&En(t,c)?c:null}({dragStartTime:n,droppable:s,subject:c,center:o,shouldUseTimeDampening:a});d&&i(s.descriptor.id,d)}},Fn=function(e){var t=e.move,n=e.scrollDroppable,a=e.scrollWindow,r=function(e,t){if(!En(e,t))return t;var a=function(e,t){var n=e.frame;return n&&En(e,t)?Dn({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!a)return n(e.descriptor.id,t),null;var r=V(t,a);return n(e.descriptor.id,r),V(t,r)},i=function(e,t,n){if(!e)return n;if(!Nn(t,n))return n;var r=function(e,t){if(!Nn(e,t))return null;var n=e.scroll.max,a=e.scroll.current;return Dn({current:a,max:n,change:t})}(t,n);if(!r)return a(n),null;var i=V(n,r);return a(i),V(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var a=Xe(e.impact);a||T(!1);var o=r(e.dimensions.droppables[a],n);if(o){var c=e.viewport,l=i(e.isWindowScrollAllowed,c,o);l&&function(e,n){var a=W(e.current.client.selection,n);t({client:a})}(e,l)}}}},An=function(e){var t=e.scrollDroppable,n=e.scrollWindow,a=e.move,r=function(e){var t=e.scrollWindow,n=e.scrollDroppable,a=_(t),r=_(n),i=null,o=function(e){i||T(!1);var t=i,n=t.shouldUseTimeDampening,o=t.dragStartTime;Tn({state:e,scrollWindow:a,scrollDroppable:r,dragStartTime:o,shouldUseTimeDampening:n})};return{start:function(e){pt(),i&&T(!1);var t=Date.now(),n=!1,a=function(){n=!0};Tn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a}),i={dragStartTime:t,shouldUseTimeDampening:n},bt(),n&&o(e)},stop:function(){i&&(a.cancel(),r.cancel(),i=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),i=Fn({move:a,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):r.scroll(e))},start:r.start,stop:r.stop}},Rn=function(){var e="data-rbd-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Hn=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Bn=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Mn={contextId:"data-rbd-scroll-container-context-id"},Pn=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Ln="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?a.useLayoutEffect:a.useEffect,zn=function(){var e=document.querySelector("head");return e||T(!1),e},Gn=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Wn(e,t){var n=d((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),a=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Rn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),r=[function(){var e="\n      transition: "+Bt.outOfTheWay+";\n    ";return{selector:n(Hn.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),a,{selector:n(Bn.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Pn(r,"always"),resting:Pn(r,"resting"),dragging:Pn(r,"dragging"),dropAnimating:Pn(r,"dropAnimating"),userCancel:Pn(r,"userCancel")}}(e)}),[e]),r=Object(a.useRef)(null),i=Object(a.useRef)(null),o=u(Object(w.a)((function(e){var t=i.current;t||T(!1),t.textContent=e})),[]),c=u((function(e){var t=r.current;t||T(!1),t.textContent=e}),[]);Ln((function(){(r.current||i.current)&&T(!1);var a=Gn(t),l=Gn(t);return r.current=a,i.current=l,a.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),zn().appendChild(a),zn().appendChild(l),c(n.always),o(n.resting),function(){var e=function(e){var t=e.current;t||T(!1),zn().removeChild(t),e.current=null};e(r),e(i)}}),[t,c,o,n.always,n.resting,e]);var l=u((function(){return o(n.dragging)}),[o,n.dragging]),s=u((function(e){o("DROP"!==e?n.userCancel:n.dropAnimating)}),[o,n.dropAnimating,n.userCancel]),p=u((function(){i.current&&o(n.resting)}),[o,n.resting]);return d((function(){return{dragging:l,dropping:s,resting:p}}),[l,s,p])}var Vn=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function qn(e){return e instanceof Vn(e).HTMLElement}function Un(e,t){var n="["+Rn.contextId+'="'+e+'"]',a=ie(document.querySelectorAll(n));if(!a.length)return null;var r=re(a,(function(e){return e.getAttribute(Rn.draggableId)===t}));return r&&qn(r)?r:null}function Yn(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function a(t){return e.draggables[t]||null}function r(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var a=e.draggables[n.descriptor.id];a&&a.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var r=t.descriptor.id,i=a(r);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[r],n({type:"REMOVAL",value:t}))},getById:function(e){var t=a(e);return t||T(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return ne(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=r(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=r(e);return t||T(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return ne(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Kn=r.a.createContext(null),Jn=function(){var e=document.body;return e||T(!1),e},Qn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Xn=0,$n={separator:"::"};function Zn(e,t){return void 0===t&&(t=$n),d((function(){return""+e+t.separator+Xn++}),[t.separator,e])}var ea=r.a.createContext(null);function ta(e){0}function na(e,t){ta()}function aa(){na()}function ra(e){var t=Object(a.useRef)(e);return Object(a.useEffect)((function(){t.current=e})),t}var ia,oa=((ia={})[13]=!0,ia[9]=!0,ia),ca=function(e){oa[e.keyCode]&&e.preventDefault()},la=function(){var e="visibilitychange";return"undefined"===typeof document?e:re([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var sa,da={type:"IDLE"};function ua(e){var t=e.cancel,n=e.completed,a=e.getPhase,r=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var o={x:n,y:i},c=a();if("DRAGGING"===c.type)return e.preventDefault(),void c.actions.move(o);"PENDING"!==c.type&&T(!1);var l=c.point;if(s=l,d=o,Math.abs(d.x-s.x)>=5||Math.abs(d.y-s.y)>=5){var s,d;e.preventDefault();var u=c.actions.fluidLift(o);r({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var r=a();"DRAGGING"===r.type?(e.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===a().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==a().type)return 27===e.keyCode?(e.preventDefault(),void t()):void ca(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===a().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=a();"IDLE"===n.type&&T(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:la,fn:t}]}function pa(){}var ba=((sa={})[34]=!0,sa[33]=!0,sa[36]=!0,sa[35]=!0,sa);function fa(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(a){return 27===a.keyCode?(a.preventDefault(),void n()):32===a.keyCode?(a.preventDefault(),t(),void e.drop()):40===a.keyCode?(a.preventDefault(),void e.moveDown()):38===a.keyCode?(a.preventDefault(),void e.moveUp()):39===a.keyCode?(a.preventDefault(),void e.moveRight()):37===a.keyCode?(a.preventDefault(),void e.moveLeft()):void(ba[a.keyCode]?a.preventDefault():ca(a))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:la,fn:n}]}var ma={type:"IDLE"};var ja={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ga(e,t){if(null==t)return!1;if(Boolean(ja[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&ga(e,t.parentElement)}function va(e,t){var n=t.target;return!!qn(n)&&ga(e,n)}var ha=function(e){return b(e.getBoundingClientRect()).center};var Oa=function(){var e="matches";return"undefined"===typeof document?e:re([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function xa(e,t){return null==e?null:e[Oa](t)?e:xa(e.parentElement,t)}function ya(e,t){return e.closest?e.closest(t):xa(e,t)}function wa(e,t){var n,a=t.target;if(!((n=a)instanceof Vn(n).Element))return null;var r=ya(a,function(e){return"["+Rn.contextId+'="'+e+'"]'}(e));return r&&qn(r)?r:null}function _a(e){e.preventDefault()}function Sa(e){var t=e.expected,n=e.phase,a=e.isLockActive;e.shouldWarn;return!!a()&&t===n}function Ca(e){var t=e.lockAPI,n=e.store,a=e.registry,r=e.draggableId;if(t.isClaimed())return!1;var i=a.draggable.findById(r);return!!i&&(!!i.options.isEnabled&&!!un(n.getState(),r))}function ka(e){var t=e.lockAPI,n=e.contextId,a=e.store,r=e.registry,i=e.draggableId,c=e.forceSensorStop,l=e.sourceEvent;if(!Ca({lockAPI:t,store:a,registry:r,draggableId:i}))return null;var s=r.draggable.getById(i),d=function(e,t){var n="["+Hn.contextId+'="'+e+'"]',a=re(ie(document.querySelectorAll(n)),(function(e){return e.getAttribute(Hn.id)===t}));return a&&qn(a)?a:null}(n,s.descriptor.id);if(!d)return null;if(l&&!s.options.canDragInteractiveElements&&va(d,l))return null;var u=t.claim(c||D),p="PRE_DRAG";function b(){return s.options.shouldRespectForcePress}function f(){return t.isActive(u)}var m=function(e,t){Sa({expected:e,phase:p,isLockActive:f,shouldWarn:!0})&&a.dispatch(t())}.bind(null,"DRAGGING");function j(e){function n(){t.release(),p="COMPLETED"}function r(t,r){if(void 0===r&&(r={shouldBlockNextClick:!1}),e.cleanup(),r.shouldBlockNextClick){var i=I(window,[{eventName:"click",fn:_a,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),a.dispatch(Et({reason:t}))}return"PRE_DRAG"!==p&&(n(),"PRE_DRAG"!==p&&T(!1)),a.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),p="DRAGGING",Object(o.a)({isActive:function(){return Sa({expected:"DRAGGING",phase:p,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:b,drop:function(e){return r("DROP",e)},cancel:function(e){return r("CANCEL",e)}},e.actions)}return{isActive:function(){return Sa({expected:"PRE_DRAG",phase:p,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:b,fluidLift:function(e){var t=_((function(e){m((function(){return St({client:e})}))})),n=j({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return Object(o.a)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return m(Ct)},moveRight:function(){return m(Dt)},moveDown:function(){return m(kt)},moveLeft:function(){return m(It)}};return j({liftActionArgs:{id:i,clientSelection:ha(d),movementMode:"SNAP"},cleanup:D,actions:e})},abort:function(){Sa({expected:"PRE_DRAG",phase:p,isLockActive:f,shouldWarn:!0})&&t.release()}}}var Da=[function(e){var t=Object(a.useRef)(da),n=Object(a.useRef)(D),r=d((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var a=e.findClosestDraggableId(t);if(a){var r=e.tryGetLock(a,c,{sourceEvent:t});if(r){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),p(r,i)}}}}}}),[e]),i=d((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var a=e.findOptionsForDraggable(n);a&&(a.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),o=u((function(){n.current=I(window,[i,r],{passive:!1,capture:!0})}),[i,r]),c=u((function(){"IDLE"!==t.current.type&&(t.current=da,n.current(),o())}),[o]),l=u((function(){var e=t.current;c(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[c]),s=u((function(){var e=ua({cancel:l,completed:c,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=I(window,e,{capture:!0,passive:!1})}),[l,c]),p=u((function(e,n){"IDLE"!==t.current.type&&T(!1),t.current={type:"PENDING",point:n,actions:e},s()}),[s]);Ln((function(){return o(),function(){n.current()}}),[o])},function(e){var t=Object(a.useRef)(pa),n=d((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var a=e.findClosestDraggableId(n);if(a){var i=e.tryGetLock(a,l,{sourceEvent:n});if(i){n.preventDefault();var o=!0,c=i.snapLift();t.current(),t.current=I(window,fa(c,l),{capture:!0,passive:!1})}}}function l(){o||T(!1),o=!1,t.current(),r()}}}}),[e]),r=u((function(){t.current=I(window,[n],{passive:!1,capture:!0})}),[n]);Ln((function(){return r(),function(){t.current()}}),[r])},function(e){var t=Object(a.useRef)(ma),n=Object(a.useRef)(D),r=u((function(){return t.current}),[]),i=u((function(e){t.current=e}),[]),o=d((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var a=e.findClosestDraggableId(t);if(a){var r=e.tryGetLock(a,l,{sourceEvent:t});if(r){var i=t.touches[0],o={x:i.clientX,y:i.clientY};n.current(),f(r,o)}}}}}}),[e]),c=u((function(){n.current=I(window,[o],{capture:!0,passive:!1})}),[o]),l=u((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(ma),n.current(),c())}),[c,i]),s=u((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),p=u((function(){var e={capture:!0,passive:!1},t={cancel:s,completed:l,getPhase:r},a=I(window,function(e){var t=e.cancel,n=e.completed,a=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=a();if("DRAGGING"===n.type){n.hasMoved=!0;var r=e.touches[0],i={x:r.clientX,y:r.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var r=a();"DRAGGING"===r.type?(e.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===a().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=a();"IDLE"===n.type&&T(!1);var r=e.touches[0];if(r&&r.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:la,fn:t}]}(t),e),i=I(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:la,fn:t}]}(t),e);n.current=function(){a(),i()}}),[s,r,l]),b=u((function(){var e=r();"PENDING"!==e.type&&T(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,i]),f=u((function(e,t){"IDLE"!==r().type&&T(!1);var n=setTimeout(b,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),p()}),[p,r,i,b]);Ln((function(){return c(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(ma))}}),[r,c,i]),Ln((function(){return I(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Ia(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,c=[].concat(o?Da:[],i||[]),l=Object(a.useState)((function(){return function(){var e=null;function t(){e||T(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&T(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],s=u((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Ln((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();s(e,t),e=t}))}),[l,n,s]),Ln((function(){return l.tryAbandon}),[l.tryAbandon]);var p=u((function(e){return Ca({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),b=u((function(e,a,i){return ka({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:a,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,r,n]),f=u((function(e){return function(e,t){var n=wa(e,t);return n?n.getAttribute(Rn.draggableId):null}(t,e)}),[t]),m=u((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),j=u((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=u(l.isClaimed,[l]),v=d((function(){return{canGetLock:p,tryGetLock:b,findClosestDraggableId:f,findOptionsForDraggable:m,tryReleaseLock:j,isLockClaimed:g}}),[p,b,f,m,j,g]);ta();for(var h=0;h<c.length;h++)c[h](v)}function Na(e){return e.current||T(!1),e.current}function Ea(e){var t=e.contextId,n=e.setCallbacks,i=e.sensors,s=e.nonce,p=e.dragHandleUsageInstructions,b=Object(a.useRef)(null);aa();var f=ra(e),m=u((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(f.current)}),[f]),j=function(e){var t=d((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Object(o.a)(e.style,Qn),Jn().appendChild(e),function(){setTimeout((function(){var t=Jn();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),u((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),g=function(e){var t=e.contextId,n=e.text,r=Zn("hidden-text",{separator:"-"}),i=d((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return Object(a.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Jn().appendChild(e),function(){var t=Jn();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:p}),v=Wn(t,s),h=u((function(e){Na(b).dispatch(e)}),[]),O=d((function(){return Object(c.b)({publishWhileDragging:Ot,updateDroppableScroll:yt,updateDroppableIsEnabled:wt,updateDroppableIsCombineEnabled:_t,collectionStarting:xt},h)}),[h]),x=function(){var e=d(Yn,[]);return Object(a.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),y=d((function(){return dn(x,O)}),[x,O]),w=d((function(){return An(Object(o.a)({scrollWindow:pn,scrollDroppable:y.scrollDroppable},Object(c.b)({move:St},h)))}),[y.scrollDroppable,h]),_=function(e){var t=Object(a.useRef)({}),n=Object(a.useRef)(null),r=Object(a.useRef)(null),i=Object(a.useRef)(!1),o=u((function(e,n){var a={id:e,focus:n};return t.current[e]=a,function(){var n=t.current;n[e]!==a&&delete n[e]}}),[]),c=u((function(t){var n=Un(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=u((function(e,t){n.current===e&&(n.current=t)}),[]),s=u((function(){r.current||i.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&c(e)})))}),[c]),p=u((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Rn.draggableId)===e&&(n.current=e)}),[]);return Ln((function(){return i.current=!0,function(){i.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),d((function(){return{register:o,tryRecordFocus:p,tryRestoreFocusRecorded:s,tryShiftRecord:l}}),[o,p,s,l])}(t),S=d((function(){return an({announce:j,autoScroller:w,dimensionMarshal:y,focusMarshal:_,getResponders:m,styleMarshal:v})}),[j,w,y,_,m,v]);b.current=S;var C=u((function(){var e=Na(b);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),k=u((function(){var e=Na(b).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(d((function(){return{isDragging:k,tryAbort:C}}),[k,C]));var D=u((function(e){return un(Na(b).getState(),e)}),[]),I=u((function(){return Ze(Na(b).getState())}),[]),N=d((function(){return{marshal:y,focus:_,contextId:t,canLift:D,isMovementAllowed:I,dragHandleUsageInstructionsId:g,registry:x}}),[t,y,g,_,D,I,x]);return Ia({contextId:t,store:S,registry:x,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(a.useEffect)((function(){return C}),[C]),r.a.createElement(ea.Provider,{value:N},r.a.createElement(l.a,{context:Kn,store:S},e.children))}var Ta=0;function Fa(e){var t=d((function(){return""+Ta++}),[]),n=e.dragHandleUsageInstructions||M;return r.a.createElement(F,null,(function(a){return r.a.createElement(Ea,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Aa=function(e){return function(t){return e===t}},Ra=Aa("scroll"),Ha=Aa("auto"),Ba=(Aa("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Ma=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Ba(n,Ra)||Ba(n,Ha)},Pa=function e(t){return null==t||t===document.body||t===document.documentElement?null:Ma(t)?t:e(t.parentElement)},La=function(e){return{x:e.scrollLeft,y:e.scrollTop}},za=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Ga=function(e){return{closestScrollable:Pa(e),isFixedOnPage:za(e)}},Wa=function(e){var t=e.ref,n=e.descriptor,a=e.env,r=e.windowScroll,i=e.direction,o=e.isDropDisabled,c=e.isCombineEnabled,l=e.shouldClipSubject,s=a.closestScrollable,d=function(e,t){var n=y(e);if(!t)return n;if(e!==t)return n;var a=n.paddingBox.top-t.scrollTop,r=n.paddingBox.left-t.scrollLeft,i=a+t.scrollHeight,o=r+t.scrollWidth,c=f({top:a,right:o,bottom:i,left:r},n.border);return g({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})}(t,s),u=O(d,r),p=function(){if(!s)return null;var e=y(s),t={scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth};return{client:e,page:O(e,r),scroll:La(s),scrollSize:t,shouldClipSubject:l}}();return function(e){var t=e.descriptor,n=e.isEnabled,a=e.isCombineEnabled,r=e.isFixedOnPage,i=e.direction,o=e.client,c=e.page,l=e.closest,s=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=rn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:G,displacement:G}}}}(),d="vertical"===i?xe:ye;return{descriptor:t,isCombineEnabled:a,isFixedOnPage:r,axis:d,isEnabled:n,client:o,page:c,frame:s,subject:ee({page:c,withPlaceholder:null,axis:d,frame:s})}}({descriptor:n,isEnabled:!o,isCombineEnabled:c,isFixedOnPage:a.isFixedOnPage,direction:i,client:d,page:u,closest:p})},Va={passive:!1},qa={passive:!0},Ua=function(e){return e.shouldPublishImmediately?Va:qa};function Ya(e){var t=Object(a.useContext)(e);return t||T(!1),t}var Ka=function(e){return e&&e.env.closestScrollable||null};function Ja(){}var Qa={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Xa=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,a=e.animate,r=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,a=e.animate;return t||"close"===a?Qa:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==a?Bt.placeholder:null}};var $a=r.a.memo((function(e){var t=Object(a.useRef)(null),n=u((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),i=e.animate,o=e.onTransitionEnd,c=e.onClose,l=e.contextId,s=Object(a.useState)("open"===e.animate),d=s[0],p=s[1];Object(a.useEffect)((function(){return d?"open"!==i?(n(),p(!1),Ja):t.current?Ja:(t.current=setTimeout((function(){t.current=null,p(!1)})),n):Ja}),[i,d,n]);var b=u((function(e){"height"===e.propertyName&&(o(),"close"===i&&c())}),[i,c,o]),f=Xa({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return r.a.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":l,onTransitionEnd:b,ref:e.innerRef})})),Za=r.a.createContext(null);var er=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(r.a.PureComponent),tr=5e3,nr=4500,ar=function(e,t){return t?Bt.drop(t.duration):e?Bt.snap:Bt.fluid},rr=function(e,t){return e?t?At.drop:At.combining:null};function ir(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,a=e.combineWith,r=e.dropping,i=Boolean(a),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),c=Boolean(r),l=c?Lt(n,i):Pt(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ar(o,r),transform:l,opacity:rr(i,c),zIndex:c?nr:tr,pointerEvents:"none"}}(e):{transform:Pt((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function or(e){var t=Zn("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,c=e.shouldRespectForcePress,l=e.isEnabled,s=d((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:c,isEnabled:l}}),[o,l,c]),p=u((function(e){var t=i();return t||T(!1),function(e,t,n){void 0===n&&(n=G);var a=window.getComputedStyle(t),r=t.getBoundingClientRect(),i=x(r,a),o=O(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:a.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:o}}(n,t,e)}),[n,i]),b=d((function(){return{uniqueId:t,descriptor:n,options:s,getDimension:p}}),[n,p,s,t]),f=Object(a.useRef)(b),m=Object(a.useRef)(!0);Ln((function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}}),[r.draggable]),Ln((function(){if(m.current)m.current=!1;else{var e=f.current;f.current=b,r.draggable.update(b,e)}}),[b,r.draggable])}function cr(e,t,n){na()}function lr(e){e.preventDefault()}var sr=function(e,t){return e===t},dr=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function ur(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var pr={mapped:{type:"SECONDARY",offset:G,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ur(null)}};var br={dropAnimationFinished:Tt},fr=Object(l.b)((function(){var e=function(){var e=Object(w.a)((function(e,t){return{x:e,y:t}})),t=Object(w.a)((function(e,t,n,a,r){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(r),dropAnimation:r,mode:e,draggingOver:n,combineWith:a,combineTargetFor:null}})),n=Object(w.a)((function(e,n,a,r,i,o,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:o,mode:n,offset:e,dimension:a,forceShouldAnimate:c,snapshot:t(n,r,i,o,null)}}}));return function(a,r){if(a.isDragging){if(a.critical.draggable.id!==r.draggableId)return null;var i=a.current.client.offset,o=a.dimensions.draggables[r.draggableId],c=Xe(a.impact),l=(d=a.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,s=a.forceShouldAnimate;return n(e(i.x,i.y),a.movementMode,o,r.isClone,c,l,s)}var d;if("DROP_ANIMATING"===a.phase){var u=a.completed;if(u.result.draggableId!==r.draggableId)return null;var p=r.isClone,b=a.dimensions.draggables[r.draggableId],f=u.result,m=f.mode,j=dr(f),g=function(e){return e.combine?e.combine.draggableId:null}(f),v={duration:a.dropDuration,curve:Ft,moveTo:a.newHomeClientOffset,opacity:g?At.drop:null,scale:g?Rt.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:b,dropping:v,draggingOver:j,combineWith:g,mode:m,forceShouldAnimate:null,snapshot:t(m,p,j,g,v)}}}return null}}(),t=function(){var e=Object(w.a)((function(e,t){return{x:e,y:t}})),t=Object(w.a)(ur),n=Object(w.a)((function(e,n,a){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:a,snapshot:t(n)}}})),a=function(e){return e?n(G,e,!0):null},r=function(t,r,i,o){var c=i.displaced.visible[t],l=Boolean(o.inVirtualList&&o.effected[t]),s=pe(i),d=s&&s.draggableId===t?r:null;if(!c){if(!l)return a(d);if(i.displaced.invisible[t])return null;var u=U(o.displacedBy.point),p=e(u.x,u.y);return n(p,d,!0)}if(l)return a(d);var b=i.displacedBy.point,f=e(b.x,b.y);return n(f,d,c.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:r(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:r(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,a){return e(n,a)||t(n,a)||pr}}),br,null,{context:Kn,pure:!0,areStatePropsEqual:sr})((function(e){var t=Object(a.useRef)(null),n=u((function(e){t.current=e}),[]),r=u((function(){return t.current}),[]),i=Ya(ea),o=i.contextId,c=i.dragHandleUsageInstructionsId,l=i.registry,s=Ya(Za),p=s.type,b=s.droppableId,f=d((function(){return{id:e.draggableId,index:e.index,type:p,droppableId:b}}),[e.draggableId,e.index,p,b]),m=e.children,j=e.draggableId,g=e.isEnabled,v=e.shouldRespectForcePress,h=e.canDragInteractiveElements,O=e.isClone,x=e.mapped,y=e.dropAnimationFinished;cr(),ta(),O||or(d((function(){return{descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:v,isEnabled:g}}),[f,l,r,h,v,g]));var w=d((function(){return g?{tabIndex:0,role:"button","aria-describedby":c,"data-rbd-drag-handle-draggable-id":j,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:lr}:null}),[o,c,j,g]),_=u((function(e){"DRAGGING"===x.type&&x.dropping&&"transform"===e.propertyName&&y()}),[y,x]),S=d((function(){var e=ir(x),t="DRAGGING"===x.type&&x.dropping?_:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":j,style:e,onTransitionEnd:t},dragHandleProps:w}}),[o,w,j,x,_,n]),C=d((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return m(S,x.snapshot,C)}));function mr(e){return Ya(Za).isUsingCloneFor!==e.draggableId||e.isClone?r.a.createElement(fr,e):null}function jr(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return r.a.createElement(mr,Object(o.a)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:a}))}var gr=function(e,t){return e===t.droppable.type},vr=function(e,t){return t.draggables[e.draggable.id]},hr={updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}};var Or={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||T(!1),document.body}},xr=Object(l.b)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Object(o.a)({},e,{shouldAnimatePlaceholder:!1}),n=Object(w.a)((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),a=Object(w.a)((function(a,r,i,o,c,l){var s=c.descriptor.id;if(c.descriptor.droppableId===a){var d=l?{render:l,dragging:n(c.descriptor)}:null,u={isDraggingOver:i,draggingOverWith:i?s:null,draggingFromThisWith:s,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:d}}if(!r)return t;if(!o)return e;var p={isDraggingOver:i,draggingOverWith:s,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(n,r){var i=r.droppableId,o=r.type,c=!r.isDropDisabled,l=r.renderClone;if(n.isDragging){var s=n.critical;if(!gr(o,s))return t;var d=vr(s,n.dimensions),u=Xe(n.impact)===i;return a(i,c,u,u,d,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!gr(o,p.critical))return t;var b=vr(p.critical,n.dimensions);return a(i,c,dr(p.result)===i,Xe(p.impact)===i,b,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var f=n.completed;if(!gr(o,f.critical))return t;var m=Xe(f.impact)===i,j=Boolean(f.impact.at&&"COMBINE"===f.impact.at.type),g=f.critical.droppable.id===i;return m?j?e:t:g?e:t}return t}}),hr,null,{context:Kn,pure:!0,areStatePropsEqual:sr})((function(e){var t=Object(a.useContext)(ea);t||T(!1);var n=t.contextId,i=t.isMovementAllowed,o=Object(a.useRef)(null),c=Object(a.useRef)(null),l=e.children,s=e.droppableId,p=e.type,b=e.mode,f=e.direction,m=e.ignoreContainerClipping,j=e.isDropDisabled,g=e.isCombineEnabled,v=e.snapshot,h=e.useClone,O=e.updateViewportMaxScroll,x=e.getContainerForClone,y=u((function(){return o.current}),[]),S=u((function(e){o.current=e}),[]),k=(u((function(){return c.current}),[]),u((function(e){c.current=e}),[]));na();var D=u((function(){i()&&O({maxScroll:cn()})}),[i,O]);!function(e){var t=Object(a.useRef)(null),n=Ya(ea),r=Zn("droppable"),i=n.registry,o=n.marshal,c=ra(e),l=d((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),s=Object(a.useRef)(l),p=d((function(){return Object(w.a)((function(e,n){t.current||T(!1);var a={x:e,y:n};o.updateDroppableScroll(l.id,a)}))}),[l.id,o]),b=u((function(){var e=t.current;return e&&e.env.closestScrollable?La(e.env.closestScrollable):G}),[]),f=u((function(){var e=b();p(e.x,e.y)}),[b,p]),m=d((function(){return _(f)}),[f]),j=u((function(){var e=t.current,n=Ka(e);e&&n||T(!1),e.scrollOptions.shouldPublishImmediately?f():m()}),[m,f]),g=u((function(e,a){t.current&&T(!1);var r=c.current,i=r.getDroppableRef();i||T(!1);var o=Ga(i),s={ref:i,descriptor:l,env:o,scrollOptions:a};t.current=s;var d=Wa({ref:i,descriptor:l,env:o,windowScroll:e,direction:r.direction,isDropDisabled:r.isDropDisabled,isCombineEnabled:r.isCombineEnabled,shouldClipSubject:!r.ignoreContainerClipping}),u=o.closestScrollable;return u&&(u.setAttribute(Mn.contextId,n.contextId),u.addEventListener("scroll",j,Ua(s.scrollOptions))),d}),[n.contextId,l,j,c]),v=u((function(){var e=t.current,n=Ka(e);return e&&n||T(!1),La(n)}),[]),h=u((function(){var e=t.current;e||T(!1);var n=Ka(e);t.current=null,n&&(m.cancel(),n.removeAttribute(Mn.contextId),n.removeEventListener("scroll",j,Ua(e.scrollOptions)))}),[j,m]),O=u((function(e){var n=t.current;n||T(!1);var a=Ka(n);a||T(!1),a.scrollTop+=e.y,a.scrollLeft+=e.x}),[]),x=d((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:v,dragStopped:h,scroll:O}}),[h,g,v,O]),y=d((function(){return{uniqueId:r,descriptor:l,callbacks:x}}),[x,l,r]);Ln((function(){return s.current=y.descriptor,i.droppable.register(y),function(){t.current&&h(),i.droppable.unregister(y)}}),[x,l,h,y,o,i.droppable]),Ln((function(){t.current&&o.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),Ln((function(){t.current&&o.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}({droppableId:s,type:p,mode:b,direction:f,isDropDisabled:j,isCombineEnabled:g,ignoreContainerClipping:m,getDroppableRef:y});var I=r.a.createElement(er,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,a=e.data,i=e.animate;return r.a.createElement($a,{placeholder:a,onClose:t,innerRef:k,animate:i,contextId:n,onTransitionEnd:D})})),N=d((function(){return{innerRef:S,placeholder:I,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}}),[n,s,I,S]),E=h?h.dragging.draggableId:null,F=d((function(){return{droppableId:s,type:p,isUsingCloneFor:E}}),[s,E,p]);return r.a.createElement(Za.Provider,{value:F},l(N,v),function(){if(!h)return null;var e=h.dragging,t=h.render,n=r.a.createElement(mr,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,a){return t(n,a,e)}));return C.a.createPortal(n,x())}())}));xr.defaultProps=Or},1079:function(e,t,n){"use strict";var a=n(4),r=n(11),i=n(0),o=(n(5),n(9)),c=n(15),l=n(201),s=i.forwardRef((function(e,t){var n=e.children,c=e.classes,s=e.className,d=e.focusVisibleClassName,u=Object(r.a)(e,["children","classes","className","focusVisibleClassName"]);return i.createElement(l.a,Object(a.a)({className:Object(o.default)(c.root,s),focusVisibleClassName:Object(o.default)(d,c.focusVisible),ref:t},u),n,i.createElement("span",{className:c.focusHighlight}))}));t.a=Object(c.a)((function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}}),{name:"MuiCardActionArea"})(s)},1080:function(e,t,n){"use strict";var a=n(4),r=n(11),i=n(0),o=(n(5),n(9)),c=n(15),l=["video","audio","picture","iframe","img"],s=i.forwardRef((function(e,t){var n=e.children,c=e.classes,s=e.className,d=e.component,u=void 0===d?"div":d,p=e.image,b=e.src,f=e.style,m=Object(r.a)(e,["children","classes","className","component","image","src","style"]),j=-1!==l.indexOf(u),g=!j&&p?Object(a.a)({backgroundImage:'url("'.concat(p,'")')},f):f;return i.createElement(u,Object(a.a)({className:Object(o.default)(c.root,s,j&&c.media,-1!=="picture img".indexOf(u)&&c.img),ref:t,style:g,src:j?p||b:void 0},m),n)}));t.a=Object(c.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(s)},1222:function(e,t,n){"use strict";var a=n(61),r=n(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=r(n(80)),o=r(n(132)),c=a(n(0)),l=(r(n(5)),r(n(9))),s=r(n(143)),d=r(n(460)),u={root:{overflow:"hidden"}};t.styles=u;var p=c.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.raised,d=void 0!==r&&r,u=(0,o.default)(e,["classes","className","raised"]);return c.createElement(s.default,(0,i.default)({className:(0,l.default)(n.root,a),elevation:d?8:1,ref:t},u))})),b=(0,d.default)(u,{name:"MuiCard"})(p);t.default=b},1223:function(e,t,n){"use strict";var a=n(61),r=n(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=r(n(80)),o=r(n(132)),c=a(n(0)),l=(r(n(5)),r(n(9))),s=r(n(460)),d={root:{padding:16,"&:last-child":{paddingBottom:24}}};t.styles=d;var u=c.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.component,s=void 0===r?"div":r,d=(0,o.default)(e,["classes","className","component"]);return c.createElement(s,(0,i.default)({className:(0,l.default)(n.root,a),ref:t},d))})),p=(0,s.default)(d,{name:"MuiCardContent"})(u);t.default=p},1224:function(e,t,n){"use strict";var a=n(61),r=n(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=r(n(80)),o=r(n(132)),c=a(n(0)),l=(r(n(5)),r(n(9))),s=r(n(460)),d=r(n(897)),u=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}};t.styles=u;var p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},b=c.forwardRef((function(e,t){var n=e.align,a=void 0===n?"inherit":n,r=e.classes,s=e.className,u=e.color,b=void 0===u?"initial":u,f=e.component,m=e.display,j=void 0===m?"initial":m,g=e.gutterBottom,v=void 0!==g&&g,h=e.noWrap,O=void 0!==h&&h,x=e.paragraph,y=void 0!==x&&x,w=e.variant,_=void 0===w?"body1":w,S=e.variantMapping,C=void 0===S?p:S,k=(0,o.default)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),D=f||(y?"p":C[_]||p[_])||"span";return c.createElement(D,(0,i.default)({className:(0,l.default)(r.root,s,"inherit"!==_&&r[_],"initial"!==b&&r["color".concat((0,d.default)(b))],O&&r.noWrap,v&&r.gutterBottom,y&&r.paragraph,"inherit"!==a&&r["align".concat((0,d.default)(a))],"initial"!==j&&r["display".concat((0,d.default)(j))]),ref:t},k))})),f=(0,s.default)(u,{name:"MuiTypography"})(b);t.default=f},1225:function(e,t,n){"use strict";var a=n(61),r=n(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=r(n(80)),o=r(n(132)),c=a(n(0)),l=(r(n(5)),r(n(9))),s=(n(29),n(471)),d=r(n(460)),u=r(n(131)),p=r(n(897)),b=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}};t.styles=b;var f=c.forwardRef((function(e,t){e.checked;var n=e.classes,a=e.className,r=e.control,d=e.disabled,b=(e.inputRef,e.label),f=e.labelPlacement,m=void 0===f?"end":f,j=(e.name,e.onChange,e.value,(0,o.default)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),g=(0,s.useFormControl)(),v=d;"undefined"===typeof v&&"undefined"!==typeof r.props.disabled&&(v=r.props.disabled),"undefined"===typeof v&&g&&(v=g.disabled);var h={disabled:v};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof r.props[t]&&"undefined"!==typeof e[t]&&(h[t]=e[t])})),c.createElement("label",(0,i.default)({className:(0,l.default)(n.root,a,"end"!==m&&n["labelPlacement".concat((0,p.default)(m))],v&&n.disabled),ref:t},j),c.cloneElement(r,h),c.createElement(u.default,{component:"span",className:(0,l.default)(n.label,v&&n.disabled)},b))})),m=(0,d.default)(b,{name:"MuiFormControlLabel"})(f);t.default=m},1226:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}),"ThumbUp");t.default=o},1227:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"}),"ThumbDown");t.default=o},1228:function(e,t,n){"use strict";var a=n(0),r=n(43);t.a=Object(r.a)(a.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done")},1229:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicator");t.default=o},1230:function(e,t,n){"use strict";var a=n(4),r=n(68),i=n(11),o=n(0),c=(n(5),n(443)),l=n(76),s=n(75),d=n(96),u=n(34),p={entering:{transform:"none"},entered:{transform:"none"}},b={enter:l.b.enteringScreen,exit:l.b.leavingScreen},f=o.forwardRef((function(e,t){var n=e.children,l=e.disableStrictModeCompat,f=void 0!==l&&l,m=e.in,j=e.onEnter,g=e.onEntered,v=e.onEntering,h=e.onExit,O=e.onExited,x=e.onExiting,y=e.style,w=e.timeout,_=void 0===w?b:w,S=e.TransitionComponent,C=void 0===S?c.a:S,k=Object(i.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),D=Object(s.a)(),I=D.unstable_strictMode&&!f,N=o.useRef(null),E=Object(u.a)(n.ref,t),T=Object(u.a)(I?N:void 0,E),F=function(e){return function(t,n){if(e){var a=I?[N.current,t]:[t,n],i=Object(r.a)(a,2),o=i[0],c=i[1];void 0===c?e(o):e(o,c)}}},A=F(v),R=F((function(e,t){Object(d.b)(e);var n=Object(d.a)({style:y,timeout:_},{mode:"enter"});e.style.webkitTransition=D.transitions.create("transform",n),e.style.transition=D.transitions.create("transform",n),j&&j(e,t)})),H=F(g),B=F(x),M=F((function(e){var t=Object(d.a)({style:y,timeout:_},{mode:"exit"});e.style.webkitTransition=D.transitions.create("transform",t),e.style.transition=D.transitions.create("transform",t),h&&h(e)})),P=F(O);return o.createElement(C,Object(a.a)({appear:!0,in:m,nodeRef:I?N:void 0,onEnter:R,onEntered:H,onEntering:A,onExit:M,onExited:P,onExiting:B,timeout:_},k),(function(e,t){return o.cloneElement(n,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||m?void 0:"hidden"},p[e],y,n.props.style),ref:T},t))}))}));t.a=f},1231:function(e,t,n){"use strict";(function(e){var a=n(1),r=n(24),i=n.n(r),o=n(39),c=n(20),l=n(0),s=n.n(l),d=n(25),u=n(40),p=n(94),b=n(48),f=n(7),m=n(779),j=n(169),g=n(122),v=n(8),h=n(83),O=n(44),x=n(778),y=n.n(x),w=n(205),_=n(860),S=n(878),C=n.n(S),k=n(784),D=n(170),I=n(257),N=n(16),E=n(28),T=n(2),F=(new Date((new Date).setDate(1)),new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),Object(j.a)((function(e){return{containerHeader:{padding:e.spacing(1)},containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"}}}))),A=["ticketnum","channel","ticketdate","tickettime","finishtime","handoffdate","agent","name","phone","origin","closetype","classification","totalduration","agentduration","customerwaitingduration","holdingtime","transferduration"],R=function(e){var t,n=e.data.row,a=e.setViewSelected,r=F(),i=Object(u.c)(),o=Object(g.a)().t,c=Object(d.b)((function(e){return e.main.multiDataAux2}));Object(l.useEffect)((function(){c.loading||i(Object(O.d)(!1))}),[c]),Object(l.useEffect)((function(){i(Object(O.d)(!0)),i(Object(h.r)([Object(f.ae)({name:(null===n||void 0===n?void 0:n.name)||"",from:(null===n||void 0===n?void 0:n.from)||"",date:(null===n||void 0===n?void 0:n.shippingdate)||"",type:(null===n||void 0===n?void 0:n.type)||""})]))}),[]);var b=s.a.useMemo((function(){return[{Header:o(v.a.recipientsname),accessor:"clientname",NoFilter:!1},{Header:o(v.a.contact),accessor:"contact",NoFilter:!1},{Header:"".concat(o(v.a.channel)),accessor:"channel",NoFilter:!1},{Header:"".concat(o(v.a.origin)),accessor:"origin",NoFilter:!1},{Header:o(v.a.group),accessor:"group",NoFilter:!1},{Header:o(v.a.status),accessor:"status",NoFilter:!1,prefixTranslation:"status_",Cell:function(e){var t=e.cell.row.original.status;return(o("status_".concat(t).toLowerCase())||"").toUpperCase()}},{Header:o(v.a.communicationtemplate),accessor:"templatename",NoFilter:!1},{Header:o(v.a.body),accessor:"body",NoFilter:!1},{Header:o(v.a.log),accessor:"log",NoFilter:!1}]}),[o]);return Object(T.jsx)("div",{style:{width:"100%"},children:Object(T.jsx)("div",{className:r.containerDetail,children:Object(T.jsx)(m.f,{titlemodule:"".concat(null===n||void 0===n?void 0:n.name_translated," (").concat(null===n||void 0===n?void 0:n.shippingdate,")")||!1,ButtonsElement:function(){return Object(T.jsx)(p.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(T.jsx)(y.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return a("view-1")},children:o(v.a.back)})},columns:b,data:(null===(t=c.data[0])||void 0===t?void 0:t.data)||[],download:!0,loading:c.loading,register:!1,filterGeneral:!1})})})},H=function(e){var t,n,a=e.openModal,r=e.setOpenModal,i=e.setView,o=(e.row,e.daterange),c=(e.filters,e.columns),s=(e.columnsprefix,Object(g.a)().t),d=Object(u.c)(),p=Object(w.d)({defaultValues:{graphictype:"BAR",column:""}}),m=p.register,j=p.handleSubmit,O=p.setValue,x=p.getValues,y=p.formState.errors;Object(l.useEffect)((function(){m("graphictype",{validate:function(e){return e&&e.length||s(v.a.field_required)}}),m("column",{validate:function(e){return e&&e.length||s(v.a.field_required)}})}),[m]);var _=j((function(e){S(e)})),S=function(e){i("CHART-".concat(e.graphictype,"-").concat(e.column)),r(!1),d(Object(h.o)(Object(f.Yd)({startdate:null===o||void 0===o?void 0:o.startDate,enddate:null===o||void 0===o?void 0:o.endDate,column:e.column,summarization:"COUNT"})))};return Object(T.jsxs)(b.g,{open:a,title:s(v.a.graphic_configuration),button1Type:"button",buttonText1:s(v.a.cancel),handleClickButton1:function(){r(!1)},button2Type:"button",buttonText2:s(v.a.accept),handleClickButton2:_,children:[Object(T.jsx)("div",{className:"row-zyx",children:Object(T.jsx)(b.u,{label:s(v.a.graphic_type),className:"col-12",valueDefault:x("graphictype"),error:null===y||void 0===y||null===(t=y.graphictype)||void 0===t?void 0:t.message,onChange:function(e){return O("graphictype",null===e||void 0===e?void 0:e.key)},data:[{key:"BAR",value:"BAR"},{key:"PIE",value:"PIE"}],uset:!0,prefixTranslation:"graphic_",optionDesc:"value",optionValue:"key"})}),Object(T.jsx)("div",{className:"row-zyx",children:Object(T.jsx)(b.u,{label:s(v.a.graphic_view_by),className:"col-12",valueDefault:x("column"),error:null===y||void 0===y||null===(n=y.column)||void 0===n?void 0:n.message,onChange:function(e){return O("column",null===e||void 0===e?void 0:e.key)},data:c,optionDesc:"value",optionValue:"key",uset:!0,prefixTranslation:""})})]})};t.a=function(){var t=Object(u.c)(),n=Object(g.a)().t,r=Object(d.b)((function(e){return e.main.multiData})),b=Object(l.useState)("view-1"),m=Object(c.a)(b,2),j=m[0],x=m[1],y=Object(l.useState)({row:null,edit:!1}),w=Object(c.a)(y,2),S=w[0],B=(w[1],Object(l.useState)(!1)),M=Object(c.a)(B,2),P=M[0],L=M[1],z=Object(l.useState)("GRID"),G=Object(c.a)(z,2),W=G[0],V=G[1],q=F(),U=Object(d.b)((function(e){return e.main.mainPaginated})),Y=Object(d.b)((function(e){return e.main.exportData})),K=Object(l.useState)(0),J=Object(c.a)(K,2),Q=J[0],X=J[1],$=Object(l.useState)(0),Z=Object(c.a)($,2),ee=Z[0],te=Z[1],ne=Object(l.useState)(!1),ae=Object(c.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(l.useState)(!1),ce=Object(c.a)(oe,2),le=ce[0],se=ce[1],de=Object(l.useState)({pageSize:0,pageIndex:0,filters:{},sorts:{},daterange:null}),ue=Object(c.a)(de,2),pe=ue[0],be=ue[1];Object(l.useEffect)((function(){return t(Object(h.H)("voicecallreport")),function(){t(Object(h.b)())}}),[]);var fe=function(){var a=Object(o.a)(i.a.mark((function a(r){var o,c,l,s,d,u,p,b;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.m.getCallRecord({call_session_history_id:r.postexternalid});case 3:200===(o=a.sent).status&&(c=e.from(o.data,"base64"),l=new Blob([c],{type:o.headers["content-type"].split(";").find((function(e){return e.includes("audio")}))}),s=window.URL.createObjectURL(l),(d=document.createElement("a")).href=s,d.download=r.ticketnum,d.click()),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),b=n((null===a.t0||void 0===a.t0||null===(u=a.t0.response)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.code)||"error_unexpected_error"),t(Object(O.e)({show:!0,severity:"error",message:b}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),me=s.a.useMemo((function(){return[{accessor:"postexternalid",isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return t.postexternalid&&t.callanswereddate?Object(T.jsx)(D.a,{title:n(v.a.download_record)||"",children:Object(T.jsx)(I.a,{size:"small",onClick:function(){return fe(t)},children:Object(T.jsx)(N.p,{style:{fill:"#7721AD"}})})}):null}},{Header:"N\xb0 ".concat(n(v.a.ticket_numeroticket)),accessor:"ticketnum",NoFilter:!1},{Header:n(v.a.channel),accessor:"channel",NoFilter:!1},{Header:n(v.a.date),accessor:"ticketdate",NoFilter:!1,type:"date"},{Header:"".concat(n(v.a.starttimecall)),accessor:"tickettime",NoFilter:!1,type:"time"},{Header:"".concat(n(v.a.finishtimecall)),accessor:"finishtime",NoFilter:!1,type:"time"},{Header:n(v.a.transfertimecall),accessor:"handoffdate",NoFilter:!1,helpText:n(v.a.transfertimecall_tooltip),type:"time"},{Header:n(v.a.lastadvisername),accessor:"agent",NoFilter:!1},{Header:n(v.a.person),accessor:"name",NoFilter:!1},{Header:n(v.a.phone),accessor:"phone",NoFilter:!1},{Header:n(v.a.origin),accessor:"origin",NoFilter:!1},{Header:n(v.a.closetype),accessor:"closetype",NoFilter:!1},{Header:n(v.a.tipification),accessor:"classification",NoFilter:!1,helpText:n(v.a.tipification_tooltip)},{Header:n(v.a.totalTime),accessor:"totalduration",NoFilter:!1,helpText:n(v.a.totalTime_tooltip),type:"time"},{Header:n(v.a.advisorattentiontime),accessor:"agentduration",NoFilter:!1,helpText:n(v.a.advisorattentiontime_tooltip),type:"time"},{Header:n(v.a.customerwaitingtime),accessor:"customerwaitingduration",NoFilter:!1,helpText:n(v.a.customerwaitingtime_tooltip),type:"time"},{Header:n(v.a.callwaitingtime),accessor:"holdingtime",NoFilter:!1,helpText:n(v.a.callwaitingtime_tooltip),type:"time"},{Header:n(v.a.transfertime),accessor:"transferduration",NoFilter:!1,helpText:n(v.a.transfertime_tooltip),type:"time"}]}),[n]);Object(l.useEffect)((function(){r.loading||t(Object(O.d)(!1))}),[r]);Object(l.useEffect)((function(){return function(){t(Object(h.C)())}}),[]),Object(l.useEffect)((function(){var e;if(le)if(Y.loading||Y.error){if(Y.error){var a=n(Y.code||"error_unexpected_error",{module:n(v.a.person).toLocaleLowerCase()});t(Object(O.e)({show:!0,severity:"error",message:a})),t(Object(O.d)(!1)),se(!1)}}else t(Object(O.d)(!1)),se(!1),null===(e=Y.url)||void 0===e||e.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[Y,le]),Object(l.useEffect)((function(){U.loading||U.error||(X(pe.pageSize?Math.ceil(U.count/pe.pageSize):0),te(U.count))}),[U]);Object(l.useEffect)((function(){var e;if(re)if(Y.loading||Y.error){if(Y.error){var a=n(Y.code||"error_unexpected_error",{module:n(v.a.property).toLocaleLowerCase()});t(Object(O.e)({show:!0,severity:"error",message:a})),t(Object(O.d)(!1)),ie(!1)}}else t(Object(O.d)(!1)),ie(!1),null===(e=Y.url)||void 0===e||e.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[Y,re]),Object(l.useEffect)((function(){return t(Object(h.H)("recordhsmreport")),function(){t(Object(h.b)())}}),[]);var je,ge;return"view-1"===j?Object(T.jsxs)(s.a.Fragment,{children:[Object(T.jsx)("div",{style:{height:10}}),"GRID"===W?Object(T.jsx)(k.b,{columns:me,fetchData:function(e){var n=e.pageSize,r=e.pageIndex,i=e.filters,o=e.sorts,c=e.daterange;be({pageSize:n,pageIndex:r,filters:i,sorts:o,daterange:c}),t(Object(h.k)(Object(f.Jd)({startdate:c.startDate,enddate:c.endDate,take:n,skip:r*n,sorts:o,filters:Object(a.a)({},i)})))},data:U.data,totalrow:ee,download:!0,pageCount:Q,autotrigger:!0,filterrange:!0,filterGeneral:!1,exportPersonalized:function(e){var n=e.filters,a=e.sorts,r=e.daterange,i=me.map((function(e){return{key:e.accessor,alias:e.Header}}));t(Object(h.d)(Object(f.Pe)({startdate:r.startDate,enddate:r.endDate,sorts:a,filters:n}),"","excel",!1,i)),t(Object(O.d)(!0)),se(!0)},loading:U.loading,register:!1,ButtonsElement:function(){return Object(T.jsx)(p.a,{className:q.button,variant:"contained",color:"primary",disabled:U.loading||!(U.data.length>0),onClick:function(){return L(!0)},startIcon:Object(T.jsx)(C.a,{}),children:n(v.a.graphic_view)})}}):Object(T.jsx)(_.b,{graphicType:(null===(je=W.split("-"))||void 0===je?void 0:je[1])||"BAR",column:(null===(ge=W.split("-"))||void 0===ge?void 0:ge[2])||"summary",openModal:P,setOpenModal:L,daterange:pe.daterange,setView:V,row:{origin:"voicecall"},handlerSearchGraphic:function(e,n){be((function(t){return Object(a.a)(Object(a.a)({},t),{},{daterange:e})})),t(Object(h.o)(Object(f.fe)("UFN_REPORT_VOICECALL_GRAPHIC","voicecall",{filters:{},sorts:{},startdate:null===e||void 0===e?void 0:e.startDate,enddate:null===e||void 0===e?void 0:e.endDate,column:n,summarization:"COUNT"})))}}),Object(T.jsx)(H,{openModal:P,setOpenModal:L,setView:V,daterange:pe.daterange,columns:A.map((function(e){return{key:e,value:"report_voicecall_".concat(e)}})),columnsprefix:"report_voicecall_"})]}):"view-2"===j?Object(T.jsx)(R,{data:S,setViewSelected:x}):null}}).call(this,n(462).Buffer)},131:function(e,t,n){"use strict";n.r(t);var a=n(102);n.d(t,"default",(function(){return a.a}))},143:function(e,t,n){"use strict";n.r(t);var a=n(241);n.d(t,"default",(function(){return a.a}))},1487:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(1),i=n(20),o=n(3),c=n(0),l=n.n(c),s=n(979),d=n(1079),u=n(936),p=n(1080),b=n(156),f=n(102),m=n(51),j=n(784),g=n(779),v=n(860),h=n(169),O=n(122),x=n(8),y=n(48),w=n(25),_=n(7),S=n(83),C=n(44),k=n(40),D=n(16),I=n(328),N=n(1225),E=n.n(N),T=n(94),F=n(170),A=n(323),R=n.n(A),H=n(1222),B=n.n(H),M=n(1223),P=n.n(M),L=n(1224),z=n.n(L),G=n(2),W=function(e){var t=e.title,n=e.value,a=e.value2;return Object(G.jsx)(B.a,{children:Object(G.jsxs)(P.a,{style:{paddingBottom:10},children:[Object(G.jsx)(z.a,{variant:"body2",children:t}),Object(G.jsx)(z.a,{variant:"h5",component:"div",align:"center",children:n}),Object(G.jsx)(z.a,{variant:"subtitle2",style:{display:"flex",width:"100%",paddingTop:5,justifyContent:"space-between"},children:a})]})})},V=n(9),q=n(1227),U=n.n(q),Y=n(1226),K=n.n(Y),J=n(205),Q=n(878),X=n.n(Q),$=n(874),Z=n.n($),ee=n(43),te=Object(ee.a)(c.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings"),ne=n(325),ae=n.n(ne),re=Object(h.a)((function(e){return{containerFilter:{width:"100%",padding:"10px",marginBottom:"10px",display:"flex",gap:8,flexWrap:"wrap",backgroundColor:"white"},filterComponent:{minWidth:"220px",maxWidth:"260px"},containerHeader:Object(o.a)({display:"flex",flexWrap:"wrap",gap:16},e.breakpoints.up("sm"),{display:"flex"}),containerDetails:{paddingBottom:e.spacing(2)},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},BackGrRed:{backgroundColor:"#fb5f5f"},BackGrGreen:{backgroundColor:"#55bd84"},iconHelpText:{width:15,height:15,cursor:"pointer"},containerHeaderItem:Object(o.a)({backgroundColor:"#FFF",padding:8,display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"})}})),ie=["usr","fullname","hourfirstlogin","totaltickets","closedtickets","asignedtickets","suspendedtickets","avgfirstreplytime","maxfirstreplytime","minfirstreplytime","maxtotalduration","mintotalduration","avgtotalasesorduration","maxtotalasesorduration","mintotalasesorduration","userconnectedduration","userstatus","groups"],oe=function(e){var t,n,a=e.openModal,i=e.setOpenModal,o=e.setView,l=(e.row,e.daterange,e.filters),s=e.columns,d=e.setColumnGraphic,u=Object(O.a)().t,p=Object(k.c)(),b=Object(J.d)({defaultValues:{graphictype:"BAR",column:""}}),f=b.register,m=b.handleSubmit,j=b.setValue,g=b.getValues,v=b.formState.errors;Object(c.useEffect)((function(){f("graphictype",{validate:function(e){return e&&e.length||u(x.a.field_required)}}),f("column",{validate:function(e){return e&&e.length||u(x.a.field_required)}})}),[f]);var h=m((function(e){w(e)})),w=function(e){var t;o("CHART-".concat(e.graphictype,"-").concat(null===(t=e.column)||void 0===t?void 0:t.split("::")[0])),i(!1),d(e.column),p(Object(S.o)(Object(I.Vd)(Object(r.a)(Object(r.a)({},l),{},{column:e.column,summarization:"COUNT"}))))};return Object(G.jsxs)(y.g,{open:a,title:u(x.a.graphic_configuration),button1Type:"button",buttonText1:u(x.a.cancel),handleClickButton1:function(){i(!1)},button2Type:"button",buttonText2:u(x.a.accept),handleClickButton2:h,children:[Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:u(x.a.graphic_type),className:"col-12",valueDefault:g("graphictype"),error:null===v||void 0===v||null===(t=v.graphictype)||void 0===t?void 0:t.message,onChange:function(e){return j("graphictype",null===e||void 0===e?void 0:e.key)},data:[{key:"BAR",value:"BAR"},{key:"PIE",value:"PIE"}],uset:!0,prefixTranslation:"graphic_",optionDesc:"value",optionValue:"key"})}),Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:u(x.a.graphic_view_by),className:"col-12",valueDefault:g("column"),error:null===v||void 0===v||null===(n=v.column)||void 0===n?void 0:n.message,onChange:function(e){return j("column",null===e||void 0===e?void 0:e.key)},data:s,optionDesc:"value",optionValue:"key",uset:!0,prefixTranslation:""})})]})},ce=function(e){var t,n,d,p,j,h,C,N,A,H,B,M,P,L,z,q,Y,J,Q,$,ee,ne,ce,le,se,de,ue,pe,be,fe,me,je,ge,ve,he,Oe,xe,ye,we,_e,Se,Ce,ke,De,Ie,Ne,Ee,Te,Fe,Ae=e.row,Re=e.multiData,He=e.allFilters,Be=Object(O.a)().t,Me=re(),Pe=Object(k.c)(),Le=Object(w.b)((function(e){return e.login.validateToken.user})),ze=(null===Le||void 0===Le||null===(t=Le.groups)||void 0===t?void 0:t.split(",").filter((function(e){return!!e})))||[],Ge=Object(w.b)((function(e){return e.main.mainAux})),We=Object(c.useState)([]),Ve=Object(i.a)(We,2),qe=Ve[0],Ue=Ve[1],Ye=Object(c.useState)({}),Ke=Object(i.a)(Ye,2),Je=Ke[0],Qe=Ke[1],Xe=Object(c.useState)({startDate:new Date((new Date).setDate(1)),endDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),key:"selection"}),$e=Object(i.a)(Xe,2),Ze=$e[0],et=$e[1],tt=Object(c.useState)(!1),nt=Object(i.a)(tt,2),at=nt[0],rt=nt[1],it=Object(c.useState)({checkedA:!1,checkedB:!1}),ot=Object(i.a)(it,2),ct=ot[0],lt=ot[1],st=Object(c.useState)(!1),dt=Object(i.a)(st,2),ut=dt[0],pt=dt[1],bt=Object(c.useState)(!1),ft=Object(i.a)(bt,2),mt=ft[0],jt=ft[1],gt=Object(c.useState)(""),vt=Object(i.a)(gt,2),ht=vt[0],Ot=vt[1],xt=Object(c.useState)({maxticketsclosed:0,maxticketsclosedasesor:"",minticketsclosed:0,minticketsclosedasesor:"",maxtimeconnected:"0",maxtimeconnectedasesor:"",mintimeconnected:"0",mintimeconnectedasesor:""}),yt=Object(i.a)(xt,2),wt=yt[0],_t=yt[1],St=Object(c.useState)([]),Ct=Object(i.a)(St,2),kt=Ct[0],Dt=Ct[1],It=Object(c.useState)(!1),Nt=Object(i.a)(It,2),Et=Nt[0],Tt=Nt[1],Ft=Object(c.useState)("GRID"),At=Object(i.a)(Ft,2),Rt=At[0],Ht=At[1],Bt=Object(c.useState)([]),Mt=Object(i.a)(Bt,2),Pt=Mt[0],Lt=Mt[1],zt=Object(c.useState)({loading:!1,data:[]}),Gt=Object(i.a)(zt,2),Wt=Gt[0],Vt=Gt[1];Object(c.useEffect)((function(){return Pe(Object(S.H)("report_userproductivity")),function(){Pe(Object(S.b)())}}),[]);var qt=l.a.useMemo((function(){return[{Header:Be(x.a.report_userproductivity_user),accessor:"usr"},{Header:Be(x.a.report_userproductivity_fullname),accessor:"fullname"}].concat(Object(a.a)(mt?[{Header:Be(x.a.report_userproductivity_hourfirstlogin),accessor:"hourfirstlogin"}]:[]),[{Header:Be(x.a.report_userproductivity_totaltickets),accessor:"totaltickets",type:"number",sortType:"number"},{Header:Be(x.a.report_userproductivity_closedtickets),accessor:"closedtickets",type:"number",sortType:"number"},{Header:Be(x.a.report_userproductivity_asignedtickets),accessor:"asignedtickets",type:"number",sortType:"number"},{Header:Be(x.a.report_userproductivity_suspendedtickets),accessor:"suspendedtickets",type:"number",sortType:"number"},{Header:Be(x.a.report_userproductivity_avgfirstreplytime),accessor:"avgfirstreplytime"},{Header:Be(x.a.report_userproductivity_maxfirstreplytime),accessor:"maxfirstreplytime"},{Header:Be(x.a.report_userproductivity_minfirstreplytime),accessor:"minfirstreplytime"},{Header:Be(x.a.report_userproductivity_maxtotalduration),accessor:"maxtotalduration"},{Header:Be(x.a.report_userproductivity_mintotalduration),accessor:"mintotalduration"},{Header:Be(x.a.report_userproductivity_avgtotalasesorduration),accessor:"avgtotalasesorduration"},{Header:Be(x.a.report_userproductivity_maxtotalasesorduration),accessor:"maxtotalasesorduration"},{Header:Be(x.a.report_userproductivity_mintotalasesorduration),accessor:"mintotalasesorduration"},{Header:Be(x.a.report_userproductivity_userconnectedduration),accessor:"userconnectedduration",type:"number",sortType:"number"},{Header:Be(x.a.report_userproductivity_userstatus),accessor:"userstatus"},{Header:Be(x.a.report_userproductivity_groups),accessor:"groups"}],Object(a.a)(Ge.data.length>0?Object(a.a)(kt.map((function(e){return{Header:e,accessor:e}}))):[]))}),[mt,Ge,kt]);Object(c.useEffect)((function(){if(He){var e=He.find((function(e){return"group"===e.values[0].label}));if(e){var t=Re[Re.findIndex((function(t){return t.key===((null===e||void 0===e?void 0:e.values[0].isListDomains)?(null===e||void 0===e?void 0:e.values[0].filter)+"_"+(null===e||void 0===e?void 0:e.values[0].domainname):null===e||void 0===e?void 0:e.values[0].filter)}))];Ue(ze.length>0?t.data.filter((function(e){return ze.includes(e.domainvalue)})):t.data)}}}),[Re,He]),Object(c.useEffect)((function(){if(!Ge.error&&!Ge.loading&&"UFN_REPORT_USERPRODUCTIVITY_SEL"===Ge.key){Vt(Ge),Lt(Ge.data.map((function(e){return Object(r.a)(Object(r.a)({},e),JSON.parse(e.desconectedtimejson))})));var e={maxticketsclosed:0,maxticketsclosedasesor:"",minticketsclosed:0,minticketsclosedasesor:"",maxtimeconnected:"0",maxtimeconnectedasesor:"",mintimeconnected:"0",mintimeconnectedasesor:""};if(Ge.data.length>0){var t=Array.from(new Set(Ge.data.reduce((function(e,t){return t.desconectedtimejson?[].concat(Object(a.a)(e),Object(a.a)(Object.keys(JSON.parse(t.desconectedtimejson)))):e}),[])));Dt([].concat(t)),Ge.data.filter((function(e){return"HOLDING"!==e.usertype})).forEach((function(t,n){0===n?e={maxticketsclosed:t.closedtickets,maxticketsclosedasesor:t.fullname,minticketsclosed:t.closedtickets,minticketsclosedasesor:t.fullname,maxtimeconnected:t.userconnectedduration,maxtimeconnectedasesor:t.fullname,mintimeconnected:t.userconnectedduration,mintimeconnectedasesor:t.fullname}:(e.maxticketsclosed<t.closedtickets&&(e.maxticketsclosed=t.closedtickets,e.maxticketsclosedasesor=t.fullname),e.minticketsclosed>t.closedtickets&&(e.minticketsclosed=t.closedtickets,e.minticketsclosedasesor=t.fullname),parseInt(e.maxtimeconnected)<parseInt(t.userconnectedduration)&&(e.maxtimeconnected=t.userconnectedduration,e.maxtimeconnectedasesor=t.fullname),parseInt(e.mintimeconnected)>parseInt(t.userconnectedduration)&&(e.mintimeconnected=t.userconnectedduration,e.mintimeconnectedasesor=t.fullname))}))}_t(e)}}),[Ge]),Object(c.useEffect)((function(){Qe(Object(r.a)(Object(r.a)({},Je),{},{startdate:Ze.startDate?new Date(Ze.startDate.setHours(10)).toISOString().substring(0,10):null,enddate:Ze.endDate?new Date(Ze.endDate.setHours(10)).toISOString().substring(0,10):null}))}),[Ze]);var Ut=function(e,t){Qe(Object(r.a)(Object(r.a)({},Je),{},Object(o.a)({},e,t)))},Yt=function(e){return e.toISOString().split("T")[0]};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:Me.containerFilter,children:[Object(G.jsx)("div",{style:{display:"flex"},children:Object(G.jsx)(m.a,{width:1,children:Object(G.jsx)(m.a,{className:Me.containerHeader,justifyContent:"space-between",alignItems:"center",children:Object(G.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:Object(G.jsx)(y.f,{open:at,setOpen:rt,range:Ze,onSelect:et,children:Object(G.jsx)(T.a,{disabled:Wt.loading,style:{border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},startIcon:Object(G.jsx)(D.n,{}),onClick:function(){return rt(!at)},children:Yt(Ze.startDate)+" - "+Yt(Ze.endDate)})})})})})}),He.map((function(e){return e.values[0].multiselect?Object(G.jsx)(y.q,{limitTags:1,label:Be("report_"+(null===Ae||void 0===Ae?void 0:Ae.origin)+"_filter_"+e.values[0].label||!1),className:Me.filterComponent,onChange:function(t){return Ut(e.values[0].parameterName,t?t.map((function(t){return t[e.values[0].optionValue]})).join():"")},variant:"outlined",data:"group"===e.values[0].label?qe:Re[Re.findIndex((function(t){return t.key===(e.values[0].isListDomains?e.values[0].filter+"_"+e.values[0].domainname:e.values[0].filter)}))].data,optionDesc:e.values[0].optionDesc,optionValue:e.values[0].optionValue},e.values[0].isListDomains?e.values[0].filter+"_"+e.values[0].domainname:e.values[0].filter):Object(G.jsx)(y.u,{label:Be("report_"+(null===Ae||void 0===Ae?void 0:Ae.origin)+"_filter_"+e.values[0].label||!1),className:Me.filterComponent,onChange:function(t){return Ut(e.values[0].parameterName,t?t[e.values[0].optionValue]:"")},variant:"outlined",data:Re[Re.findIndex((function(t){return t.key===e.values[0].isListDomains?e.values[0].filter+"_"+e.values[0].domainname:e.values[0].filter}))].data,optionDesc:e.values[0].optionDesc,optionValue:e.values[0].optionValue},e.values[0].isListDomains?e.values[0].filter+"_"+e.values[0].domainname:e.values[0].filter)})),Object(G.jsx)("div",{style:{alignItems:"center"},children:Object(G.jsxs)("div",{children:[Object(G.jsx)(m.a,{fontWeight:500,lineHeight:"18px",fontSize:14,color:"textPrimary",children:Be(x.a.report_userproductivity_filter_includebot)}),Object(G.jsx)(E.a,{style:{paddingLeft:10},control:Object(G.jsx)(y.z,{checked:ut,onChange:function(e){lt(Object(r.a)(Object(r.a)({},ct),{},Object(o.a)({},e.target.name,e.target.checked))),Ut("bot",e.target.checked),pt(e.target.checked)}}),label:ut?Be(x.a.yes):"No"})]})}),Object(G.jsx)("div",{style:{display:"flex"},children:Object(G.jsx)(m.a,{width:1,children:Object(G.jsx)(m.a,{className:Me.containerHeader,justifyContent:"space-between",alignItems:"center",children:Object(G.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:Object(G.jsx)(T.a,{disabled:Wt.loading,variant:"contained",color:"primary",style:{backgroundColor:"#55BD84",width:120},onClick:function(){Vt({loading:!0,data:[]}),function(){var e=Ze.startDate?new Date(Ze.startDate.setHours(10)).toISOString().substring(0,10):null,t=Ze.endDate?new Date(Ze.endDate.setHours(10)).toISOString().substring(0,10):null;jt(e===t),Pe(Object(S.z)()),Pe(Object(S.h)(Object(I.Wd)(Object(r.a)({},Je)))),"GRID"!==Rt&&Pe(Object(S.o)(Object(I.Vd)(Object(r.a)(Object(r.a)({},Je),{},{column:ht,summarization:"COUNT"}))))}()},children:Be(x.a.refresh)})})})})})]}),Object(G.jsxs)(b.a,{container:!0,spacing:3,children:[Object(G.jsx)(b.a,{item:!0,xs:12,md:6,lg:6,children:Object(G.jsx)("div",{children:Object(G.jsxs)(b.a,{container:!0,spacing:1,children:[Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:12,children:Object(G.jsx)(s.a,{className:Object(V.default)((h={},Object(o.a)(h,Me.BackGrGreen,(null===(n=Wt.data[0])||void 0===n?void 0:n.cardavgavgtme)<=(null===(d=Wt.data[0])||void 0===d?void 0:d.tmeesperadogeneral)),Object(o.a)(h,Me.BackGrRed,(null===(p=Wt.data[0])||void 0===p?void 0:p.cardavgavgtme)>(null===(j=Wt.data[0])||void 0===j?void 0:j.tmeesperadogeneral)),h)),style:{color:"white"},children:Object(G.jsxs)(u.a,{style:{paddingBottom:10},children:[Object(G.jsxs)(f.a,{variant:"h5",children:[Be(x.a.report_userproductivity_cardtme),Object(G.jsx)(F.a,{title:"".concat(Be(x.a.tmetooltip)),placement:"top-start",children:Object(G.jsx)(ae.a,{style:{padding:"5px 0 0 5px"}})})]}),Object(G.jsx)(f.a,{variant:"h5",component:"div",align:"center",children:null===(C=Wt.data[0])||void 0===C?void 0:C.cardavgavgtme}),Object(G.jsxs)(f.a,{variant:"subtitle2",style:{display:"flex",width:"100%",paddingTop:5,justifyContent:"space-between"},children:["".concat(Be(x.a.tmeexpected)," ").concat((null===(N=Wt.data[0])||void 0===N?void 0:N.tmeesperadogeneral)||""),(null===(A=Wt.data[0])||void 0===A?void 0:A.cardavgavgtme)<=(null===(H=Wt.data[0])||void 0===H?void 0:H.tmeesperadogeneral)?Object(G.jsx)(K.a,{}):Object(G.jsx)(U.a,{})]})]})})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:6,children:Object(G.jsx)(W,{title:Be(x.a.report_userproductivity_cardavgmax_tme),value:null===(B=Wt.data[0])||void 0===B?void 0:B.cardavgmaxtme,value2:(null===(M=Wt.data[0])||void 0===M?void 0:M.cardavgmaxtmeuser)||"-"})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:6,children:Object(G.jsx)(W,{title:Be(x.a.report_userproductivity_cardmaxmax_tme),value:null===(P=Wt.data[0])||void 0===P?void 0:P.cardmaxmaxtme,value2:(null===(L=Wt.data[0])||void 0===L?void 0:L.cardmaxmaxtmeuser)?"#".concat(null===(z=Wt.data[0])||void 0===z?void 0:z.cardmaxmaxtmeticket," (").concat(null===(q=Wt.data[0])||void 0===q?void 0:q.cardmaxmaxtmeuser,")"):"-"})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:6,children:Object(G.jsx)(W,{title:Be(x.a.report_userproductivity_cardavgmin_tme),value:null===(Y=Wt.data[0])||void 0===Y?void 0:Y.cardavgmintme,value2:(null===(J=Wt.data[0])||void 0===J?void 0:J.cardavgmintmeuser)||"-"})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:6,children:Object(G.jsx)(W,{title:Be(x.a.report_userproductivity_cardminmin_tme),value:null===(Q=Wt.data[0])||void 0===Q?void 0:Q.cardminmintme,value2:(null===($=Wt.data[0])||void 0===$?void 0:$.cardminmintmeuser)?"#".concat(null===(ee=Wt.data[0])||void 0===ee?void 0:ee.cardminmintmeticket," (").concat(null===(ne=Wt.data[0])||void 0===ne?void 0:ne.cardminmintmeuser,")"):"-"})})]})})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:6,lg:6,children:Object(G.jsx)("div",{children:Object(G.jsxs)(b.a,{container:!0,spacing:1,children:[Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:12,children:Object(G.jsx)(s.a,{className:Object(V.default)((ue={},Object(o.a)(ue,Me.BackGrGreen,(null===(ce=Wt.data[0])||void 0===ce?void 0:ce.cardavgavgtmo)<=(null===(le=Wt.data[0])||void 0===le?void 0:le.tmoesperadogeneral)),Object(o.a)(ue,Me.BackGrRed,(null===(se=Wt.data[0])||void 0===se?void 0:se.cardavgavgtmo)>(null===(de=Wt.data[0])||void 0===de?void 0:de.tmoesperadogeneral)),ue)),style:{color:"white"},children:Object(G.jsxs)(u.a,{style:{paddingBottom:10},children:[Object(G.jsxs)(f.a,{variant:"h5",children:[Be(x.a.report_userproductivity_cardtmo),Object(G.jsx)(F.a,{title:"".concat(Be(x.a.tmotooltip)),placement:"top-start",children:Object(G.jsx)(ae.a,{style:{padding:"5px 0 0 5px"}})})]}),Object(G.jsx)(f.a,{variant:"h5",component:"div",align:"center",children:null===(pe=Wt.data[0])||void 0===pe?void 0:pe.cardavgavgtmo}),Object(G.jsxs)(f.a,{variant:"subtitle2",style:{display:"flex",width:"100%",paddingTop:5,justifyContent:"space-between"},children:["".concat(Be(x.a.tmoexpected)," ").concat((null===(be=Wt.data[0])||void 0===be?void 0:be.tmoesperadogeneral)||""),(null===(fe=Wt.data[0])||void 0===fe?void 0:fe.cardavgavgtmo)<=(null===(me=Wt.data[0])||void 0===me?void 0:me.tmoesperadogeneral)?Object(G.jsx)(K.a,{}):Object(G.jsx)(U.a,{})]})]})})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:6,children:Object(G.jsx)(W,{title:Be(x.a.report_userproductivity_cardavgmax_tmo),value:null===(je=Wt.data[0])||void 0===je?void 0:je.cardavgmaxtmo,value2:(null===(ge=Wt.data[0])||void 0===ge?void 0:ge.cardavgmaxtmouser)||"-"})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:6,children:Object(G.jsx)(W,{title:Be(x.a.report_userproductivity_cardmaxmax_tmo),value:null===(ve=Wt.data[0])||void 0===ve?void 0:ve.cardmaxmaxtmo,value2:(null===(he=Wt.data[0])||void 0===he?void 0:he.cardmaxmaxtmouser)?"#".concat(null===(Oe=Wt.data[0])||void 0===Oe?void 0:Oe.cardmaxmaxtmoticket," (").concat(null===(xe=Wt.data[0])||void 0===xe?void 0:xe.cardmaxmaxtmouser,")"):"-"})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:6,children:Object(G.jsx)(W,{title:Be(x.a.report_userproductivity_cardavgmin_tmo),value:null===(ye=Wt.data[0])||void 0===ye?void 0:ye.cardavgmintmo,value2:(null===(we=Wt.data[0])||void 0===we?void 0:we.cardavgmintmouser)||"-"})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:12,lg:6,children:Object(G.jsx)(W,{title:Be(x.a.report_userproductivity_cardminmin_tmo),value:null===(_e=Wt.data[0])||void 0===_e?void 0:_e.cardminmintmo,value2:(null===(Se=Wt.data[0])||void 0===Se?void 0:Se.cardminmintmouser)?"#".concat(null===(Ce=Wt.data[0])||void 0===Ce?void 0:Ce.cardminmintmoticket," (").concat(null===(ke=Wt.data[0])||void 0===ke?void 0:ke.cardminmintmouser,")"):"-"})})]})})})]}),Object(G.jsxs)(b.a,{container:!0,spacing:3,className:Me.containerDetails,children:[Object(G.jsx)(b.a,{item:!0,xs:12,md:6,lg:6,children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(u.a,{style:{paddingBottom:10,display:"flex"},children:[Object(G.jsxs)("div",{style:{flex:1},children:[Object(G.jsx)(f.a,{variant:"body2",children:Be(x.a.report_userproductivity_totalclosedtickets)}),Object(G.jsx)(f.a,{variant:"h5",component:"div",align:"center",children:null===(De=Wt.data[0])||void 0===De?void 0:De.totalclosedtickets})]}),Object(G.jsxs)("div",{style:{flex:1},children:[Object(G.jsxs)(f.a,{variant:"subtitle1",children:[wt.maxticketsclosedasesor," (",wt.maxticketsclosed,")",Object(G.jsx)(F.a,{title:Object(G.jsx)("div",{style:{fontSize:12},children:Be(x.a.report_userproductivity_maxticketsclosedasesorhelptext)}),arrow:!0,placement:"top",children:Object(G.jsx)(R.a,{color:"action",className:Me.iconHelpText})})]}),Object(G.jsxs)(f.a,{variant:"subtitle1",children:[wt.minticketsclosedasesor," (",wt.minticketsclosed,")",Object(G.jsx)(F.a,{title:Object(G.jsx)("div",{style:{fontSize:12},children:Be(x.a.report_userproductivity_minticketsclosedasesorhelptext)}),arrow:!0,placement:"top",children:Object(G.jsx)(R.a,{color:"action",className:Me.iconHelpText})})]})]})]})})}),Object(G.jsx)(b.a,{item:!0,xs:12,md:6,lg:6,children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(u.a,{style:{paddingBottom:10,display:"flex"},children:[Object(G.jsxs)("div",{style:{flex:1},children:[Object(G.jsxs)(f.a,{variant:"body2",children:["N\xb0 ",Be(x.a.report_userproductivity_usersconnected)]}),Object(G.jsx)(f.a,{variant:"h5",component:"div",align:"center",children:null===(Ie=Wt.data[0])||void 0===Ie?void 0:Ie.usersconnected})]}),Object(G.jsxs)("div",{style:{flex:1},children:[Object(G.jsxs)(f.a,{variant:"subtitle1",children:[wt.maxtimeconnectedasesor," (",wt.maxtimeconnected," m)",Object(G.jsx)(F.a,{title:Object(G.jsx)("div",{style:{fontSize:12},children:Be(x.a.report_userproductivity_maxtimeconnectedasesorhelptext)}),arrow:!0,placement:"top",children:Object(G.jsx)(R.a,{color:"action",className:Me.iconHelpText})})]}),Object(G.jsxs)(f.a,{variant:"subtitle1",children:[wt.mintimeconnectedasesor," (",wt.mintimeconnected," m)",Object(G.jsx)(F.a,{title:Object(G.jsx)("div",{style:{fontSize:12},children:Be(x.a.report_userproductivity_mintimeconnectedasesorhelptext)}),arrow:!0,placement:"top",children:Object(G.jsx)(R.a,{color:"action",className:Me.iconHelpText})})]})]})]})})})]}),"GRID"===Rt?Object(G.jsx)(g.f,{columns:qt,filterGeneral:!1,data:Pt,download:!1,loading:Wt.loading,register:!1,ButtonsElement:function(){return Object(G.jsxs)(m.a,{width:1,style:{display:"flex",justifyContent:"flex-end",gap:8},children:[Object(G.jsx)(T.a,{className:Me.button,variant:"contained",color:"primary",disabled:Wt.loading||!(Wt.data.length>0),onClick:function(){return Tt(!0)},startIcon:Object(G.jsx)(X.a,{}),children:Be(x.a.graphic_view)}),Object(G.jsx)(T.a,{className:Me.button,variant:"contained",color:"primary",disabled:Wt.loading,onClick:function(){return Object(_.bb)("report"+(new Date).toISOString(),Pt,qt.filter((function(e){return!e.isComponent&&!e.activeOnHover})))},startIcon:Object(G.jsx)(D.E,{}),children:Be(x.a.download)})]})}}):Object(G.jsxs)("div",{children:[Object(G.jsxs)(m.a,{style:{display:"flex",justifyContent:"flex-end",gap:8},className:Me.containerHeaderItem,children:[Object(G.jsx)(T.a,{className:Me.button,variant:"contained",color:"primary",disabled:Wt.loading||!(Wt.data.length>0),onClick:function(){return Tt(!0)},startIcon:Object(G.jsx)(te,{}),children:Be(x.a.configuration)}),Object(G.jsx)(T.a,{className:Me.button,variant:"contained",color:"primary",onClick:function(){return Ht("GRID")},startIcon:Object(G.jsx)(Z.a,{}),children:Be(x.a.grid_view)})]}),Object(G.jsx)(v.b,{graphicType:(null===(Ne=Rt.split("-"))||void 0===Ne?void 0:Ne[1])||"BAR",column:(null===(Ee=Rt.split("-"))||void 0===Ee?void 0:Ee[2])||"summary",openModal:Et,setOpenModal:Tt,daterange:{startDate:null===(Te=Ze.startDate)||void 0===Te?void 0:Te.toISOString().substring(0,10),endDate:null===(Fe=Ze.endDate)||void 0===Fe?void 0:Fe.toISOString().substring(0,10)},withFilters:!1,setView:Ht,withButtons:!1,row:{origin:"userproductivity"},handlerSearchGraphic:function(e,t){Pe(Object(S.o)(Object(I.Vd)(Object(r.a)(Object(r.a)({},Je),{},{startdate:null===e||void 0===e?void 0:e.startDate,enddate:null===e||void 0===e?void 0:e.endDate,column:t,summarization:"COUNT"}))))}})]}),Object(G.jsx)(oe,{openModal:Et,setOpenModal:Tt,setColumnGraphic:Ot,setView:Ht,daterange:Ze,filters:Je,columns:[].concat(Object(a.a)(ie.map((function(e){return{key:e,value:"report_userproductivity_".concat(e)}}))),Object(a.a)(kt.map((function(e){return{key:"desconectedtimejson::json->>'".concat(e,"'"),value:e}}))))})]})},le=n(24),se=n.n(le),de=n(39),ue=n(780),pe=n.n(ue),be=(n(718),n(778)),fe=n.n(be),me=n(257),je=n(1047),ge=n(1048),ve=n(1146),he=n(1044),Oe=n(1045),xe=n(1049),ye=n(786),we=n.n(ye),_e=n(265),Se=n.n(_e),Ce=n(450),ke=n(172),De=(n(898),n(326)),Ie=n.n(De),Ne=n(167),Ee=n(197),Te=(n(816),n(378)),Fe=n(269),Ae=n(879),Re=n(1228),He=n(1229),Be=n.n(He),Me=n(1033),Pe=[{function:"total",type:["double precision","bigint","integer","numeric","interval"]},{function:"count",type:["double precision","boolean","timestamp without time zone","character varying","text","bigint","integer","numeric","date","interval","variable"]},{function:"count_unique",type:["double precision","boolean","timestamp without time zone","character varying","text","bigint","integer","numeric","date","interval","variable"]},{function:"average",type:["double precision","bigint","integer","numeric","interval"]},{function:"minimum",type:["double precision","bigint","integer","numeric","interval","timestamp without time zone","date"]},{function:"maximum",type:["double precision","bigint","integer","numeric","interval","timestamp without time zone","date"]},{function:"median",type:["double precision","bigint","integer","numeric","interval"]},{function:"mode",type:["double precision","bigint","integer","numeric","interval","boolean","character varying","text","variable"]}],Le=Object(h.a)((function(e){return{containerDetail:{padding:e.spacing(2),background:"#fff"},title:{fontSize:"22px",color:e.palette.text.primary},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},variableInfo:{flex:"0 0 150px",padding:"2px 4px",overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer","&:hover":{backgroundColor:"#e1e1e1"}},itemSelected:{fontSize:14,fontWeight:400,lineHeight:1.5,paddingTop:10.5,paddingBottom:10.5},nodata:{color:"#898989",width:"100%",display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},colorVariable:{color:"#7721AD"}}})),ze=function(e){var t=e.setOpenDialogVariables,n=e.openDialogVariables,s=e.setColumnsSelected,d=e.columnsAlreadySelected,u=Le(),p=Object(O.a)().t,b=Object(w.b)((function(e){return e.main.mainAux})),f=Object(c.useState)([]),m=Object(i.a)(f,2),j=m[0],g=m[1],v=Object(c.useState)([]),h=Object(i.a)(v,2),_=h[0],S=h[1],C=Object(c.useState)({}),k=Object(i.a)(C,2),I=k[0],N=k[1],E=Object(c.useState)([]),F=Object(i.a)(E,2),A=F[0],R=F[1],H=l.a.useRef(null);Object(c.useEffect)((function(){if(!b.error&&!b.loading&&"UFN_REPORT_PERSONALIZED_COLUMNS_SEL"===b.key&&n){var e=b.data.filter((function(e){return-1===d.findIndex((function(t){return t.columnname===e.columnname}))})),t=e.filter((function(e){return"variable"===e.type})),i=e.filter((function(e){return"variable"!==e.type})),o=[].concat(Object(a.a)(i),Object(a.a)(t)).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{descriptionT:"variable"===e.type?e.description:p("personalizedreport_".concat(e.description)),checked:!1})}));g(o),S(o),N({}),R([])}}),[b,n]),Object(c.useEffect)((function(){var e=A.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},t.columnname,t))}),{});S((function(t){return t.map((function(t){return e[t.columnname]?Object(r.a)(Object(r.a)({},t),{},{disabled:!0,checked:!0}):Object(r.a)(Object(r.a)({},t),{},{disabled:!1,checked:!1})}))})),g((function(t){return t.map((function(t){return e[t.columnname]?Object(r.a)(Object(r.a)({},t),{},{disabled:!0,checked:!0}):Object(r.a)(Object(r.a)({},t),{},{disabled:!1,checked:!1})}))})),N({})}),[A]);var B=l.a.useCallback((function(e,t){N(t?function(t){return Object(r.a)(Object(r.a)({},t),{},Object(o.a)({},e.columnname,e))}:function(t){var n=Object(r.a)({},t);return delete n[e.columnname],n})}),[N]),M=l.a.useCallback((function(e){var t=e.index,n=e.style,a=_[t];return Object(G.jsx)("div",{style:n,children:Object(G.jsx)("div",{style:{width:"100%"},children:Object(G.jsx)(Ce.a,{control:Object(G.jsx)(ke.a,{size:"small",checked:!!I[a.columnname]||!!a.disabled,disabled:!!a.disabled,color:"primary",onChange:function(e){return B(a,e.target.checked)},name:"checkedA"}),label:Object(G.jsx)("div",{className:Object(V.default)(Object(o.a)({},u.colorVariable,"variable"===a.type)),children:a.descriptionT})})},a.columnname)},a.columnname)}),[_,I]);return n?Object(G.jsx)(y.g,{maxWidth:"md",open:n,title:"",button2Type:"submit",buttonText1:p(x.a.cancel),handleClickButton2:function(e){e.preventDefault()},handleClickButton1:function(e){return t(!1)},children:Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsxs)("div",{style:{flex:1,padding:16,paddingTop:16,paddingBottom:8},children:[Object(G.jsx)("div",{style:{fontSize:20,fontWeight:500,marginBottom:8},children:p(x.a.available_columns)}),Object(G.jsxs)("div",{children:[Object(G.jsx)(y.l,{variant:"standard",fregister:{placeholder:p(x.a.search)},InputProps:{startAdornment:Object(G.jsx)(Te.a,{position:"start",children:Object(G.jsx)(D.Ub,{})})},onChange:function(e){H.current&&clearTimeout(H.current),H.current=setTimeout((function(){!function(e){S(""===e?j:j.filter((function(t){return t.descriptionT.toLowerCase().includes(e.toLowerCase())})))}(e),H.current&&(clearTimeout(H.current),H.current=null)}),1e3)}}),Object(G.jsx)("div",{style:{display:"flex",flexDirection:"column",height:320,overflowY:"auto",marginTop:4},children:Object(G.jsx)(Ae.a,{children:function(e){var t=e.height,n=e.width;return Object(G.jsx)(Fe.a,{width:n,height:t,itemCount:_.length,itemSize:42,children:M})}})}),Object(G.jsx)("div",{style:{textAlign:"right"},children:Object(G.jsx)(T.a,{className:u.button,variant:"contained",color:"primary",disabled:0===Object.keys(I).length,startIcon:Object(G.jsx)(we.a,{color:"secondary"}),onClick:function(){return R((function(e){return[].concat(Object(a.a)(e),Object(a.a)(Object.values(I)))}))},children:p(x.a.add)})})]})]}),Object(G.jsx)("div",{style:{flex:1,backgroundColor:"#f5f5f5",paddingTop:48},children:Object(G.jsxs)("div",{style:{paddingLeft:24,paddingRight:24},children:[Object(G.jsxs)("div",{style:{height:35,borderBottom:"1px solid rgba(0, 0, 0, 0.42)",color:"rgb(167 166 170)",display:"flex",alignItems:"center"},children:[p(x.a.selected_plural)," (",A.length,")"]}),Object(G.jsx)("div",{style:{display:"flex",flexDirection:"column",overflowY:"auto",marginTop:4,height:320,marginBottom:4},children:0===A.length?Object(G.jsx)("div",{className:u.nodata,children:p(x.a.select_a_field_then_add_it)}):A.map((function(e){return Object(G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(G.jsx)("div",{className:u.itemSelected,children:e.descriptionT}),Object(G.jsx)(me.a,{size:"small",onClick:function(){R((function(t){return t.filter((function(t){return t.columnname!==e.columnname}))}))},children:Object(G.jsx)(Se.a,{})})]},e.columnname)}))}),Object(G.jsx)("div",{style:{textAlign:"right"},children:Object(G.jsx)(T.a,{className:u.button,variant:"contained",color:"primary",disabled:0===A.length,startIcon:Object(G.jsx)(Re.a,{color:"secondary"}),onClick:function(){s(A),t(!1)},children:p(x.a.accept)})})]})})]})}):null},Ge=function(e){var t,n,a,o,s,d,u,p,b,f=e.data,m=f.row,j=f.edit,g=e.setViewSelected,v=e.fetchData,h=Le(),D=Object(c.useState)(!1),I=Object(i.a)(D,2),N=I[0],E=I[1],A=Object(c.useState)(!1),R=Object(i.a)(A,2),H=R[0],B=R[1],M=Object(c.useState)([]),P=Object(i.a)(M,2),L=P[0],z=P[1],W=Object(c.useState)([]),V=Object(i.a)(W,2),q=V[0],U=V[1],Y=Object(w.b)((function(e){return e.main.mainAux})),K=Object(w.b)((function(e){return e.main.multiDataAux})),Q=Object(w.b)((function(e){return e.main.execute})),X=Object(k.c)(),$=Object(O.a)().t,Z=(null===(t=K.data)||void 0===t?void 0:t[0])&&(null===(n=K.data)||void 0===n?void 0:n[0].success)?null===(a=K.data)||void 0===a?void 0:a[0].data:[],ee=(null===(o=K.data)||void 0===o?void 0:o[1])&&(null===(s=K.data)||void 0===s?void 0:s[1].success)?null===(d=K.data)||void 0===d?void 0:d[1].data:[];Object(c.useEffect)((function(){return X(Object(S.H)("create_custom_report")),function(){X(Object(S.b)())}}),[]),Object(c.useEffect)((function(){Y.error||Y.loading||"UFN_REPORT_PERSONALIZED_COLUMNS_SEL"!==Y.key||U(Y.data.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{descriptionT:"variable"===e.type?e.description:$("personalizedreport_".concat(e.description))})})))}),[Y]);var te=Object(J.d)({defaultValues:{reporttemplateid:(null===m||void 0===m?void 0:m.reporttemplateid)||0,description:(null===m||void 0===m?void 0:m.description)||"",status:(null===m||void 0===m?void 0:m.status)||"ACTIVO",dataorigin:(null===m||void 0===m?void 0:m.dataorigin)||"",columns:(null===m||void 0===m?void 0:m.columns)||[],filters:(null===m||void 0===m?void 0:m.filters)||[],summary:(null===m||void 0===m?void 0:m.summary)||[],operation:(null===m||void 0===m?void 0:m.reporttemplateid)?"EDIT":"INSERT"}}),ne=te.control,ae=te.register,re=te.trigger,ie=te.handleSubmit,oe=te.setValue,ce=te.getValues,le=te.formState.errors,ue=Object(J.c)({control:ne,name:"columns"}),be=ue.fields,ye=ue.append,_e=ue.remove,Ce=ue.move,ke=Object(J.c)({control:ne,name:"filters"}),De=ke.fields,Ie=ke.append,Ne=ke.remove,Ee=Object(J.c)({control:ne,name:"summary"}),Te=Ee.fields,Fe=Ee.append,Ae=Ee.remove;Object(c.useEffect)((function(){oe("columns",(null===m||void 0===m?void 0:m.columns)||[]),re("columns"),oe("filters",(null===m||void 0===m?void 0:m.filters)||[]),re("filters"),oe("summary",(null===m||void 0===m?void 0:m.summaries)||[]),re("summary")}),[]),Object(c.useEffect)((function(){L.length>0&&ye(L.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{alias:e.descriptionT})})))}),[L]),l.a.useEffect((function(){ae("description",{validate:function(e){return e&&e.length>0||""+$(x.a.field_required)}}),ae("dataorigin",{validate:function(e){return e&&e.length>0||""+$(x.a.field_required)}}),ae("status",{validate:function(e){return e&&e.length>0||""+$(x.a.field_required)}})}),[j,ae]),Object(c.useEffect)((function(){if(N)if(Q.loading||Q.error){if(Q.error){var e=$(Q.code||"error_unexpected_error",{module:$(x.a.report_name).toLocaleLowerCase()});X(Object(C.e)({show:!0,severity:"error",message:e})),E(!1),X(Object(C.d)(!1))}}else X(Object(C.e)({show:!0,severity:"success",message:$(m?x.a.successful_edit:x.a.successful_register)})),v&&v(),X(Object(C.d)(!1)),g("view-1")}),[Q,N]);var Re,He,Ge=ie((function(e){var t=e.reporttemplateid,n=e.description,a=e.status,r=e.columns,i=e.filters,o=e.summary,c=e.dataorigin;if(0!==r.length){X(Object(C.a)({visible:!0,question:$(x.a.confirmation_save),callback:function(){X(Object(S.c)(Object(_.rg)({id:t,description:n,status:a,type:"",dataorigin:c,filterjson:JSON.stringify(i),summaryjson:JSON.stringify(o),columnjson:JSON.stringify(r),operation:e.operation}))),X(Object(C.d)(!0)),E(!0)}}))}else X(Object(C.e)({show:!0,severity:"error",message:$(x.a.column_at_least_required)}))}));return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{style:{width:"100%"},children:Object(G.jsxs)("form",{onSubmit:Ge,style:{display:"flex",flexDirection:"column",gap:8},children:[Object(G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(G.jsxs)("div",{children:[Object(G.jsx)(y.L,{breadcrumbs:(Re=$(x.a.report_plural),He=((null===m||void 0===m?void 0:m.reporttemplateid)?$(x.a.edit):$(x.a.new))+" "+$(x.a.report).toLocaleLowerCase(),[{id:"view-1",name:Re},{id:"view-2",name:He}]),handleClick:g}),Object(G.jsx)(y.R,{title:m?"".concat(m.description):$(x.a.new_report_designer)})]}),Object(G.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(G.jsx)(T.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(G.jsx)(fe.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return g("view-1")},children:$(x.a.back)}),Object(G.jsx)(T.a,{className:h.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(G.jsx)(pe.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:$(x.a.save)})]})]}),Object(G.jsxs)("div",{className:"row-zyx ".concat(h.containerDetail),style:{marginBottom:0},children:[Object(G.jsx)(y.l,{label:$(x.a.title),className:"col-4",onChange:function(e){return oe("description",e)},valueDefault:m&&m.description||"",error:null===le||void 0===le||null===(u=le.description)||void 0===u?void 0:u.message}),Object(G.jsx)(y.u,{label:$(x.a.data_origin),className:"col-4",valueDefault:(null===m||void 0===m?void 0:m.dataorigin)||"ACTIVO",onChange:function(e){return t=e?e.tablename:"",oe("dataorigin",t),void(t?X(Object(S.h)(Object(_.qc)(t))):U([]));var t},error:null===le||void 0===le||null===(p=le.dataorigin)||void 0===p?void 0:p.message,disabled:!!(null===m||void 0===m?void 0:m.reporttemplateid),data:ee,triggerOnChangeOnFirst:!0,optionDesc:"tablename",optionValue:"tablename"}),Object(G.jsx)(y.u,{label:$(x.a.status),className:"col-4",valueDefault:(null===m||void 0===m?void 0:m.status)||"ACTIVO",onChange:function(e){return oe("status",e?e.domainvalue:"")},error:null===le||void 0===le||null===(b=le.status)||void 0===b?void 0:b.message,data:Z,optionDesc:"domaindesc",optionValue:"domainvalue"})]}),Object(G.jsxs)("div",{className:h.containerDetail,children:[Object(G.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(G.jsx)("div",{className:h.title,children:$(x.a.column_plural)})}),Object(G.jsx)(je.a,{children:Object(G.jsxs)(ge.a,{size:"small",children:[Object(G.jsx)(ve.a,{children:Object(G.jsxs)(he.a,{children:[Object(G.jsx)(Oe.a,{}),Object(G.jsx)(Oe.a,{children:Object(G.jsx)(me.a,{size:"small",disabled:Y.loading||0===q.length,onClick:Object(de.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B(!0));case 1:case"end":return e.stop()}}),e)}))),children:Object(G.jsx)(we.a,{})})}),Object(G.jsx)(Oe.a,{children:$(x.a.column)}),Object(G.jsx)(Oe.a,{children:$(x.a.description)}),Object(G.jsx)(Oe.a,{children:$(x.a.type)})]})}),Object(G.jsx)(Me.a,{onDragEnd:function(e){var t=e.source,n=e.destination;n&&Ce(t.index,n.index)},children:Object(G.jsx)(Me.c,{droppableId:"test-items",children:function(e,t){return Object(G.jsxs)(xe.a,Object(r.a)(Object(r.a)({},e.droppableProps),{},{ref:e.innerRef,children:[be.map((function(e,t){return Object(G.jsx)(Me.b,{draggableId:"item-".concat(t),index:t,children:function(n,a){var i,o,c;return Object(G.jsxs)(he.a,Object(r.a)(Object(r.a)({ref:n.innerRef},n.draggableProps),{},{children:[Object(G.jsx)(Oe.a,Object(r.a)(Object(r.a)({width:20,style:{padding:"0"}},n.dragHandleProps),{},{children:Object(G.jsx)("div",{style:{display:"flex"},children:Object(G.jsx)(F.a,{title:"".concat($(x.a.move)),children:Object(G.jsx)(me.a,{size:"small",children:Object(G.jsx)(Be.a,{style:{color:"#777777",cursor:"grab"}})})})})})),Object(G.jsx)(Oe.a,{width:30,children:Object(G.jsx)("div",{style:{display:"flex"},children:Object(G.jsx)(me.a,{size:"small",onClick:function(){return _e(t)},children:Object(G.jsx)(Se.a,{style:{color:"#777777"}})})})}),Object(G.jsx)(Oe.a,{width:230,children:"variable"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.description:$("personalizedreport_".concat(null===e||void 0===e?void 0:e.description))}),Object(G.jsx)(Oe.a,{children:Object(G.jsx)(y.n,{fregister:Object(r.a)({},ae("columns.".concat(t,".alias"),{validate:function(e){return e&&e.length||$(x.a.field_required)}})),valueDefault:null===e||void 0===e?void 0:e.alias,error:null===le||void 0===le||null===(i=le.columns)||void 0===i||null===(o=i[t])||void 0===o||null===(c=o.alias)||void 0===c?void 0:c.message,onChange:function(e){return oe("columns.".concat(t,".alias"),e)}})}),Object(G.jsx)(Oe.a,{children:$("typepg_".concat(null===e||void 0===e?void 0:e.type))})]}),"item-".concat(t))}},"item-".concat(t))})),e.placeholder]}))}})})]})})]}),Object(G.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(G.jsxs)("div",{style:{flex:.55},className:h.containerDetail,children:[Object(G.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(G.jsx)("div",{className:h.title,children:$(x.a.filters)})}),Object(G.jsx)("div",{children:Object(G.jsx)(je.a,{children:Object(G.jsxs)(ge.a,{size:"small",children:[Object(G.jsx)(ve.a,{children:Object(G.jsxs)(he.a,{children:[Object(G.jsx)(Oe.a,{children:Object(G.jsx)(me.a,{size:"small",onClick:Object(de.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re("dataorigin");case 2:e.sent&&Ie({columnname:"",type:"",type_filter:"",description:"",filter:""});case 4:case"end":return e.stop()}}),e)}))),children:Object(G.jsx)(we.a,{})})}),Object(G.jsx)(Oe.a,{children:$(x.a.column)}),Object(G.jsx)(Oe.a,{children:$(x.a.typefilter)}),Object(G.jsx)(Oe.a,{children:$(x.a.filters)})]})}),Object(G.jsx)(xe.a,{style:{marginTop:5},children:De.map((function(e,t){var n,a,i,o,c,l,s,d,u;return Object(G.jsxs)(he.a,{children:[Object(G.jsx)(Oe.a,{width:30,children:Object(G.jsx)("div",{style:{display:"flex"},children:Object(G.jsx)(me.a,{size:"small",onClick:function(){Ne(t)},children:Object(G.jsx)(Se.a,{style:{color:"#777777"}})})})}),Object(G.jsx)(Oe.a,{children:Object(G.jsx)(y.u,{label:$(x.a.column),valueDefault:ce("filters.".concat(t,".columnname")),fregister:Object(r.a)({},ae("filters.".concat(t,".columnname"),{validate:function(e){return e&&e.length||$(x.a.field_required)}})),variant:"outlined",onChange:function(e){oe("filters.".concat(t,".columnname"),(null===e||void 0===e?void 0:e.columnname)||""),oe("filters.".concat(t,".description"),(null===e||void 0===e?void 0:e.description)||""),oe("filters.".concat(t,".type"),(null===e||void 0===e?void 0:e.type)||""),oe("filters.".concat(t,".join_alias"),(null===e||void 0===e?void 0:e.join_alias)||""),oe("filters.".concat(t,".join_on"),(null===e||void 0===e?void 0:e.join_on)||""),oe("filters.".concat(t,".join_table"),(null===e||void 0===e?void 0:e.join_table)||"")},error:null===le||void 0===le||null===(n=le.filters)||void 0===n||null===(a=n[t])||void 0===a||null===(i=a.columnname)||void 0===i?void 0:i.message,data:q,optionDesc:"descriptionT",optionValue:"columnname"})}),Object(G.jsx)(Oe.a,{children:!["date","timestamp without time zone"].includes(ce("filters.".concat(t,".type")))&&Object(G.jsx)(y.u,{label:$(x.a.typefilter),valueDefault:ce("filters.".concat(t,".type_filter")),fregister:Object(r.a)({},ae("filters.".concat(t,".type_filter"),{validate:function(e){return e&&e.length||$(x.a.field_required)}})),variant:"outlined",onChange:function(e){oe("filters.".concat(t,".type_filter"),(null===e||void 0===e?void 0:e.key)||""),re("filters.".concat(t,".type_filter")),oe("filters.".concat(t,".filter"),""),re("filters.".concat(t,".filter"))},error:null===le||void 0===le||null===(o=le.filters)||void 0===o||null===(c=o[t])||void 0===c||null===(l=c.type_filter)||void 0===l?void 0:l.message,data:[{key:"text"},{key:"unique_value"}],optionDesc:"key",uset:!0,prefixTranslation:"filter_",optionValue:"key"})}),Object(G.jsx)(Oe.a,{style:{width:200},children:"text"===ce("filters.".concat(t,".type_filter"))&&!["date","timestamp without time zone"].includes(ce("filters.".concat(t,".type")))&&Object(G.jsx)(y.n,{fregister:Object(r.a)({},ae("filters.".concat(t,".filter"))),valueDefault:ce("filters.".concat(t,".filter")),error:null===le||void 0===le||null===(s=le.filters)||void 0===s||null===(d=s[t])||void 0===d||null===(u=d.filter)||void 0===u?void 0:u.message,onChange:function(e){return oe("filters.".concat(t,".filter"),e)}})})]},e.id)}))})]})})})]}),Object(G.jsxs)("div",{style:{flex:.45},className:h.containerDetail,children:[Object(G.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(G.jsx)("div",{className:h.title,children:$(x.a.summarization)})}),Object(G.jsx)("div",{children:Object(G.jsx)(je.a,{children:Object(G.jsxs)(ge.a,{size:"small",children:[Object(G.jsx)(ve.a,{children:Object(G.jsxs)(he.a,{children:[Object(G.jsx)(Oe.a,{children:Object(G.jsx)(me.a,{size:"small",onClick:Object(de.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re("dataorigin");case 2:e.sent&&Fe({columnname:"",function:""});case 4:case"end":return e.stop()}}),e)}))),children:Object(G.jsx)(we.a,{})})}),Object(G.jsx)(Oe.a,{children:$(x.a.column)}),Object(G.jsx)(Oe.a,{children:$(x.a.function)})]})}),Object(G.jsx)(xe.a,{children:Te.map((function(e,t){var n,a,i,o,c,l;return Object(G.jsxs)(he.a,{children:[Object(G.jsx)(Oe.a,{width:30,children:Object(G.jsx)("div",{style:{display:"flex"},children:Object(G.jsx)(me.a,{size:"small",onClick:function(){return Ae(t)},children:Object(G.jsx)(Se.a,{style:{color:"#777777"}})})})}),Object(G.jsx)(Oe.a,{children:Object(G.jsx)(y.u,{label:$(x.a.column),multiline:!0,valueDefault:ce("summary.".concat(t,".columnname")),fregister:Object(r.a)({},ae("summary.".concat(t,".columnname"),{validate:{validate:function(e){return e&&e.length||$(x.a.field_required)},fieldexists:function(e){return e&&be.map((function(e){return e.columnname})).includes(e)||$(x.a.columnnotvalid)}}})),variant:"outlined",onChange:function(e){oe("summary.".concat(t,".type"),(null===e||void 0===e?void 0:e.type)||""),oe("summary.".concat(t,".columnname"),(null===e||void 0===e?void 0:e.columnname)||""),re("summary.".concat(t,".type"))},error:null===le||void 0===le||null===(n=le.summary)||void 0===n||null===(a=n[t])||void 0===a||null===(i=a.columnname)||void 0===i?void 0:i.message,data:be,optionDesc:"descriptionT",optionValue:"columnname"})}),Object(G.jsx)(Oe.a,{children:Object(G.jsx)(y.u,{label:$(x.a.function),valueDefault:ce("summary.".concat(t,".function")),fregister:Object(r.a)({},ae("summary.".concat(t,".function"),{validate:function(e){return e&&e.length||$(x.a.field_required)}})),variant:"outlined",onChange:function(e){return oe("summary.".concat(t,".function"),(null===e||void 0===e?void 0:e.function)||"")},error:null===le||void 0===le||null===(o=le.summary)||void 0===o||null===(c=o[t])||void 0===c||null===(l=c.function)||void 0===l?void 0:l.message,data:Pe.filter((function(e){return e.type.includes(ce("summary.".concat(t,".type")))})),prefixTranslation:"function_",uset:!0,optionDesc:"function",optionValue:"function"})})]},e.id)}))})]})})})]})]})]})}),Object(G.jsx)(ze,{setOpenDialogVariables:B,openDialogVariables:H,columnsAlreadySelected:be,setColumnsSelected:z})]})},We=n(831),Ve=n.n(We),qe=n(338),Ue=Object(h.a)((function(e){return{containerFilters:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between",gap:e.spacing(1),marginTop:e.spacing(1),backgroundColor:"#FFF",padding:e.spacing(1)},itemFilter:{flex:"0 0 220px"},itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},itemFlex:{display:"flex",flexWrap:"wrap",gap:e.spacing(1)}}})),Ye={startDate:new Date((new Date).setDate(1)),endDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),key:"selection"},Ke=function(e){var t,n,a=e.openModal,r=e.setOpenModal,i=e.setView,o=e.columns,l=e.getCollection,s=Object(O.a)().t,d=Object(J.d)({defaultValues:{graphictype:"BAR",column:"",columntext:""}}),u=d.register,p=d.handleSubmit,b=d.setValue,f=d.getValues,m=d.formState.errors;Object(c.useEffect)((function(){u("graphictype",{validate:function(e){return e&&e.length||s(x.a.field_required)}}),u("column",{validate:function(e){return e&&e.length||s(x.a.field_required)}})}),[u]);var j=p((function(e){g(e)})),g=function(e){l(),i("CHART-".concat(e.graphictype,"-").concat(e.column,"-").concat(e.columntext)),r(!1)};return Object(G.jsxs)(y.g,{open:a,title:s(x.a.graphic_configuration),button1Type:"button",buttonText1:s(x.a.cancel),handleClickButton1:function(){r(!1)},button2Type:"button",buttonText2:s(x.a.accept),handleClickButton2:j,children:[Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:s(x.a.graphic_type),className:"col-12",valueDefault:f("graphictype"),error:null===m||void 0===m||null===(t=m.graphictype)||void 0===t?void 0:t.message,onChange:function(e){return b("graphictype",null===e||void 0===e?void 0:e.key)},data:[{key:"BAR",value:"BAR"},{key:"PIE",value:"PIE"}],uset:!0,prefixTranslation:"graphic_",optionDesc:"value",optionValue:"key"})}),Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:s(x.a.graphic_view_by),className:"col-12",valueDefault:f("column"),error:null===m||void 0===m||null===(n=m.column)||void 0===n?void 0:n.message,onChange:function(e){b("column",(null===e||void 0===e?void 0:e.accessor)||""),b("columntext",(null===e||void 0===e?void 0:e.Header)||"")},data:o,optionDesc:"Header",optionValue:"accessor"})})]})},Je=function(e){return e.toISOString().split("T")[0]},Qe=function(e){var t=e.filter,n=e.setFiltersDynamic,a=Object(c.useState)(!1),l=Object(i.a)(a,2),s=l[0],d=l[1],u=Object(c.useState)(Ye),p=Object(i.a)(u,2),b=p[0],f=p[1],m=Ue(),j=Object(O.a)().t,g=18*t.description.length;return Object(c.useEffect)((function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},t.columnname,Object(r.a)(Object(r.a)({},e[t.columnname]),{},{start:Object(qe.C)(b.startDate),end:Object(qe.C)(b.endDate)})))}))}),[b]),"timestamp without time zone"===t.type||"date"===t.type?Object(G.jsx)("div",{children:Object(G.jsx)(y.f,{open:s,setOpen:d,range:b,onSelect:f,children:Object(G.jsx)(T.a,{className:m.itemDate,startIcon:Object(G.jsx)(D.n,{}),onClick:function(){return d(!s)},children:Je(b.startDate)+" - "+Je(b.endDate)})})}):Object(G.jsx)(y.l,{label:"variable"===t.type?t.description:j("personalizedreport_".concat(t.description)),variant:"outlined",width:g<250?250:g,disabled:"unique_value"===t.type_filter,size:"small",valueDefault:"unique_value"===t.type_filter?j(x.a.filter_unique_value):t.filter||"",onChange:function(e){return n((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(o.a)({},t.columnname,Object(r.a)(Object(r.a)({},n[t.columnname]),{},{value:e})))}))}})},Xe=function(e){var t,n,a,s=e.setViewSelected,d=e.item,u=d.columns,p=d.summaries,b=d.filters,f=d.description,m=Ue(),j=Object(k.c)(),h=Object(O.a)().t,I=Object(c.useState)([]),N=Object(i.a)(I,2),E=N[0],F=N[1],A=Object(w.b)((function(e){return e.main.mainDynamic})),R=Object(w.b)((function(e){return e.main.exportDynamicData})),H=Object(c.useState)(!1),B=Object(i.a)(H,2),M=B[0],P=B[1],L=Object(c.useState)([]),z=Object(i.a)(L,2),W=z[0],V=z[1],q=Object(c.useState)(null),U=Object(i.a)(q,2),Y=U[0],K=U[1],J=Object(c.useState)("GRID"),Q=Object(i.a)(J,2),$=Q[0],ee=Q[1],te=Object(c.useState)(b.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},t.columnname,Object(r.a)(Object(r.a)({},t),{},{value:t.filter||"",filter:void 0})))}),{})),ne=Object(i.a)(te,2),ae=ne[0],re=ne[1],ie=l.a.useMemo((function(){return u.map((function(e){return{Header:e.alias,accessor:e.columnname.replace(".",""),Footer:function(){return null===Y||void 0===Y?void 0:Y[e.columnname.replace(".","")]}}}))}),[u,Y]);Object(c.useEffect)((function(){j(Object(S.B)()),j(Object(S.x)())}),[]),Object(c.useEffect)((function(){if(R.loading||R.error||!R.url){if(R.error){var e=h(R.code||"error_unexpected_error");j(Object(C.e)({show:!0,severity:"error",message:e}))}}else window.open(R.url,"_blank")}),[R]);Object(c.useEffect)((function(){if(!A.loading&&!A.error){var e=A.data;p.length>0&&(K(e[0]),delete e[0]),u.some((function(e){return"conversationclosetype"===e.columnname.replace(".","")}))&&(e=e.map((function(e){var t=h("type_close_".concat((e.conversationclosetype||"").toLowerCase().replace(/ /gi,"_")));return Object(r.a)(Object(r.a)({},e),{},{conversationclosetype:t.includes("type_close")?e.conversationclosetype:t})})));var t=u.filter((function(e){return["timestamp without time zone","date","boolean"].includes(e.type)}));t.length>0?F(e.map((function(e){return t.forEach((function(t){var n=t.columnname.replace(".","");if(["timestamp without time zone","date"].includes(t.type)&&e[n]){var a=new Date(e[n]);if(isNaN(a.getTime())){var r=(e[n]+"").matchAll(/[0-9]{4}-[0-9]{2}-[0-9]{2}\s[0-9]{2}:[0-9]{2}:[0-9]{2}.[0-9]{0,6}Z/gi);Array.from(r).forEach((function(a){a&&("timestamp without time zone"===t.type?e[n]=e[n].replace(a,new Date(a[0]).toLocaleString()):e[n]=e[n].replace(a,new Date(a[0]).toLocaleDateString()))}))}else"timestamp without time zone"===t.type?e[n]=a.toLocaleString():e[n]=a.toLocaleDateString()}["boolean"].includes(t.type)&&(e[n]=e[n]?h("yes"):h("no"))})),e}))):F(e)}}),[A]);var oe,ce,le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={columns:u,parameters:{offset:(new Date).getTimezoneOffset()/60*-1},summaries:p,filters:Object.values(ae)};j(e?Object(S.e)(t,f,"excel",ie.map((function(e){return{key:e.accessor,alias:e.Header}}))):Object(S.j)(t))};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:(oe=f,ce=h(x.a.report_plural),[{id:"view-1",name:ce||"Reports"},{id:"view-2",name:oe}]),handleClick:s}),Object(G.jsxs)("div",{className:m.containerFilters,children:[Object(G.jsxs)("div",{className:m.itemFlex,children:[Object.values(b).map((function(e){return Object(G.jsx)(Qe,{filter:e,setFiltersDynamic:re},e.columnname)})),Object(G.jsx)(T.a,{disabled:A.loading,variant:"contained",color:"primary",startIcon:Object(G.jsx)(Ve.a,{style:{color:"white"}}),style:{backgroundColor:"#55BD84",width:120},onClick:function(){return le()},children:h(x.a.search)})]}),Object(G.jsxs)("div",{className:m.itemFlex,children:[Object(G.jsx)(T.a,{variant:"contained",color:"primary",disabled:A.loading||!(A.data.length>0),onClick:function(){return P(!0)},startIcon:Object(G.jsx)(X.a,{}),children:h("GRID"===$?x.a.graphic_view:x.a.configuration)}),"GRID"===$&&Object(G.jsx)(T.a,{variant:"contained",color:"primary",disabled:R.loading,onClick:function(){Object(_.bb)(f,W,ie)},startIcon:Object(G.jsx)(D.E,{}),children:h(x.a.download)}),"GRID"!==$&&Object(G.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return ee("GRID")},startIcon:Object(G.jsx)(Z.a,{}),children:h(x.a.grid_view)})]})]}),"GRID"===$&&Object(G.jsx)(g.f,{columns:ie,filterGeneral:!1,data:E,setDataFiltered:V,download:!1,loading:A.loading,useFooter:!!Y}),"GRID"!==$&&Object(G.jsx)(v.b,{graphicType:(null===(t=$.split("-"))||void 0===t?void 0:t[1])||"BAR",column:(null===(n=$.split("-"))||void 0===n?void 0:n[2])||"summary",openModal:M,setOpenModal:P,daterange:{},setView:ee,withFilters:!1,withButtons:!1,data:E,loading:A.loading,handlerSearchGraphic:function(){return null},columnDesc:(null===(a=$.split("-"))||void 0===a?void 0:a[3])||"summary"})]}),Object(G.jsx)(Ke,{openModal:M,setOpenModal:P,setView:ee,columns:ie,getCollection:le})]})},$e=n(256),Ze=n(101),et=n(776),tt=n(832),nt=["00:00 a 01:00","01:00 a 02:00","02:00 a 03:00","03:00 a 04:00","04:00 a 05:00","05:00 a 06:00","06:00 a 07:00","07:00 a 08:00","08:00 a 09:00","09:00 a 10:00","10:00 a 11:00","11:00 a 12:00","12:00 a 13:00","13:00 a 14:00","14:00 a 15:00","15:00 a 16:00","16:00 a 17:00","17:00 a 18:00","18:00 a 19:00","19:00 a 20:00","20:00 a 21:00","21:00 a 22:00","22:00 a 23:00","23:00 a 00:00","TOTAL"],at=["00:00 a 01:00","01:00 a 02:00","02:00 a 03:00","03:00 a 04:00","04:00 a 05:00","05:00 a 06:00","06:00 a 07:00","07:00 a 08:00","08:00 a 09:00","09:00 a 10:00","10:00 a 11:00","11:00 a 12:00","12:00 a 13:00","13:00 a 14:00","14:00 a 15:00","15:00 a 16:00","16:00 a 17:00","17:00 a 18:00","18:00 a 19:00","19:00 a 20:00","20:00 a 21:00","21:00 a 22:00","22:00 a 23:00","23:00 a 00:00","PRM"],rt=Object(h.a)((function(e){return Object($e.a)({itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,width:"100%",color:"rgb(143, 146, 161)"},fieldsfilter:{width:"100%"},labellink:{color:"#7721ad",textDecoration:"underline",cursor:"pointer"}})}));function it(e){for(var t=e.toLowerCase().split(" "),n="",a=0;a<t.length;a++)""!==t[a].trim()&&(t[a]=t[a][0].toUpperCase()+t[a].substr(1),n=n+t[a]+" ");return n}var ot=function(e){var t=e.openModal,n=e.setOpenModal,a=e.title,r=void 0===a?"":a,i=(e.row,e.columns),o=void 0===i?[]:i,c=e.data,l=void 0===c?[]:c,s=Object(O.a)().t;return Object(G.jsx)(y.g,{open:t,title:r,maxWidth:"lg",button1Type:"button",buttonText1:s(x.a.close),handleClickButton1:function(){n(!1)},children:Object(G.jsx)(g.f,{columns:o,data:l,download:!0,pageSizeDefault:20,filterGeneral:!1})})},ct=function(){var e,t=Object(O.a)().t,n=rt(),l=Object(c.useState)(!1),s=Object(i.a)(l,2),d=s[0],u=s[1],p=Object(c.useState)([]),b=Object(i.a)(p,2),f=b[0],m=b[1],j=Object(c.useState)([]),v=Object(i.a)(j,2),h=v[0],_=v[1],D=Object(c.useState)([]),N=Object(i.a)(D,2),E=N[0],F=N[1],A=Object(c.useState)([]),R=Object(i.a)(A,2),H=R[0],B=R[1],M=Object(c.useState)([]),P=Object(i.a)(M,2),L=P[0],z=P[1],W=Object(c.useState)([]),V=Object(i.a)(W,2),q=V[0],U=V[1],Y=Object(c.useState)([]),K=Object(i.a)(Y,2),J=K[0],Q=K[1],X=Object(c.useState)([]),$=Object(i.a)(X,2),Z=$[0],ee=$[1],te=Object(c.useState)([]),ne=Object(i.a)(te,2),ae=ne[0],re=ne[1],ie=Object(c.useState)([]),oe=Object(i.a)(ie,2),ce=oe[0],le=oe[1],se=Object(k.c)(),de=Object(w.b)((function(e){return e.main.multiData})),ue=Object(w.b)((function(e){return e.main.multiDataAux2})),pe=Object(w.b)((function(e){return e.main})),be=[{domaindesc:t(x.a.agent),domainvalue:"ASESOR"},{domaindesc:"Bot",domainvalue:"BOT"}],fe=Object(c.useState)({communicationchannel:"",closedby:"ASESOR",startdate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),enddate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),datetoshow:"".concat(new Date((new Date).setDate(1)).getFullYear(),"-").concat(String(new Date((new Date).setDate(1)).getMonth()+1).padStart(2,"0"))}),me=Object(i.a)(fe,2),je=me[0],ge=me[1],ve=Object(c.useState)(!1),he=Object(i.a)(ve,2),Oe=he[0],xe=he[1],ye=Object(c.useState)(!1),we=Object(i.a)(ye,2),_e=we[0],Se=we[1],Ce=Object(c.useState)(null),ke=Object(i.a)(Ce,2),De=ke[0],Ie=ke[1],Ne=Object(c.useState)(!1),Ee=Object(i.a)(Ne,2),Te=Ee[0],Fe=Ee[1],Ae=Object(c.useState)(""),Re=Object(i.a)(Ae,2),He=Re[0],Be=Re[1],Me=Object(c.useState)(null),Pe=Object(i.a)(Me,2),Le=Pe[0],ze=Pe[1],Ge=Object(c.useState)([]),We=Object(i.a)(Ge,2),Ve=We[0],qe=We[1],Ue=Object(c.useCallback)((function(e){Fe(!0),Ie(Object(r.a)(Object(r.a)({},e),{},{displayname:e.asesor,ticketnum:e.ticketnum}))}),[pe]);Object(c.useEffect)((function(){return se(Object(S.H)("heatmap")),function(){se(Object(S.b)())}}),[]);var Ye=function(e,a,i,o,c){if("TOTAL"!==i.hournum&&"PRM"!==i.hournum&&("number"===typeof i[a.id]&&i[a.id]>0||"string"===typeof i[a.id]&&"00:00:00"!==i[a.id])){ze(i);var l=a.id.replace("day",""),s=i.hour-1,d=i.hournum.replace("a","-"),u="";switch(e){case"1.1":Be("Tickets ".concat(t(x.a.day)," ").concat(l," ").concat(d)),qe([{Header:t(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:n.labellink,onClick:function(){return Ue(t)},children:t.ticketnum})}},{Header:t(x.a.channel),accessor:"channel"},{Header:t(x.a.agent),accessor:"asesor"},{Header:t(x.a.tmo),accessor:"totalduration"}]);break;case"1.2":Be("Tickets ".concat(t(x.a.day)," ").concat(l," ").concat(d)),qe([{Header:t(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:n.labellink,onClick:function(){return Ue(t)},children:t.ticketnum})}},{Header:t(x.a.channel),accessor:"channel"},{Header:t(x.a.tmo),accessor:"totalduration"},{Header:t(x.a.agent),accessor:"asesor"}]);break;case"1.3":u="TME",Be("Tickets ".concat(t(x.a.day)," ").concat(l," ").concat(d)),qe([{Header:t(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:n.labellink,onClick:function(){return Ue(t)},children:t.ticketnum})}},{Header:t(x.a.channel),accessor:"channel"},{Header:t(x.a.tme),accessor:"userfirstreplytime"},{Header:t(x.a.agent),accessor:"asesor"}]);break;case"1.4":u="TMR",Be("Tickets ".concat(t(x.a.day)," ").concat(l," ").concat(d)),qe([{Header:t(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:n.labellink,onClick:function(){return Ue(t)},children:t.ticketnum})}},{Header:t(x.a.channel),accessor:"channel"},{Header:t(x.a.tmr),accessor:"useraveragereplytime"},{Header:t(x.a.agent),accessor:"asesor"}]);break;case"1.5":u="TMRCLIENT",Be("Tickets ".concat(t(x.a.day)," ").concat(l," ").concat(d)),qe([{Header:t(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:n.labellink,onClick:function(){return Ue(t)},children:t.ticketnum})}},{Header:t(x.a.channel),accessor:"channel"},{Header:t(x.a.tmr_client),accessor:"personaveragereplytime"}])}se(Object(S.r)([Object(I.Me)(Object(r.a)(Object(r.a)({},je),{},{startdate:new Date(c,o-1,l),enddate:new Date(c,o-1,l),horanum:["TOTAL","PRM"].includes(i.hournum)?"":s,option:u}))])),se(Object(C.d)(!0)),xe(!0)}};function Ke(){""===je.datetoshow?se(Object(C.e)({show:!0,severity:"error",message:t(x.a.date_format_error)})):(_([]),B([]),U([]),ee([]),le([]),u(!0),se(Object(C.d)(!0)),se(Object(S.p)([Object(I.Le)(je)])))}function Je(e){for(var t,n,c=[],l=(null===(t=je.startdate)||void 0===t?void 0:t.getMonth())+1,s=null===(n=je.startdate)||void 0===n?void 0:n.getFullYear(),d=0,u=new Date(s,l,0).getDate(),p=new Array(24).fill(0),b=1;b<=25;b++){for(var f={hour:b,hournum:nt[b-1]},j=1;j<=u;j++)f["day".concat(j)]=0;f.totalcol=0,c.push(f)}e.forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),n=e.hora;p[e.horanum]++,c=c.map((function(a){var i;return a.hournum===n?Object(r.a)(Object(r.a)({},a),{},(i={},Object(o.a)(i,"day".concat(t),a["day".concat(t)]+e.atencionesxfecha),Object(o.a)(i,"totalcol",a.totalcol+e.atencionesxfecha),i)):a})),d=e.atencionesxfecha>d?e.atencionesxfecha:d,c[24]["day".concat(t)]+=e.atencionesxfecha,c[24].totalcol+=e.atencionesxfecha})),p.forEach((function(e,t){0!==e&&(c[t].totalcol=c[t].totalcol/e)})),_(c);var g=0,v=c.length>0?Object.entries(c[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/hour|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(l):"Promedio",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){var t=e.cell.column,a=e.cell.row.original;if("totalcol"!==n){var r="white";return e.data[g]&&(r=function(e,t){var n=255/(d/2);if((isNaN(n)||0===d)&&(n=0),t>=24)return"FFFFFF";if(e<=d/2){var a=Math.floor(e*n).toString(16);return"00".slice(a.length)+a+"ff00"}if(d===e)return"FF0000";var r=Math.floor(255-(e-d/2)*n).toString(16);return"FF"+"00".slice(r.length)+r+"00"}(parseInt(e.data[g][n]),g)),Object(G.jsx)("div",{style:{background:"#".concat(r),textAlign:"center",color:"black"},onClick:function(){return Ye("1.1",t,a,l,s)},children:e.data[g][n]})}return g<24&&g++,Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:e.data[g-1][n]>0?e.data[g-1][n].toFixed(2):"0"})}}})):[];m([{Header:"Hora",accessor:"hournum",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(v)))}function Qe(e){for(var t,n,c=(null===(t=je.startdate)||void 0===t?void 0:t.getMonth())+1,l=null===(n=je.startdate)||void 0===n?void 0:n.getFullYear(),s=new Date(l,c,0).getDate(),d=0,u=[],p=new Array(25).fill(0),b=new Array(32).fill(0),f=1;f<=25;f++){for(var m={hour:f,hournum:at[f-1]},j=1;j<=s;j++)m["day".concat(j)]="00:00:00";m.totalcol="00:00:00",u.push(m)}e.forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),n=e.hora,a=e.totaldurationxfecha.split(":"),i=3600*parseInt(a[0])+60*parseInt(a[1])+parseInt(a[2]);if(u=u.map((function(a){return a.hournum===n?Object(r.a)(Object(r.a)({},a),{},Object(o.a)({},"day".concat(t),e.totaldurationxfecha)):a})),d=i>d?i:d,p[e.horanum]++,b[t-1]++,u.forEach((function(e){if(e.hournum===n){var t=e.totalcol.split(":"),a=3600*t[0]+60*t[1]+parseInt(t[2])+i,r=Math.floor(a/3600),o=Math.floor((a-3600*r)/60),c=Math.round(a)-3600*r-60*o;e.totalcol=r.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")}})),0===b[t-1])u[24]["day".concat(t)]="00:00:00";else{var c=u[24]["day".concat(t)].split(":"),l=3600*c[0]+60*c[1]+parseInt(c[2])+i,s=Math.floor(l/3600),f=Math.floor((l-3600*s)/60),m=Math.round(l)-3600*s-60*f;u[24]["day".concat(t)]=s.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0"),l=3600*(c=u[24].totalcol.split(":"))[0]+60*c[1]+parseInt(c[2])+i,s=Math.floor(l/3600),f=Math.floor((l-3600*s)/60),m=Math.round(l)-3600*s-60*f,u[24].totalcol=s.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0")}})),b.forEach((function(e,t){if(0!==e){var n=u[24]["day".concat(t+1)].split(":"),a=(3600*n[0]+60*n[1]+parseInt(n[2]))/e,r=Math.floor(a/3600),i=Math.floor((a-3600*r)/60),o=Math.round(a)-3600*r-60*i;u[24]["day".concat(t+1)]=r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")}})),p.forEach((function(e,t){if(0!==e){var n=u[t].totalcol.split(":"),a=(3600*n[0]+60*n[1]+parseInt(n[2]))/e,r=Math.floor(a/3600),i=Math.floor((a-3600*r)/60),o=Math.round(a)-3600*r-60*i;u[t].totalcol=r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")}})),B(u);var g=0,v=u.length>0?Object.entries(u[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/hour|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(c):"Promedio",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){var t=e.cell.column,a=e.cell.row.original;if("totalcol"!==n){var r,i=e.cell.row.original[n].split(":"),o="00"===i[0]?"":i[0]+"h ",s="00"===i[1]?"":i[1]+"m ",u=i[2];return r=function(e,t){var n=255/(d/2);if((isNaN(n)||0===d)&&(n=0),t>=24)return"FFFFFF";if(e<=d/2){var a=Math.floor(e*n).toString(16);return"00".slice(a.length)+a+"ff00"}if(d===e)return"FF0000";var r=Math.floor(255-(e-d/2)*n).toString(16);return"FF"+"00".slice(r.length)+r+"00"}(3600*parseInt(i[0])+60*parseInt(i[1])+parseInt(i[2]),g),Object(G.jsx)("div",{style:{background:"#".concat(r),textAlign:"center",color:"black"},onClick:function(){return Ye("1.2",t,a,c,l)},children:"".concat(o).concat(s).concat(u,"s")})}g<24&&g++;var p=e.cell.row.original[n].split(":"),b="00"===p[0]?"":p[0]+"h ",f="00"===p[1]?"":p[1]+"m ",m=p[2];return Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:"".concat(b).concat(f).concat(m,"s")})}}})):[];F([{Header:"Hora",accessor:"hournum",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(v)))}function Xe(e){for(var t,n,c=(null===(t=je.startdate)||void 0===t?void 0:t.getMonth())+1,l=null===(n=je.startdate)||void 0===n?void 0:n.getFullYear(),s=new Date(l,c,0).getDate(),d=0,u=[],p=new Array(25).fill(0),b=new Array(32).fill(0),f=1;f<=25;f++){for(var m={hour:f,hournum:at[f-1]},j=1;j<=s;j++)m["day".concat(j)]="00:00:00";m.totalcol="00:00:00",u.push(m)}e.forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),n=e.hora,a=e.userfirstreplytimexfecha.split(":"),i=3600*parseInt(a[0])+60*parseInt(a[1])+parseInt(a[2]);u=u.map((function(a){return a.hournum===n?Object(r.a)(Object(r.a)({},a),{},Object(o.a)({},"day".concat(t),e.userfirstreplytimexfecha)):a})),d=i>d?i:d,p[e.horanum]++,b[t-1]++,u.forEach((function(e){if(e.hournum===n){var t=e.totalcol.split(":"),a=3600*t[0]+60*t[1]+parseInt(t[2])+i,r=Math.floor(a/3600),o=Math.floor((a-3600*r)/60),c=Math.round(a)-3600*r-60*o;e.totalcol=r.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")}}));var c=u[24]["day".concat(t)].split(":"),l=3600*c[0]+60*c[1]+parseInt(c[2])+i,s=Math.floor(l/3600),f=Math.floor((l-3600*s)/60),m=Math.round(l)-3600*s-60*f;u[24]["day".concat(t)]=s.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0"),l=3600*(c=u[24].totalcol.split(":"))[0]+60*c[1]+parseInt(c[2])+i,s=Math.floor(l/3600),f=Math.floor((l-3600*s)/60),m=Math.round(l)-3600*s-60*f,u[24].totalcol=s.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0")})),b.forEach((function(e,t){if(0!==e){var n=u[24]["day".concat(t+1)].split(":"),a=(3600*n[0]+60*n[1]+parseInt(n[2]))/e,r=Math.floor(a/3600),i=Math.floor((a-3600*r)/60),o=Math.round(a)-3600*r-60*i;u[24]["day".concat(t+1)]=r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")}})),p.forEach((function(e,t){if(0!==e){var n=u[t].totalcol.split(":"),a=(3600*n[0]+60*n[1]+parseInt(n[2]))/e,r=Math.floor(a/3600),i=Math.floor((a-3600*r)/60),o=Math.round(a)-3600*r-60*i;u[t].totalcol=r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")}})),U(u);var g=0,v=u.length>0?Object.entries(u[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/hour|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(c):"Promedio",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){var t=e.cell.column,a=e.cell.row.original;if("totalcol"!==n){var r="white",i=e.cell.row.original[n].split(":"),o="00"===i[0]?"":i[0]+"h ",s="00"===i[1]?"":i[1]+"m ",u=i[2],p=3600*parseInt(i[0])+60*parseInt(i[1])+parseInt(i[2]);return e.data[g]&&(r=function(e,t){var n=255/(d/2);if((isNaN(n)||0===d)&&(n=0),t>=24)return"FFFFFF";if(e<=d/2){var a=Math.floor(e*n).toString(16);return"00".slice(a.length)+a+"ff00"}var r=Math.floor(255-(e-d/2)*n).toString(16);return d===e?"FF0000":"FF"+"00".slice(r.length)+r+"00"}(p,g)),Object(G.jsx)("div",{style:{background:"#".concat(r),textAlign:"center",color:"black"},onClick:function(){return Ye("1.3",t,a,c,l)},children:"".concat(o).concat(s).concat(u,"s")})}g<24&&g++;var b=e.cell.row.original[n].split(":"),f="00"===b[0]?"":b[0]+"h ",m="00"===b[1]?"":b[1]+"m ",j=b[2];return Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:"".concat(f).concat(m).concat(j,"s")})}}})):[];z([{Header:"Hora",accessor:"hournum",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(v)))}function $e(e){for(var t,n,c=(null===(t=je.startdate)||void 0===t?void 0:t.getMonth())+1,l=null===(n=je.startdate)||void 0===n?void 0:n.getFullYear(),s=new Date(l,c,0).getDate(),d=0,u=[],p=new Array(25).fill(0),b=new Array(32).fill(0),f=1;f<=25;f++){for(var m={hour:f,hournum:at[f-1]},j=1;j<=s;j++)m["day".concat(j)]="00:00:00";m.totalcol="00:00:00",u.push(m)}e.forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),n=e.hora,a=e.useraveragereplytimexfecha.split(":"),i=3600*parseInt(a[0])+60*parseInt(a[1])+parseInt(a[2]);u=u.map((function(a){return a.hournum===n?Object(r.a)(Object(r.a)({},a),{},Object(o.a)({},"day".concat(t),e.useraveragereplytimexfecha)):a})),d=i>d?i:d,p[e.horanum]++,b[t-1]++,u.forEach((function(e){if(e.hournum===n){var t=e.totalcol.split(":"),a=3600*t[0]+60*t[1]+parseInt(t[2])+i,r=Math.floor(a/3600),o=Math.floor((a-3600*r)/60),c=Math.round(a)-3600*r-60*o;e.totalcol=r.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")}}));var c=u[24]["day".concat(t)].split(":"),l=3600*c[0]+60*c[1]+parseInt(c[2])+i,s=Math.floor(l/3600),f=Math.floor((l-3600*s)/60),m=Math.round(l)-3600*s-60*f;u[24]["day".concat(t)]=s.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0"),l=3600*(c=u[24].totalcol.split(":"))[0]+60*c[1]+parseInt(c[2])+i,s=Math.floor(l/3600),f=Math.floor((l-3600*s)/60),m=Math.round(l)-3600*s-60*f,u[24].totalcol=s.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0")})),b.forEach((function(e,t){if(0!==e){var n=u[24]["day".concat(t+1)].split(":"),a=(3600*n[0]+60*n[1]+parseInt(n[2]))/e,r=Math.floor(a/3600),i=Math.floor((a-3600*r)/60),o=Math.round(a)-3600*r-60*i;u[24]["day".concat(t+1)]=r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")}})),p.forEach((function(e,t){if(0!==e){var n=u[t].totalcol.split(":"),a=(3600*n[0]+60*n[1]+parseInt(n[2]))/e,r=Math.floor(a/3600),i=Math.floor((a-3600*r)/60),o=Math.round(a)-3600*r-60*i;u[t].totalcol=r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")}})),ee(u);var g=0,v=u.length>0?Object.entries(u[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/hour|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(c):"Promedio",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){var t=e.cell.column,a=e.cell.row.original;if("totalcol"!==n){var r="white",i=e.cell.row.original[n].split(":"),o="00"===i[0]?"":i[0]+"h ",s="00"===i[1]?"":i[1]+"m ",u=i[2],p=3600*parseInt(i[0])+60*parseInt(i[1])+parseInt(i[2]);return e.data[g]&&(r=function(e,t){var n=255/(d/2);if((isNaN(n)||0===d)&&(n=0),t>=24)return"FFFFFF";if(e<=d/2){var a=Math.floor(e*n).toString(16);return"00".slice(a.length)+a+"ff00"}if(d===e)return"FF0000";var r=Math.floor(255-(e-d/2)*n).toString(16);return"FF"+"00".slice(r.length)+r+"00"}(p,g)),Object(G.jsx)("div",{style:{background:"#".concat(r),textAlign:"center",color:"black"},onClick:function(){return Ye("1.4",t,a,c,l)},children:"".concat(o).concat(s).concat(u,"s")})}g<24&&g++;var b=e.cell.row.original[n].split(":"),f="00"===b[0]?"":b[0]+"h ",m="00"===b[1]?"":b[1]+"m ",j=b[2];return Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:"".concat(f).concat(m).concat(j,"s")})}}})):[];Q([{Header:"Hora",accessor:"hournum",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(v)))}function et(e){for(var t,n,c=(null===(t=je.startdate)||void 0===t?void 0:t.getMonth())+1,l=null===(n=je.startdate)||void 0===n?void 0:n.getFullYear(),s=new Date(l,c,0).getDate(),d=0,u=[],p=new Array(25).fill(0),b=new Array(32).fill(0),f=1;f<=25;f++){for(var m={hour:f,hournum:at[f-1]},j=1;j<=s;j++)m["day".concat(j)]="00:00:00";m.totalcol="00:00:00",u.push(m)}e.forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),n=e.hora,a=e.personaveragereplytimexfecha.split(":"),i=3600*parseInt(a[0])+60*parseInt(a[1])+parseInt(a[2]);u=u.map((function(a){return a.hournum===n?Object(r.a)(Object(r.a)({},a),{},Object(o.a)({},"day".concat(t),e.personaveragereplytimexfecha)):a})),d=i>d?i:d,p[e.horanum]++,b[t-1]++,u.forEach((function(e){if(e.hournum===n){var t=e.totalcol.split(":"),a=3600*t[0]+60*t[1]+parseInt(t[2])+i,r=Math.floor(a/3600),o=Math.floor((a-3600*r)/60),c=Math.round(a)-3600*r-60*o;e.totalcol=r.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")}}));var c=u[24]["day".concat(t)].split(":"),l=3600*c[0]+60*c[1]+parseInt(c[2])+i,s=Math.floor(l/3600),f=Math.floor((l-3600*s)/60),m=Math.round(l)-3600*s-60*f;u[24]["day".concat(t)]=s.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0"),l=3600*(c=u[24].totalcol.split(":"))[0]+60*c[1]+parseInt(c[2])+i,s=Math.floor(l/3600),f=Math.floor((l-3600*s)/60),m=Math.round(l)-3600*s-60*f,u[24].totalcol=s.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0")})),b.forEach((function(e,t){if(0!==e){var n=u[24]["day".concat(t+1)].split(":"),a=(3600*n[0]+60*n[1]+parseInt(n[2]))/e,r=Math.floor(a/3600),i=Math.floor((a-3600*r)/60),o=Math.round(a)-3600*r-60*i;u[24]["day".concat(t+1)]=r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")}})),p.forEach((function(e,t){if(0!==e){var n=u[t].totalcol.split(":"),a=(3600*n[0]+60*n[1]+parseInt(n[2]))/e,r=Math.floor(a/3600),i=Math.floor((a-3600*r)/60),o=Math.round(a)-3600*r-60*i;u[t].totalcol=r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")}})),le(u);var g=0,v=u.length>0?Object.entries(u[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/hour|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(c):"Promedio",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){var t=e.cell.column,a=e.cell.row.original;if("totalcol"!==n){var r="white",i=e.cell.row.original[n].split(":"),o="00"===i[0]?"":i[0]+"h ",s="00"===i[1]?"":i[1]+"m ",u=i[2],p=3600*parseInt(i[0])+60*parseInt(i[1])+parseInt(i[2]);return e.data[g]&&(r=function(e,t){var n=255/(d/2);if((isNaN(n)||0===d)&&(n=0),t>=24)return"FFFFFF";if(e<=d/2){var a=Math.floor(e*n).toString(16);return"00".slice(a.length)+a+"ff00"}if(d===e)return"FF0000";var r=Math.floor(255-(e-d/2)*n).toString(16);return"FF"+"00".slice(r.length)+r+"00"}(p,g)),Object(G.jsx)("div",{style:{background:"#".concat(r),textAlign:"center",color:"black"},onClick:function(){return Ye("1.5",t,a,c,l)},children:"".concat(o).concat(s).concat(u,"s")})}g<24&&g++;var b=e.cell.row.original[n].split(":"),f="00"===b[0]?"":b[0]+"h ",m="00"===b[1]?"":b[1]+"m ",j=b[2];return Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:"".concat(f).concat(m).concat(j,"s")})}}})):[];re([{Header:"Hora",accessor:"hournum",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(v)))}return Object(c.useEffect)((function(){Oe&&(ue.loading||(se(Object(C.d)(!1)),xe(!1),Se(!0)))}),[ue]),Object(c.useEffect)((function(){var e,t,n,a,r;!de.loading&&d&&(u(!1),se(Object(C.d)(!1)),"UFN_REPORT_HEATMAP_PAGE1_SEL"===de.data[0].key?(Je((null===(e=de.data[0])||void 0===e?void 0:e.data)||[]),Qe((null===(t=de.data[0])||void 0===t?void 0:t.data)||[]),Xe((null===(n=de.data[0])||void 0===n?void 0:n.data)||[]),$e((null===(a=de.data[0])||void 0===a?void 0:a.data)||[]),et((null===(r=de.data[0])||void 0===r?void 0:r.data)||[])):(Je([]),Qe([]),Xe([]),$e([]),et([])))}),[de,d]),Object(c.useEffect)((function(){Ke()}),[]),Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{style:{width:"100%",display:"flex",paddingTop:10},children:[Object(G.jsx)("div",{style:{flex:1,paddingRight:"10px"},children:Object(G.jsx)(Ze.a,{id:"date",className:n.fieldsfilter,type:"month",variant:"outlined",onChange:function(e){return function(e){if(""===e)ge((function(t){return Object(r.a)(Object(r.a)({},t),{},{datetoshow:e})}));else{var t=+e.split("-")[0],n=+e.split("-")[1],a=new Date(t,n-1,1),i=new Date(t,n,0);ge((function(t){return Object(r.a)(Object(r.a)({},t),{},{startdate:a,enddate:i,datetoshow:e})}))}}(e.target.value)},value:je.datetoshow,size:"small"})}),Object(G.jsx)("div",{style:{flex:1},children:Object(G.jsx)(y.q,{label:t(x.a.advisor),className:n.fieldsfilter,variant:"outlined",onChange:function(e){ge((function(t){return Object(r.a)(Object(r.a)({},t),{},{closedby:e.map((function(e){return e.domainvalue})).join()})}))},valueDefault:je.closedby,data:be,optionDesc:"domaindesc",optionValue:"domainvalue"})}),Object(G.jsx)("div",{style:{flex:1,paddingLeft:20},children:Object(G.jsx)(T.a,{variant:"contained",color:"primary",style:{width:"100%",backgroundColor:"#007bff"},onClick:function(){return Ke()},children:t(x.a.search)})})]}),h.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:f,titlemodule:t(x.a.conversationheatmap),data:h,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:t(x.a.conversationheatmaptooltip)})}):"",H.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:E,titlemodule:t(x.a.averageheatmapTMOdata),data:H,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:t(x.a.averageheatmapTMOdatatooltip)})}):"",q.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:L,titlemodule:t(x.a.heatmapaverageagentTME),data:q,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:t(x.a.heatmapaverageagentTMEtooltip)})}):"",Z.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:J,titlemodule:t(x.a.userAverageReplyTimexFecha),data:Z,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:t(x.a.userAverageReplyTimexFechatooltip)})}):"",ce.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:ae,titlemodule:t(x.a.personAverageReplyTimexFecha),data:ce,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:t(x.a.personAverageReplyTimexFechatooltip)})}):"",Object(G.jsx)(ot,{openModal:_e,setOpenModal:Se,title:He,row:Le,columns:Ve,data:(null===(e=ue.data[0])||void 0===e?void 0:e.data)||[]}),Object(G.jsx)(tt.a,{openModal:Te,setOpenModal:Fe,ticket:De})]})},lt=function(e){var t=e.companydomain,n=e.groupsdomain,l=Object(O.a)().t,s=rt(),d=Object(c.useState)(!1),u=Object(i.a)(d,2),p=u[0],b=u[1],f=Object(c.useState)([]),m=Object(i.a)(f,2),j=m[0],v=m[1],h=Object(c.useState)([]),_=Object(i.a)(h,2),D=_[0],N=_[1],E=Object(c.useState)([]),F=Object(i.a)(E,2),A=F[0],R=F[1],H=Object(c.useState)([]),B=Object(i.a)(H,2),M=B[0],P=B[1],L=Object(c.useState)([]),z=Object(i.a)(L,2),W=z[0],V=z[1],q=Object(c.useState)([]),U=Object(i.a)(q,2),Y=U[0],K=U[1],J=Object(c.useState)([]),Q=Object(i.a)(J,2),X=Q[0],$=Q[1],Z=Object(c.useState)([]),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(c.useState)([]),re=Object(i.a)(ae,2),ie=re[0],oe=re[1],ce=Object(c.useState)([]),le=Object(i.a)(ce,2),ue=le[0],pe=le[1],be=Object(c.useState)([]),fe=Object(i.a)(be,2),me=fe[0],je=fe[1],ge=Object(c.useState)([]),ve=Object(i.a)(ge,2),he=ve[0],Oe=ve[1],xe=Object(c.useState)([]),ye=Object(i.a)(xe,2),we=ye[0],_e=ye[1],Se=Object(c.useState)([]),Ce=Object(i.a)(Se,2),ke=Ce[0],De=Ce[1],Ie=Object(c.useState)([]),Ne=Object(i.a)(Ie,2),Ee=Ne[0],Te=Ne[1],Fe=Object(c.useState)([]),Ae=Object(i.a)(Fe,2),Re=Ae[0],He=Ae[1],Be=Object(c.useState)(!0),Me=Object(i.a)(Be,2),Pe=Me[0],Le=Me[1],ze=[{domaindesc:l(x.a.agent),domainvalue:"ASESOR"},{domaindesc:"Bot",domainvalue:"BOT"}],Ge=Object(k.c)(),We=Object(c.useState)(null),Ve=Object(i.a)(We,2),qe=Ve[0],Ue=Ve[1],Ye=Object(c.useState)(""),Ke=Object(i.a)(Ye,2),Je=Ke[0],Qe=Ke[1],Xe=Object(c.useState)([]),$e=Object(i.a)(Xe,2),et=$e[0],nt=$e[1],at=Object(c.useState)(null),ct=Object(i.a)(at,2),lt=ct[0],st=ct[1],dt=Object(c.useState)(!1),ut=Object(i.a)(dt,2),pt=ut[0],bt=ut[1],ft=Object(c.useState)(!1),mt=Object(i.a)(ft,2),jt=mt[0],gt=mt[1],vt=Object(c.useState)(!1),ht=Object(i.a)(vt,2),Ot=ht[0],xt=ht[1],yt=Object(w.b)((function(e){return e.main})),wt=Object(w.b)((function(e){return e.main.mainAux})),_t=Object(c.useCallback)((function(e){bt(!0),st(Object(r.a)(Object(r.a)({},e),{},{displayname:e.asesor,ticketnum:e.ticketnum}))}),[yt]),St=function(e,t,n,a,i,o){if("TOTAL"!==n.hournum&&("number"===typeof n[t.id]&&n[t.id]>0||"string"===typeof n[t.id]&&"00:00:00"!==n[t.id])){var c,d;Ue(n);var u=t.id.replace("day",""),p=null===(c=((null===(d=Ct.data[1])||void 0===d?void 0:d.data)||[]).filter((function(e){return e.userid===n.userid}))[0])||void 0===c?void 0:c.userdesc;switch(e){case"COMPLETED":Qe("Tickets ".concat(it(p||"")," ").concat(l(x.a.day)," ").concat(u)),nt([{Header:l(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:s.labellink,onClick:function(){return _t(t)},children:t.ticketnum})}},{Header:l(x.a.channel),accessor:"channel"},{Header:l(x.a.agent),accessor:"asesor"}]);break;case"ABANDONED":Qe("Tickets ".concat(it(p||"")," ").concat(l(x.a.day)," ").concat(u)),nt([{Header:l(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:s.labellink,onClick:function(){return _t(t)},children:t.ticketnum})}},{Header:l(x.a.channel),accessor:"channel"}]);break;case"OPPORTUNITY":Qe("".concat(l(x.a.opportunity_plural)," ").concat(it(p||"")," ").concat(l(x.a.day)," ").concat(u)),nt([{Header:l(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:s.labellink,onClick:function(){return _t(t)},children:t.ticketnum})}},{Header:l(x.a.channel),accessor:"channel"},{Header:l(x.a.opportunityname),accessor:"leadname"}]);break;case"OPPORTUNITYWON":Qe("".concat(l(x.a.opportunity_plural)," ").concat(it(p||"")," ").concat(l(x.a.day)," ").concat(u)),nt([{Header:l(x.a.ticket),accessor:"ticketnum",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:s.labellink,onClick:function(){return _t(t)},children:t.ticketnum})}},{Header:l(x.a.channel),accessor:"channel"},{Header:l(x.a.opportunitywon),accessor:"opportunitywon"}])}Ge(a?Object(S.h)(Object(I.Pe)(Object(r.a)(Object(r.a)({},It),{},{startdate:new Date(o,i-1,u),enddate:new Date(o,i-1,u),agentid:n.userid,option:e}))):Object(S.h)(Object(I.Oe)(Object(r.a)(Object(r.a)({},It),{},{startdate:new Date(o,i-1,u),enddate:new Date(o,i-1,u),agentid:n.userid,option:e})))),Ge(Object(C.d)(!0)),gt(!0)}},Ct=Object(w.b)((function(e){return e.main.multiData})),kt=Object(c.useState)({communicationchannel:"",closedby:"ASESOR",startdate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),enddate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),datetoshow:"".concat(new Date((new Date).setDate(1)).getFullYear(),"-").concat(String(new Date((new Date).setDate(1)).getMonth()+1).padStart(2,"0")),company:"",group:""}),Dt=Object(i.a)(kt,2),It=Dt[0],Nt=Dt[1];function Et(){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(de.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===It.datetoshow?Ge(Object(C.e)({show:!0,severity:"error",message:l(x.a.date_format_error)})):(v([]),V([]),$([]),oe([]),Te([]),_e([]),je([]),R([]),b(!0),Ge(Object(C.d)(!0)),Ge(Object(S.p)([Object(I.Ne)(It),Object(I.he)(It.closedby)])));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){Et()}),[]),Object(c.useEffect)((function(){jt&&(wt.loading||(Ge(Object(C.d)(!1)),gt(!1),xt(!0)))}),[wt]),Object(c.useEffect)((function(){if(!Ct.loading&&p){var e,t,n,c,s,d,u,f,m,j,g,h=(null===(e=It.startdate)||void 0===e?void 0:e.getMonth())+1,O=null===(t=It.startdate)||void 0===t?void 0:t.getFullYear(),y=new Date(O,h,0).getDate(),w=[],_=(null===(n=Ct.data[1])||void 0===n?void 0:n.data)||[];_.forEach((function(e){for(var t={asesor:it(e.userdesc),userid:e.userid},n=1;n<=y;n++)t["day".concat(n)]=0;t.totalcol=0,w.push(t)})),b(!1),Ge(Object(C.d)(!1)),function(e,t,n){for(var c,s,d=Object(a.a)(t),u=(null===(c=It.startdate)||void 0===c?void 0:c.getMonth())+1,p=null===(s=It.startdate)||void 0===s?void 0:s.getFullYear(),b=0,f=new Date(p,u,0).getDate(),m={asesor:"TOTAL",userid:0},j=1;j<=f;j++)m["day".concat(j)]=0;m.totalcol=0,d.push(m),e.filter((function(e){return n.filter((function(t){return t.userid===e.userid})).length>0})).forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),a=e.userid;d=d.map((function(n){var i;return n.userid===a?Object(r.a)(Object(r.a)({},n),{},(i={},Object(o.a)(i,"day".concat(t),e.completadosxasesor),Object(o.a)(i,"totalcol",n.totalcol+e.completadosxasesor),i)):n})),b=e.completadosxasesor>b?e.completadosxasesor:b,d[n.length]["day".concat(t)]+=e.completadosxasesor,d[n.length].totalcol+=e.completadosxasesor})),v(d);var g=0;function h(e){var t=255/(b/2);if((isNaN(t)||0===b)&&(t=0),g++,n.length*f<g)return"FFFFFF";if(e<=b/2){var a=Math.floor(e*t).toString(16);return"00".slice(a.length)+a+"ff00"}if(b===e)return"FF0000";var r=Math.floor(255-(e-b/2)*t).toString(16);return"FF"+"00".slice(r.length)+r+"00"}var O=d.length>0?Object.entries(d[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/asesor|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(u):"asesor"===n?"ASESOR":"TOTAL",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){var t=e.cell.column,a=e.cell.row.original;if("totalcol"!==n){var r=h(e.cell.row.original[n]);return Object(G.jsx)("div",{style:{background:"#".concat(r),textAlign:"center",color:"black"},onClick:function(){return St("COMPLETED",t,a,!1,u,p)},children:e.cell.row.original[n]})}return Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:e.cell.row.original[n]})}}})):[];null===O||void 0===O||O.shift(),N([{Header:l(x.a.advisor),accessor:"asesor",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(O)))}((null===(c=Ct.data[0])||void 0===c?void 0:c.data)||[],w,_),function(e,t,n){for(var c,s,d=Object(a.a)(t),u=(null===(c=It.startdate)||void 0===c?void 0:c.getMonth())+1,p=null===(s=It.startdate)||void 0===s?void 0:s.getFullYear(),b=0,f=new Date(p,u,0).getDate(),m={asesor:"TOTAL",userid:0},j=1;j<=f;j++)m["day".concat(j)]=0;m.totalcol=0,d.push(m),e.filter((function(e){return n.filter((function(t){return t.userid===e.userid})).length>0})).forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),a=e.userid;d=d.map((function(n){var i;return n.userid===a?Object(r.a)(Object(r.a)({},n),{},(i={},Object(o.a)(i,"day".concat(t),e.abandonosxasesor),Object(o.a)(i,"totalcol",n.totalcol+e.abandonosxasesor),i)):n})),b=e.abandonosxasesor>b?e.abandonosxasesor:b,d[n.length]["day".concat(t)]+=e.abandonosxasesor,d[n.length].totalcol+=e.abandonosxasesor})),V(d);var g=0;function v(e){var t=255/(b/2);if((isNaN(t)||0===b)&&(t=0),g++,n.length*f<g)return"FFFFFF";if(e<=b/2){var a=Math.floor(e*t).toString(16);return"00".slice(a.length)+a+"ff00"}if(b===e)return"FF0000";var r=Math.floor(255-(e-b/2)*t).toString(16);return"FF"+"00".slice(r.length)+r+"00"}var h=d.length>0?Object.entries(d[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/asesor|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(u):"asesor"===n?"ASESOR":"TOTAL",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){if("totalcol"!==n){var t=v(e.cell.row.original[n]),a=e.cell.column,r=e.cell.row.original;return Object(G.jsx)("div",{onClick:function(){return St("ABANDONED",a,r,!1,u,p)},style:{background:"#".concat(t),textAlign:"center",color:"black"},children:e.cell.row.original[n]})}return Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:e.cell.row.original[n]})}}})):[];null===h||void 0===h||h.shift(),K([{Header:l(x.a.advisor),accessor:"asesor",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(h)))}((null===(s=Ct.data[0])||void 0===s?void 0:s.data)||[],w,_),function(e,t){var n,c=Object(a.a)(t),s=(null===(n=It.startdate)||void 0===n?void 0:n.getMonth())+1;function d(e){var t=510;if(isNaN(t)&&(t=0),e<=.5){var n=Math.floor(e*t).toString(16);return"00".slice(n.length)+n+"ff00"}var a=Math.floor(255-(e-.5)*t).toString(16);return"FF"+"00".slice(a.length)+a+"00"}e.forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),n=e.userid;c=c.map((function(a){return a.userid===n?Object(r.a)(Object(r.a)({},a),{},Object(o.a)({},"day".concat(t),e.tasaabandonosxasesor)):a}))})),$(c);var u=c.length>0?Object.entries(c[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/asesor|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(s):"asesor"===n?"ASESOR":"TOTAL",accessor:n,NoFilter:!0,NoSort:!0,type:"porcentage",Cell:function(e){var t=d(Number(e.cell.row.original[n])),a="".concat((100*Number(e.cell.row.original[n])).toFixed(0)," %");return Object(G.jsx)("div",{style:{background:"#".concat(t),textAlign:"center",color:"black"},children:a})}}})):[];null===u||void 0===u||u.shift(),null===u||void 0===u||u.pop(),ne([{Header:l(x.a.advisor),accessor:"asesor",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(u)))}((null===(d=Ct.data[0])||void 0===d?void 0:d.data)||[],w),function(e,t,n){for(var c,s,d=Object(a.a)(t),u=(null===(c=It.startdate)||void 0===c?void 0:c.getMonth())+1,p=null===(s=It.startdate)||void 0===s?void 0:s.getFullYear(),b=0,f=new Date(p,u,0).getDate(),m={asesor:"TOTAL",userid:0},j=1;j<=f;j++)m["day".concat(j)]=0;m.totalcol=0,d.push(m),e.filter((function(e){return n.filter((function(t){return t.userid===e.userid})).length>0})).forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),a=e.userid;d=d.map((function(n){var i;return n.userid===a?Object(r.a)(Object(r.a)({},n),{},(i={},Object(o.a)(i,"day".concat(t),e.oportunidadesxasesor),Object(o.a)(i,"totalcol",n.totalcol+e.oportunidadesxasesor),i)):n})),b=e.oportunidadesxasesor>b?e.oportunidadesxasesor:b,d[n.length]["day".concat(t)]+=e.oportunidadesxasesor,d[n.length].totalcol+=e.oportunidadesxasesor})),R(d);var g=0;function v(e){var t=255/(b/2);if((isNaN(t)||0===b)&&(t=0),g++,n.length*f<g)return"FFFFFF";if(e<=b/2){var a=Math.floor(e*t).toString(16);return"00".slice(a.length)+a+"ff00"}if(b===e)return"FF0000";var r=Math.floor(255-(e-b/2)*t).toString(16);return"FF"+"00".slice(r.length)+r+"00"}var h=d.length>0?Object.entries(d[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/asesor|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(u):"asesor"===n?"ASESOR":"TOTAL",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){if("totalcol"!==n){var t=v(e.cell.row.original[n]),a=e.cell.column,r=e.cell.row.original;return Object(G.jsx)("div",{onClick:function(){return St("OPPORTUNITY",a,r,!0,u,p)},style:{background:"#".concat(t),textAlign:"center",color:"black"},children:e.cell.row.original[n]})}return Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:e.cell.row.original[n]})}}})):[];null===h||void 0===h||h.shift(),P([{Header:l(x.a.advisor),accessor:"asesor",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(h)))}((null===(u=Ct.data[0])||void 0===u?void 0:u.data)||[],w,_),function(e,t){var n,c=Object(a.a)(t),s=(null===(n=It.startdate)||void 0===n?void 0:n.getMonth())+1;function d(e){var t=510;if(isNaN(t)&&(t=0),e<=.5){var n=Math.floor(e*t).toString(16);return"00".slice(n.length)+n+"ff00"}var a=Math.floor(255-(e-.5)*t).toString(16);return"FF"+"00".slice(a.length)+a+"00"}e.forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),n=e.userid;c=c.map((function(a){return a.userid===n?Object(r.a)(Object(r.a)({},a),{},Object(o.a)({},"day".concat(t),e.tasaoportunidadesxasesor)):a}))})),oe(c);var u=c.length>0?Object.entries(c[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/asesor/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(s):"asesor"===n?"ASESOR":"TOTAL",accessor:n,NoFilter:!0,NoSort:!0,type:"porcentage",Cell:function(e){var t=d(Number(e.cell.row.original[n])),a="".concat((100*Number(e.cell.row.original[n])).toFixed(0)," %");return Object(G.jsx)("div",{style:{background:"#".concat(t),textAlign:"center",color:"black"},children:a})}}})):[];null===u||void 0===u||u.shift(),null===u||void 0===u||u.pop(),pe([{Header:l(x.a.advisor),accessor:"asesor",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(u)))}((null===(f=Ct.data[0])||void 0===f?void 0:f.data)||[],w),function(e,t,n){for(var c,s,d=Object(a.a)(t),u=(null===(c=It.startdate)||void 0===c?void 0:c.getMonth())+1,p=null===(s=It.startdate)||void 0===s?void 0:s.getFullYear(),b=0,f=new Date(p,u,0).getDate(),m={asesor:"TOTAL",userid:0},j=1;j<=f;j++)m["day".concat(j)]=0;m.totalcol=0,d.push(m),e.filter((function(e){return n.filter((function(t){return t.userid===e.userid})).length>0})).forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),a=e.userid;d=d.map((function(n){var i;return n.userid===a?Object(r.a)(Object(r.a)({},n),{},(i={},Object(o.a)(i,"day".concat(t),e.ventasxasesor),Object(o.a)(i,"totalcol",n.totalcol+e.ventasxasesor),i)):n})),b=e.ventasxasesor>b?e.ventasxasesor:b,d[n.length]["day".concat(t)]+=e.ventasxasesor,d[n.length].totalcol+=e.ventasxasesor})),Te(d);var g=0;function v(e){var t=255/(b/2);if((isNaN(t)||0===b)&&(t=0),g++,n.length*f<g)return"FFFFFF";if(e<=b/2){var a=Math.floor(e*t).toString(16);return"00".slice(a.length)+a+"ff00"}if(b===e)return"FF0000";var r=Math.floor(255-(e-b/2)*t).toString(16);return"FF"+"00".slice(r.length)+r+"00"}var h=d.length>0?Object.entries(d[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/asesor|horanum/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(u):"asesor"===n?"ASESOR":"TOTAL",accessor:n,NoFilter:!0,NoSort:!0,Cell:function(e){if("totalcol"!==n){var t=v(e.cell.row.original[n]),a=e.cell.column,r=e.cell.row.original;return Object(G.jsx)("div",{onClick:function(){return St("OPPORTUNITYWON",a,r,!0,u,p)},style:{background:"#".concat(t),textAlign:"center",color:"black"},children:e.cell.row.original[n]})}return Object(G.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",background:"white"},children:e.cell.row.original[n]})}}})):[];null===h||void 0===h||h.shift(),He([{Header:l(x.a.advisor),accessor:"asesor",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(h)))}((null===(m=Ct.data[0])||void 0===m?void 0:m.data)||[],w,_),function(e,t){var n,c=Object(a.a)(t),s=(null===(n=It.startdate)||void 0===n?void 0:n.getMonth())+1;function d(e){var t=510;if(isNaN(t)&&(t=0),e<=.5){var n=Math.floor(e*t).toString(16);return"00".slice(n.length)+n+"ff00"}var a=Math.floor(255-(e-.5)*t).toString(16);return"FF"+"00".slice(a.length)+a+"00"}e.forEach((function(e){var t=null==e.tasaventasxticket?0:e.tasaventasxticket,n=parseInt(e.fecha.split("-")[2]),a=e.userid;c=c.map((function(e){return e.userid===a?Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},"day".concat(n),t)):e}))})),je(c);var u=c.length>0?Object.entries(c[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/asesor/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(s):"asesor"===n?"ASESOR":"TOTAL",accessor:n,NoFilter:!0,NoSort:!0,type:"porcentage",Cell:function(e){var t=d(Number(e.cell.row.original[n])),a="".concat((100*Number(e.cell.row.original[n])).toFixed(0)," %");return Object(G.jsx)("div",{style:{background:"#".concat(t),textAlign:"center",color:"black"},children:a})}}})):[];null===u||void 0===u||u.shift(),null===u||void 0===u||u.pop(),Oe([{Header:l(x.a.advisor),accessor:"asesor",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(u)))}((null===(j=Ct.data[0])||void 0===j?void 0:j.data)||[],w),function(e,t){var n,c=Object(a.a)(t),s=(null===(n=It.startdate)||void 0===n?void 0:n.getMonth())+1;function d(e){var t=510;if(isNaN(t)&&(t=0),e<=.5){var n=Math.floor(e*t).toString(16);return"00".slice(n.length)+n+"ff00"}var a=Math.floor(255-(e-.5)*t).toString(16);return"FF"+"00".slice(a.length)+a+"00"}e.forEach((function(e){var t=null==e.tasaventasxoportunidad?0:e.tasaventasxoportunidad,n=parseInt(e.fecha.split("-")[2]),a=e.userid;c=c.map((function(e){return e.userid===a?Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},"day".concat(n),t)):e}))})),_e(c);var u=c.length>0?Object.entries(c[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/asesor/gi.test(t)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return{Header:n.includes("day")?"".concat(n.split("day")[1],"/").concat(s):"asesor"===n?"ASESOR":"TOTAL",accessor:n,NoFilter:!0,NoSort:!0,type:"porcentage",Cell:function(e){var t=d(Number(e.cell.row.original[n])),a="".concat((100*Number(e.cell.row.original[n])).toFixed(0)," %");return Object(G.jsx)("div",{style:{background:"#".concat(t),textAlign:"center",color:"black"},children:a})}}})):[];null===u||void 0===u||u.shift(),null===u||void 0===u||u.pop(),De([{Header:l(x.a.advisor),accessor:"asesor",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(u)))}((null===(g=Ct.data[0])||void 0===g?void 0:g.data)||[],w)}}),[Ct,p]),Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{style:{width:"100%",display:"flex",paddingTop:10},children:[Object(G.jsx)("div",{style:{flex:1,paddingRight:"10px"},children:Object(G.jsx)(Ze.a,{id:"date",className:s.fieldsfilter,type:"month",variant:"outlined",onChange:function(e){return function(e){if(""===e)Nt((function(t){return Object(r.a)(Object(r.a)({},t),{},{datetoshow:e})}));else{var t=+e.split("-")[0],n=+e.split("-")[1],a=new Date(t,n-1,1),i=new Date(t,n,0);Nt((function(t){return Object(r.a)(Object(r.a)({},t),{},{startdate:a,enddate:i,datetoshow:e})}))}}(e.target.value)},value:It.datetoshow,size:"small"})}),Object(G.jsx)("div",{style:{flex:1,paddingRight:10},children:Object(G.jsx)(y.q,{label:l(x.a.advisor),className:s.fieldsfilter,variant:"outlined",onChange:function(e){Nt((function(t){return Object(r.a)(Object(r.a)({},t),{},{closedby:e.map((function(e){return e.domainvalue})).join()})}))},valueDefault:It.closedby,data:ze,optionDesc:"domaindesc",optionValue:"domainvalue"})}),Object(G.jsx)("div",{style:{flex:1,paddingRight:10},children:Object(G.jsx)(y.q,{label:l(x.a.company),className:s.fieldsfilter,variant:"outlined",onChange:function(e){Nt((function(t){return Object(r.a)(Object(r.a)({},t),{},{company:e.map((function(e){return e.domainvalue})).join()})}))},valueDefault:It.company,data:t,optionDesc:"domaindesc",optionValue:"domainvalue"})}),Object(G.jsx)("div",{style:{flex:1},children:Object(G.jsx)(y.q,{label:l(x.a.group),className:s.fieldsfilter,variant:"outlined",onChange:function(e){Nt((function(t){return Object(r.a)(Object(r.a)({},t),{},{group:e.map((function(e){return e.domainvalue})).join()})}))},valueDefault:It.group,data:n,optionDesc:"domaindesc",optionValue:"domainvalue"})}),Object(G.jsx)("div",{style:{flex:1,paddingLeft:20},children:Object(G.jsx)(T.a,{variant:"contained",color:"primary",style:{width:"100%",backgroundColor:"#007bff"},onClick:function(){return Et()},children:l(x.a.search)})})]}),j.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:D,titlemodule:l(x.a.completadosxAsesor),data:j,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:l(x.a.notecompletedasesors)})}):"",W.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:Y,titlemodule:l(x.a.abandonosxAsesor),data:W,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:l(x.a.noteabandonedasesors)})}):"",X.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:te,titlemodule:l(x.a.tasaAbandonosxAsesor),data:X,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:l(x.a.tasaAbandonosxAsesortooltip)})}):"",A.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:M,titlemodule:l(x.a.oportunidadesxAsesor),data:A,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:l(x.a.oportunidadesxAsesortooltip)})}):"",ie.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:ue,titlemodule:l(x.a.tasaOportunidades),data:ie,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:l(x.a.tasaOportunidadestooltip)})}):"",Ee.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:Re,titlemodule:l(x.a.ventasxAsesor),data:Ee,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:l(x.a.ventasxAsesortooltip)})}):"",me.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:Pe?he:ke,titlemodule:l(x.a.efectividadxAsesor),data:Pe?me:we,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1,helperText:l(x.a.efectividadxAsesortooltip),ButtonsElement:function(){return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(y.P,{valueDefault:Pe,onChange:function(e){return Le(e)},textYes:l(x.a.ticketbase),textNo:l(x.a.oportunitybase),labelPlacement:"start",style:{padding:10}})})}})}):"",Object(G.jsx)(ot,{openModal:Ot,setOpenModal:xt,title:Je,row:qe,columns:et,data:(null===wt||void 0===wt?void 0:wt.data)||[]}),Object(G.jsx)(tt.a,{openModal:pt,setOpenModal:bt,ticket:lt})]})},st=function(){var e,t=Object(O.a)().t,n=rt(),l=Object(k.c)(),s=Object(w.b)((function(e){return e.main.multiData})),d=Object(w.b)((function(e){return e.main.multiDataAux2})),u=Object(c.useState)(!1),p=Object(i.a)(u,2),b=p[0],f=p[1],m=Object(c.useState)([]),j=Object(i.a)(m,2),v=j[0],h=j[1],y=Object(c.useState)([]),_=Object(i.a)(y,2),D=_[0],N=_[1],E=Object(c.useState)({communicationchannel:"",startdate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),enddate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),datetoshow:"".concat(new Date((new Date).setDate(1)).getFullYear(),"-").concat(String(new Date((new Date).setDate(1)).getMonth()+1).padStart(2,"0"))}),F=Object(i.a)(E,2),A=F[0],R=F[1],H=Object(c.useState)(!1),B=Object(i.a)(H,2),M=B[0],P=B[1],L=Object(c.useState)(!1),z=Object(i.a)(L,2),W=z[0],V=z[1],q=Object(c.useState)(""),U=Object(i.a)(q,2),Y=U[0],K=U[1],J=Object(c.useState)(null),Q=Object(i.a)(J,2),X=Q[0],$=Q[1],Z=Object(c.useState)([]),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1];function ae(){""===A.datetoshow?l(Object(C.e)({show:!0,severity:"error",message:t(x.a.date_format_error)})):(h([]),f(!0),l(Object(C.d)(!0)),l(Object(S.p)([Object(I.Qe)(A)])))}function re(e){for(var n,c,s=[],d=(null===(n=A.startdate)||void 0===n?void 0:n.getMonth())+1,u=null===(c=A.startdate)||void 0===c?void 0:c.getFullYear(),p=0,b=new Date(u,d,0).getDate(),f=1;f<=24;f++){for(var m={hour:f,hournum:nt[f-1]},j=1;j<=b;j++)m["day".concat(j)]=0;s.push(m)}e.forEach((function(e){var t=parseInt(e.fecha.split("-")[2]),n=e.hora;s=s.map((function(a){return a.hournum===n?Object(r.a)(Object(r.a)({},a),{},Object(o.a)({},"day".concat(t),e.value)):a})),p=e.value>p?e.value:p})),h(s);var g=s.length>0?Object.entries(s[0]).filter((function(e){var t=Object(i.a)(e,1)[0];return!/hour|horanum/gi.test(t)})).map((function(e){var n=Object(i.a)(e,2),a=n[0];n[1];return{Header:"".concat(a.split("day")[1],"/").concat(d),accessor:a,NoFilter:!0,NoSort:!0,Cell:function(e){var n=e.cell.column,i=e.cell.row.original,o=function(e){var t=255/(p/2);if((isNaN(t)||0===p)&&(t=0),e<=p/2){var n=Math.floor(e*t).toString(16);return"00".slice(n.length)+n+"ff00"}if(p===e)return"FF0000";var a=Math.floor(255-(e-p/2)*t).toString(16);return"FF"+"00".slice(a.length)+a+"00"}(e.cell.row.original[a]);return Object(G.jsx)("div",{style:{background:"#".concat(o),textAlign:"center",color:"black"},onClick:function(){return function(e,n,a,i,o){if("number"===typeof a[n.id]&&a[n.id]>0){$(a);var c=n.id.replace("day",""),s=a.hour-1,d=a.hournum.replace("a","-");switch(e){case"3.1":K("".concat(t(x.a.agent_plural)," ").concat(t(x.a.day)," ").concat(c," ").concat(d)),ne([{Header:t(x.a.agent),accessor:"asesor"},{Header:t(x.a.channel),accessor:"channel"}])}l(Object(S.r)([Object(I.Re)(Object(r.a)(Object(r.a)({},A),{},{startdate:new Date(o,i-1,c),enddate:new Date(o,i-1,c),horanum:"TOTAL"===a.hournum?"":s}))])),l(Object(C.d)(!0)),P(!0)}}("3.1",n,i,d,u)},children:e.cell.row.original[a]})}}})):[];N([{Header:"Hora",accessor:"hournum",NoFilter:!0,NoSort:!0}].concat(Object(a.a)(g)))}return Object(c.useEffect)((function(){M&&(d.loading||(l(Object(C.d)(!1)),P(!1),V(!0)))}),[d]),Object(c.useEffect)((function(){ae()}),[]),Object(c.useEffect)((function(){var e;!s.loading&&b&&(f(!1),l(Object(C.d)(!1)),"UFN_REPORT_HEATMAP_ASESORESCONECTADOS_SEL"===s.data[0].key?re((null===(e=s.data[0])||void 0===e?void 0:e.data)||[]):re([]))}),[s,b]),Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{style:{width:"100%",display:"flex",paddingTop:10},children:[Object(G.jsx)("div",{style:{flex:1,paddingRight:"10px"},children:Object(G.jsx)(Ze.a,{id:"date",className:n.fieldsfilter,type:"month",variant:"outlined",onChange:function(e){return function(e){if(""===e)R((function(t){return Object(r.a)(Object(r.a)({},t),{},{datetoshow:e})}));else{var t=+e.split("-")[0],n=+e.split("-")[1],a=new Date(t,n-1,1),i=new Date(t,n,0);R((function(t){return Object(r.a)(Object(r.a)({},t),{},{startdate:a,enddate:i,datetoshow:e})}))}}(e.target.value)},value:A.datetoshow,size:"small"})}),Object(G.jsx)("div",{style:{flex:1,paddingLeft:20},children:Object(G.jsx)(T.a,{variant:"contained",color:"primary",style:{width:"100%",backgroundColor:"#007bff"},onClick:function(){return ae()},children:t(x.a.search)})})]}),v.length?Object(G.jsx)("div",{style:{padding:10},children:Object(G.jsx)(g.f,{columns:D,data:v,download:!0,pageSizeDefault:50,filterGeneral:!1,toolsFooter:!1})}):"",Object(G.jsx)(ot,{openModal:W,setOpenModal:V,title:Y,row:X,columns:te,data:(null===(e=d.data[0])||void 0===e?void 0:e.data)||[]})]})},dt=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],s=o[1],d=Object(c.useState)([]),u=Object(i.a)(d,2),p=u[0],b=u[1],f=Object(w.b)((function(e){return e.main.multiDataAux})),m=Object(k.c)();Object(c.useEffect)((function(){var e,t;f.loading||(s((null===(e=f.data[0])||void 0===e?void 0:e.data)||[]),b((null===(t=f.data[1])||void 0===t?void 0:t.data)||[]))}),[f]),Object(c.useEffect)((function(){return m(Object(S.q)([Object(I.ae)("EMPRESA"),Object(I.ae)("GRUPOS")])),function(){m(Object(S.z)()),m(Object(S.C)()),m(Object(S.D)()),m(Object(S.E)())}}),[]);var j=Object(O.a)().t;return Object(G.jsxs)(c.Fragment,{children:[Object(G.jsxs)(et.a,{value:n,indicatorColor:"primary",variant:"fullWidth",style:{borderBottom:"1px solid #EBEAED",backgroundColor:"#FFF",marginTop:8},textColor:"primary",onChange:function(e,t){return a(t)},children:[Object(G.jsx)(y.b,{label:j(x.a.heatmap)}),Object(G.jsx)(y.b,{label:j(x.a.heatmapasesor)}),Object(G.jsx)(y.b,{label:j(x.a.heatmapticket)})]}),0===n&&Object(G.jsx)(ct,{}),1===n&&Object(G.jsx)(lt,{companydomain:l,groupsdomain:p}),2===n&&Object(G.jsx)(st,{})]})},ut=n(830),pt={startDate:new Date((new Date).setDate(1)),endDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),key:"selection"},bt=Object(h.a)((function(e){return{containerHeader:{padding:e.spacing(1)},containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"}}})),ft=["name","shippingdate","from","total","satisfactory","failed","satisfactoryp","failedp"],mt=function(e){var t,n=e.data.row,a=e.setViewSelected,r=bt(),i=Object(k.c)(),o=Object(O.a)().t,s=Object(w.b)((function(e){return e.main.multiDataAux2}));Object(c.useEffect)((function(){s.loading||i(Object(C.d)(!1))}),[s]),Object(c.useEffect)((function(){i(Object(C.d)(!0)),i(Object(S.r)([Object(_.ae)({name:(null===n||void 0===n?void 0:n.name)||"",from:(null===n||void 0===n?void 0:n.from)||"",date:(null===n||void 0===n?void 0:n.shippingdate)||"",type:(null===n||void 0===n?void 0:n.type)||""})]))}),[]);var d=l.a.useMemo((function(){return[{Header:o(x.a.recipientsname),accessor:"clientname",NoFilter:!0},{Header:o(x.a.contact),accessor:"contact",NoFilter:!0},{Header:"".concat(o(x.a.channel)),accessor:"channel",NoFilter:!0},{Header:"".concat(o(x.a.origin)),accessor:"origin",NoFilter:!0},{Header:o(x.a.group),accessor:"group",NoFilter:!0},{Header:o(x.a.status),accessor:"status",NoFilter:!0,prefixTranslation:"status_",Cell:function(e){var t=e.cell.row.original.status;return(o("status_".concat(t).toLowerCase())||"").toUpperCase()}},{Header:o(x.a.communicationtemplate),accessor:"templatename",NoFilter:!0},{Header:o(x.a.body),accessor:"body",NoFilter:!0},{Header:o(x.a.log),accessor:"log",NoFilter:!0}]}),[o]);return Object(G.jsx)("div",{style:{width:"100%"},children:Object(G.jsx)("div",{className:r.containerDetail,children:Object(G.jsx)(g.f,{titlemodule:"".concat(null===n||void 0===n?void 0:n.name_translated," (").concat(null===n||void 0===n?void 0:n.shippingdate,")")||!1,ButtonsElement:function(){return Object(G.jsx)(T.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(G.jsx)(fe.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return a("view-1")},children:o(x.a.back)})},columns:d,data:(null===(t=s.data[0])||void 0===t?void 0:t.data)||[],download:!0,loading:s.loading,register:!1,filterGeneral:!1})})})},jt=function(e){var t,n,a=e.openModal,r=e.setOpenModal,i=e.setView,o=(e.row,e.daterange),l=(e.filters,e.columns),s=(e.columnsprefix,Object(O.a)().t),d=Object(k.c)(),u=Object(J.d)({defaultValues:{graphictype:"BAR",column:""}}),p=u.register,b=u.handleSubmit,f=u.setValue,m=u.getValues,j=u.formState.errors;Object(c.useEffect)((function(){p("graphictype",{validate:function(e){return e&&e.length||s(x.a.field_required)}}),p("column",{validate:function(e){return e&&e.length||s(x.a.field_required)}})}),[p]);var g=b((function(e){v(e)})),v=function(e){i("CHART-".concat(e.graphictype,"-").concat(e.column)),r(!1),d(Object(S.o)(Object(_.Yd)({startdate:null===o||void 0===o?void 0:o.startDate,enddate:null===o||void 0===o?void 0:o.endDate,column:e.column,summarization:"COUNT"})))};return Object(G.jsxs)(y.g,{open:a,title:s(x.a.graphic_configuration),button1Type:"button",buttonText1:s(x.a.cancel),handleClickButton1:function(){r(!1)},button2Type:"button",buttonText2:s(x.a.accept),handleClickButton2:g,children:[Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:s(x.a.graphic_type),className:"col-12",valueDefault:m("graphictype"),error:null===j||void 0===j||null===(t=j.graphictype)||void 0===t?void 0:t.message,onChange:function(e){return f("graphictype",null===e||void 0===e?void 0:e.key)},data:[{key:"BAR",value:"BAR"},{key:"PIE",value:"PIE"}],uset:!0,prefixTranslation:"graphic_",optionDesc:"value",optionValue:"key"})}),Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:s(x.a.graphic_view_by),className:"col-12",valueDefault:m("column"),error:null===j||void 0===j||null===(n=j.column)||void 0===n?void 0:n.message,onChange:function(e){return f("column",null===e||void 0===e?void 0:e.key)},data:l,optionDesc:"value",optionValue:"key",uset:!0,prefixTranslation:""})})]})},gt=function(){var e=Object(k.c)(),t=Object(O.a)().t,n=Object(w.b)((function(e){return e.main.multiData})),a=bt(),o=Object(c.useState)(!1),s=Object(i.a)(o,2),d=s[0],u=s[1],p=Object(c.useState)(pt),b=Object(i.a)(p,2),f=b[0],m=b[1],j=Object(c.useState)("view-1"),h=Object(i.a)(j,2),I=h[0],N=h[1],E=Object(c.useState)({row:null,edit:!1}),F=Object(i.a)(E,2),A=F[0],R=F[1],H=Object(c.useState)([]),B=Object(i.a)(H,2),M=B[0],P=B[1],L=Object(c.useState)(!1),z=Object(i.a)(L,2),W=z[0],V=z[1],q=Object(c.useState)("GRID"),U=Object(i.a)(q,2),Y=U[0],K=U[1];Object(c.useEffect)((function(){return e(Object(S.H)("recordhsmreport")),function(){e(Object(S.b)())}}),[]);var J=l.a.useMemo((function(){return[{Header:t(x.a.shippingreason),accessor:"name_translated"},{Header:t(x.a.shippingdate),accessor:"shippingdate",NoFilter:!0},{Header:t(x.a.shippingfrom),accessor:"from",NoFilter:!0},{Header:t(x.a.total),accessor:"total",NoFilter:!0,type:"number",sortType:"number"},{Header:t(x.a.satisfactory),accessor:"satisfactory",NoFilter:!0,type:"number",sortType:"number"},{Header:t(x.a.failed),accessor:"failed",NoFilter:!0,type:"number",sortType:"number"},{Header:"% ".concat(t(x.a.satisfactory)),accessor:"satisfactoryp",NoFilter:!0,type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.satisfactoryp;return"".concat(parseInt(t)," %")}},{Header:"% ".concat(t(x.a.failed)),accessor:"failedp",NoFilter:!0,type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.failedp;return"".concat(parseInt(t)," %")}}]}),[t]);Object(c.useEffect)((function(){return function(){e(Object(S.C)())}}),[]),Object(c.useEffect)((function(){var a;n.loading||(P((null===(a=n.data[0])||void 0===a?void 0:a.data.map((function(e){var n;return Object(r.a)(Object(r.a)({},e),{},{name_translated:e.name!==e.translationname?(t("report_sentmessages_".concat(e.name).toLowerCase())||"").toUpperCase():null===(n=e.name)||void 0===n?void 0:n.toUpperCase()})})))||[]),e(Object(C.d)(!1)))}),[n]);var Q,$,Z,ee;return"view-1"===I?Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("div",{style:{height:10}}),"GRID"===Y?Object(G.jsx)(g.f,{onClickRow:function(e){N("view-2"),R({row:e,edit:!1})},columns:J,data:M,ButtonsElement:function(){return Object(G.jsxs)("div",{className:a.containerHeader,style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"space-between"},children:[Object(G.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(G.jsx)(y.f,{open:d,setOpen:u,range:f,onSelect:m,children:Object(G.jsx)(T.a,{className:a.itemDate,startIcon:Object(G.jsx)(D.n,{}),onClick:function(){return u(!d)},children:Object(_.Ec)(f.startDate)+" - "+Object(_.Ec)(f.endDate)})}),Object(G.jsx)("div",{children:Object(G.jsx)(T.a,{disabled:n.loading,variant:"contained",color:"primary",startIcon:Object(G.jsx)(ut.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){return e(Object(C.d)(!0)),void e(Object(S.p)([Object(_.Zd)({startdate:f.startDate,enddate:f.endDate,type:""})]))},children:t(x.a.search)})})]}),Object(G.jsx)(T.a,{className:a.button,variant:"contained",color:"primary",disabled:n.loading||!(n.data.length>0),onClick:function(){return V(!0)},startIcon:Object(G.jsx)(X.a,{}),children:t(x.a.graphic_view)})]})},download:!0,filterGeneral:!1,loading:n.loading,register:!1}):Object(G.jsx)(v.b,{graphicType:(null===(Q=Y.split("-"))||void 0===Q?void 0:Q[1])||"BAR",column:(null===($=Y.split("-"))||void 0===$?void 0:$[2])||"summary",openModal:W,setOpenModal:V,daterange:{startDate:null===(Z=f.startDate)||void 0===Z?void 0:Z.toISOString().substring(0,10),endDate:null===(ee=f.endDate)||void 0===ee?void 0:ee.toISOString().substring(0,10)},setView:K,row:{origin:"sentmessages"},handlerSearchGraphic:function(t,n){e(Object(S.o)(Object(_.Yd)({startdate:null===t||void 0===t?void 0:t.startDate,enddate:null===t||void 0===t?void 0:t.endDate,column:n,summarization:"COUNT"})))}}),Object(G.jsx)(jt,{openModal:W,setOpenModal:V,setView:K,daterange:f,columns:ft.map((function(e){return{key:e,value:"report_sentmessages_".concat(e)}})),columnsprefix:"report_sentmessages_"})]}):"view-2"===I?Object(G.jsx)(mt,{data:A,setViewSelected:N}):null},vt=n(341),ht=Object(h.a)((function(e){return{containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},containerFilter:{width:"100%",padding:"10px",marginBottom:"10px",display:"flex",gap:8,flexWrap:"wrap",backgroundColor:"white"},filterComponent:{minWidth:"220px",maxWidth:"260px"},containerHeader:Object(o.a)({display:"flex",flexWrap:"wrap",gap:16},e.breakpoints.up("sm"),{display:"flex"}),containerDetails:{paddingBottom:e.spacing(2)},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},BackGrRed:{backgroundColor:"#fb5f5f"},BackGrGreen:{backgroundColor:"#55bd84"},iconHelpText:{width:15,height:15,cursor:"pointer"},containerHeaderItem:Object(o.a)({backgroundColor:"#FFF",padding:8,display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"}),itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"}}})),Ot=function(e){var t=e.data,n=t.row,a=t.columnid,o=e.setViewSelected,s=ht(),d=Object(k.c)(),u=Object(O.a)().t,p=Object(w.b)((function(e){return e.main.multiDataAux2})),b=Object(c.useState)([]),f=Object(i.a)(b,2),m=f[0],j=f[1],v=Object(c.useState)(!1),h=Object(i.a)(v,2),y=h[0],D=h[1],I=Object(c.useState)(null),N=Object(i.a)(I,2),E=N[0],F=N[1],A=Object(c.useState)(!1),R=Object(i.a)(A,2),H=R[0],B=R[1];function M(){B(!0),d(Object(C.d)(!0)),d(Object(S.r)([Object(_.gd)({corpid:(null===n||void 0===n?void 0:n.corpid)||0,year:(null===n||void 0===n?void 0:n.year)||0,month:(null===a||void 0===a?void 0:a.includes("month_"))?+a.replace("month_",""):0,currency:(null===n||void 0===n?void 0:n.currency)||""})]))}Object(c.useEffect)((function(){var e;H&&!p.loading&&(j(((null===(e=p.data[0])||void 0===e?void 0:e.data)||[]).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{invoicestatus:u("".concat(e.invoicestatus))||"",paymentstatus:u("".concat(e.paymentstatus))||"",paymentdate:e.paymentdate?new Date(e.paymentdate).toLocaleString():""})}))||[]),B(!1),d(Object(C.d)(!1)))}),[p]),Object(c.useEffect)((function(){M()}),[]);var P=l.a.useMemo((function(){return[{Header:"".concat(u(x.a.client)),accessor:"client",NoFilter:!0,Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("span",{style:{color:t.color},children:t.corpdesc})}},{Header:u(x.a.year),accessor:"year",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:u(x.a.month),accessor:"month",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:"".concat(u(x.a.corporation)),accessor:"corpdesc",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:"".concat(u(x.a.organization)),accessor:"orgdesc",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:u(x.a.receipt),accessor:"seriecorrelative",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.row.original.urlpdf,a=e.cell.row.original.serie&&e.cell.row.original.correlative?e.cell.row.original.serie+"-"+e.cell.row.original.correlative.toString().padStart(8,"0"):null;return Object(G.jsx)(G.Fragment,{children:n?Object(G.jsx)("a",{onClick:function(e){e.stopPropagation()},style:{color:t.color},href:n,target:"_blank",rel:"noreferrer",children:a}):Object(G.jsx)("span",{style:{color:t.color},children:a})})}},{Header:u(x.a.currency),accessor:"currency",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:u(x.a.taxbase),accessor:"subtotal",NoFilter:!0,type:"number",Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:Object(_.gb)(t[n])})}},{Header:"IGV",accessor:"taxes",NoFilter:!0,type:"number",Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:Object(_.gb)(t[n])})}},{Header:u(x.a.totalamount),accessor:"totalamount",NoFilter:!0,type:"number",Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:Object(_.gb)(t[n])})}},{Header:u(x.a.statusofinvoice),accessor:"invoicestatus",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:u(x.a.paymentstatus),accessor:"paymentstatus",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:u(x.a.dateofissue),accessor:"invoicedate",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:u(x.a.dueDate),accessor:"expirationdate",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:u(x.a.paymentdate),accessor:"paymentdate",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t.color},children:t[n]})}},{Header:u(x.a.comments),accessor:"commentcontent",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.row.original.commentcontent;return n?Object(G.jsx)("span",{style:{color:t.color},children:Object(G.jsx)(c.Fragment,{children:Object(G.jsxs)("div",{style:{display:"inline-block"},children:[(n||"").substring(0,50),"... ",Object(G.jsx)("a",{href:"#",onClick:function(e){e.stopPropagation(),L(t)},style:{cursor:"pointer",textDecoration:"underline",color:"blue"},rel:"noreferrer",children:u(x.a.seeMore)})]})})}):Object(G.jsx)("span",{style:{color:t.color},children:Object(G.jsx)(c.Fragment,{children:Object(G.jsx)("div",{style:{display:"inline-block"},children:Object(G.jsx)("a",{href:"#",onClick:function(e){e.stopPropagation(),L(t)},style:{display:"block",cursor:"pointer",textDecoration:"underline",color:"blue"},rel:"noreferrer",children:u(x.a.seeMore)})})})})}}]}),[u]),L=function(e){o("view-2"),F(e),D(!0)};return Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(xt,{data:E,openModal:y,setOpenModal:D,onTrigger:function(){D(!1),M(),o("view-2")}}),Object(G.jsx)("div",{className:s.containerDetail,children:Object(G.jsx)(g.f,{titlemodule:"".concat(null===n||void 0===n?void 0:n.corpdesc," (").concat(null===n||void 0===n?void 0:n.year).concat((null===a||void 0===a?void 0:a.includes("month_"))?"-".concat(a.replace("month_","")):"",")"),ButtonsElement:function(){return Object(G.jsx)(T.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(G.jsx)(fe.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return o("view-1")},children:u(x.a.back)})},columns:P,data:m,download:!0,loading:H&&p.loading,register:!1,filterGeneral:!1})})]})},xt=function(e){var t=e.data,n=e.openModal,a=e.setOpenModal,r=e.onTrigger,o=Object(k.c)(),l=Object(O.a)().t,s=ht(),d=Object(w.b)((function(e){return e.main.multiDataAux2})),u=Object(w.b)((function(e){return e.main.execute})),p=Object(c.useState)([]),b=Object(i.a)(p,2),f=b[0],m=b[1],j=Object(c.useState)(!1),g=Object(i.a)(j,2),v=g[0],h=g[1],D=Object(c.useState)(!1),I=Object(i.a)(D,2),N=I[0],E=I[1],F=Object(c.useState)(""),A=Object(i.a)(F,2),R=A[0],H=A[1],B=Object(c.useState)(!1),M=Object(i.a)(B,2),P=M[0],L=M[1],z=Object(c.useState)({corpid:null===t||void 0===t?void 0:t.corpid,orgid:null===t||void 0===t?void 0:t.orgid,invoiceid:null===t||void 0===t?void 0:t.invoiceid,invoicecommentid:0,description:"",status:"ACTIVO",type:"",commentcontent:"",commenttype:"text",commentcaption:""}),W=Object(i.a)(z,2),V=W[0],q=W[1],U=function(){o(Object(S.r)([Object(_.Yg)({corpid:null===t||void 0===t?void 0:t.corpid,orgid:null===t||void 0===t?void 0:t.orgid,invoiceid:null===t||void 0===t?void 0:t.invoiceid,invoicecommentid:0})])),E(!0),o(Object(C.d)(!0))};Object(c.useEffect)((function(){if(n&&t){m([]),H(""),L(!1);var e=V;e.corpid=null===t||void 0===t?void 0:t.corpid,e.orgid=null===t||void 0===t?void 0:t.orgid,e.invoiceid=null===t||void 0===t?void 0:t.invoiceid,e.invoicecommentid=0,e.description="",e.status="ACTIVO",e.type="",e.commentcontent="",e.commenttype="text",e.commentcaption="",q(e),U()}}),[t,n]),Object(c.useEffect)((function(){var e;N&&(d.loading||d.error?d.error&&(E(!1),o(Object(C.d)(!1))):(m((null===(e=d.data[0])||void 0===e?void 0:e.data)||[]),o(Object(C.d)(!1)),E(!1)))}),[d,N]),Object(c.useEffect)((function(){if(v)if(u.loading||u.error)u.error&&(o(Object(C.e)({show:!0,severity:"error",message:l(u.code||"error_unexpected_error",{module:l(x.a.organization_plural).toLocaleLowerCase()})})),o(Object(C.d)(!1)),h(!1));else{o(Object(C.e)({show:!0,severity:"success",message:l(x.a.success)})),o(Object(C.d)(!1)),h(!1),m([]);var e=V;e.commentcontent="",q(e),U(),L(!0)}}),[u,v]);return Object(G.jsx)(y.g,{open:n,title:l(x.a.invoicecomments),buttonText1:l(x.a.close),handleClickButton1:function(){a(!1),P&&r()},children:Object(G.jsxs)("div",{style:{overflowY:"auto"},children:[f.map((function(e,t){return Object(G.jsxs)("div",{style:{borderStyle:"solid",borderWidth:"1px",borderColor:"#762AA9",borderRadius:"4px",padding:"10px",margin:"10px"},children:[Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsxs)("b",{style:{width:"100%"},children:[e.createby," ",l(x.a.invoiceat)," ",Object(_.K)(e.createdate||"").toLocaleString()]}),Object(G.jsx)(T.a,{className:s.button,variant:"contained",color:"primary",type:"button",style:{backgroundColor:"#FB5F5F"},onClick:function(){return function(e){V&&e&&o(Object(C.a)({visible:!0,question:l(x.a.confirmation_delete),callback:function(){var t=V;t.corpid=null===e||void 0===e?void 0:e.corpid,t.orgid=null===e||void 0===e?void 0:e.orgid,t.invoiceid=null===e||void 0===e?void 0:e.invoiceid,t.invoicecommentid=null===e||void 0===e?void 0:e.invoicecommentid,t.description=null===e||void 0===e?void 0:e.description,t.status="ELIMINADO",t.type=null===e||void 0===e?void 0:e.type,t.commentcontent=null===e||void 0===e?void 0:e.commentcontent,t.commenttype=null===e||void 0===e?void 0:e.commenttype,t.commentcaption=null===e||void 0===e?void 0:e.commentcaption,o(Object(S.c)(Object(_.Yf)(t))),o(Object(C.d)(!0)),h(!0)}}))}(e)},children:l(x.a.delete)})]}),Object(G.jsx)(y.o,{className:"col-12",label:"",valueDefault:e.commentcontent,disabled:!0})]})})),Object(G.jsxs)("div",{style:{padding:"10px",margin:"10px"},children:[Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsxs)("b",{style:{width:"100%"},children:[l(x.a.new)," ",l(x.a.invoicecomment)]}),Object(G.jsx)(T.a,{className:s.button,variant:"contained",color:"primary",type:"button",style:{backgroundColor:"#55BD84"},onClick:function(){V&&(V.commentcontent?(H(""),o(Object(C.a)({visible:!0,question:l(x.a.confirmation_save),callback:function(){o(Object(S.c)(Object(_.Yf)(V))),o(Object(C.d)(!0)),h(!0)}}))):H(l(x.a.required_fields_missing)))},children:l(x.a.save)})]}),Object(G.jsx)(y.o,{className:"col-12",label:"",valueDefault:V.commentcontent,error:R,onChange:function(e){var t=V;t.commentcontent=e,q(t)}})]})]})})},yt="IDREPORTINVOICE",wt=function(){var e=Object(O.a)().t,t=Object(k.c)(),n=Object(w.b)((function(e){return e.main.mainAux2})),s=Object(w.b)((function(e){return e.main.multiData})),d=Object(w.b)((function(e){return e.main.memoryTable})),u=ht(),p=Object(c.useState)("".concat((new Date).getFullYear())),b=Object(i.a)(p,2),f=b[0],m=b[1],j=Object(c.useState)(""),v=Object(i.a)(j,2),h=v[0],y=v[1],D=Object(c.useState)("view-1"),I=Object(i.a)(D,2),N=I[0],E=I[1],F=Object(c.useState)({row:null,columnid:null,edit:!1}),A=Object(i.a)(F,2),R=A[0],H=A[1],B=Object(c.useState)([]),M=Object(i.a)(B,2),P=M[0],L=M[1],z=Object(c.useState)([]),W=Object(i.a)(z,2),V=W[0],q=W[1],U=Object(c.useState)({}),Y=Object(i.a)(U,2),K=Y[0],J=Y[1],Q=l.a.useMemo((function(){return[{Header:e(x.a.client),accessor:"corpdesc",NoFilter:!0,Footer:function(e){return Object(G.jsx)(G.Fragment,{children:"TOTAL"})}},{Header:e(x.a.currency),accessor:"currency",NoFilter:!0}].concat(Object(a.a)(Object(a.a)(Array.from(Array(12).keys())).map((function(t,n){return{Header:e(x.a["month_".concat((""+(n+1)).padStart(2,"0"))]),accessor:"month_".concat(n+1),type:"number",sortType:"number",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,a=e.cell.column.id;return Object(G.jsx)("span",{style:{color:t["color_".concat(n+1)]},children:Object(_.hb)(t[a])})},Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return t.values["month_".concat(n+1)]+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:Object(_.hb)(t)})}}}))),[{Header:"Total",accessor:"total",type:"number",sortType:"number",NoFilter:!0,Cell:function(e){var t=e.cell.row.original,n=e.cell.column.id;return Object(G.jsx)(G.Fragment,{children:Object(_.hb)(t[n])})},Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return t.values.total+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:Object(_.hb)(t)})}}])}),[]);Object(c.useEffect)((function(){return t(Object(C.d)(!0)),t(Object(S.p)([Object(_.Bc)()])),t(Object(S.G)({id:yt})),function(){t(Object(S.a)()),t(Object(S.C)())}}),[]),Object(c.useEffect)((function(){if(!n.loading){q(Array.from(new Set(((null===n||void 0===n?void 0:n.data)||[]).map((function(e){return e.currency})))));var e=Object(a.a)(Array.from(Array(12).keys())).reduce((function(e,t){var n;return Object(r.a)(Object(r.a)({},e),{},(n={},Object(o.a)(n,"month_".concat(t+1),0),Object(o.a)(n,"color_".concat(t+1),"black"),n))}),{});J(Object.values(((null===n||void 0===n?void 0:n.data)||[]).reduce((function(t,n){var a,i;return Object(r.a)(Object(r.a)({},t),{},Object(o.a)({},"corp_".concat(n.corpid,"_").concat(n.currency),t["corp_".concat(n.corpid,"_").concat(n.currency)]?Object(r.a)(Object(r.a)({},t["corp_".concat(n.corpid,"_").concat(n.currency)]),{},(a={},Object(o.a)(a,"color_".concat(n.month),n.color),Object(o.a)(a,"month_".concat(n.month),n.totalamount),Object(o.a)(a,"total",t["corp_".concat(n.corpid,"_").concat(n.currency)].total+n.totalamount),a)):Object(r.a)(Object(r.a)({},e),{},(i={corpid:n.corpid,corpdesc:n.corpdesc,currency:n.currency},Object(o.a)(i,"color_".concat(n.month),n.color),Object(o.a)(i,"year",n.year),Object(o.a)(i,"month_".concat(n.month),n.totalamount),Object(o.a)(i,"total",n.totalamount),i))))}),{})).reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},t.currency,[].concat(Object(a.a)(e[t.currency]||[]),[t])))}),{})),t(Object(C.d)(!1))}}),[n]),Object(c.useEffect)((function(){var e;s.loading||(L((null===(e=s.data[0])||void 0===e?void 0:e.data)||[]),t(Object(C.d)(!1)))}),[s]);var X=function(e,t){E("view-2"),H({row:e,columnid:t,edit:!1})};return"view-1"===N?Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("div",{style:{height:10}}),Object(G.jsx)("div",{className:u.containerHeader,style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"space-between"},children:Object(G.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(G.jsx)(vt.q,{label:e(x.a.year),style:{width:140},variant:"outlined",valueDefault:f,onChange:function(e){return m(null===e||void 0===e?void 0:e.value)},data:_.O,optionDesc:"value",optionValue:"value"}),Object(G.jsx)(vt.q,{label:e(x.a.currency),style:{width:140},variant:"outlined",valueDefault:h,onChange:function(e){return y(null===e||void 0===e?void 0:e.code)},data:P,optionValue:"code",optionDesc:"code"}),Object(G.jsx)("div",{children:Object(G.jsx)(T.a,{disabled:s.loading,variant:"contained",color:"primary",startIcon:Object(G.jsx)(ut.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){f?(t(Object(C.d)(!0)),t(Object(S.i)(Object(_.hd)({year:f,currency:h})))):t(Object(C.e)({message:e(x.a.xfield_ismissing,{field:e(x.a.year)}),show:!0,severity:"error"}))},children:e(x.a.search)})})]})}),V.map((function(e){return Object(G.jsx)(g.f,{onClickRow:X,columns:Q,data:K[e],download:!0,filterGeneral:!1,loading:s.loading,register:!1,useFooter:!0,pageSizeDefault:yt===d.id?-1===d.pageSize?20:d.pageSize:20,initialPageIndex:yt===d.id?-1===d.page?0:d.page:0,initialStateFilter:yt===d.id?Object.entries(d.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0},e)}))]}):"view-2"===N?Object(G.jsx)(Ot,{data:R,setViewSelected:E}):null},_t=function(){var e=Object(k.c)(),t=Object(O.a)().t,n=Object(w.b)((function(e){return e.main.multiData})),a=Object(w.b)((function(e){return e.main.mainPaginated})),o=Object(w.b)((function(e){return e.main.exportData})),s=Object(c.useState)(0),d=Object(i.a)(s,2),u=d[0],p=d[1],b=Object(c.useState)(0),f=Object(i.a)(b,2),m=f[0],g=f[1],v=Object(c.useState)(!1),h=Object(i.a)(v,2),y=h[0],D=h[1],I=Object(c.useState)(!1),N=Object(i.a)(I,2),E=N[0],T=N[1],F=Object(c.useState)({pageSize:0,pageIndex:0,filters:{},sorts:{},daterange:null}),A=Object(i.a)(F,2),R=A[0],H=A[1];Object(c.useEffect)((function(){return e(Object(S.H)("report_ticketvsasesor")),function(){e(Object(S.b)())}}),[]);var B=l.a.useMemo((function(){return[{Header:t(x.a.ticket_number),accessor:"numeroticket"},{Header:t(x.a.startDate),accessor:"fechainicio"},{Header:t(x.a.starttime),accessor:"horainicio"},{Header:t(x.a.advisor),accessor:"asesor"},{Header:t(x.a.channel),accessor:"canal"},{Header:t(x.a.type),accessor:"tipo"},{Header:t(x.a.submotive),accessor:"submotivo"},{Header:t(x.a.assessment),accessor:"valoracion"},{Header:t(x.a.closedby),accessor:"cerradopor"},{Header:t(x.a.ticket_tipocierre),accessor:"tipocierre"},{Header:t(x.a.dateoffirstreplytoadviser),accessor:"fechaprimerarespuesta"},{Header:t(x.a.timeoffirstreplytoadviser),accessor:"horaprimerarespuesta"},{Header:t(x.a.dateoflastreplytoadviser),accessor:"fechaultimarespuesta"},{Header:t(x.a.timeoflastreplytoadviser),accessor:"horaultimarespuesta"},{Header:t(x.a.closing_date),accessor:"fechacierre"},{Header:t(x.a.closing_time),accessor:"horacierre"},{Header:t(x.a.transactionoperationtype),accessor:"tipo_operacion"},{Header:t(x.a.operador),accessor:"operador"},{Header:"Plan",accessor:"plan"},{Header:t(x.a.purchasemode),accessor:"modalidad_compra"},{Header:t(x.a.province),accessor:"provincia"},{Header:t(x.a.district),accessor:"distrito"},{Header:t(x.a.phone),accessor:"telefono"},{Header:t(x.a.document),accessor:"documento"}]}),[t]);Object(c.useEffect)((function(){return function(){e(Object(S.C)())}}),[]),Object(c.useEffect)((function(){n.loading||e(Object(C.d)(!1))}),[n]);Object(c.useEffect)((function(){var n;if(E)if(o.loading||o.error){if(o.error){var a=t(o.code||"error_unexpected_error",{module:t(x.a.person).toLocaleLowerCase()});e(Object(C.e)({show:!0,severity:"error",message:a})),e(Object(C.d)(!1)),T(!1)}}else e(Object(C.d)(!1)),T(!1),null===(n=o.url)||void 0===n||n.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[o,E]),Object(c.useEffect)((function(){a.loading||a.error||(p(R.pageSize?Math.ceil(a.count/R.pageSize):0),g(a.count))}),[a]);return Object(c.useEffect)((function(){var n;if(y)if(o.loading||o.error){if(o.error){var a=t(o.code||"error_unexpected_error",{module:t(x.a.property).toLocaleLowerCase()});e(Object(C.e)({show:!0,severity:"error",message:a})),e(Object(C.d)(!1)),D(!1)}}else e(Object(C.d)(!1)),D(!1),null===(n=o.url)||void 0===n||n.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[o,y]),Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("div",{style:{height:10}}),Object(G.jsx)(j.b,{columns:B,data:a.data,totalrow:m,loading:a.loading,pageCount:u,filterrange:!0,download:!0,fetchData:function(t){var n=t.pageSize,a=t.pageIndex,i=t.filters,o=t.sorts,c=t.daterange;H({pageSize:n,pageIndex:a,filters:i,sorts:o,daterange:c}),e(Object(S.k)(Object(_.Re)({startdate:c.startDate,enddate:c.endDate,take:n,skip:a*n,sorts:o,filters:Object(r.a)({},i)})))},filterGeneral:!1,exportPersonalized:function(t){var n=t.filters,a=t.sorts,r=t.daterange,i=B.map((function(e){return{key:e.accessor,alias:e.Header}}));e(Object(S.d)(Object(_.ye)({startdate:r.startDate,enddate:r.endDate,sorts:a,filters:n}),"","excel",!1,i)),e(Object(C.d)(!0)),T(!0)},register:!1})]})},St={startDate:new Date((new Date).setDate(1)),endDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),key:"selection"},Ct=Object(h.a)((function(e){return{containerHeader:{padding:e.spacing(1)},containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"}}})),kt=function(e){var t,n=e.data.row,a=e.setViewSelected,r=Ct(),i=Object(k.c)(),o=Object(O.a)().t,s=Object(w.b)((function(e){return e.main.multiDataAux2}));Object(c.useEffect)((function(){s.loading||i(Object(C.d)(!1))}),[s]),Object(c.useEffect)((function(){i(Object(C.d)(!0)),i(Object(S.r)([Object(_.Sc)({campaign:(null===n||void 0===n?void 0:n.campaign)||"",date:(null===n||void 0===n?void 0:n.date)||""})]))}),[]);var d=l.a.useMemo((function(){return[{Header:o(x.a.firstname),accessor:"firstname"},{Header:o(x.a.lastname),accessor:"lastname"},{Header:o(x.a.ticket_number),accessor:"ticketnum"},{Header:o(x.a.rundate),accessor:"rundate"},{Header:o(x.a.runtime),accessor:"runtime"},{Header:o(x.a.finishconversationdate),accessor:"finishdate"},{Header:o(x.a.firstreplydate),accessor:"firstreplydate"},{Header:o(x.a.firstreplytime),accessor:"firstreplytime"},{Header:"".concat(o(x.a.contact)),accessor:"contact"},{Header:o(x.a.channel),accessor:"channel"},{Header:o(x.a.origin),accessor:"origin"},{Header:o(x.a.status),accessor:"status",prefixTranslation:"status_",Cell:function(e){var t=e.cell.row.original.status;return(o("status_".concat(t).toLowerCase())||"").toUpperCase()}},{Header:"N\xb0 ".concat(o(x.a.transaction)),accessor:"transactionid"},{Header:o(x.a.group),accessor:"group"},{Header:o(x.a.agent),accessor:"agent"},{Header:o(x.a.success),accessor:"success",type:"boolean",sortType:"basic",width:180,maxWidth:180,Cell:function(e){return e.cell.row.original.success?o(x.a.yes):"No"}},{Header:o(x.a.realduration),accessor:"realduration"},{Header:o(x.a.classification),accessor:"classification"},{Header:o(x.a.log),accessor:"log"},{Header:o(x.a.body),accessor:"body"},{Header:o(x.a.parameters),accessor:"parameters"}]}),[o]);return Object(G.jsx)("div",{style:{width:"100%"},children:Object(G.jsx)("div",{className:r.containerDetail,children:Object(G.jsx)(g.f,{titlemodule:"".concat(null===n||void 0===n?void 0:n.campaign," (").concat(null===n||void 0===n?void 0:n.date,")")||!1,ButtonsElement:function(){return Object(G.jsx)(T.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(G.jsx)(fe.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return a("view-1")},children:o(x.a.back)})},columns:d,data:(null===(t=s.data[0])||void 0===t?void 0:t.data)||[],download:!0,loading:s.loading,register:!1,filterGeneral:!1})})})},Dt="IDHSMHISTORY",It=function(){var e=Object(k.c)(),t=Object(O.a)().t,n=Object(w.b)((function(e){return e.main.multiData})),a=Ct(),o=Object(c.useState)(!1),s=Object(i.a)(o,2),d=s[0],u=s[1],p=Object(c.useState)(St),b=Object(i.a)(p,2),f=b[0],m=b[1],j=Object(c.useState)("view-1"),v=Object(i.a)(j,2),h=v[0],I=v[1],N=Object(c.useState)({row:null,edit:!1}),E=Object(i.a)(N,2),F=E[0],A=E[1],R=Object(c.useState)([]),H=Object(i.a)(R,2),B=H[0],M=H[1],P=Object(w.b)((function(e){return e.main.memoryTable})),L=Object(c.useState)({}),z=Object(i.a)(L,2),W=z[0],V=z[1],q=Object(c.useState)(!1),U=Object(i.a)(q,2),Y=U[0],K=U[1],J=Object(c.useState)(!1),Q=Object(i.a)(J,2),X=Q[0],$=Q[1],Z=Object(w.b)((function(e){return e.main.exportData}));Object(c.useEffect)((function(){return e(Object(S.H)("hsmhistory")),function(){e(Object(S.b)())}}),[]);var ee=l.a.useMemo((function(){return[{Header:t(x.a.campaign),accessor:"campaign",width:"auto"},{Header:t(x.a.date),accessor:"date",width:"auto"},{Header:t(x.a.total),accessor:"total",type:"number",sortType:"number",width:"auto"},{Header:t(x.a.success),accessor:"success",type:"number",sortType:"number",width:"auto"},{Header:t(x.a.failed),accessor:"failed",type:"number",sortType:"number",width:"auto"},{Header:t(x.a.success_percent),accessor:"successp",type:"number",sortType:"number",width:"auto"},{Header:t(x.a.failed_percent),accessor:"failedp",type:"number",sortType:"number",width:"auto"}]}),[t]);Object(c.useEffect)((function(){return e(Object(S.G)({id:Dt})),function(){e(Object(S.a)())}}),[]);Object(c.useEffect)((function(){0===Object.keys(W).length?K(!1):K(!0)}),[W]),Object(c.useEffect)((function(){var n;if(X)if(Z.loading||Z.error){if(Z.error){var a=t(Z.code||"error_unexpected_error",{module:t(x.a.blacklist).toLocaleLowerCase()});e(Object(C.e)({show:!0,severity:"error",message:a})),e(Object(C.d)(!1)),$(!1)}}else e(Object(C.d)(!1)),$(!1),null===(n=Z.url)||void 0===n||n.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[Z,X]),Object(c.useEffect)((function(){return function(){e(Object(S.C)())}}),[]),Object(c.useEffect)((function(){var a;n.loading||(M((null===(a=n.data[0])||void 0===a?void 0:a.data.map((function(e){var n;return Object(r.a)(Object(r.a)({},e),{},{name_translated:e.name!==e.translationname?(t("report_sentmessages_".concat(e.name).toLowerCase())||"").toUpperCase():null===(n=e.name)||void 0===n?void 0:n.toUpperCase()})})))||[]),e(Object(C.d)(!1)))}),[n]);return"view-1"===h?Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("div",{style:{height:10}}),Object(G.jsx)(g.f,{onClickRow:function(e){I("view-2"),A({row:e,edit:!1})},columns:ee,data:B,ButtonsElement:function(){return Object(G.jsx)("div",{className:a.containerHeader,style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"space-between"},children:Object(G.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(G.jsx)(y.f,{open:d,setOpen:u,range:f,onSelect:m,children:Object(G.jsx)(T.a,{className:a.itemDate,startIcon:Object(G.jsx)(D.n,{}),onClick:function(){return u(!d)},children:Object(_.Ec)(f.startDate)+" - "+Object(_.Ec)(f.endDate)})}),Object(G.jsx)("div",{children:Object(G.jsx)(T.a,{disabled:n.loading,variant:"contained",color:"primary",startIcon:Object(G.jsx)(ut.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){return e(Object(C.d)(!0)),void e(Object(S.p)([Object(_.Rc)({startdate:f.startDate,enddate:f.endDate})]))},children:t(x.a.search)})})]})})},download:!0,filterGeneral:!1,loading:n.loading,register:!1,triggerExportPersonalized:Y,exportPersonalized:function(){if(0===Object.keys(W).length)return e(Object(C.e)({show:!0,severity:"error",message:t(x.a.no_record_selected)})),null;e(Object(S.d)(Object(_.Tc)(Object.keys(W).reduce((function(e,t){return e.push({ddate:t.split("_")[t.split("_").length-1],campaignname:t.split("_".concat(t.split("_")[t.split("_").length-1]))[0]}),e}),[])),"".concat(t(x.a.report)),"excel",!0,[{key:"campaign",alias:t(x.a.campaign)},{key:"firstname",alias:t(x.a.firstname)},{key:"lastname",alias:t(x.a.lastname)},{key:"ticketnum",alias:t(x.a.ticket)},{key:"rundate",alias:t(x.a.rundate)},{key:"runtime",alias:t(x.a.runtime)},{key:"finishdate",alias:t(x.a.finishconversationdate)},{key:"firstreplydate",alias:t(x.a.firstreplydate)},{key:"firstreplytime",alias:t(x.a.firstreplytime)},{key:"contact",alias:t(x.a.contact)},{key:"channel",alias:t(x.a.channel)},{key:"origin",alias:t(x.a.origin)},{key:"status",alias:t(x.a.status)},{key:"transactionid",alias:t(x.a.transaction)},{key:"group",alias:t(x.a.group)},{key:"agent",alias:t(x.a.agent)},{key:"success",alias:t(x.a.success)},{key:"realduration",alias:t(x.a.realduration)},{key:"classification",alias:t(x.a.classification)},{key:"log",alias:t(x.a.log)},{key:"body",alias:t(x.a.body)},{key:"parameters",alias:t(x.a.parameters)}])),e(Object(C.d)(!0)),$(!0)},useSelection:!0,selectionKey:"id",setSelectedRows:V,pageSizeDefault:Dt===P.id?-1===P.pageSize?20:P.pageSize:20,initialPageIndex:Dt===P.id?-1===P.page?0:P.page:0,initialStateFilter:Dt===P.id?Object.entries(P.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0})]}):"view-2"===h?Object(G.jsx)(kt,{data:F,setViewSelected:I}):null},Nt=n(52),Et=n(1398),Tt=n(1399),Ft=n(1404),At=n(934),Rt=n(935),Ht=n(1359),Bt=n(1077),Mt=n(1494),Pt=n(1219),Lt=n(933),zt=n(171),Gt=n(1230),Wt=["cx","cy","midAngle","innerRadius","outerRadius","percent","value"],Vt=["#0f8fe5","#067713","#296680","#fc3617","#e8187a","#7cfa57","#cfbace","#4cd45f","#fd5055","#7e1be4","#bf1490","#66c6cf","#011c3d","#1a9595","#4ae2c7","#515496","#a2aa65","#df909c","#3aa343","#e0606e"],qt="UNIQUECONTACTS",Ut=Object(h.a)((function(e){return{containerHeader:{padding:e.spacing(1)},containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},filterComponent:{minWidth:"220px",maxWidth:"260px"},numericCell:{textAlign:"end",paddingRight:"40px"},containerHeaderItem:Object(o.a)({backgroundColor:"#FFF",padding:8,display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"}),labellink:{color:"#7721ad",textDecoration:"underline",cursor:"pointer"},fieldElipsis:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:230}}})),Yt=function(e){var t=e.data,n=e.graphicType,a=Object(O.a)().t,r=l.a.useMemo((function(){return[{Header:a(x.a.month),accessor:"name",NoFilter:!0,Cell:function(e){var t=e.cell.row.original;return"BAR"===n?null===t||void 0===t?void 0:t.name:Object(G.jsxs)("div",{style:{display:"flex",gap:4},children:[Object(G.jsx)("div",{style:{width:15,height:15,backgroundColor:t.color}}),null===t||void 0===t?void 0:t.name]})}},{Header:a(x.a.quantity),accessor:"value",NoFilter:!0,type:"number"},{Header:a(x.a.percentage),accessor:"percentage",NoFilter:!0,type:"number",Cell:function(e){return e.cell.row.original.percentage.toFixed(2)+"%"}}]}),[]);return Object(G.jsx)("div",{children:Object(G.jsx)(g.f,{columns:r,data:t,download:!1,filterGeneral:!1,toolsFooter:!1})})},Kt=function(e){var t,n,a=e.openModal,r=e.setView,i=e.setOpenModal,o=e.columns,l=e.setGraphicType,s=Object(O.a)().t,d=Object(J.d)({defaultValues:{graphictype:"BAR",column:"month"}}),u=d.register,p=d.handleSubmit,b=d.setValue,f=d.getValues,m=d.formState.errors;Object(c.useEffect)((function(){u("graphictype",{validate:function(e){return e&&e.length||s(x.a.field_required)}}),u("column",{validate:function(e){return e&&e.length||s(x.a.field_required)}})}),[u]);var j=p((function(e){i(!1),l(e.graphictype),r(e.graphictype)}));return Object(G.jsxs)(y.g,{open:a,title:s(x.a.graphic_configuration),button1Type:"button",buttonText1:s(x.a.cancel),handleClickButton1:function(){i(!1)},button2Type:"button",buttonText2:s(x.a.accept),handleClickButton2:j,children:[Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:s(x.a.graphic_type),className:"col-12",valueDefault:f("graphictype"),error:null===m||void 0===m||null===(t=m.graphictype)||void 0===t?void 0:t.message,onChange:function(e){return b("graphictype",null===e||void 0===e?void 0:e.key)},data:[{key:"BAR",value:"BAR"},{key:"PIE",value:"PIE"}],uset:!0,prefixTranslation:"graphic_",optionDesc:"value",optionValue:"key"})}),Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:s(x.a.graphic_view_by),className:"col-12",valueDefault:f("column"),error:null===m||void 0===m||null===(n=m.column)||void 0===n?void 0:n.message,onChange:function(e){return b("column",null===e||void 0===e?void 0:e.key)},data:o,optionDesc:"value",optionValue:"key",uset:!0,prefixTranslation:""})})]})},Jt=Math.PI/180,Qt=function(e){var t=e.cx,n=e.cy,a=e.midAngle,r=e.innerRadius,i=e.outerRadius,o=(e.percent,e.value),c=(Object(Nt.a)(e,Wt),r+.5*(i-r)),l=t+c*Math.cos(-a*Jt),s=n+c*Math.sin(-a*Jt);return Object(G.jsx)("text",{x:l,y:s,fill:"white",textAnchor:l>t?"start":"end",dominantBaseline:"central",children:o||""})},Xt=function(e){var t=e.row,n=e.setViewSelected,a=Object(c.useState)({pageSize:0,pageIndex:0,filters:{},sorts:{},daterange:null}),o=Object(i.a)(a,2),s=o[0],d=o[1],u=Object(c.useState)({}),p=Object(i.a)(u,2),b=p[0],f=(p[1],Object(w.b)((function(e){return e.main.mainPaginated}))),m=Object(c.useState)(0),g=Object(i.a)(m,2),v=g[0],h=g[1],y=Object(c.useState)(0),D=Object(i.a)(y,2),I=D[0],N=D[1],E=Object(c.useState)(!1),A=Object(i.a)(E,2),R=A[0],H=A[1],B=Object(w.b)((function(e){return e.main.exportData})),M=Object(k.c)(),P=Ut(),L=Object(O.a)().t,z=l.a.useMemo((function(){return[{Header:L(x.a.name),accessor:"name",width:"auto"},{Header:L(x.a.communicationchannel),accessor:"channels",Cell:function(e){var t=e.cell.row.original;return P.fieldElipsis,null===t||void 0===t||t.channels,Object(G.jsx)(F.a,{TransitionComponent:Gt.a,title:null===t||void 0===t?void 0:t.channels,children:Object(G.jsx)("div",{className:P.fieldElipsis,children:null===t||void 0===t?void 0:t.channels})})}},{Header:L(x.a.firstContactDate),accessor:"firstcontact",width:"auto",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return t.firstcontact?Object(_.K)(t.firstcontact).toLocaleString():""}},{Header:L(x.a.lastContactDate),accessor:"lastcontact",width:"auto",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return t.lastcontact?Object(_.K)(t.lastcontact).toLocaleString():""}},{Header:L(x.a.phone),accessor:"phone",width:"auto"},{Header:L(x.a.email),accessor:"email",width:"auto"},{Header:L(x.a.status),accessor:"status",width:"auto"}]}),[L]);Object(c.useEffect)((function(){f.loading||f.error||(N(s.pageSize?Math.ceil(f.count/s.pageSize):0),h(f.count))}),[f]);return Object(c.useEffect)((function(){var e;if(R)if(B.loading||B.error){if(B.error){var t=L(B.code||"error_unexpected_error",{module:L(x.a.person).toLocaleLowerCase()});M(Object(C.e)({show:!0,severity:"error",message:t})),M(Object(C.d)(!1)),H(!1)}}else M(Object(C.d)(!1)),H(!1),null===(e=B.url)||void 0===e||e.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[B,R]),Object(G.jsx)(j.b,{columns:z,data:f.data,totalrow:v,loading:f.loading,pageCount:I,autotrigger:!0,download:!0,ButtonsElement:function(){return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(T.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(G.jsx)(fe.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return n("view-1")},children:L(x.a.back)})})},fetchData:function(e){var n=e.pageSize,a=e.pageIndex,i=e.filters,o=e.sorts,c=e.daterange;d({pageSize:n,pageIndex:a,filters:i,sorts:o,daterange:c}),M(Object(S.k)(Object(_.dh)(Object(r.a)({take:n,skip:a*n,sorts:o,orgid:t.row.orgid,corpid:t.row.corpid,month:t.month,year:t.year,channeltype:t.channeltype,filters:Object(r.a)({},i)},b))))},exportPersonalized:function(e){var n=e.filters,a=e.sorts,i=z.map((function(e){return{key:e.accessor,alias:e.Header}}));M(Object(S.d)(Object(_.Ce)(Object(r.a)({filters:Object(r.a)({},n),sorts:a,year:t.year,corpid:t.row.corpid,orgid:t.row.orgid,month:t.month,channeltype:t.channeltype},b)),"","excel",!1,i)),M(Object(C.d)(!0)),H(!0)}})},$t=function(e){var t=e.year,n=e.channelType,r=Object(k.c)(),o=Object(O.a)().t,s=Object(w.b)((function(e){return e.main.multiDataAux})),d=Object(w.b)((function(e){return e.main.mainAux})),u=Object(c.useState)("view-1"),p=Object(i.a)(u,2),b=p[0],f=p[1],j=Object(c.useState)("GRID"),v=Object(i.a)(j,2),h=v[0],y=v[1],_=Ut(),S=Object(c.useState)([]),D=Object(i.a)(S,2),I=D[0],N=D[1],E=Object(c.useState)([]),F=Object(i.a)(E,2),A=F[0],R=F[1],H=Object(c.useState)(null),B=Object(i.a)(H,2),M=B[0],P=B[1],L=Object(c.useState)(!1),z=Object(i.a)(L,2),W=z[0],V=z[1],q=Object(c.useState)("BAR"),U=Object(i.a)(q,2),Y=U[0],K=U[1],J=Object(w.b)((function(e){return e.main.memoryTable})),Q=function(e){var t=e.cell.column,n=e.cell.row.original;return"Total"===n.client?Object(G.jsx)("div",{children:Object(G.jsx)("b",{children:n[t.id]})}):t.id.includes("_")?Object(G.jsx)("div",{onClick:function(){return $(n,t.id.split("_")[1])},children:n[t.id]}):Object(G.jsx)("div",{children:n[t.id]})},$=function(e,a){P({row:e,month:a,year:t,channeltype:n}),f("view-2")},ee=l.a.useMemo((function(){return[{Header:o(x.a.client),accessor:"client",width:"auto",Cell:function(e){var t=e.cell.column,n=e.cell.row.original;return"Total"===n.client?Object(G.jsx)("div",{children:Object(G.jsx)("b",{children:n[t.id]})}):Object(G.jsx)("div",{children:n[t.id]})}},{Header:o(x.a.month_01),accessor:"month_1",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_02),accessor:"month_2",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_03),accessor:"month_3",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_04),accessor:"month_4",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_05),accessor:"month_5",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_06),accessor:"month_6",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_07),accessor:"month_7",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_08),accessor:"month_8",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_09),accessor:"month_9",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_10),accessor:"month_10",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_11),accessor:"month_11",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_12),accessor:"month_12",width:"auto",type:"number",Cell:Q},{Header:o(x.a.total),accessor:"total",width:"auto",type:"number",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("b",{children:t.total})}}]}),[o]);return Object(c.useEffect)((function(){var e;if(!d.loading&&(null===d||void 0===d||null===(e=d.key)||void 0===e?void 0:e.includes("UFN_REPORT_UNIQUECONTACTS_SEL"))){var t={client:"Total",month_1:0,month_2:0,month_3:0,month_4:0,month_5:0,month_6:0,month_7:0,month_8:0,month_9:0,month_10:0,month_11:0,month_12:0,total:0},n=[];s.data[1].data.map((function(e){n.push({client:"".concat(e.corpdesc," - ").concat(e.orgdesc),corpid:e.corpid,orgid:e.orgid,month_1:0,month_2:0,month_3:0,month_4:0,month_5:0,month_6:0,month_7:0,month_8:0,month_9:0,month_10:0,month_11:0,month_12:0,total:0})})),d.data.map((function(e){var a=s.data[1].data.filter((function(t){return e.corpid===t.corpid&&e.orgid===t.orgid}))[0],r=null===n||void 0===n?void 0:n.findIndex((function(e){return e.client==="".concat(null===a||void 0===a?void 0:a.corpdesc," - ").concat(null===a||void 0===a?void 0:a.orgdesc)}));r<0||(t["month_".concat(e.month)]+=e.pcc,t.total+=e.pcc,n[r]["month_".concat(e.month)]=e.pcc,n[r].total+=e.pcc)})),N([].concat(n,[t])||[]),R(Object.keys(t).filter((function(e){return e.includes("_")})).reduce((function(e,n,r){return[].concat(Object(a.a)(e),[{name:o(n),value:t[n],percentage:100*t[n]/t.total,color:Vt[r]}])}),[])),r(Object(C.d)(!1))}}),[d]),"view-1"===b?Object(G.jsxs)("div",{children:["GRID"===h?Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("div",{style:{height:10}}),Object(G.jsx)(g.f,{columns:ee,data:I,ButtonsElement:function(){return Object(G.jsx)(m.a,{width:1,style:{display:"flex",justifyContent:"flex-end",gap:8},children:Object(G.jsx)(T.a,{className:_.button,variant:"contained",color:"primary",disabled:d.loading||!(I.length>0),onClick:function(){return V(!0)},startIcon:Object(G.jsx)(X.a,{}),children:o(x.a.graphic_view)})})},download:!0,filterGeneral:!1,loading:d.loading,register:!1,pageSizeDefault:qt===J.id?-1===J.pageSize?20:J.pageSize:20,initialPageIndex:qt===J.id?-1===J.page?0:J.page:0,initialStateFilter:qt===J.id?Object.entries(J.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0})]}):Object(G.jsx)("div",{children:Object(G.jsxs)(m.a,{style:{display:"flex",justifyContent:"flex-end",gap:8},className:_.containerHeaderItem,children:[Object(G.jsx)(T.a,{className:_.button,variant:"contained",color:"primary",disabled:d.loading||!(I.length>0),onClick:function(){return V(!0)},startIcon:Object(G.jsx)(te,{}),children:o(x.a.configuration)}),Object(G.jsx)(T.a,{className:_.button,variant:"contained",color:"primary",onClick:function(){return y("GRID")},startIcon:Object(G.jsx)(Z.a,{}),children:o(x.a.grid_view)}),Object(G.jsx)(G.Fragment,{children:d.loading?Object(G.jsx)("div",{style:{flex:1,height:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(G.jsx)(zt.a,{})}):"BAR"===Y?Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsx)("div",{style:{flex:"0 0 70%",height:500},children:Object(G.jsx)(Et.a,{aspect:2,children:Object(G.jsxs)(Tt.a,{data:A,margin:{top:20,right:30,left:20,bottom:5},children:[Object(G.jsx)(Ft.a,{strokeDasharray:"3 3"}),Object(G.jsx)(At.a,{dataKey:"name",style:{fontSize:"0.8em"},angle:315,interval:0,textAnchor:"end",height:160,dy:5,dx:-5}),Object(G.jsx)(Rt.a,{}),Object(G.jsx)(Ht.a,{formatter:function(e,t){return[e,o(t)]}}),Object(G.jsx)(Bt.a,{dataKey:"value",fill:"#8884d8",textAnchor:"end",stackId:"a",type:"monotone"})]})})}),Object(G.jsx)("div",{style:{overflowX:"auto"},children:Object(G.jsx)(Yt,{graphicType:Y,data:A})})]}):Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsx)("div",{style:{flex:"0 0 65%",height:500},children:Object(G.jsx)(Et.a,{width:"100%",height:"100%",children:Object(G.jsxs)(Mt.a,{children:[Object(G.jsx)(Ht.a,{}),Object(G.jsx)(Pt.a,{data:A,dataKey:"value",labelLine:!1,label:Qt,nameKey:"name",cx:"50%",cy:"50%",innerRadius:40,fill:"#8884d8",children:A.map((function(e,t){return Object(G.jsx)(Lt.a,{fill:e.color},e.name)}))})]})})}),Object(G.jsx)("div",{style:{overflowX:"auto"},children:Object(G.jsx)(Yt,{graphicType:Y,data:A})})]})})]})}),Object(G.jsx)(Kt,{openModal:W,setOpenModal:V,setGraphicType:K,setView:y,columns:[{value:o(x.a.month),key:"month"}]})]}):"view-2"===b?Object(G.jsx)(Xt,{row:M,setViewSelected:f}):null},Zt=function(e){var t=e.row,n=e.setViewSelected,a=Object(c.useState)({pageSize:0,pageIndex:0,filters:{},sorts:{},daterange:null}),o=Object(i.a)(a,2),s=o[0],d=o[1],u=Object(c.useState)({}),p=Object(i.a)(u,2),b=p[0],f=(p[1],Object(w.b)((function(e){return e.main.mainPaginated}))),m=Object(w.b)((function(e){return e.main.mainAux2})),g=Object(c.useState)(0),v=Object(i.a)(g,2),h=v[0],y=v[1],D=Object(c.useState)(null),I=Object(i.a)(D,2),N=I[0],E=I[1],F=Object(c.useState)(0),A=Object(i.a)(F,2),R=A[0],H=A[1],B=Object(c.useState)(!1),M=Object(i.a)(B,2),P=M[0],L=M[1],z=Object(w.b)((function(e){return e.main.exportData})),W=Object(c.useState)(!1),V=Object(i.a)(W,2),q=V[0],U=V[1],Y=Ut(),K=Object(k.c)(),J=Object(O.a)().t,Q=Object(c.useCallback)((function(e){U(!0),E(Object(r.a)(Object(r.a)({},e),{},{displayname:(null===e||void 0===e?void 0:e.name)||""}))}),[m]),X=l.a.useMemo((function(){return[{Header:J(x.a.ticket_number),accessor:"ticketnum",width:"auto",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("label",{className:Y.labellink,onClick:function(){return Q(t)},children:t.ticketnum})}},{Header:J(x.a.startdate),accessor:"startdate",width:"auto",type:"date",sortType:"date",Cell:function(e){var t=e.cell.row.original;return t.startdate?Object(_.Q)(t.startdate):""}},{Header:J(x.a.starttime),accessor:"starttime",width:"auto"},{Header:J(x.a.enddate),accessor:"finishdate",width:"auto",type:"date",sortType:"date",Cell:function(e){var t=e.cell.row.original;return t.finishdate?Object(_.Q)(t.finishdate):""}},{Header:J(x.a.finishtime),accessor:"finishtime",width:"auto"},{Header:J(x.a.communicationchannel),accessor:"channel",width:"auto"},{Header:J(x.a.origin),accessor:"origin",width:"auto"},{Header:J(x.a.person),accessor:"name",width:"auto"},{Header:J(x.a.email),accessor:"email",width:"auto"},{Header:J(x.a.phone),accessor:"phone",width:"auto"},{Header:J(x.a.closedby),accessor:"usertype",width:"auto"},{Header:J(x.a.advisor),accessor:"asesor",width:"auto"},{Header:J(x.a.group),accessor:"usergroup",width:"auto"},{Header:J(x.a.closetype),accessor:"closetype",width:"auto"},{Header:J(x.a.ticket_fechahandoff),accessor:"handoffdate",width:"auto",type:"date",sortType:"date",Cell:function(e){var t=e.cell.row.original;return t.handoffdate?Object(_.Q)(t.handoffdate):""}},{Header:J(x.a.report_productivity_derivationtime),accessor:"handofftime",width:"auto"},{Header:J(x.a.tmo),accessor:"tmo",width:"auto",helpText:J(x.a.tmotooltip)},{Header:"".concat(J(x.a.advisor)," ").concat(J(x.a.tmo)),accessor:"tmoasesor",width:"auto"},{Header:J(x.a.tmeAgent),accessor:"tmeasesor",width:"auto"},{Header:J(x.a.report_productivity_holdingholdtime),accessor:"tdatime",width:"auto"},{Header:J(x.a.report_productivity_suspensiontime),accessor:"pauseduration",width:"auto"},{Header:J(x.a.tmr),accessor:"tmrasesor",width:"auto",helpText:J(x.a.tmrtooltip)},{Header:J(x.a.ticket_balancetimes),accessor:"balancetimes",type:"number",width:"auto"}]}),[J]);return Object(c.useEffect)((function(){f.loading||f.error||(H(s.pageSize?Math.ceil(f.count/s.pageSize):0),y(f.count))}),[f]),Object(c.useEffect)((function(){var e;if(P)if(z.loading||z.error){if(z.error){var t=J(z.code||"error_unexpected_error",{module:J(x.a.person).toLocaleLowerCase()});K(Object(C.e)({show:!0,severity:"error",message:t})),K(Object(C.d)(!1)),L(!1)}}else K(Object(C.d)(!1)),L(!1),null===(e=z.url)||void 0===e||e.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[z,P]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(j.b,{columns:X,data:f.data,totalrow:h,loading:f.loading,pageCount:R,autotrigger:!0,download:!0,ButtonsElement:function(){return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(T.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(G.jsx)(fe.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return n("view-1")},children:J(x.a.back)})})},fetchData:function(e){var n=e.pageSize,a=e.pageIndex,i=e.filters,o=e.sorts,c=e.daterange;d({pageSize:n,pageIndex:a,filters:i,sorts:o,daterange:c}),K(Object(S.k)(Object(_.ch)(Object(r.a)({take:n,skip:a*n,sorts:o,orgid:t.row.orgid,corpid:t.row.corpid,month:t.month,year:t.year,channeltype:t.channeltype,filters:Object(r.a)({},i)},b))))},exportPersonalized:function(e){var n=e.filters,a=e.sorts,i=X.map((function(e){return{key:e.accessor,alias:e.Header}}));K(Object(S.d)(Object(_.Be)(Object(r.a)({filters:Object(r.a)({},n),sorts:a,corpid:t.row.corpid,orgid:t.row.orgid,year:t.year,month:t.month,channeltype:t.channeltype},b)),"","excel",!1,i)),K(Object(C.d)(!0)),L(!0)}}),Object(G.jsx)(tt.a,{openModal:q,setOpenModal:U,ticket:N})]})},en=function(e){var t=e.year,n=e.channelType,r=Object(k.c)(),o=Object(O.a)().t,s=Object(w.b)((function(e){return e.main.multiDataAux})),d=Object(w.b)((function(e){return e.main.mainAux})),u=Object(c.useState)("view-1"),p=Object(i.a)(u,2),b=p[0],f=p[1],j=Object(c.useState)("GRID"),v=Object(i.a)(j,2),h=v[0],y=v[1],_=Ut(),S=Object(c.useState)([]),D=Object(i.a)(S,2),I=D[0],N=D[1],E=Object(c.useState)([]),F=Object(i.a)(E,2),A=F[0],R=F[1],H=Object(c.useState)(null),B=Object(i.a)(H,2),M=B[0],P=B[1],L=Object(c.useState)(!1),z=Object(i.a)(L,2),W=z[0],V=z[1],q=Object(c.useState)("BAR"),U=Object(i.a)(q,2),Y=U[0],K=U[1],J=Object(w.b)((function(e){return e.main.memoryTable})),Q=function(e){var t=e.cell.column,n=e.cell.row.original;return"Total"===n.client?Object(G.jsx)("div",{children:Object(G.jsx)("b",{children:n[t.id]})}):t.id.includes("_")?Object(G.jsx)("div",{onClick:function(){return $(n,t.id.split("_")[1])},children:n[t.id]}):Object(G.jsx)("div",{children:n[t.id]})},$=function(e,a){P({row:e,month:a,year:t,channeltype:n}),f("view-2")},ee=l.a.useMemo((function(){return[{Header:o(x.a.client),accessor:"client",width:"auto",Cell:function(e){var t=e.cell.column,n=e.cell.row.original;return"Total"===n.client?Object(G.jsx)("div",{children:Object(G.jsx)("b",{children:n[t.id]})}):Object(G.jsx)("div",{children:n[t.id]})}},{Header:o(x.a.month_01),accessor:"month_1",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_02),accessor:"month_2",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_03),accessor:"month_3",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_04),accessor:"month_4",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_05),accessor:"month_5",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_06),accessor:"month_6",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_07),accessor:"month_7",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_08),accessor:"month_8",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_09),accessor:"month_9",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_10),accessor:"month_10",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_11),accessor:"month_11",width:"auto",type:"number",Cell:Q},{Header:o(x.a.month_12),accessor:"month_12",width:"auto",type:"number",Cell:Q},{Header:o(x.a.total),accessor:"total",width:"auto",type:"number",Cell:function(e){var t=e.cell.row.original;return Object(G.jsx)("b",{children:t.total})}}]}),[o]);return Object(c.useEffect)((function(){var e;if(!d.loading&&(null===d||void 0===d||null===(e=d.key)||void 0===e?void 0:e.includes("UFN_REPORT_UNIQUECONTACTS_SEL"))){var t={client:"Total",month_1:0,month_2:0,month_3:0,month_4:0,month_5:0,month_6:0,month_7:0,month_8:0,month_9:0,month_10:0,month_11:0,month_12:0,total:0},n=[];s.data[1].data.map((function(e){n.push({client:"".concat(e.corpdesc," - ").concat(e.orgdesc),corpid:e.corpid,orgid:e.orgid,month_1:0,month_2:0,month_3:0,month_4:0,month_5:0,month_6:0,month_7:0,month_8:0,month_9:0,month_10:0,month_11:0,month_12:0,total:0})})),d.data.map((function(e){var a=s.data[1].data.filter((function(t){return e.corpid===t.corpid&&e.orgid===t.orgid}))[0],r=null===n||void 0===n?void 0:n.findIndex((function(e){return e.client==="".concat(null===a||void 0===a?void 0:a.corpdesc," - ").concat(null===a||void 0===a?void 0:a.orgdesc)}));r<0||(t["month_".concat(e.month)]+=e.conversation,t.total+=e.conversation,n[r]["month_".concat(e.month)]=e.conversation,n[r].total+=e.conversation)})),N([].concat(n,[t])||[]),R(Object.keys(t).filter((function(e){return e.includes("_")})).reduce((function(e,n,r){return[].concat(Object(a.a)(e),[{name:o(n),value:t[n],percentage:100*t[n]/t.total,color:Vt[r]}])}),[])),r(Object(C.d)(!1))}}),[d]),"view-1"===b?Object(G.jsxs)("div",{children:["GRID"===h?Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("div",{style:{height:10}}),Object(G.jsx)(g.f,{columns:ee,data:I,ButtonsElement:function(){return Object(G.jsx)(m.a,{width:1,style:{display:"flex",justifyContent:"flex-end",gap:8},children:Object(G.jsx)(T.a,{className:_.button,variant:"contained",color:"primary",disabled:d.loading||!(I.length>0),onClick:function(){return V(!0)},startIcon:Object(G.jsx)(X.a,{}),children:o(x.a.graphic_view)})})},download:!0,filterGeneral:!1,loading:d.loading,register:!1,pageSizeDefault:qt===J.id?-1===J.pageSize?20:J.pageSize:20,initialPageIndex:qt===J.id?-1===J.page?0:J.page:0,initialStateFilter:qt===J.id?Object.entries(J.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0})]}):Object(G.jsx)("div",{children:Object(G.jsxs)(m.a,{style:{display:"flex",justifyContent:"flex-end",gap:8},className:_.containerHeaderItem,children:[Object(G.jsx)(T.a,{className:_.button,variant:"contained",color:"primary",disabled:d.loading||!(I.length>0),onClick:function(){return V(!0)},startIcon:Object(G.jsx)(te,{}),children:o(x.a.configuration)}),Object(G.jsx)(T.a,{className:_.button,variant:"contained",color:"primary",onClick:function(){return y("GRID")},startIcon:Object(G.jsx)(Z.a,{}),children:o(x.a.grid_view)}),Object(G.jsx)(G.Fragment,{children:d.loading?Object(G.jsx)("div",{style:{flex:1,height:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(G.jsx)(zt.a,{})}):"BAR"===Y?Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsx)("div",{style:{flex:"0 0 70%",height:500},children:Object(G.jsx)(Et.a,{aspect:2,children:Object(G.jsxs)(Tt.a,{data:A,margin:{top:20,right:30,left:20,bottom:5},children:[Object(G.jsx)(Ft.a,{strokeDasharray:"3 3"}),Object(G.jsx)(At.a,{dataKey:"name",style:{fontSize:"0.8em"},angle:315,interval:0,textAnchor:"end",height:160,dy:5,dx:-5}),Object(G.jsx)(Rt.a,{}),Object(G.jsx)(Ht.a,{formatter:function(e,t){return[e,o(t)]}}),Object(G.jsx)(Bt.a,{dataKey:"value",fill:"#8884d8",textAnchor:"end",stackId:"a",type:"monotone"})]})})}),Object(G.jsx)("div",{style:{overflowX:"auto"},children:Object(G.jsx)(Yt,{graphicType:Y,data:A})})]}):Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsx)("div",{style:{flex:"0 0 65%",height:500},children:Object(G.jsx)(Et.a,{width:"100%",height:"100%",children:Object(G.jsxs)(Mt.a,{children:[Object(G.jsx)(Ht.a,{}),Object(G.jsx)(Pt.a,{data:A,dataKey:"value",labelLine:!1,label:Qt,nameKey:"name",cx:"50%",cy:"50%",innerRadius:40,fill:"#8884d8",children:A.map((function(e,t){return Object(G.jsx)(Lt.a,{fill:e.color},e.name)}))})]})})}),Object(G.jsx)("div",{style:{overflowX:"auto"},children:Object(G.jsx)(Yt,{graphicType:Y,data:A})})]})})]})}),Object(G.jsx)(Kt,{openModal:W,setOpenModal:V,setGraphicType:K,setView:y,columns:[{value:o(x.a.month),key:"month"}]})]}):"view-2"===b?Object(G.jsx)(Zt,{row:M,setViewSelected:f}):null},tn=function(){var e,t,n=Object(c.useState)(0),a=Object(i.a)(n,2),r=a[0],o=a[1],l=Object(k.c)(),s=Ut(),d=Object(O.a)().t,u=Object(c.useState)(""),p=Object(i.a)(u,2),b=p[0],f=p[1],m=Object(c.useState)("".concat((new Date).getFullYear())),j=Object(i.a)(m,2),g=j[0],v=j[1],h=Object(w.b)((function(e){return e.main.multiDataAux}));return Object(c.useEffect)((function(){return l(Object(S.q)([Object(_.Ke)("TIPOCANAL"),Object(_.bh)()])),l(Object(S.G)({id:qt})),function(){l(Object(S.z)()),l(Object(S.C)()),l(Object(S.D)()),l(Object(S.E)())}}),[]),Object(G.jsxs)(c.Fragment,{children:[Object(G.jsx)("div",{className:s.containerHeader,style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"space-between"},children:Object(G.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(G.jsx)(y.u,{label:d(x.a.year),style:{width:140},variant:"outlined",valueDefault:g,onChange:function(e){return v(null===e||void 0===e?void 0:e.value)},data:_.O,optionDesc:"value",optionValue:"value"}),Object(G.jsx)(y.q,{label:d(x.a.channeltype),className:s.filterComponent,onChange:function(e){f(e.map((function(e){return e.domainvalue})).join())},valueDefault:b,variant:"outlined",data:(null===h||void 0===h||null===(e=h.data)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.data)||[],loading:h.loading,optionDesc:"domaindesc",optionValue:"domainvalue"}),Object(G.jsx)("div",{children:Object(G.jsx)(T.a,{disabled:h.loading,variant:"contained",color:"primary",startIcon:Object(G.jsx)(ut.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){return l(Object(C.d)(!0)),void l(Object(S.h)(Object(_.De)({year:g,channeltype:b})))},children:d(x.a.search)})})]})}),Object(G.jsxs)(et.a,{value:r,indicatorColor:"primary",variant:"fullWidth",style:{borderBottom:"1px solid #EBEAED",backgroundColor:"#FFF",marginTop:8},textColor:"primary",onChange:function(e,t){return o(t)},children:[Object(G.jsx)(y.b,{label:d(x.a.uniquecontacts).toLocaleUpperCase(),style:{fontWeight:"bold"}}),Object(G.jsx)(y.b,{label:d(x.a.conversationquantity).toLocaleUpperCase(),style:{fontWeight:"bold"}})]}),0===r&&Object(G.jsx)($t,{year:g,channelType:b}),1===r&&Object(G.jsx)(en,{year:g,channelType:b})]})},nn=n(980),an=Object(h.a)((function(e){return{containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},containerFilter:{width:"100%",padding:"10px",marginBottom:"10px",display:"flex",gap:8,flexWrap:"wrap",backgroundColor:"white"},filterComponent:{minWidth:"220px",maxWidth:"260px"},containerHeader:Object(o.a)({display:"flex",flexWrap:"wrap",gap:16},e.breakpoints.up("sm"),{display:"flex"}),containerDetails:{paddingBottom:e.spacing(2)},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},BackGrRed:{backgroundColor:"#fb5f5f"},BackGrGreen:{backgroundColor:"#55bd84"},iconHelpText:{width:15,height:15,cursor:"pointer"},containerHeaderItem:Object(o.a)({backgroundColor:"#FFF",padding:8,display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"}),itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"}}})),rn="kpioperativo",on=function(){var e,t,n=Object(O.a)().t,a=Object(k.c)(),r=Object(w.b)((function(e){return e.main.mainAux2})),o=Object(w.b)((function(e){return e.main.multiData})),s=an(),d=Object(c.useState)((new Date).toISOString().slice(0,7)),u=Object(i.a)(d,2),p=u[0],b=u[1],f=Object(c.useState)(""),m=Object(i.a)(f,2),j=m[0],v=m[1],h=l.a.useMemo((function(){return[{Header:n(x.a.report_kpioperativo_year),accessor:"year",helpText:n("report_".concat(rn,"_year_help")),type:"number",NoFilter:!0,Footer:function(e){return Object(G.jsx)(G.Fragment,{children:"TOTAL"})}},{Header:n(x.a.report_kpioperativo_month),accessor:"month",helpText:n("report_".concat(rn,"_month_help")),type:"number",NoFilter:!0},{Header:n(x.a.report_kpioperativo_day),accessor:"day",helpText:n("report_".concat(rn,"_day_help")),type:"number",NoFilter:!0},{Header:n(x.a.report_kpioperativo_groups),accessor:"groups",helpText:n("report_".concat(rn,"_groups_help")),NoFilter:!0},{Header:n(x.a.report_kpioperativo_origin),accessor:"origin",helpText:n("report_".concat(rn,"_origin_help")),NoFilter:!0},{Header:n(x.a.report_kpioperativo_tme_avg),accessor:"tme_avg",helpText:n("report_".concat(rn,"_tme_avg_help")),NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return Object(_.hh)(t.values.tme_avg)+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.tme_avg})).length?Object(_.Qg)(t/e.rows.filter((function(e){return e.values.tme_avg})).length):""})}},{Header:n(x.a.report_kpioperativo_tickets),accessor:"tickets",helpText:n("report_".concat(rn,"_tickets_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return+t.values.tickets+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.tickets})).length?(t/e.rows.filter((function(e){return e.values.tickets})).length).toFixed(0):""})}},{Header:n(x.a.report_kpioperativo_eqtmoasesor),accessor:"eqtmoasesor",helpText:n("report_".concat(rn,"_eqtmoasesor_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return+t.values.eqtmoasesor+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.eqtmoasesor})).length?(t/e.rows.filter((function(e){return e.values.eqtmoasesor})).length).toFixed(0):""})}},{Header:n(x.a.report_kpioperativo_userpause_hour_avg),accessor:"userpause_hour_avg",helpText:n("report_".concat(rn,"_userpause_hour_avg_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return Object(_.hh)(t.values.userpause_hour_avg)+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.userpause_hour_avg})).length?Object(_.Qg)(t/e.rows.filter((function(e){return e.values.userpause_hour_avg})).length):""})}},{Header:n(x.a.report_kpioperativo_tmoasesor_tickets),accessor:"tmoasesor_tickets",helpText:n("report_".concat(rn,"_tmoasesor_tickets_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return Object(_.hh)(t.values.tmoasesor_tickets)+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.tmoasesor_tickets})).length?Object(_.Qg)(t/e.rows.filter((function(e){return e.values.tmoasesor_tickets})).length):""})}},{Header:n(x.a.report_kpioperativo_tickets_eqtmoasesor),accessor:"tickets_eqtmoasesor",helpText:n("report_".concat(rn,"_tickets_eqtmoasesor_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return+t.values.tickets_eqtmoasesor+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.tickets_eqtmoasesor})).length?(t/e.rows.filter((function(e){return e.values.tickets_eqtmoasesor})).length).toFixed(0):""})}},{Header:n(x.a.report_kpioperativo_abandoned_tickets),accessor:"abandoned_tickets",helpText:n("report_".concat(rn,"_abandoned_tickets_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return+t.values.abandoned_tickets+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:(t/e.rows.length).toFixed(0)})}},{Header:n(x.a.report_kpioperativo_holdingwaitingtime_avg),accessor:"holdingwaitingtime_avg",helpText:n("report_".concat(rn,"_holdingwaitingtime_avg_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return Object(_.hh)(t.values.holdingwaitingtime_avg)+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.holdingwaitingtime_avg})).length?Object(_.Qg)(t/e.rows.filter((function(e){return e.values.holdingwaitingtime_avg})).length):""})}},{Header:n(x.a.report_kpioperativo_firstassignedtime_avg),accessor:"firstassignedtime_avg",helpText:n("report_".concat(rn,"_firstassignedtime_avg_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return Object(_.hh)(t.values.firstassignedtime_avg)+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.firstassignedtime_avg})).length?Object(_.Qg)(t/e.rows.filter((function(e){return e.values.firstassignedtime_avg})).length):""})}},{Header:n(x.a.report_kpioperativo_firstreplytime_avg),accessor:"firstreplytime_avg",helpText:n("report_".concat(rn,"_firstreplytime_avg_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return Object(_.hh)(t.values.firstreplytime_avg)+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.firstreplytime_avg})).length?Object(_.Qg)(t/e.rows.filter((function(e){return e.values.firstreplytime_avg})).length):""})}},{Header:n(x.a.report_kpioperativo_balancetimes_avg),accessor:"balancetimes_avg",helpText:n("report_".concat(rn,"_balancetimes_avg_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return+t.values.balancetimes_avg+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.balancetimes_avg})).length?(t/e.rows.filter((function(e){return e.values.balancetimes_avg})).length).toFixed(0):""})}},{Header:n(x.a.report_kpioperativo_useraveragereplytime_avg),accessor:"useraveragereplytime_avg",helpText:n("report_".concat(rn,"_useraveragereplytime_avg_help")),type:"number",NoFilter:!0,Footer:function(e){var t=l.a.useMemo((function(){return e.rows.reduce((function(e,t){return Object(_.hh)(t.values.useraveragereplytime_avg)+e}),0)}),[e.rows]);return Object(G.jsx)(G.Fragment,{children:0!==e.rows.filter((function(e){return e.values.useraveragereplytime_avg})).length?Object(_.Qg)(t/e.rows.filter((function(e){return e.values.useraveragereplytime_avg})).length):""})}}]}),[]);return Object(c.useEffect)((function(){return a(Object(S.p)([Object(_.Ge)()])),function(){a(Object(S.C)())}}),[]),Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("div",{style:{height:10}}),Object(G.jsx)("div",{className:s.containerHeader,style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"space-between"},children:Object(G.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(G.jsx)(Ze.a,{id:"date",type:"month",variant:"outlined",onChange:function(e){var t;""!==(t=e.target.value)&&b(t)},value:p,size:"small"}),Object(G.jsx)(vt.q,{label:n(x.a.group),className:s.filterComponent,variant:"outlined",valueDefault:j,onChange:function(e){return v(null===e||void 0===e?void 0:e.domainvalue)},data:(null===(e=o.data)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.data)||[],loading:o.loading,optionValue:"domainvalue",optionDesc:"domaindesc"}),Object(G.jsx)("div",{children:Object(G.jsx)(T.a,{disabled:o.loading,variant:"contained",color:"primary",startIcon:Object(G.jsx)(ut.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){a(Object(S.i)(Object(_.ge)({date:"".concat(p,"-01"),usergroup:j})))},children:n(x.a.search)})})]})}),Object(G.jsx)(g.f,{columns:h,data:(null===r||void 0===r?void 0:r.data)||[],download:!0,filterGeneral:!1,loading:r.loading,register:!1,useFooter:!0})]})},cn=n(1231),ln=function(e,t){return[{id:"view-1",name:t||"Reports"},{id:"view-2",name:e}]},sn=Object(h.a)((function(e){return{container:{width:"100%"},containerDetails:{marginTop:e.spacing(3)},media:{objectFit:"contain"},containerSearch:Object(o.a)({width:"100%",display:"flex",gap:e.spacing(1),alignItems:"center"},e.breakpoints.up("sm"),{width:"50%"}),containerFilter:{width:"100%",marginBottom:e.spacing(2),display:"flex",gap:16,flexWrap:"wrap"},filterComponent:{minWidth:"220px",maxWidth:"260px"},containerFilterGeneral:{display:"flex",justifyContent:"space-between",backgroundColor:"#FFF",padding:e.spacing(1)},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerHeader:Object(o.a)({display:"block",marginBottom:0},e.breakpoints.up("sm"),{display:"flex"}),mb2:{marginBottom:e.spacing(4)},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"}}})),dn=function(e){var t,n,a=e.setViewSelected,s=e.setSearchValue,d=e.row,u=e.multiData,p=e.allFilters,b=e.customReport,f=Object(O.a)().t,m=sn(),g=Object(k.c)(),h=u[0]&&u[0].success?u[0].data:[],D=Object(w.b)((function(e){return e.main.mainPaginated})),I=Object(w.b)((function(e){return e.main.exportData})),N=Object(c.useState)(0),E=Object(i.a)(N,2),F=E[0],A=E[1],R=Object(c.useState)(!1),H=Object(i.a)(R,2),B=H[0],M=H[1],P=Object(c.useState)(0),L=Object(i.a)(P,2),z=L[0],W=L[1],V=Object(c.useState)({pageSize:0,pageIndex:0,filters:{},sorts:{},daterange:null}),q=Object(i.a)(V,2),U=q[0],Y=q[1],K=Object(c.useState)({}),J=Object(i.a)(K,2),Q=J[0],$=J[1],Z=Object(c.useState)(!1),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(c.useState)("GRID"),re=Object(i.a)(ae,2),ie=re[0],oe=re[1];Object(c.useEffect)((function(){return g(Object(S.H)("report_".concat(null===d||void 0===d?void 0:d.origin))),function(){g(Object(S.b)())}}),[]);var le=l.a.useMemo((function(){return h.map((function(e){switch(e.proargtype){case"bigint":return e.proargnames.includes("year")||e.proargnames.includes("month")||e.proargnames.includes("week")||e.proargnames.includes("day")||e.proargnames.includes("hour")?{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,type:"number-centered"}:{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"number"};case"boolean":return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"boolean",Cell:function(e){var t=e.cell.column,n=e.cell.row.original;return(f("".concat(n[t.id]).toLowerCase())||"").toUpperCase()}};case"timestamp without time zone":return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"date",Cell:function(e){var t=e.cell.column,n=e.cell.row.original;return Object(G.jsx)("div",{children:Object(_.K)(n[t.id]).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})})}};case"date":return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"date",Cell:function(e){var t=e.cell.column,n=e.cell.row.original;return Object(G.jsx)("div",{children:new Date(n[t.id].split("-")[0],n[t.id].split("-")[1]-1,n[t.id].split("-")[2]).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})})}};default:switch(null===d||void 0===d?void 0:d.origin){case"loginhistory":switch(e.proargnames){case"status":return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"string",Cell:function(e){var t=e.cell.row.original.status;return(f("status_".concat(t).toLowerCase())||"").toUpperCase()}};default:return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"string"}}case"interaction":case"inputretry":switch(e.proargnames){case"interactiontext":return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"string",Cell:function(e){var t=e.cell.row.original.interactiontext;return t.length<40?t:t.substring(0,40)+"... "}};case"question":return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"string",Cell:function(e){var t=e.cell.row.original.question;return t.length<40?t:t.substring(0,40)+"... "}};default:return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"string"}}default:return{Header:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames||!1),accessor:e.proargnames,helpText:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help")==="report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"?"":f("report_"+(null===d||void 0===d?void 0:d.origin)+"_"+e.proargnames+"_help"),type:"string"}}}}))}),[h]);Object(c.useEffect)((function(){D.loading||D.error||(A(Math.ceil(D.count/U.pageSize)),W(D.count))}),[D]),Object(c.useEffect)((function(){var e;if(B)if(I.loading||I.error){if(I.error){var t=f(I.code||"error_unexpected_error",{module:f(x.a.property).toLocaleLowerCase()});g(Object(C.e)({show:!0,severity:"error",message:t})),g(Object(C.d)(!1)),M(!1)}}else g(Object(C.d)(!1)),M(!1),null===(e=I.url)||void 0===e||e.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[I,B]);var se=function(e,t){$(Object(r.a)(Object(r.a)({},Q),{},Object(o.a)({},e,t)))};return Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(f("report_"+(null===d||void 0===d?void 0:d.origin)),f(x.a.report_plural)),handleClick:function(){g(Object(S.u)()),g(Object(S.C)()),s(""),a("view-1")}}),Object(G.jsx)("div",{style:{height:10}}),u.length>0?Object(G.jsx)(G.Fragment,{children:b?Object(G.jsx)(ce,{row:d,multiData:u,allFilters:p}):Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("div",{className:m.container,children:"GRID"===ie?Object(G.jsx)(j.b,{columns:le,data:D.data,totalrow:z,loading:D.loading,pageCount:F,filterrange:!0,FiltersElement:Object(G.jsx)(G.Fragment,{children:p?p.map((function(e){return e.values[0].multiselect?Object(G.jsx)(y.q,{valueDefault:Q[e.values[0].parameterName],limitTags:1,label:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_filter_"+e.values[0].label||!1),className:m.filterComponent,onChange:function(t){return se(e.values[0].parameterName,t?t.map((function(t){return t[e.values[0].optionValue]})).join():"")},variant:"outlined",data:u[u.findIndex((function(t){return t.key===e.values[0].filter}))].data,optionDesc:e.values[0].optionDesc,optionValue:e.values[0].optionValue},e.values[0].filter):Object(G.jsx)(y.u,{valueDefault:Q[e.values[0].parameterName],label:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_filter_"+e.values[0].label||!1),className:m.filterComponent,variant:"outlined",onChange:function(t){return se(e.values[0].parameterName,t?t[e.values[0].optionValue]:"")},data:u[u.findIndex((function(t){return t.key===e.values[0].filter}))].data,optionDesc:e.values[0].optionDesc,optionValue:e.values[0].optionValue},e.values[0].filter)})):null}),ButtonsElement:function(){return Object(G.jsx)(T.a,{className:m.button,variant:"contained",color:"primary",disabled:D.loading||!(D.data.length>0),onClick:function(){return ne(!0)},startIcon:Object(G.jsx)(X.a,{}),children:f(x.a.graphic_view)})},download:!0,fetchData:function(e){var t=e.pageSize,n=e.pageIndex,a=e.filters,i=e.sorts,o=e.daterange;Y({pageSize:t,pageIndex:n,filters:a,sorts:i,daterange:o}),g(Object(S.k)(Object(_.Cd)((null===d||void 0===d?void 0:d.methodcollection)||"",(null===d||void 0===d?void 0:d.methodcount)||"",(null===d||void 0===d?void 0:d.origin)||"",Object(r.a)({startdate:o.startDate,enddate:o.endDate,take:t,skip:n*t,sorts:i,filters:a},Q))))},exportPersonalized:function(e){var t=e.filters,n=e.sorts,a=e.daterange,i=le.map((function(e){return{key:e.accessor,alias:e.Header}}));g(Object(S.d)(Object(_.de)((null===d||void 0===d?void 0:d.methodexport)||"",(null===d||void 0===d?void 0:d.origin)||"",Object(r.a)({filters:t,sorts:n,startdate:a.startDate,enddate:a.endDate},Q)),"","excel",!1,i)),g(Object(C.d)(!0)),M(!0)}}):Object(G.jsx)(v.b,{graphicType:(null===(t=ie.split("-"))||void 0===t?void 0:t[1])||"BAR",column:(null===(n=ie.split("-"))||void 0===n?void 0:n[2])||"summary",openModal:te,setOpenModal:ne,daterange:U.daterange,setView:oe,row:d,handlerSearchGraphic:function(e,t){Y((function(t){return Object(r.a)(Object(r.a)({},t),{},{daterange:e})})),g(Object(S.o)(Object(_.fe)((null===d||void 0===d?void 0:d.methodgraphic)||"",(null===d||void 0===d?void 0:d.origin)||"",Object(r.a)({filters:{},sorts:{},startdate:null===e||void 0===e?void 0:e.startDate,enddate:null===e||void 0===e?void 0:e.endDate,column:t,summarization:"COUNT"},Q))))},FiltersElement:Object(G.jsx)(G.Fragment,{children:p?p.map((function(e){return e.values[0].multiselect?Object(G.jsx)(y.q,{valueDefault:Q[e.values[0].parameterName],limitTags:1,label:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_filter_"+e.values[0].label||!1),className:m.filterComponent,onChange:function(t){return se(e.values[0].parameterName,t?t.map((function(t){return t[e.values[0].optionValue]})).join():"")},variant:"outlined",data:u[u.findIndex((function(t){return t.key===e.values[0].filter}))].data,optionDesc:e.values[0].optionDesc,optionValue:e.values[0].optionValue},e.values[0].filter):Object(G.jsx)(y.u,{valueDefault:Q[e.values[0].parameterName],label:f("report_"+(null===d||void 0===d?void 0:d.origin)+"_filter_"+e.values[0].label||!1),className:m.filterComponent,variant:"outlined",onChange:function(t){return se(e.values[0].parameterName,t?t[e.values[0].optionValue]:"")},data:u[u.findIndex((function(t){return t.key===e.values[0].filter}))].data,optionDesc:e.values[0].optionDesc,optionValue:e.values[0].optionValue},e.values[0].filter)})):null})})})})}):Object(G.jsx)(y.I,{}),Object(G.jsx)(un,{openModal:te,setOpenModal:ne,setView:oe,row:d,daterange:U.daterange,filters:U.filters,columns:h.map((function(e){return e.proargnames})),columnsprefix:"report_"+(null===d||void 0===d?void 0:d.origin)+"_",allParameters:Q})]})},un=function(e){var t,n,a=e.openModal,i=e.setOpenModal,o=e.setView,l=e.row,s=e.daterange,d=e.filters,u=e.columns,p=e.columnsprefix,b=e.allParameters,f=void 0===b?{}:b,m=Object(O.a)().t,j=Object(k.c)(),g=Object(J.d)({defaultValues:{graphictype:"BAR",column:""}}),v=g.register,h=g.handleSubmit,w=g.setValue,C=g.getValues,D=g.formState.errors;Object(c.useEffect)((function(){v("graphictype",{validate:function(e){return e&&e.length||m(x.a.field_required)}}),v("column",{validate:function(e){return e&&e.length||m(x.a.field_required)}})}),[v]);var I=h((function(e){N(e)})),N=function(e){o("CHART-".concat(e.graphictype,"-").concat(e.column)),i(!1),j(Object(S.o)(Object(_.fe)((null===l||void 0===l?void 0:l.methodgraphic)||"",(null===l||void 0===l?void 0:l.origin)||"",Object(r.a)({filters:d,sorts:{},startdate:null===s||void 0===s?void 0:s.startDate,enddate:null===s||void 0===s?void 0:s.endDate,column:e.column,summarization:"COUNT"},f))))};return Object(G.jsxs)(y.g,{open:a,title:m(x.a.graphic_configuration),button1Type:"button",buttonText1:m(x.a.cancel),handleClickButton1:function(){i(!1)},button2Type:"button",buttonText2:m(x.a.accept),handleClickButton2:I,children:[Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:m(x.a.graphic_type),className:"col-12",valueDefault:C("graphictype"),error:null===D||void 0===D||null===(t=D.graphictype)||void 0===t?void 0:t.message,onChange:function(e){return w("graphictype",null===e||void 0===e?void 0:e.key)},data:[{key:"BAR",value:"BAR"},{key:"PIE",value:"PIE"}],uset:!0,prefixTranslation:"graphic_",optionDesc:"value",optionValue:"key"})}),Object(G.jsx)("div",{className:"row-zyx",children:Object(G.jsx)(y.u,{label:m(x.a.graphic_view_by),className:"col-12",valueDefault:C("column"),error:null===D||void 0===D||null===(n=D.column)||void 0===n?void 0:n.message,onChange:function(e){return w("column",null===e||void 0===e?void 0:e.key)},data:u.map((function(e){return{key:e,value:e}})),optionDesc:"value",optionValue:"key",uset:!0,prefixTranslation:p})})]})},pn={startDate:new Date((new Date).setDate(1)),endDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),key:"selection"},bn=function(){var e=Object(O.a)().t,t=Object(k.c)(),n=Object(w.b)((function(e){return e.main.multiData})),a=Object(c.useState)([]),o=Object(i.a)(a,2),s=o[0],d=o[1],u=sn(),p=Object(c.useState)(!1),b=Object(i.a)(p,2),f=b[0],m=b[1],j=Object(c.useState)(pn),v=Object(i.a)(j,2),h=v[0],I=v[1];Object(c.useEffect)((function(){return t(Object(S.H)("report_conversationwhatsapp")),function(){t(Object(S.b)())}}),[]),Object(c.useEffect)((function(){return function(){t(Object(S.C)())}}),[]),Object(c.useEffect)((function(){var e;n.loading||(t(Object(C.d)(!1)),d(((null===(e=n.data[0])||void 0===e?void 0:e.data)||[]).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{conversationstart:e.conversationstart?new Date(e.conversationstart).toLocaleString():"",conversationend:e.conversationend?new Date(e.conversationend).toLocaleString():""})}))))}),[n]);var N=l.a.useMemo((function(){return[{Header:e(x.a.personIdentifier),accessor:"personcommunicationchannel"},{Header:e(x.a.phone),accessor:"personcommunicationchannelowner"},{Header:e(x.a.ticket_number),accessor:"ticketnum"},{Header:"Iniciado por",accessor:"initiatedby"},{Header:"Fecha de inicio",accessor:"conversationstart"},{Header:"Fecha de fin",accessor:"conversationend"},{Header:e(x.a.countrycode),accessor:"country"},{Header:e(x.a.amount),accessor:"cost",type:"number"},{Header:e(x.a.paymentmethod),accessor:"paymenttype",Cell:function(t){var n=t.cell.row.original.paymenttype;return(e("".concat(n).toLowerCase())||"").toUpperCase()}}]}),[]);return Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("div",{style:{height:10}}),Object(G.jsx)(g.f,{columns:N,data:s,ButtonsElement:function(){return Object(G.jsx)("div",{className:u.containerHeader,style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"space-between"},children:Object(G.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(G.jsx)(y.f,{open:f,setOpen:m,range:h,onSelect:I,children:Object(G.jsx)(T.a,{className:u.itemDate,startIcon:Object(G.jsx)(D.n,{}),onClick:function(){return m(!f)},children:Object(_.Ec)(h.startDate)+" - "+Object(_.Ec)(h.endDate)})}),Object(G.jsx)("div",{children:Object(G.jsx)(T.a,{disabled:n.loading,variant:"contained",color:"primary",startIcon:Object(G.jsx)(ut.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){return t(Object(C.d)(!0)),void t(Object(S.p)([Object(_.xc)({startdate:h.startDate,enddate:h.endDate})]))},children:e(x.a.search)})})]})})},download:!0,filterGeneral:!1,loading:n.loading,register:!1})]})};t.default=function(){var e=Object(O.a)().t,t=sn(),n=Object(k.c)(),o=Object(w.b)((function(e){return e.main})),j=Object(c.useState)([]),g=Object(i.a)(j,2),v=g[0],h=g[1],I=Object(c.useState)(""),N=Object(i.a)(I,2),E=N[0],F=N[1],A=Object(c.useState)("view-1"),R=Object(i.a)(A,2),H=R[0],B=R[1],M=Object(c.useState)(!1),P=Object(i.a)(M,2),L=P[0],z=P[1],W=Object(c.useState)({row:null,edit:!1}),V=Object(i.a)(W,2),q=V[0],U=V[1],Y=l.a.useState(null),K=Object(i.a)(Y,2),J=K[0],Q=K[1],X=Object(c.useState)(!1),$=Object(i.a)(X,2),Z=$[0],ee=$[1],te=Object(w.b)((function(e){return e.main.execute})),ne=Object(c.useState)([]),ae=Object(i.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(c.useState)([]),ce=Object(i.a)(oe,2),le=ce[0],se=ce[1],de=Object(w.b)((function(e){return e.login.validateToken.user})),ue="SUPERADMIN"===(null===de||void 0===de?void 0:de.roledesc),pe=function(){n(Object(S.g)(Object(_.ie)(""))),n(Object(S.h)(Object(_.je)()))};Object(c.useEffect)((function(){if(!o.mainData.loading&&!o.mainData.error&&!o.mainAux.loading&&!o.mainAux.error&&"UFN_REPORTTEMPLATE_SEL"===o.mainAux.key&&(null===E||0===E.trim().length)&&(0===re.length||!Z)){var e=[].concat(Object(a.a)(o.mainData.data.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{reporttype:"default"})}))),Object(a.a)(o.mainAux.data.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{columns:e.columnjson?JSON.parse(e.columnjson):[],filters:e.filterjson?JSON.parse(e.filterjson):[],summaries:e.summaryjson?JSON.parse(e.summaryjson):[],reporttype:"custom"})})))).filter((function(e){return!!ue||!["invoice"].includes(null===e||void 0===e?void 0:e.origin)}));ie(e),se(e)}}),[o.mainAux,o.mainData,Z]),Object(c.useEffect)((function(){if(E.length>=3||0===E.length){var t=re.filter((function(t){return"default"===t.reporttype?(e(x.a["report_".concat(t.origin)])+"").toLowerCase().includes(E.toLowerCase()):t.description.toLowerCase().includes(E.toLowerCase())}));se(t)}}),[E]),Object(c.useEffect)((function(){se(re)}),[H]),Object(c.useEffect)((function(){return pe(),n(Object(S.q)([Object(_.Ke)("ESTADOGENERICO"),Object(_.re)()])),function(){n(Object(S.z)()),n(Object(S.u)()),n(Object(S.C)()),n(Object(S.y)())}}),[]);Object(c.useEffect)((function(){if(Z)if(te.loading||te.error){if(te.error){var t=e(te.code||"error_unexpected_error",{module:e(x.a.organization_plural).toLocaleLowerCase()});n(Object(C.e)({show:!0,severity:"error",message:t})),n(Object(C.d)(!1)),ee(!1)}}else n(Object(C.e)({show:!0,severity:"success",message:e(x.a.successful_delete)})),pe(),n(Object(C.d)(!1)),ee(!1)}),[te,Z]);var be,fe=function(t){if(Q(null),!t)return null;n(Object(C.a)({visible:!0,question:e(x.a.confirmation_delete),callback:function(){n(Object(S.c)(Object(_.rg)(Object(r.a)(Object(r.a)({},t),{},{operation:"DELETE",status:"ELIMINADO",id:t.reporttemplateid})))),n(Object(C.d)(!0)),ee(!0)}}))},je=function(e){B(e)},ge=function(a,r){var i,o;switch(a.reportname){case"HEATMAP":return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("heatmap")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/01mapadecalor.png",title:e(x.a.heatmap)}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.heatmap)})})]})})},"heatmap");case"RECORDHSMREPORT":return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("recordhsmreport")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/02reportehsm.png",title:e(x.a.recordhsmreport)}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.recordhsmreport)})})]})})},"recordhsmreport");case"HYSTORYHSM":return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("hsmhistory")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/PROCESOSYCONSULTORIA/5740f300-9107-4c2f-b7eb-eee27652acab/Historial%20HSM.png",title:e(x.a.hsmhistory)}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.hsmhistory)})})]})})},"hsmhistory");case"CONVERSATIONWHATSAPP":return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("reportconversationwhatsapp")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/whatsapp_PNG95151.png",title:e(x.a.conversation_plural)+" Whatsapp"}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.conversation_plural)+" Whatsapp"})})]})})},"reportconversationwhatsapp");case"INVOICE":return ue&&Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("reportinvoice")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/03reportepersonalizado.png",title:e(x.a.invoice)}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.invoice)})})]})})},"invoice");case"KPIOPERATIVO":return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("kpioperativo")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/CLARO/72fd542f-719c-4226-89f9-b29c6a46a4d7/reporteKPI.svg",title:e(x.a.kpimanager)}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.kpimanager)})})]})})},"kpioperativo");case"TICKETVSADVISER":return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("report_ticketvsasesor")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/PROCESOSYCONSULTORIA/ad0b89eb-6ed6-409d-b2e7-ddc9ea6c6f28/asesorvstickets.png",title:e(x.a.report_ticketvsasesor)}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.report_ticketvsasesor)})})]})})},"report_ticketvsasesor");case"CAMPAIGN":return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("campaign")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/PROCESOSYCONSULTORIA/8f5f232b-4fe6-414d-883b-e90f402becf5/campa%C3%B1as.png",title:e(x.a.campaign)}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.campaign)})})]})})},"campaign");case"UNIQUECONTACTS":var c;return"SUPERADMIN"===(null===de||void 0===de?void 0:de.roledesc)?Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("uniquecontactsreport")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:(null===(c=D.yc.find((function(e){return e.name===a.image})))||void 0===c?void 0:c.image)||"no_data.png",title:e(x.a.uniquecontactsreport)}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e(x.a.uniquecontactsreport)})})]})})},"uniquecontactsreport"):Object(G.jsx)(G.Fragment,{});case"VOICECALL":return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return je("voicecallreport")},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:(null===(i=D.yc.find((function(e){return e.name===a.image})))||void 0===i?void 0:i.image)||"no_data.png",title:e("report_"+(null===a||void 0===a?void 0:a.origin))}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e("report_"+(null===a||void 0===a?void 0:a.origin))})})]})})},"report_"+a.reportid+"_"+r);default:return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsx)(s.a,{children:Object(G.jsxs)(d.a,{onClick:function(){return function(e,t){n(Object(S.u)()),n(Object(S.C)()),h(e);var a=[];a.push(Object(_.ce)((null===e||void 0===e?void 0:e.methodcollection)||"")),t&&(t.sort((function(e,t){return e.order-t.order})),t.forEach((function(e){a.push(Object(_.ee)(String(e.values[0].filter),e.values[0].isListDomains?String(e.values[0].filter)+"_"+e.values[0].domainname:String(e.values[0].filter),e.values[0].isListDomains?e.values[0].domainname:""))}))),n(Object(S.p)(a)),B("view-2"),z("PRODUCTIVITY"===e.reportname)}(a,a.filters)},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:(null===(o=D.yc.find((function(e){return e.name===a.image})))||void 0===o?void 0:o.image)||"no_data.png",title:e("report_"+(null===a||void 0===a?void 0:a.origin))}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e("report_"+(null===a||void 0===a?void 0:a.origin))})})]})})},"report_"+a.reportid+"_"+r)}};return"view-1"===H?Object(G.jsxs)("div",{className:t.container,children:[!o.mainData.loading&&!o.mainAux.loading&&Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(m.a,{className:t.containerFilterGeneral,children:[Object(G.jsx)("span",{}),Object(G.jsxs)("div",{className:t.containerSearch,children:[Object(G.jsx)("div",{style:{flex:1},children:Object(G.jsx)(y.G,{colorPlaceHolder:"#FFF",handleChangeOther:function(e){F(e)},lazy:!0})}),Object(G.jsx)(T.a,{variant:"contained",color:"primary",startIcon:Object(G.jsx)(we.a,{color:"secondary"}),onClick:function(){B("view-3"),U({row:null,edit:!0})},style:{backgroundColor:"#55BD84"},children:e(x.a.create_custom_report)})]})]})}),Object(G.jsx)(m.a,{className:t.containerHeader,justifyContent:"space-between",alignItems:"center",style:{marginBottom:8},children:Object(G.jsxs)("span",{className:t.title,children:[e(x.a.defaultreports)," (",le.filter((function(e){return"default"===e.reporttype})).length,")"]})}),o.mainData.loading||o.mainAux.loading?Object(G.jsx)(y.J,{}):Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("div",{className:t.containerDetails,children:Object(G.jsxs)(b.a,{container:!0,spacing:3,children:[le.filter((function(e){return"default"===e.reporttype})).filter((function(e){return!!e.image})).map((function(e,t){return ge(e,t)})),le.filter((function(e){return"default"===e.reporttype})).filter((function(e){return!e.image})).map((function(e,n){return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsxs)(s.a,{style:{position:"relative"},children:[Object(G.jsxs)(d.a,{onClick:function(){B("view-4"),U({row:e,edit:!0})},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/03reportepersonalizado.png",title:e.description}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e.description})})]}),Object(G.jsx)(me.a,{"aria-label":"settings","aria-describedby":"".concat(null===e||void 0===e?void 0:e.reporttemplateid,"reporttemplate"),"aria-haspopup":"true",style:{position:"absolute",right:0,top:0},onClick:function(t){U({row:e,edit:!0}),Q(t.currentTarget)},children:Object(G.jsx)(Ie.a,{})})]})},"report_"+e.reporttemplateid+"_"+n)})),Object(G.jsxs)(Ne.a,{anchorEl:J,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(J),onClose:function(){return Q(null)},children:[Object(G.jsx)(Ee.a,{onClick:function(){Q(null),B("view-3")},children:e(x.a.edit)}),Object(G.jsx)(Ee.a,{onClick:function(){Q(null),B("view-5")},children:e(x.a.duplicate)}),Object(G.jsx)(Ee.a,{onClick:function(){return fe(null===q||void 0===q?void 0:q.row)},children:e(x.a.delete)})]})]})})}),Object(G.jsx)(m.a,{className:t.containerHeader,justifyContent:"space-between",alignItems:"center",style:{marginBottom:8,marginTop:16},children:Object(G.jsxs)("span",{className:t.title,children:[e(x.a.customreports)," (",le.filter((function(e){return"default"!==e.reporttype})).length,")"]})}),o.mainData.loading||o.mainAux.loading?Object(G.jsx)(y.J,{}):Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("div",{className:t.containerDetails,children:Object(G.jsxs)(b.a,{container:!0,spacing:3,children:[le.filter((function(e){return"default"!==e.reporttype})).filter((function(e){return!!e.image})).map((function(e,t){return ge(e,t)})),le.filter((function(e){return"default"!==e.reporttype})).filter((function(e){return!e.image})).map((function(e,n){return Object(G.jsx)(b.a,{item:!0,xs:12,md:4,lg:2,style:{minWidth:330},children:Object(G.jsxs)(s.a,{style:{position:"relative"},children:[Object(G.jsxs)(d.a,{onClick:function(){B("view-4"),U({row:e,edit:!0})},children:[Object(G.jsx)(p.a,{component:"img",height:"140",className:t.media,image:"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/03reportepersonalizado.png",title:e.description}),Object(G.jsx)(u.a,{children:Object(G.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"div",style:{fontSize:"130%"},children:e.description})})]}),Object(G.jsx)(me.a,{"aria-label":"settings","aria-describedby":"".concat(null===e||void 0===e?void 0:e.reporttemplateid,"reporttemplate"),"aria-haspopup":"true",style:{position:"absolute",right:0,top:0},onClick:function(t){U({row:e,edit:!0}),Q(t.currentTarget)},children:Object(G.jsx)(Ie.a,{})})]})},"report_"+e.reporttemplateid+"_"+n)})),Object(G.jsxs)(Ne.a,{anchorEl:J,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(J),onClose:function(){return Q(null)},children:[Object(G.jsx)(Ee.a,{onClick:function(){Q(null),B("view-3")},children:e(x.a.edit)}),Object(G.jsx)(Ee.a,{onClick:function(){Q(null),B("view-5")},children:e(x.a.duplicate)}),Object(G.jsx)(Ee.a,{onClick:function(){return fe(null===q||void 0===q?void 0:q.row)},children:e(x.a.delete)})]})]})})})]}):"view-3"===H?Object(G.jsx)(Ge,{data:q,setViewSelected:B,fetchData:pe}):"view-5"===H?Object(G.jsx)(Ge,{data:Object(r.a)(Object(r.a)({},q),{},{row:Object(r.a)(Object(r.a)({},null===q||void 0===q?void 0:q.row),{},{reporttemplateid:0,description:(null===q||void 0===q||null===(be=q.row)||void 0===be?void 0:be.description)+"-v1"})}),setViewSelected:B,fetchData:pe}):"view-4"===H?Object(G.jsx)(Xe,{item:q.row,setViewSelected:B}):"heatmap"===H?Object(G.jsx)(c.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("report_heatmap"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(dt,{})]})}):"recordhsmreport"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("report_recordhsmreport"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(gt,{})]})}):"uniquecontactsreport"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("report_uniquecontactsreport"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(tn,{})]})}):"voicecallreport"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("report_voicecall"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(cn.a,{})]})}):"hsmhistory"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("hsmhistory"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(It,{})]})}):"reportconversationwhatsapp"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e(x.a.conversation_plural)+" Whatsapp",e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(bn,{})]})}):"reportinvoice"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("report_invoice"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(wt,{})]})}):"kpioperativo"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("report_kpioperativo"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(on,{})]})}):"report_ticketvsasesor"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("report_ticketvsasesor"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(_t,{})]})}):"campaign"===H?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{style:{width:"100%"},children:[Object(G.jsx)(y.L,{breadcrumbs:ln(e("report_campaign"),e(x.a.report_plural)),handleClick:je}),Object(G.jsx)(nn.a,{externalUse:!0})]})}):Object(G.jsx)(dn,{setViewSelected:B,row:v,multiData:o.multiData.data,allFilters:v.filters,customReport:L,setSearchValue:F})}},471:function(e,t,n){"use strict";n.r(t);var a=n(472);n.d(t,"default",(function(){return a.a}));var r=n(85);n.d(t,"useFormControl",(function(){return r.a}))},778:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=o},779:function(e,t,n){"use strict";n.d(t,"a",(function(){return ue})),n.d(t,"d",(function(){return pe})),n.d(t,"b",(function(){return be})),n.d(t,"e",(function(){return fe})),n.d(t,"c",(function(){return me}));var a=n(26),r=n(1),i=n(20),o=n(3),c=n(0),l=n.n(c),s=n(1048),d=n(94),u=n(1049),p=n(1045),b=n(1047),f=n(1146),m=n(1044),j=n(167),g=n(7),v=n(83),h=n(40),O=n(1145),x=n(1366),y=n(1046),w=n(765),_=n(766),S=n(767),C=n(768),k=n(721),D=n(197),I=n(817),N=n.n(I),E=n(806),T=n.n(E),F=n(51),A=n(444),R=n(170),H=n(169),B=n(773),M=n(257),P=n(794),L=n.n(P),z=n(48),G=n(16),W=n(823),V=n.n(W),q=n(172),U=n(793),Y=n(122),K=n(718),J=n(8),Q=n(315),X=n(269),$=n(828),Z=n(323),ee=n.n(Z),te=n(856),ne=n(1365),ae=n(1505),re=n(1367),ie=n(2),oe=Object(H.a)((function(e){var t;return{footerTable:(t={display:"block"},Object(o.a)(t,e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),Object(o.a)(t,"& > div",Object(o.a)({display:"block",textAlign:"center"},e.breakpoints.up("sm"),{display:"flex",alignItems:"center"})),t),trdynamic:{"&:hover":{boxShadow:"0 11px 6px -9px rgb(84 84 84 / 78%)","& $containerfloat":{visibility:"visible"}}},containerSearch:Object(o.a)({width:"100%"},e.breakpoints.up("sm"),{width:"50%"}),containerFilterGeneral:{display:"flex",justifyContent:"space-between",backgroundColor:"#FFF",padding:"".concat(e.spacing(1),"px")},containerfloat:{borderBottom:"none",backgroundColor:"white",marginTop:"1px",position:"absolute",zIndex:9999,left:0,visibility:"hidden"},iconOrder:{width:20,height:20,color:e.palette.text.primary},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerButtons:{gridGap:e.spacing(1),display:"grid",gridAutoFlow:"column",alignItems:"center"},containerHeader:Object(o.a)({display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"}),containerHeaderColumn:{display:"flex",justifyContent:"space-between",alignItems:"center"},iconHelpText:{width:15,height:15,cursor:"pointer"}}})),ce=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"contains",value:"contains"},{key:"notcontains",value:"notcontains"},{key:"isempty",value:"isempty"},{key:"isnotempty",value:"isnotempty"}],le=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"greater",value:"greater"},{key:"greaterorequals",value:"greaterorequals"},{key:"less",value:"less"},{key:"lessorequals",value:"lessorequals"},{key:"isempty",value:"isempty"},{key:"isnotempty",value:"isnotempty"}],se=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"after",value:"after"},{key:"afterequals",value:"afterequals"},{key:"before",value:"before"},{key:"beforeequals",value:"beforeequals"}],de=[{key:"all",value:"all"},{key:"istrue",value:"istrue"},{key:"isfalse",value:"isfalse"},{key:"isnull",value:"isnull"},{key:"isnotnull",value:"isnotnull"}],ue=function(e){var t=e.value,n=e.handleClickItemMenu,a=Object(Y.a)().t;return Object(ie.jsx)(k.a,{value:t||"all",onChange:function(e){return n(e.target.value)},children:de.map((function(e){return Object(ie.jsx)(D.a,{value:e.key,children:a(e.value)},e.key)}))})},pe=function(e){var t=e.value,n=e.data,a=e.handleClickItemMenu,r=Object(Y.a)().t;return Object(ie.jsxs)(k.a,{value:t||"_ALL",onChange:function(e){return a(e.target.value)},children:[Object(ie.jsx)(D.a,{value:"_ALL",children:r(J.a.all)}),n.map((function(e){return Object(ie.jsx)(D.a,{value:e.value,children:r(e.key)},e.value)}))]})},be=function(e,t){var n=Object(Y.a)().t,a=Object(c.useState)(null),r=Object(i.a)(a,2),o=r[0],l=r[1];return Object(c.useEffect)((function(){"isnull"!==e&&"isnotnull"!==e||l(null)}),[e]),Object(ie.jsx)(te.a,{utils:$.a,locale:Object(g.Bg)()[navigator.language.split("-")[0]],children:Object(ie.jsx)(ne.a,{invalidDateMessage:n(J.a.invalid_date_format),format:Object(g.qd)(),value:o,onChange:function(e){t(e),l(e)},style:{minWidth:"150px"}})})},fe=function(e,t){return Object(ie.jsx)(te.a,{utils:$.a,locale:Object(g.Bg)()[navigator.language.split("-")[0]],children:Object(ie.jsx)(ae.a,{ampm:!1,views:["hours","minutes","seconds"],format:"HH:mm:ss",error:!1,helperText:"",value:""===e?null:e,onChange:function(e){return t(e)},style:{minWidth:"150px"}})})},me=function(e,t,n){var a=Object(Y.a)().t;switch(e){case"number":case"number-centered":return le.map((function(e){return Object(ie.jsx)(D.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:a(e.value)},e.key)}));case"date":case"datetime-local":case"time":return se.map((function(e){return Object(ie.jsx)(D.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:a(e.value)},e.key)}));case"string":case"color":default:return ce.map((function(e){return Object(ie.jsx)(D.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:a(e.value)},e.key)}))}},je=l.a.memo((function(e){var t=e.titlemodule,n=e.columns,I=e.data,E=e.fetchData,H=e.download,P=void 0===H||H,W=e.register,Y=e.handleRegister,Q=e.calculate,$=void 0!==Q&&Q,Z=e.handleCalculate,te=e.HeadComponent,ne=e.ButtonsElement,ae=e.triggerExportPersonalized,ce=e.exportPersonalized,le=e.pageSizeDefault,se=void 0===le?20:le,de=e.importCSV,je=e.handleTemplate,ve=e.filterGeneral,he=void 0===ve||ve,Oe=e.loading,xe=void 0!==Oe&&Oe,ye=e.useSelection,we=e.selectionKey,_e=e.initialSelectedRows,Se=e.setSelectedRows,Ce=e.allRowsSelected,ke=e.setAllRowsSelected,De=e.onClickRow,Ie=e.toolsFooter,Ne=void 0===Ie||Ie,Ee=e.initialPageIndex,Te=void 0===Ee?0:Ee,Fe=e.helperText,Ae=void 0===Fe?"":Fe,Re=e.initialStateFilter,He=e.registertext,Be=e.setDataFiltered,Me=e.useFooter,Pe=void 0!==Me&&Me,Le=e.heightWithCheck,ze=void 0===Le?43:Le,Ge=e.checkHistoryCenter,We=void 0!==Ge&&Ge,Ve=oe(),qe=Object(h.c)(),Ue=Object(c.useState)(!0),Ye=Object(i.a)(Ue,2),Ke=Ye[0],Je=Ye[1],Qe=l.a.useCallback((function(e,t,n){var a=n.value,r=n.operator,i=n.type;return e.filter((function(e){var n=null===e.values[t]||void 0===e.values[t]?"":e.values[t];if(""===a&&!["isempty","isnotempty","isnull","isnotnull"].includes(r))return!0;switch(i){case"number":case"number-centered":switch(r){case"greater":return n>Number(a);case"greaterorequals":return n>=Number(a);case"less":return n<Number(a);case"lessorequals":return n<=Number(a);case"isnull":return""===n;case"isnotnull":return""!==n;case"notequals":return n!==Number(a);case"equals":default:return n===Number(a)}case"date":case"datetime-local":case"time":switch(r){case"after":return n>a;case"afterequals":return n>=a;case"before":return n<a;case"beforeequals":return n<=a;case"isnull":return""===n;case"isnotnull":return""!==n;case"notequals":return n!==a;case"equals":default:return n===a}case"boolean":switch(r){case"istrue":return"string"===typeof n?"true"===n:!0===n;case"isfalse":return"string"===typeof n?"false"===n:!1===n;case"isnull":return""===n;case"isnotnull":return""!==n;case"all":default:return!0}case"select":return"_ALL"===a||n===a;case"string":default:switch(r){case"equals":return n===a;case"notequals":return n!==a;case"isempty":return""===n;case"isnotempty":return""!==n;case"isnull":return null==n;case"isnotnull":return null!=n;case"notcontains":return!(n+"").toLowerCase().includes(a.toLowerCase());case"contains":default:return(n+"").toLowerCase().includes(a.toLowerCase())}}}))}),[]),Xe=l.a.useMemo((function(){return{Filter:function(e){return function(e){var t=e.column,n=t.id,a=t.setFilter,r=t.listSelectFilter,s=void 0===r?[]:r,d=t.type,u=void 0===d?"string":d,p=null===Re||void 0===Re?void 0:Re.filter((function(e){return e.id===n}))[0],b=Object(c.useState)((null===p||void 0===p?void 0:p.value.value)||""),f=Object(i.a)(b,2),m=f[0],g=f[1],h=Object(c.useState)(null),x=Object(i.a)(h,2),y=x[0],w=x[1],_=Boolean(y),S=Object(c.useState)((null===p||void 0===p?void 0:p.value.operator)||"contains"),C=Object(i.a)(S,2),k=C[0],D=C[1],I=function(e){a(e),qe(Object(v.G)({filter:Object(o.a)({},n,{value:e.value,operator:e.operator,type:e.type})}))},N=function(e){w(null),"boolean"===u?(D(e),g(e),I({value:e,operator:e,type:u})):"select"===u?(g(e),I({value:e,operator:e,type:u})):((["isempty","isnotempty","isnull","isnotnull"].includes(e)||m)&&I({value:m,operator:e,type:u}),D(e))},E=l.a.useCallback((function(e){13===e.keyCode&&I({value:m,operator:k,type:u})}),[m,k]);return Object(c.useEffect)((function(){if(!(null===Re||void 0===Re?void 0:Re.filter((function(e){return e.id===n}))[0]))switch(u){case"number":case"number-centered":case"date":case"datetime-local":case"time":case"select":D("equals");break;case"boolean":D("all");break;case"string":case"color":default:D("contains")}}),[u]),Object(ie.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:"boolean"===u?Object(ie.jsx)(ue,{value:m,handleClickItemMenu:N}):"select"===u?Object(ie.jsx)(pe,{value:m,handleClickItemMenu:N,data:s}):Object(ie.jsxs)(l.a.Fragment,{children:["date"===u&&be(m,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(g((null===e||void 0===e?void 0:e.toISOString())||""),I({value:(null===e||void 0===e?void 0:e.toISOString().split("T")[0])||"",operator:k,type:u}))})),"time"===u&&fe(m,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(g((null===e||void 0===e?void 0:e.toISOString())||""),I({value:null===e||void 0===e?void 0:e.toLocaleTimeString(),operator:k,type:u}))})),!["date","time"].includes(u)&&Object(ie.jsx)(A.a,{type:u,style:{fontSize:"15px",minWidth:"100px"},fullWidth:!0,value:m,onKeyDown:E,onChange:function(e){g(e.target.value||""),["date"].includes(u)&&I({value:e.target.value,operator:k,type:u})}}),Object(ie.jsx)(M.a,{onClick:function(e){w(e.currentTarget)},size:"small",children:Object(ie.jsx)(O.a,{style:{cursor:"pointer"},"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",color:"action",fontSize:"small"})}),Object(ie.jsx)(j.a,{id:"long-menu",anchorEl:y,open:_,onClose:function(){w(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}},children:me(u,k,N)})]})})}(Object(r.a)(Object(r.a)({},e),{},{data:I}))},filter:Qe}}),[]),$e=Object(U.useTable)({columns:n,data:I,initialState:{pageSize:se,selectedRowIds:_e||{},filters:Re||[]},defaultColumn:Xe,getRowId:function(e,t,n){return we?n?[e[we],n].join("."):e[we]:n?[n.id,t].join("."):t}},U.useFilters,U.useGlobalFilter,U.useSortBy,U.usePagination,U.useRowSelect,(function(e){ye&&e.visibleColumns.push((function(e){return[{id:"selection",width:80,Header:function(e){var t=e.getToggleAllPageRowsSelectedProps;return Object(ie.jsx)("div",{children:Object(ie.jsx)(q.a,Object(r.a)({color:"primary",style:{padding:"0 24px 0 16px"}},t()))})},Cell:function(e){var t=e.row;return Object(ie.jsx)("div",{children:!0===We?Object(ie.jsx)(q.a,{color:"primary",style:{padding:"0 24px 0 16px",height:68},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}}):Object(ie.jsx)(q.a,{color:"primary",style:{padding:"0 24px 0 16px"},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}})})},NoFilter:!0}].concat(Object(a.a)(e))}))})),Ze=$e.getTableProps,et=$e.getTableBodyProps,tt=$e.headerGroups,nt=$e.footerGroups,at=$e.prepareRow,rt=$e.page,it=$e.canPreviousPage,ot=$e.canNextPage,ct=$e.pageOptions,lt=$e.pageCount,st=$e.gotoPage,dt=$e.nextPage,ut=$e.previousPage,pt=$e.setPageSize,bt=$e.globalFilteredRows,ft=$e.setGlobalFilter,mt=$e.state,jt=mt.pageIndex,gt=mt.pageSize,vt=mt.selectedRowIds,ht=$e.toggleAllRowsSelected;Object(c.useEffect)((function(){Be&&Be(bt.map((function(e){return e.original})))}),[bt]),Object(c.useEffect)((function(){Re&&(Ke?(st(Te),Je(!1)):qe(Object(v.G)({page:0})))}),[I]),Object(c.useEffect)((function(){E&&E()}),[E]),Object(c.useEffect)((function(){Se&&Se(vt)}),[vt]),Object(c.useEffect)((function(){Ce&&(ht(!0),ke&&ke(!1))}),[Ce]);var Ot=l.a.useCallback((function(e){var t=e.index,n=e.style;n=Object(r.a)(Object(r.a)({},n),{},{display:"flex",alignItems:"flex-end",cursor:De?"pointer":"default"});var a=rt[t];return at(a),Object(ie.jsx)(m.a,Object(r.a)(Object(r.a)({},a.getRowProps({style:n})),{},{hover:!0,children:a.cells.map((function(e,t){var n;return Object(ie.jsx)(p.a,Object(r.a)(Object(r.a)({},e.getCellProps({style:Object(r.a)(Object(r.a)({},"auto"===e.column.width?{flex:1}:{minWidth:e.column.minWidth,width:e.column.width,maxWidth:e.column.maxWidth}),{},{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"number"===e.column.type?"right":(null===(n=e.column.type)||void 0===n?void 0:n.includes("centered"))?"center":"left"})})),{},{onClick:function(){var t;return"selection"!==e.column.id?De&&De(a.original,null===e||void 0===e||null===(t=e.column)||void 0===t?void 0:t.id):null},children:e.render("Cell")}))}))}))}),[tt,at,rt]);return Object(ie.jsxs)(F.a,{width:1,children:[Object(ie.jsxs)(F.a,{className:Ve.containerHeader,justifyContent:"space-between",alignItems:"center",mb:1,children:[t?Object(ie.jsxs)("span",{className:Ve.title,children:[t,""!==Ae?Object(ie.jsx)(R.a,{title:Object(ie.jsx)("div",{style:{fontSize:12},children:Ae}),arrow:!0,placement:"top",children:Object(ie.jsx)(ee.a,{color:"action",className:Ve.iconHelpText})}):""]}):Object(ie.jsx)("div",{style:{flexGrow:1},children:ne&&Object(ie.jsx)(ne,{})}),Object(ie.jsxs)("span",{className:Ve.containerButtons,children:[E&&Object(ie.jsx)(R.a,{title:"Refresh",children:Object(ie.jsx)(B.a,{size:"small","aria-label":"add",color:"primary",disabled:xe,style:{marginLeft:"1rem"},onClick:function(){return E&&E({})},children:Object(ie.jsx)(x.a,{})})}),ne&&!!t&&Object(ie.jsx)(ne,{}),de&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("input",{name:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.csv",id:"laraigo-upload-csv-file",type:"file",style:{display:"none"},onChange:function(e){return de(e.target.files)}}),Object(ie.jsx)("label",{htmlFor:"laraigo-upload-csv-file",children:Object(ie.jsx)(d.a,{className:Ve.button,variant:"contained",component:"span",color:"primary",disabled:xe,startIcon:Object(ie.jsx)(L.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:Object(ie.jsx)(K.a,{i18nKey:J.a.import})})}),je&&Object(ie.jsx)(d.a,{className:Ve.button,variant:"contained",component:"span",color:"primary",disabled:xe,startIcon:Object(ie.jsx)(V.a,{color:"secondary"}),onClick:je,style:{backgroundColor:"#55BD84"},children:Object(ie.jsx)(K.a,{i18nKey:J.a.template})})]}),W&&Object(ie.jsx)(d.a,{className:Ve.button,variant:"contained",color:"primary",disabled:xe,startIcon:Object(ie.jsx)(y.a,{color:"secondary"}),onClick:Y,style:{backgroundColor:"#55BD84"},children:Object(ie.jsx)(K.a,{i18nKey:He||J.a.register})}),$&&Object(ie.jsx)(d.a,{className:Ve.button,variant:"contained",color:"primary",disabled:xe,startIcon:Object(ie.jsx)(x.a,{color:"secondary"}),onClick:Z,style:{backgroundColor:"#55BD84"},children:Object(ie.jsx)(K.a,{i18nKey:J.a.calculate})}),P&&Object(ie.jsx)(d.a,{className:Ve.button,variant:"contained",color:"primary",disabled:xe,onClick:function(){return ae?ce&&ce():Object(g.bb)(String(t||"")+"Report",bt.map((function(e){return e.original})),n.filter((function(e){return!e.isComponent&&!e.activeOnHover})))},startIcon:Object(ie.jsx)(G.E,{}),children:Object(ie.jsx)(K.a,{i18nKey:J.a.download})})]})]}),he&&Object(ie.jsxs)(F.a,{className:Ve.containerFilterGeneral,children:[Object(ie.jsx)("span",{}),Object(ie.jsx)("div",{className:Ve.containerSearch,children:Object(ie.jsx)(z.G,{disabled:xe,colorPlaceHolder:"#FFF",handleChangeOther:ft,lazy:!0})})]}),te&&Object(ie.jsx)(te,{}),Object(ie.jsxs)(b.a,{style:{position:"relative"},children:[Object(ie.jsx)(F.a,{overflow:"auto",children:Object(ie.jsxs)(s.a,Object(r.a)(Object(r.a)({size:"small"},Ze()),{},{"aria-label":"enhanced table","aria-labelledby":"tableTitle",children:[Object(ie.jsx)(f.a,{style:{display:"table-header-group"},children:tt.map((function(e){return Object(ie.jsx)(m.a,Object(r.a)(Object(r.a)({},e.getHeaderGroupProps()),{},{style:ye?{display:"flex"}:{},children:e.headers.map((function(e,t){return e.activeOnHover?Object(ie.jsx)("th",{style:{width:"0px"}},"header-floating"):Object(ie.jsx)(p.a,{style:ye?Object(r.a)({},"auto"===e.width?{flex:1}:{minWidth:e.minWidth,width:e.width,maxWidth:e.maxWidth}):{},children:e.isComponent?e.render("Header"):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:Ve.containerHeaderColumn,children:[Object(ie.jsxs)(F.a,Object(r.a)(Object(r.a)({},e.getHeaderProps(e.getSortByToggleProps({title:"ordenar"}))),{},{style:{whiteSpace:"nowrap",wordWrap:"break-word",display:"flex",cursor:"pointer",alignItems:"center"},children:[e.render("Header"),e.isSorted&&(e.isSortedDesc?Object(ie.jsx)(N.a,{className:Ve.iconOrder,color:"action"}):Object(ie.jsx)(T.a,{className:Ve.iconOrder,color:"action"}))]})),!!e.helpText&&Object(ie.jsx)(R.a,{title:Object(ie.jsx)("div",{style:{fontSize:12},children:e.helpText}),arrow:!0,placement:"top",children:Object(ie.jsx)(ee.a,{color:"action",className:Ve.iconHelpText})})]}),Object(ie.jsx)("div",{children:!e.NoFilter&&e.render("Filter")})]})},t)}))}))}))}),Object(ie.jsx)(u.a,Object(r.a)(Object(r.a)({},et()),{},{style:{backgroundColor:"white"},children:xe?Object(ie.jsx)(ge,{columns:tt[0].headers.length}):ye?Object(ie.jsx)(X.a,{style:{overflowX:"hidden"},direction:"vertical",width:"auto",height:window.innerHeight-470,itemCount:rt.length,itemSize:ze,children:Ot}):rt.map((function(e){return at(e),Object(ie.jsx)(m.a,Object(r.a)(Object(r.a)({},e.getRowProps()),{},{hover:!0,style:{cursor:De?"pointer":"default"},children:e.cells.map((function(t,n){var a;return Object(ie.jsx)(p.a,Object(r.a)(Object(r.a)({},t.getCellProps({style:Object(r.a)(Object(r.a)({minWidth:t.column.minWidth,width:t.column.width,maxWidth:t.column.maxWidth,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},Ne?{}:{padding:"0px"}),{},{textAlign:"number"===t.column.type?"right":(null===(a=t.column.type)||void 0===a?void 0:a.includes("centered"))?"center":"left"})})),{},{onClick:function(){var n;return"selection"!==t.column.id?De&&De(e.original,null===t||void 0===t||null===(n=t.column)||void 0===n?void 0:n.id):null},children:t.render("Cell")}))}))}))}))})),Pe&&Object(ie.jsx)(re.a,{children:nt.map((function(e){return Object(ie.jsx)(m.a,Object(r.a)(Object(r.a)({},e.getFooterGroupProps()),{},{children:e.headers.map((function(e){var t;return Object(ie.jsx)(p.a,Object(r.a)(Object(r.a)({},e.getFooterProps({style:{fontWeight:"bold",color:"black",textAlign:"number"===e.type?"right":(null===(t=e.type)||void 0===t?void 0:t.includes("centered"))?"center":"left"}})),{},{children:e.render("Footer")}))}))}))}))})]}))}),Ne&&Object(ie.jsxs)(F.a,{className:Ve.footerTable,children:[Object(ie.jsxs)(F.a,{children:[Object(ie.jsx)(M.a,{onClick:function(){st(0),qe(Object(v.G)({page:0}))},disabled:!it||xe,children:Object(ie.jsx)(w.a,{})}),Object(ie.jsx)(M.a,{onClick:function(){ut(),qe(Object(v.G)({page:jt-1}))},disabled:!it||xe,children:Object(ie.jsx)(_.a,{})}),Object(ie.jsx)(M.a,{onClick:function(){dt(),qe(Object(v.G)({page:jt+1}))},disabled:!ot||xe,children:Object(ie.jsx)(S.a,{})}),Object(ie.jsx)(M.a,{onClick:function(){st(lt-1),qe(Object(v.G)({page:lt-1}))},disabled:!ot||xe,children:Object(ie.jsx)(C.a,{})}),Object(ie.jsx)(F.a,{component:"span",fontSize:14,children:Object(ie.jsx)(K.a,{i18nKey:J.a.tablePageOf,values:{currentPage:0===ct.length?0:jt+1,totalPages:ct.length},components:[Object(ie.jsx)(F.a,{fontWeight:"700",component:"span"}),Object(ie.jsx)(F.a,{fontWeight:"700",component:"span"})]})})]}),Object(ie.jsx)(F.a,{children:Object(ie.jsx)(K.a,{i18nKey:1e5===(bt||[]).length?J.a.tableShowingRecordOfMore:J.a.tableShowingRecordOf,values:{itemCount:rt.length,totalItems:bt.length}})}),Object(ie.jsxs)(F.a,{children:[Object(ie.jsx)(k.a,{disableUnderline:!0,style:{display:"inline-flex"},value:gt,disabled:xe,onChange:function(e){pt(Number(e.target.value)),qe(Object(v.G)({pageSize:Number(e.target.value)}))},children:[5,10,20,50,100].map((function(e){return Object(ie.jsx)(D.a,{value:e,children:e},e)}))}),Object(ie.jsx)(F.a,{fontSize:14,display:"inline",style:{marginRight:"1rem"},children:Object(ie.jsx)(K.a,{i18nKey:J.a.recordPerPage,count:gt})})]})]})]})]})}));t.f=je;var ge=function(e){for(var t=e.columns,n=[],a=0;a<t;a++)n.push(Object(ie.jsx)(p.a,{children:Object(ie.jsx)(Q.a,{})},"table-simple-skeleton-".concat(a)));return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(m.a,{children:n},"1aux1"),Object(ie.jsx)(m.a,{children:n},"2aux2")]})}},780:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=o},783:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return a}))},784:function(e,t,n){"use strict";n.d(t,"c",(function(){return $})),n.d(t,"a",(function(){return Z}));var a=n(26),r=n(1),i=n(20),o=n(3),c=n(0),l=n.n(c),s=n(1048),d=n(1049),u=n(1045),p=n(1047),b=n(1146),f=n(1044),m=n(257),j=n(721),g=n(197),v=n(51),h=n(444),O=n(169),x=n(718),y=n(170),w=n(94),_=n(8),S=n(16),C=n(794),k=n.n(C),D=n(9),I=n(315),N=n(1145),E=n(830),T=n(1046),F=n(893),A=n(894),R=n(765),H=n(766),B=n(767),M=n(768),P=n(323),L=n.n(P),z=n(167),G=n(793),W=n(48),V=n(172),q=n(779),U=n(7),Y=n(2),K=Object(O.a)((function(e){var t;return{footerTable:(t={display:"block"},Object(o.a)(t,e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),Object(o.a)(t,"& > div",Object(o.a)({display:"block",textAlign:"center"},e.breakpoints.up("sm"),{display:"flex",alignItems:"center"})),t),trdynamic:{"&:hover":{boxShadow:"0 11px 6px -9px rgb(84 84 84 / 78%)","& $containerfloat":{visibility:"visible"}}},containerfloat:{borderBottom:"none",padding:"4px 24px 4px 16px",backgroundColor:"white",marginTop:"1px",position:"absolute",zIndex:9999,left:0,visibility:"hidden"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerButtons:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:8},containerButtonsNoFilters:{display:"flex",width:"100%",justifyContent:"end",alignItems:"center",flexWrap:"wrap",gap:8},iconOrder:{width:20,height:20,color:e.palette.text.primary},containerHeader:Object(o.a)({display:"block",backgroundColor:"#FFF",padding:e.spacing(1)},e.breakpoints.up("sm"),{display:"flex"}),containerHeaderColumn:{display:"flex",justifyContent:"space-between",alignItems:"center"},iconHelpText:{width:15,height:15,cursor:"pointer"}}})),J=function(e){var t=e.header,n=e.type,a=e.setFilters,s=e.filters,d=e.listSelectFilter,u=Object(c.useState)(""),p=Object(i.a)(u,2),b=p[0],f=p[1],j=l.a.useState(null),g=Object(i.a)(j,2),v=g[0],O=g[1],x=Boolean(v),y=Object(c.useState)("contains"),w=Object(i.a)(y,2),_=w[0],S=w[1];Object(c.useEffect)((function(){switch(n){case"number":case"number-centered":case"date":case"datetime-local":case"time":case"select":S("equals");break;case"boolean":S("all");break;case"string":case"color":default:S("contains")}}),[n]),Object(c.useEffect)((function(){["number","number-centered"].includes(n)&&S("equals")}),[n]);var C=function(e){O(null),S(e),"boolean"===n?(f(e),a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:e,operator:e})),0)):"select"===n?(f(e),a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,"_ALL"===e?void 0:{value:e,operator:"equals"})),0)):"text"!==n&&n?["number","number-centered"].includes(n)?"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:"",operator:e})),0):b&&a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:b,operator:e})),0):"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:"",operator:e})),0):""!==b&&a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:b,operator:e})),0):"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:"",operator:e})),0):b&&a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:b,operator:e})),0)};return Object(c.useEffect)((function(){if(0===Object.keys(s).length)f("");else if(t in s){var e;f((null===s||void 0===s||null===(e=s[t])||void 0===e?void 0:e.value)||""),(null===s||void 0===s?void 0:s[t])&&S(s[t].operator)}}),[s]),Object(Y.jsx)("div",{style:{display:"flex",alignItems:"center"},children:"boolean"===n?Object(Y.jsx)(q.a,{value:b,handleClickItemMenu:C}):"select"===n?Object(Y.jsx)(q.d,{value:b,handleClickItemMenu:C,data:d||[]}):Object(Y.jsxs)(l.a.Fragment,{children:["date"===n&&Object(q.b)(b,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(f((null===e||void 0===e?void 0:e.toISOString())||""),e||["isnull","isnotnull"].includes(_)?a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:(null===e||void 0===e?void 0:e.toISOString().split("T")[0])||"",operator:_})),0):a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,void 0)),0))})),"time"===n&&Object(q.e)(b,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(f((null===e||void 0===e?void 0:e.toISOString())||""),e||["isnull","isnotnull"].includes(_)?a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:null===e||void 0===e?void 0:e.toLocaleTimeString(),operator:_})),0):a(Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,void 0)),0))})),!["date","time"].includes(n)&&Object(Y.jsx)(h.a,{style:{fontSize:"15px",minWidth:"100px"},type:["number","number-centered"].includes(n)?"number":"text",fullWidth:!0,value:b,onKeyDown:function(e){13===e.keyCode&&a(b||"noempty"===_||"empty"===_?Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,{value:b,operator:_})):Object(r.a)(Object(r.a)({},s),{},Object(o.a)({},t,void 0)),0)},onChange:function(e){return f(e.target.value)}}),Object(Y.jsx)(m.a,{onClick:function(e){O(e.currentTarget)},size:"small",children:Object(Y.jsx)(N.a,{style:{cursor:"pointer"},"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",color:"action",fontSize:"small"})}),Object(Y.jsx)(z.a,{id:"long-menu",anchorEl:v,open:x,onClose:function(){O(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}},children:Object(q.c)(n||"string",_,C)})]})})},Q=l.a.memo((function(e){var t,n=e.titlemodule,l=e.columns,h=e.data,O=e.fetchData,C=e.filterrange,I=e.totalrow,N=e.pageCount,P=e.download,z=e.register,q=e.handleRegister,Q=e.HeadComponent,$=e.ButtonsElement,Z=e.exportPersonalized,ee=e.loading,te=e.importCSV,ne=e.autotrigger,ae=void 0!==ne&&ne,re=e.autoRefresh,ie=e.useSelection,oe=e.selectionKey,ce=e.selectionFilter,le=e.initialSelectedRows,se=e.cleanSelection,de=e.setCleanSelection,ue=e.setSelectedRows,pe=e.onClickRow,be=e.FiltersElement,fe=e.filterRangeDate,me=void 0===fe?"month":fe,je=e.onFilterChange,ge=e.initialEndDate,ve=void 0===ge?null:ge,he=e.initialStartDate,Oe=void 0===he?null:he,xe=e.initialFilters,ye=void 0===xe?{}:xe,we=e.initialPageIndex,_e=void 0===we?0:we,Se=K(),Ce=Object(c.useState)({sorts:{},filters:ye,pageIndex:_e}),ke=Object(i.a)(Ce,2),De=ke[0],Ie=ke[1],Ne=Object(c.useState)(!1),Ee=Object(i.a)(Ne,2),Te=Ee[0],Fe=Ee[1],Ae=Object(c.useState)(ae),Re=Object(i.a)(Ae,2),He=Re[0],Be=Re[1],Me=Object(c.useState)({startDate:Oe,endDate:ve,page:_e,filters:ye}),Pe=Object(i.a)(Me,2),Le=Pe[0],ze=Pe[1],Ge=Object(G.useTable)({columns:l,data:h,initialState:{pageIndex:_e,pageSize:20,selectedRowIds:le||{}},manualPagination:!0,pageCount:N,useControlledState:function(e){return Object(c.useMemo)((function(){return Object(r.a)(Object(r.a)({},e),{},{pageIndex:De.pageIndex})}),[e,De.pageIndex])},autoResetSelectedRows:!1,getRowId:function(e,t,n){return oe?n?[e[oe],n].join("."):e[oe]:n?[n.id,t].join("."):t},stateReducer:function(e,t){switch(t.type){case"toggleAllRowsSelected":return Object(r.a)(Object(r.a)({},e),{},{selectedRowIds:{}});default:return e}}},G.useFilters,G.useGlobalFilter,G.usePagination,G.useRowSelect,(function(e){ie&&e.visibleColumns.push((function(e){return[{id:"selection",width:80,Header:function(e){var t=e.getToggleAllPageRowsSelectedProps,n=e.filteredRows;return ce?Object(Y.jsx)("div",{style:{textAlign:"right"},children:Object(Y.jsx)(V.a,{color:"primary",style:{padding:0},checked:n.filter((function(e){return e.original[null===ce||void 0===ce?void 0:ce.key]===(null===ce||void 0===ce?void 0:ce.value)})).every((function(e){return e.isSelected})),onChange:function(){n.filter((function(e){return e.original[null===ce||void 0===ce?void 0:ce.key]===(null===ce||void 0===ce?void 0:ce.value)})).forEach((function(e){e.toggleRowSelected()}))}})}):Object(Y.jsx)("div",{style:{textAlign:"right"},children:Object(Y.jsx)(V.a,Object(r.a)({color:"primary",style:{padding:0}},t()))})},Cell:function(e){var t=e.row;return ce&&t.original[null===ce||void 0===ce?void 0:ce.key]!==(null===ce||void 0===ce?void 0:ce.value)?null:Object(Y.jsx)("div",{style:{textAlign:"right"},children:Object(Y.jsx)(V.a,{color:"primary",style:{padding:0},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}})})},NoFilter:!0,isComponent:!0}].concat(Object(a.a)(e))}))})),We=Ge.getTableProps,Ve=Ge.getTableBodyProps,qe=Ge.headerGroups,Ue=Ge.prepareRow,Ye=Ge.page,Ke=Ge.canPreviousPage,Je=Ge.canNextPage,Qe=Ge.pageOptions,Xe=Ge.pageCount,$e=Ge.setPageSize,Ze=Ge.toggleAllRowsSelected,et=Ge.state,tt=et.pageIndex,nt=et.pageSize,at=et.selectedRowIds,rt=function(e){Ie((function(t){return Object(r.a)(Object(r.a)({},t),{},{pageIndex:e,trigger:!0})})),ze((function(t){return Object(r.a)(Object(r.a)({},t),{},{page:e})}))},it=Object(c.useState)({startDate:Oe?new Date(Oe):"month"===me?Object(U.Oc)():Object(U.Fc)(),endDate:ve?new Date(ve):"month"===me?Object(U.kd)():Object(U.Fc)(),key:"selection"}),ot=Object(i.a)(it,2),ct=ot[0],lt=ot[1],st=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&Ie((function(e){return Object(r.a)(Object(r.a)({},e),{},{pageIndex:_e,trigger:!1})})),O&&(O(Object(r.a)(Object(r.a)({},De),{},{pageSize:nt,pageIndex:e?_e:De.pageIndex,daterange:{startDate:ct.startDate?new Date(ct.startDate.setHours(10)).toISOString().substring(0,10):null,endDate:ct.endDate?new Date(ct.endDate.setHours(10)).toISOString().substring(0,10):null}})),ze((function(t){return Object(r.a)(Object(r.a)({},t),{},{page:e?_e:De.pageIndex,startDate:ct.startDate?new Date(ct.startDate.setHours(10)).getTime():null,endDate:ct.endDate?new Date(ct.endDate.setHours(10)).getTime():null})})))};Object(c.useEffect)((function(){se&&(Ze(!1),ue&&ue({}),de&&de(!1))}),[se]),Object(c.useEffect)((function(){(null===De||void 0===De?void 0:De.trigger)&&st()}),[De,He]),Object(c.useEffect)((function(){He&&st()}),[nt]),Object(c.useEffect)((function(){He&&He&&st(!0)}),[He]),Object(c.useEffect)((function(){(null===re||void 0===re?void 0:re.value)&&(st(),null===re||void 0===re||re.callback(!1))}),[re]),Object(c.useEffect)((function(){ue&&ue(at)}),[at]),Object(c.useEffect)((function(){null===je||void 0===je||je(Le)}),[Le]);return Object(Y.jsxs)(v.a,{width:1,children:[n&&Object(Y.jsx)("div",{className:Se.title,children:n}),Object(Y.jsx)(v.a,{className:Se.containerHeader,justifyContent:"space-between",alignItems:"center",children:Object(Y.jsxs)("div",{className:Object(D.default)((t={},Object(o.a)(t,Se.containerButtons,!!be),Object(o.a)(t,Se.containerButtonsNoFilters,!be),t)),children:[C&&Object(Y.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[Object(Y.jsx)(W.f,{open:Te,setOpen:Fe,range:ct,onSelect:lt,children:Object(Y.jsx)(w.a,{disabled:ee,style:{border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},startIcon:Object(Y.jsx)(S.n,{}),onClick:function(){return Fe(!Te)},children:Object(U.Ec)(ct.startDate)+" - "+Object(U.Ec)(ct.endDate)})}),be&&be,Object(Y.jsx)(w.a,{disabled:ee,variant:"contained",color:"primary",startIcon:Object(Y.jsx)(E.a,{style:{color:"white"}}),style:{backgroundColor:"#55BD84",width:120},onClick:function(){He&&st(!0),Be(!0)},children:Object(Y.jsx)(x.a,{i18nKey:_.a.search})})]}),Object(Y.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[$&&Object(Y.jsx)($,{}),te&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("input",{name:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",id:"laraigo-upload-csv-file",type:"file",style:{display:"none"},onChange:function(e){return te(e.target.files)}}),Object(Y.jsx)("label",{htmlFor:"laraigo-upload-csv-file",children:Object(Y.jsx)(w.a,{className:Se.button,variant:"contained",component:"span",color:"primary",disabled:ee,startIcon:Object(Y.jsx)(k.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:Object(Y.jsx)(x.a,{i18nKey:_.a.import})})})]}),z&&Object(Y.jsx)(w.a,{className:Se.button,variant:"contained",color:"primary",disabled:ee,startIcon:Object(Y.jsx)(T.a,{color:"secondary"}),onClick:q,style:{backgroundColor:"#55BD84"},children:Object(Y.jsx)(x.a,{i18nKey:_.a.register})}),P&&Object(Y.jsx)(w.a,{className:Se.button,variant:"contained",color:"primary",disabled:ee,onClick:function(){Z&&Z(Object(r.a)(Object(r.a)({},De),{},{daterange:{startDate:ct.startDate?new Date(ct.startDate.setHours(10)).toISOString().substring(0,10):null,endDate:ct.endDate?new Date(ct.endDate.setHours(10)).toISOString().substring(0,10):null}}))},startIcon:Object(Y.jsx)(S.E,{}),children:Object(Y.jsx)(x.a,{i18nKey:_.a.download})})]})]})}),Q&&Object(Y.jsx)(Q,{}),Object(Y.jsxs)(p.a,{style:{position:"relative"},children:[Object(Y.jsx)(v.a,{overflow:"auto",children:Object(Y.jsxs)(s.a,Object(r.a)(Object(r.a)({},We()),{},{"aria-label":"enhanced table",size:"small","aria-labelledby":"tableTitle",children:[Object(Y.jsx)(b.a,{children:qe.map((function(e){return Object(Y.jsx)(f.a,Object(r.a)(Object(r.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,t){return e.activeOnHover?Object(Y.jsx)("th",{style:{width:"0px"}},"header-floating"):Object(Y.jsx)(u.a,{children:e.isComponent?e.render("Header"):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{className:Se.containerHeaderColumn,children:[Object(Y.jsxs)(v.a,Object(r.a)(Object(r.a)({component:"div"},e.getHeaderProps()),{},{onClick:function(){return!e.NoSort&&function(e){var t={};Object.keys(De.sorts).includes(e)&&(t=Object(r.a)({},De.sorts)),"desc"===t[e]?delete t[e]:"asc"===t[e]?t[e]="desc":t[e]="asc",Ie((function(e){return Object(r.a)(Object(r.a)({},e),{},{sorts:t,trigger:!0})}))}(e.id)},style:{whiteSpace:"nowrap",wordWrap:"break-word",display:"flex",cursor:"pointer",alignItems:"center"},children:[e.render("Header"),De.sorts[e.id]&&("asc"===De.sorts[e.id]?Object(Y.jsx)(F.a,{className:Se.iconOrder,color:"action"}):Object(Y.jsx)(A.a,{className:Se.iconOrder,color:"action"}))]})),!!e.helpText&&Object(Y.jsx)(y.a,{title:Object(Y.jsx)("div",{style:{fontSize:12,whiteSpace:"break-spaces"},children:e.helpText}),arrow:!0,placement:"top",children:Object(Y.jsx)(L.a,{color:"action",className:Se.iconHelpText})})]}),!e.NoFilter&&Object(Y.jsx)(J,{header:e.id,listSelectFilter:e.listSelectFilter||[],type:e.type,filters:De.filters,setFilters:function(e,t){!function(e,t){Ie((function(t){return Object(r.a)(Object(r.a)({},t),{},{filters:e,pageIndex:0,trigger:!0})}))}(e),ze((function(n){return Object(r.a)(Object(r.a)({},n),{},{filters:e,page:t})}))}})]})},t)}))}))}))}),Object(Y.jsx)(d.a,Object(r.a)(Object(r.a)({},Ve()),{},{style:{backgroundColor:"white"},children:ee?Object(Y.jsx)(X,{columns:qe[0].headers.length}):Ye.map((function(e){return Ue(e),Object(Y.jsx)(f.a,Object(r.a)(Object(r.a)({},e.getRowProps()),{},{hover:!0,style:{cursor:pe?"pointer":"default"},children:e.cells.map((function(t,n){var a;return Object(Y.jsx)(u.a,Object(r.a)(Object(r.a)({},t.getCellProps({style:{minWidth:t.column.minWidth,width:t.column.width,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"number"===t.column.type?"right":(null===(a=t.column.type)||void 0===a?void 0:a.includes("centered"))?"center":"left"}})),{},{onClick:function(){return"selection"!==t.column.id?pe&&pe(e.original):null},children:t.render("Cell")}))}))}))}))}))]}))}),Object(Y.jsxs)(v.a,{className:Se.footerTable,children:[Object(Y.jsxs)(v.a,{children:[Object(Y.jsx)(m.a,{onClick:function(){return rt(0)},disabled:!Ke,children:Object(Y.jsx)(R.a,{})}),Object(Y.jsx)(m.a,{onClick:function(){return rt(De.pageIndex-1)},disabled:!Ke,children:Object(Y.jsx)(H.a,{})}),Object(Y.jsx)(m.a,{onClick:function(){return rt(De.pageIndex+1)},disabled:!Je,children:Object(Y.jsx)(B.a,{})}),Object(Y.jsx)(m.a,{onClick:function(){return rt(Xe-1)},disabled:!Je,children:Object(Y.jsx)(M.a,{})}),Object(Y.jsx)(v.a,{component:"span",fontSize:14,children:Object(Y.jsx)(x.a,{i18nKey:_.a.tablePageOf,values:{currentPage:0===Qe.length?0:tt+1,totalPages:Qe.length},components:[Object(Y.jsx)(v.a,{fontWeight:"700",component:"span"}),Object(Y.jsx)(v.a,{fontWeight:"700",component:"span"})]})})]}),Object(Y.jsx)(v.a,{children:Object(Y.jsx)(x.a,{i18nKey:1e5===(I||0)?_.a.tableShowingRecordOfMore:_.a.tableShowingRecordOf,values:{itemCount:Ye.length,totalItems:I}})}),Object(Y.jsxs)(v.a,{children:[Object(Y.jsx)(j.a,{disableUnderline:!0,style:{display:"inline-flex"},value:nt,onChange:function(e){$e(Number(e.target.value))},children:[5,10,20,50,100].map((function(e){return Object(Y.jsx)(g.a,{value:e,children:e},e)}))}),Object(Y.jsx)(v.a,{fontSize:14,display:"inline",style:{marginRight:"1rem"},children:Object(Y.jsx)(x.a,{i18nKey:_.a.recordPerPage,count:nt})})]})]})]})]})}));t.b=Q;var X=function(e){for(var t=e.columns,n=[],a=0;a<t;a++)n.push(Object(Y.jsx)(u.a,{children:Object(Y.jsx)(I.a,{})},"table-simple-skeleton-".concat(a)));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(f.a,{children:n},"1aux1"),Object(Y.jsx)(f.a,{children:n},"2aux2")]})};function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignore:[]};return Object(c.useMemo)((function(){var n={endDate:Number(e.get("endDate")),startDate:Number(e.get("startDate")),page:Number(e.get("page")),filters:{}},a=t.ignore;return e.forEach((function(t,r){if("endDate"!==r&&"startDate"!==r&&"page"!==r&&!r.includes("-operator")&&!(a||[]).includes(r)){var i="".concat(r,"-operator");n.filters[r]={value:t,operator:e.get(i)}}})),n}),[t,e])}function Z(e,t){var n=new URLSearchParams(t);for(var a in e){var r=e[a];"filters"!==a&&void 0!==r&&null!==r&&n.set(a,String(r))}var i=e.filters;for(var o in i)"object"===typeof i[o]&&"value"in i[o]&&"operator"in i[o]&&(n.set(o,String(i[o].value)),n.set("".concat(o,"-operator"),String(i[o].operator)));return n}},786:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=o},816:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=o},826:function(e,t,n){"use strict";var a=n(3),r=n(20),i=n(0),o=n.n(i),c=(n(457),n(169)),l=n(16),s=n(773),d=n(812),u=n.n(d),p=n(813),b=n.n(p),f=n(9),m=n(122),j=n(8),g=n(25),v=n(44),h=n(40),O=n(7),x=n(258),y=n(899),w=n.n(y),_=n(259),S=n(260),C=n(722),k=n(1498),D=n(865),I=n(2),N=Object(c.a)((function(e){return{containerCarousel:{width:230,backgroundColor:"#f0f2f5",borderRadius:18,position:"relative"},imageCardCarousel:{width:"100%",objectFit:"cover",height:"100%"},buttonCarousel:{backgroundColor:"#e4e6eb",textAlign:"center",borderRadius:6,height:36,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,cursor:"pointer"},buttonLeft:{position:"absolute",top:"45%",left:-20,backgroundColor:"white"},buttonRight:{position:"absolute",top:"45%",right:-20,backgroundColor:"white"},containerTime:{visibility:"hidden",fontSize:12,float:"right",marginLeft:4,paddingRight:6,lineHeight:1,width:50},timeSeen:{color:"#4fc3f7"},timeInteraction:{position:"absolute",bottom:1.5,height:16,right:0,visibility:"visible",color:"#757377",padding:"inherit",display:"flex",alignItems:"center",gap:4},timeInteractionWithBackground:{position:"absolute",bottom:3,display:"flex",alignItems:"center",height:13,right:0,visibility:"visible",backgroundColor:"#00000059",color:"#fff",padding:"3px 2px 3px 3px",borderRadius:4,marginRight:4,gap:4}}})),E=function(e){var t,n=e.interactiontext,i=e.createdate,c=e.classes,l=e.userType,s=e.onlyTime,d=o.a.useState(!1),u=Object(r.a)(d,2),p=u[0],b=u[1],g=Object(m.a)().t,v=function(){return b(!0)},h=JSON.parse(n);return 0===((null===(t=h.Product_items)||void 0===t?void 0:t.length)||0)?Object(I.jsx)("div",{}):Object(I.jsxs)("div",{title:Object(O.K)(i).toLocaleString(),className:Object(f.default)(c.interactionText,Object(a.a)({},c.interactionTextAgent,"client"!==l)),children:[Object(I.jsxs)("div",{style:{width:300},children:[Object(I.jsxs)("div",{style:{display:"flex",backgroundColor:"#f5f6f6"},children:[Object(I.jsx)("img",{width:"70px",height:"70px",alt:"reference",src:h.Product_items[0].ImageReference}),Object(I.jsx)("div",{style:{display:"flex",alignItems:"center",paddingLeft:8},children:Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{style:{fontWeight:"bold"},children:[h.Product_items.length," ",g(j.a.elements)]}),Object(I.jsxs)("div",{style:{fontWeight:"bold"},children:[h.Product_items.reduce((function(e,t){return e+parseFloat(t.Item_price)*parseFloat(t.Quantity)}),0).toFixed(2)," ",h.Product_items[0].Currency]})]})})]}),Object(I.jsx)("div",{children:h.Text}),Object(I.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(I.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:v,children:g(j.a.show_shopping_cart)}),Object(I.jsx)(R,{interactiontype:"interactivelist",createdate:i,userType:l,time:s||""})]}),Object(I.jsx)(k.a,{anchor:"right",open:p,onClose:function(){return b(!1)},onOpen:v,children:Object(I.jsxs)("div",{style:{width:400,padding:16},children:[Object(I.jsx)("h4",{children:g(j.a.cart_sent)}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{style:{fontWeight:500},children:[h.Product_items.length," ",g(j.a.elements)]}),Object(I.jsxs)("div",{style:{color:"#8696a0"},children:[h.Product_items.reduce((function(e,t){return e+parseFloat(t.Item_price)*parseFloat(t.Quantity)}),0).toFixed(2)," ",h.Product_items[0].Currency]}),Object(I.jsx)("div",{style:{marginTop:16}})]}),Object(I.jsx)("div",{children:h.Product_items.map((function(e,t){return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:8},children:[Object(I.jsx)("img",{width:"80px",alt:"reference",height:"80px",src:e.ImageReference}),Object(I.jsx)("div",{style:{display:"flex",alignItems:"center",width:"75%",borderTop:"1px solid #ebebeb"},children:Object(I.jsxs)("div",{style:{width:"100%"},children:[Object(I.jsx)("div",{style:{fontWeight:500},children:e.Title}),Object(I.jsxs)("div",{style:{color:"#8696a0"},children:[e.Currency," ",parseFloat(e.Item_price).toFixed(2)," \u2022 ",g(j.a.quantity),": ",e.Quantity]})]})})]})},t)}))})]})})]})},T=function(e){var t,n,i,c,s=e.interactiontext,d=e.createdate,u=e.classes,p=e.userType,b=e.onlyTime,g=o.a.useState(!1),v=Object(r.a)(g,2),h=v[0],x=v[1],y=Object(m.a)().t,w=function(){return x(!0)},_=JSON.parse(s);if("product_list"===_.Type||"dynamic"===_.Type){var S,C,D,N,E=(null===(S=_.SectionList)||void 0===S||null===(C=S[0])||void 0===C||null===(D=C.ProductList)||void 0===D||null===(N=D[0])||void 0===N?void 0:N.ImageReference)||"",T=_.SectionList.reduce((function(e,t){return e+t.ProductList.length}),0);return Object(I.jsxs)("div",{title:Object(O.K)(d).toLocaleString(),className:Object(f.default)(u.interactionText,Object(a.a)({},u.interactionTextAgent,"client"!==p)),children:[Object(I.jsxs)("div",{style:{display:"flex",gap:"4px",backgroundColor:"#f5f6f6"},children:[E&&Object(I.jsx)("img",{width:"70px",height:"70px",src:E,alt:"fist"}),Object(I.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{style:{fontWeight:500},children:_.Header}),Object(I.jsxs)("div",{style:{color:"#8696a0"},children:[T," ",y(j.a.elements)]})]})})]}),Object(I.jsxs)("div",{style:{padding:8},children:[Object(I.jsx)("div",{style:{fontWeight:500},children:_.Body}),Object(I.jsx)("div",{style:{color:"#8696a0"},children:_.Footer})]}),Object(I.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(I.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:w,children:[Object(I.jsx)(l.ib,{})," ",y(j.a.show_items)]}),Object(I.jsx)(R,{interactiontype:"interactivelist",createdate:d,userType:p,time:b||""}),Object(I.jsx)(k.a,{anchor:"right",open:h,onClose:function(){return x(!1)},onOpen:w,children:Object(I.jsxs)("div",{style:{width:400,padding:16},children:[Object(I.jsx)("div",{style:{marginBottom:16},children:_.Body}),Object(I.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:_.SectionList.map((function(e,t){return Object(I.jsxs)("div",{style:{cursor:"pointer"},children:[Object(I.jsx)("div",{style:{color:"#008069",marginBottom:16},children:e.Title}),e.ProductList.map((function(e,t){return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:8},children:[Object(I.jsx)("img",{width:"80px",alt:"reference",height:"80px",src:e.ImageReference}),Object(I.jsx)("div",{style:{display:"flex",alignItems:"center",width:"75%",borderTop:"1px solid #ebebeb"},children:Object(I.jsxs)("div",{style:{width:"100%"},children:[Object(I.jsx)("div",{style:{fontWeight:500},children:e.Title}),Object(I.jsx)("div",{style:{color:"#8696a0",overflow:"hidden",wordBreak:"break-word",fontWeight:500,whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e.Description}),Object(I.jsxs)("div",{style:{color:"#8696a0"},children:[e.Currency," ",e.Price||10]})]})})]})},t)}))]},t)}))})]})})]})}return Object(I.jsxs)("div",{title:Object(O.K)(d).toLocaleString(),className:Object(f.default)(u.interactionText,Object(a.a)({},u.interactionTextAgent,"client"!==p)),children:[Object(I.jsxs)("div",{style:{width:300,display:"flex",flexDirection:"column"},children:[Object(I.jsx)("img",{width:"100%",src:null===_||void 0===_||null===(t=_.Product)||void 0===t?void 0:t.ImageReference,height:"320px",alt:"reference"}),Object(I.jsxs)("div",{style:{backgroundColor:"#f5f6f6",padding:8},children:[Object(I.jsx)("div",{children:null===_||void 0===_||null===(n=_.Product)||void 0===n?void 0:n.Title}),Object(I.jsxs)("div",{style:{color:"#dff3cc"},children:[null===_||void 0===_||null===(i=_.Product)||void 0===i?void 0:i.Price," ",null===_||void 0===_||null===(c=_.Product)||void 0===c?void 0:c.Currency]})]}),Object(I.jsxs)("div",{style:{padding:8},children:[Object(I.jsx)("div",{style:{fontWeight:"bold"},children:null===_||void 0===_?void 0:_.Body}),Object(I.jsx)("div",{style:{color:"#8696a0"},children:null===_||void 0===_?void 0:_.Footer})]})]}),Object(I.jsx)(R,{interactiontype:"interactivelist",createdate:d,userType:p,time:b||""})]})},F=function(e){var t=e.interactiontext,n=e.createdate,i=e.classes,c=e.userType,s=e.onlyTime,d=o.a.useState(!1),u=Object(r.a)(d,2),p=u[0],b=u[1],g=Object(m.a)().t,v=JSON.parse(t);return 0===v.sections.length?Object(I.jsx)("div",{title:Object(O.K)(n).toLocaleString(),className:Object(f.default)(i.interactionText,Object(a.a)({},i.interactionTextAgent,"client"!==c)),children:"INTERACTIVE LIST WITHOUT OPTIONS"}):Object(I.jsxs)("div",{title:Object(O.K)(n).toLocaleString(),className:Object(f.default)(i.interactionText,Object(a.a)({},i.interactionTextAgent,"client"!==c)),children:["text"!==v.headertype&&v.headertype?v.header:Object(I.jsx)("div",{style:{fontWeight:500},children:v.header}),Object(I.jsx)("div",{children:v.body}),v.footer&&Object(I.jsx)("div",{style:{color:"rgb(0,0,0,0.45)",fontSize:12},children:v.footer}),Object(I.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(I.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:function(){b(!0)},children:[Object(I.jsx)(l.ib,{}),g(j.a.options)]}),Object(I.jsx)(R,{interactiontype:"interactivelist",createdate:n,userType:c,time:s||""}),Object(I.jsxs)(x.a,{onClose:function(){b(!1)},"aria-labelledby":"simple-dialog-title",open:p,fullWidth:!0,maxWidth:"xs",children:[Object(I.jsx)(_.a,{children:g(j.a.options)}),Object(I.jsx)(S.a,{children:v.sections[0].buttons.map((function(e,t){return Object(I.jsxs)("div",{style:{background:"#FFF",borderRadius:4,padding:"12px 8px",textTransform:"uppercase",display:"flex",justifyContent:"space-between"},children:[e.title,Object(I.jsx)(w.a,{})]},t)}))})]})]})},A=function(e){var t=e.carousel,n=N(),a=Object(i.useState)(0),o=Object(r.a)(a,2),c=o[0],l=o[1];return 0===t.length?null:Object(I.jsxs)("div",{className:n.containerCarousel,children:[Object(I.jsx)("div",{style:{height:157},children:Object(I.jsx)("img",{src:t[c].mediaUrl,className:n.imageCardCarousel,alt:"logocarousel",crossOrigin:t[c].mediaUrl.includes("cloud-object-storage")?"anonymous":void 0})}),Object(I.jsxs)("div",{style:{padding:"12px",wordBreak:"break-word"},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{style:{fontWeight:600},children:t[c].title}),Object(I.jsx)("div",{children:t[c].description})]}),Object(I.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:8},children:t[c].actions.map((function(e,t){return Object(I.jsx)("div",{className:n.buttonCarousel,children:e.text},t)}))})]}),c>0&&Object(I.jsx)(s.a,{className:n.buttonLeft,size:"small",onClick:function(){return l(c-1)},children:Object(I.jsx)(u.a,{style:{color:"#2E2C34"}})}),c<t.length-1&&Object(I.jsx)(s.a,{className:n.buttonRight,onClick:function(){return l(c+1)},size:"small",children:Object(I.jsx)(b.a,{style:{color:"#2E2C34"}})})]})},R=function(e){var t=e.time,n=e.background,c=e.userType,s=e.createdate,d=e.interactiontype,u=N(),p=Object(g.b)((function(e){return e.inbox.ticketSelected})),b=Object(i.useState)(!1),m=Object(r.a)(b,2),j=m[0],v=m[1];return o.a.useEffect((function(){if((null===p||void 0===p?void 0:p.lastseendate)&&"LOG"!==d){var e=new Date(null===p||void 0===p?void 0:p.lastseendate),t=new Date(s);v(t<=e)}}),[s,d,null===p||void 0===p?void 0:p.lastseendate]),Object(I.jsxs)("span",{className:u.containerTime,children:[t,n?Object(I.jsxs)("div",{className:u.timeInteractionWithBackground,children:[t,"client"!==c&&Object(I.jsx)(l.Vb,{className:Object(f.default)(Object(a.a)({},u.timeSeen,j))})]}):Object(I.jsxs)("div",{className:u.timeInteraction,children:[t,"client"!==c&&Object(I.jsx)(l.Vb,{className:Object(f.default)(Object(a.a)({},u.timeSeen,j))})]})]})},H=function(e){var t=e.userType,n=e.fill,a=void 0===n?"#FFF":n;return"client"===t?Object(I.jsx)("svg",{viewBox:"0 0 11 20",width:"11",height:"20",style:{position:"absolute",bottom:-1,left:-9,fill:a},children:Object(I.jsx)("svg",{id:"message-tail-filled",viewBox:"0 0 11 20",children:Object(I.jsx)("g",{transform:"translate(9 -14)",fill:"inherit",fillRule:"evenodd",children:Object(I.jsx)("path",{d:"M-6 16h6v17c-.193-2.84-.876-5.767-2.05-8.782-.904-2.325-2.446-4.485-4.625-6.48A1 1 0 01-6 16z",transform:"matrix(1 0 0 -1 0 49)",id:"corner-fill",fill:"inherit"})})})}):Object(I.jsx)("svg",{viewBox:"0 0 11 20",width:"11",height:"20",style:{position:"absolute",bottom:0,right:-9,transform:"translateY(1px) scaleX(-1)",fill:a},children:Object(I.jsx)("svg",{id:"message-tail-filled",viewBox:"0 0 11 20",children:Object(I.jsx)("g",{transform:"translate(9 -14)",fill:"inherit",fillRule:"evenodd",children:Object(I.jsx)("path",{d:"M-6 16h6v17c-.193-2.84-.876-5.767-2.05-8.782-.904-2.325-2.446-4.485-4.625-6.48A1 1 0 01-6 16z",transform:"matrix(1 0 0 -1 0 49)",id:"corner-fill",fill:"inherit"})})})})},B=function(e){var t=e.interaction,n=t.interactionid,c=t.interactiontype,s=t.interactiontext,d=t.listImage,u=t.indexImage,p=t.createdate,b=t.onlyTime,g=e.classes,x=e.userType,y=o.a.useRef(null),w=Object(h.c)(),_=Object(m.a)().t,S=Object(i.useState)(s.length<=450),C=Object(r.a)(S,2),k=C[0],N=C[1],B=Object(D.c)({googleMapsApiKey:"AIzaSyAqrFCH95Tbqwo6opvVPcdtrVd-1fnBLr4"}).isLoaded,M=o.a.useState("0px"),P=Object(r.a)(M,2),L=P[0],z=P[1],G=function(){z((null===y||void 0===y?void 0:y.current.contentWindow.document.body.scrollHeight)+20+"px")};if(!s.trim()||"typing"===c)return null;if("text"===c)return Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),children:[Object(I.jsx)("span",{dangerouslySetInnerHTML:{__html:Object(O.wh)(k?s:s.substring(0,450)+"... ")}}),!k&&Object(I.jsx)("div",{style:{color:"#53bdeb",display:"contents",cursor:"pointer"},onClick:function(){return N(!0)},children:_(j.a.showmore)}),Object(I.jsx)(H,{userType:x,fill:"client"===x?"#FFF":"#eeffde"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]});if("html"===c)return Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),children:[Object(I.jsx)("iframe",{ref:y,srcDoc:s,id:"frame-".concat(n),width:"100%",height:L,title:"frame1",onLoad:G,style:{border:"none"}}),Object(I.jsx)(H,{userType:x,fill:"client"===x?"#FFF":"#eeffde"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]});if("email"===c)try{var W=s.split("&%MAIL%&"),V=Object(r.a)(W,3),q=V[0],U=V[1],Y=V[2];return Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),children:[Object(I.jsxs)("div",{children:["RE-LARAIGO: ",q]}),Object(I.jsx)("iframe",{ref:y,srcDoc:U,id:"frame-".concat(n),width:"100%",title:"frame2",height:L,onLoad:G,style:{border:"none"}}),Y&&"{}"!==Y&&Object.keys(JSON.parse(Y)).map((function(e){var t=JSON.parse(Y)[e],n=e.split(".").pop();return Object(I.jsxs)("a",{download:!0,rel:"noreferrer",target:"_blank",href:t,style:{textDecoration:"none",display:"flex",justifyContent:"space-between",alignItems:"center",gap:4,maxWidth:200,border:"1px solid #e1e1e1",borderRadius:5,marginBottom:5,paddingRight:5},children:["pdf"===n?Object(I.jsx)(l.Hb,{width:"30",height:"30"}):"doc"===n||"docx"===n?Object(I.jsx)(l.A,{width:"30",height:"30"}):"xls"===n||"xlsx"===n||"csv"===n?Object(I.jsx)(l.tc,{width:"30",height:"30"}):"ppt"===n||"pptx"===n?Object(I.jsx)(l.Lb,{width:"30",height:"30"}):"text"===n||"txt"===n?Object(I.jsx)(l.lc,{width:"30",height:"30"}):"zip"===n||"rar"===n?Object(I.jsx)(l.wc,{width:"30",height:"30"}):Object(I.jsx)(l.U,{width:"30",height:"30"}),Object(I.jsx)("div",{style:{color:"#171717",textOverflow:"ellipsis",overflowX:"hidden",flex:1,whiteSpace:"nowrap"},children:decodeURI(e)}),Object(I.jsx)(l.F,{width:"20",height:"20",color:"primary"})]},e)})),Object(I.jsx)(H,{userType:x,fill:"client"===x?"#FFF":"#eeffde"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]})}catch(pe){return null}else{if("image"===c||"comment-image"===c)return Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:g.interactionImage,children:[Object(I.jsx)("img",{className:g.imageCard,src:s,alt:"",crossOrigin:s.includes("cloud-object-storage")?"anonymous":void 0,onClick:function(){w(Object(v.b)({visible:!0,images:d,index:u}))}}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||"",background:!0})]});if("quickreply"===c)try{var K,J;if("{"===s.substring(0,1)){var Q=JSON.parse(s);return Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),children:[Q.stringsmooch,Object(I.jsx)(H,{userType:x,fill:"client"===x?"#FFF":"#eeffde"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]})}K=s.split("&&&")[0],J=s.split("&&&")[1];var X=JSON.parse("[".concat(J,"]"));return Object(I.jsxs)("div",{className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),style:{display:"inline-block"},children:[K,Object(I.jsx)("div",{className:g.containerQuickreply,style:{justifyContent:"space-evenly",display:"flex"},children:X.map((function(e,t){return Object(I.jsx)("div",{className:g.buttonQuickreply,children:e.text||e.title},t)}))}),Object(I.jsx)(H,{userType:x,fill:"client"===x?"#FFF":"#eeffde"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]})}catch(pe){return null}else if("postback"===c)try{var $=s.split("&&&"),Z=Object(r.a)($,2),ee=Z[0],te=Z[1],ne=JSON.parse("[".concat(te,"]"));return Object(I.jsxs)("div",{className:g.containerPostback,style:{backgroundColor:"white"},children:[Object(I.jsx)("div",{className:g.headerPostback,children:ee}),Object(I.jsx)("div",{children:ne.map((function(e,t){return Object(I.jsx)("div",{className:g.buttonPostback,children:e.text},t)}))})]})}catch(pe){return null}else{if("LOG"===c)return Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),style:{backgroundColor:"#84818A",color:"white"},children:[k?s:s.substring(0,450)+"... ",!k&&Object(I.jsx)("div",{style:{color:"#53bdeb",display:"contents",cursor:"pointer"},onClick:function(){return N(!0)},children:_(j.a.showmore)}),Object(I.jsx)(H,{userType:x,fill:"#84818A"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,background:!0,time:b||""})]});if("carousel"===c)try{var ae=JSON.parse("[".concat(s,"]"));return Object(I.jsx)(A,{carousel:ae})}catch(pe){return null}else{if("audio"===c||"video"===c&&s.includes(".oga"))return Object(I.jsxs)("div",{className:g.interactionImage,style:{borderRadius:0,height:50,backgroundColor:"transparent"},children:[Object(I.jsx)("audio",{controls:!0,src:s,className:g.imageCard,style:{}}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,background:!0,time:b||""})]});if("video"===c)return Object(I.jsxs)("div",{className:g.interactionImage,children:[Object(I.jsx)("video",{className:g.imageCard,width:"200",controls:!0,src:s}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||"",background:!0})]});if("file"===c){var re=s.split("/").pop()||"",ie=(re||"").split(".").pop();return Object(I.jsxs)("div",{style:{width:200,backgroundColor:"white",padding:"12px 13px",borderRadius:4,position:"relative"},children:[Object(I.jsxs)("a",{download:!0,rel:"noreferrer",target:"_blank",href:s,style:{textDecoration:"none",display:"flex",justifyContent:"space-between",alignItems:"center",gap:4},children:["pdf"===ie?Object(I.jsx)(l.Hb,{width:"30",height:"30"}):"doc"===ie||"docx"===ie?Object(I.jsx)(l.A,{width:"30",height:"30"}):"xls"===ie||"xlsx"===ie||"csv"===ie?Object(I.jsx)(l.tc,{width:"30",height:"30"}):"ppt"===ie||"pptx"===ie?Object(I.jsx)(l.Lb,{width:"30",height:"30"}):"text"===ie||"txt"===ie?Object(I.jsx)(l.lc,{width:"30",height:"30"}):"zip"===ie||"rar"===ie?Object(I.jsx)(l.wc,{width:"30",height:"30"}):Object(I.jsx)(l.U,{width:"30",height:"30"}),Object(I.jsx)("div",{style:{color:"#171717",textOverflow:"ellipsis",overflowX:"hidden",flex:1,whiteSpace:"nowrap"},children:re}),Object(I.jsx)(l.F,{width:"20",height:"20",color:"primary"})]}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,background:!0,time:b||""})]})}if("interactivebutton"===c)try{var oe=JSON.parse(s);return oe.headertype=oe.headertype||"text",Object(I.jsxs)("div",{style:{display:"flex",gap:4,flexDirection:"column"},children:[Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),children:["text"===oe.headertype?Object(I.jsx)("div",{style:{fontWeight:500},children:oe.header}):oe.header,oe.body,oe.footer&&Object(I.jsx)("div",{style:{color:"rgb(0,0,0,0.45)",fontSize:12},children:oe.footer}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]}),oe.buttons.map((function(e,t){return Object(I.jsx)("div",{style:{background:"#FFF",color:"#00a5f4",borderRadius:4,padding:"6px 8px",textAlign:"center",textTransform:"uppercase"},children:e.title},t)}))]})}catch(pe){return null}else{if("reply-text"===c){var ce=s.split("###")[1];return Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),children:[ce,Object(I.jsx)(H,{userType:x,fill:"client"===x?"#FFF":"#eeffde"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]})}if("interactivelist"===c)try{return Object(I.jsx)(F,{interactiontext:s,createdate:p,classes:g,userType:x,onlyTime:b})}catch(pe){return null}else{if("post-image"===c)return Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:g.interactionImage,style:{marginLeft:"auto",marginRight:"auto"},children:[Object(I.jsx)("img",{className:g.imageCard,src:s,alt:"",onClick:function(){w(Object(v.b)({visible:!0,images:d,index:u}))}}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||"",background:!0})]});if("post-text"===c){var le=s.includes("###HTML###"),se=le?s.split("###HTML###")[1]:s;return le?Object(I.jsx)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),style:{marginLeft:"auto",marginRight:"auto"},dangerouslySetInnerHTML:{__html:se}}):Object(I.jsx)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),style:{marginLeft:"auto",marginRight:"auto"},children:se})}if("whatsappcatalog"===c)return Object(I.jsx)(T,{interactiontext:s,createdate:p,classes:g,userType:x,onlyTime:b});if("shoppingcart"===c)return Object(I.jsx)(E,{interactiontext:s,createdate:p,classes:g,userType:x,onlyTime:b});if("location"===c){var de,ue=(null===(de=s.split("=").pop())||void 0===de?void 0:de.split(","))||["",""];return B?Object(I.jsxs)("div",{title:Object(O.K)(p).toLocaleString(),className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),children:[Object(I.jsx)("div",{style:{width:"300px"},className:"interaction-gmap",children:Object(I.jsx)(D.a,{mapContainerStyle:{width:"100%",height:"200px"},center:{lat:parseFloat(ue[0]),lng:parseFloat(ue[1])},zoom:10,children:Object(I.jsx)(D.b,{position:{lat:parseFloat(ue[0]),lng:parseFloat(ue[1])}})})}),Object(I.jsx)("div",{style:{display:"none"},className:"interaction-gmap-text",children:s}),Object(I.jsx)(H,{userType:x,fill:"client"===x?"#FFF":"#eeffde"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]}):null}}}}}}return Object(I.jsxs)("div",{className:Object(f.default)(g.interactionText,Object(a.a)({},g.interactionTextAgent,"client"!==x)),children:[s,Object(I.jsx)(H,{userType:x,fill:"client"===x?"#FFF":"#eeffde"}),Object(I.jsx)(R,{interactiontype:c,createdate:p,userType:x,time:b||""})]})};t.a=function(e){var t=e.classes,n=e.groupInteraction,r=n.usertype,i=n.interactions,o=Object(g.b)((function(e){return e.inbox.ticketSelected}));return Object(I.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(I.jsx)("div",{style:{flex:1},children:Object(I.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.map((function(e,n){var i;return Object(I.jsxs)("div",{id:"interaction-".concat(e.interactionid),className:Object(f.default)((i={},Object(a.a)(i,t.interactionAgent,"client"!==r),Object(a.a)(i,t.interactionFromPost,"FBWA"===(null===o||void 0===o?void 0:o.communicationchanneltype)),i)),children:[!e.interactiontype.includes("post-")&&"FBWA"===(null===o||void 0===o?void 0:o.communicationchanneltype)&&"client"===r&&Object(I.jsx)(C.a,{src:e.avatar+""||void 0}),Object(I.jsx)(B,{interaction:e,classes:t,userType:r})]},n)}))})}),"agent"===r?Object(I.jsx)("div",{style:{marginTop:"auto"},children:Object(I.jsx)(l.b,{style:{width:40,height:40}})}):"BOT"===r&&Object(I.jsx)("div",{style:{marginTop:"auto"},children:Object(I.jsx)(l.k,{style:{width:40,height:40}})})]})}},831:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=o},832:function(e,t,n){"use strict";var a=n(1),r=n(20),i=n(0),o=n.n(i),c=n(48),l=n(169),s=n(25),d=n(40),u=n(37),p=n(122),b=n(8),f=n(826),m=n(94),j=n(718),g=n(16),v=n(902),h=n.n(v),O=n(133),x=n(170),y=n(2),w=Object(l.a)((function(e){return{containerPanel:{flex:"1",display:"flex"},titleTicketChat:{fontWeight:"bold",fontSize:15},interactionAgent:{marginLeft:"auto"},groupInteractionAgent:{marginLeft:"auto",display:"flex"},containerTickets:{flex:"0 0 300px",maxWidth:300,backgroundColor:"#FFF",flexDirection:"column",display:"flex",borderRight:"1px solid #84818a1a"},headChat:{backgroundColor:"#FFF",padding:e.spacing(1),borderBottom:"1px solid #84818a1a",display:"flex",justifyContent:"space-between",cursor:"pointer"},containerInteractions:{padding:e.spacing(2),flex:1,background:"linear-gradient(90deg, rgba(119,33,173,0.7203256302521008) 35%, rgba(189,240,249,1) 100%)"},containerQuickreply:{whiteSpace:"break-spaces",flexWrap:"wrap",fontStyle:"normal",fontWeight:"normal",display:"flex",gap:e.spacing(1)},containerPostback:{width:200,padding:0,fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:2,borderRadius:25},headerPostback:{textAlign:"center",backgroundColor:"rgb(132 129 138 / 0.4);",borderTopLeftRadius:25,borderTopRightRadius:25},itemSelected:{backgroundColor:"rgb(235, 234, 237, 0.50)"},buttonPostback:{color:e.palette.primary.main,cursor:"pointer",textAlign:"center",borderTop:"1px solid #EBEAED","&:hover":{color:e.palette.primary.dark}},buttonQuickreply:{padding:"0 ".concat(e.spacing(1),"px"),backgroundColor:e.palette.primary.main,borderRadius:"6px",color:"#FFF",cursor:"pointer","&:hover":{backgroundColor:e.palette.primary.dark}},interactionText:{whiteSpace:"break-spaces",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:2,color:"#2E2C34",wordBreak:"break-word",width:"fit-content",borderRadius:12,borderBottomLeftRadius:0,padding:"".concat(e.spacing(.5),"px ").concat(e.spacing(1),"px ").concat(e.spacing(.7),"px ").concat(e.spacing(1),"px"),position:"relative",maxWidth:480,backgroundColor:"#FFF",border:"1px solid #EBEAED"},interactionTextAgent:{borderBottomLeftRadius:12,borderBottomRightRadius:0,backgroundColor:"#eeffde"},interactionImage:{borderRadius:e.spacing(1.5),backgroundColor:"#FFF",position:"relative",width:"328px",height:"340px"},imageCard:{width:"100%",maxWidth:"100%",cursor:"pointer",objectFit:"cover",height:"100%",position:"absolute",top:0,left:0,bottom:0,right:0,borderRadius:"inherit"},timeInteraction:{color:"#84818A",fontSize:13,fontStyle:"normal",fontWeight:"normal",lineHeight:2},containerResponse:{padding:e.spacing(2),background:"#FFF",position:"relative",borderTop:"1px solid #84818a1a"},containerChat:{flex:"1",flexDirection:"column",display:"flex"},collapseInfo:{position:"absolute",top:"calc(50% - 20px)"},infoOpen:{right:-20},infoClose:{right:0},containerProfile:{flex:"0 0 300px",display:"none"},iconResponse:{cursor:"pointer",poisition:"relative",color:"#2E2C34","&:hover":{backgroundColor:"#EBEAED",borderRadius:4}},iconSend:{background:"#5542F6",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer"},iconSendDisabled:{backgroundColor:"#EBEAED",cursor:"not-allowed"},containerButtonsChat:{display:"flex"},buttonCloseticket:{background:"#F9F9FA",border:"1px solid #EBEAED",boxSizing:"border-box",borderRadius:"4px",width:"150px",height:"42px",fontFamily:"Manrope",fontStyle:"normal",fontWeight:600,fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"#ececec"}},interactionFromPost:{display:"flex",gap:8},buttonIcon:{width:48,height:42,border:"1px solid #EBEAED",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer","&:hover":{backgroundColor:"#ececec"}},container:{display:"flex",gap:e.spacing(2),width:"100%"},containerItemTicket:{display:"flex",gap:e.spacing(1),alignItems:"center",padding:e.spacing(1),borderBottom:"1px solid #EBEAED",cursor:"pointer","&:hover":{backgroundColor:"rgb(235, 234, 237, 0.18)"}},containerNewMessages:{minWidth:"22px",padding:"0px 4px",borderRadius:12,backgroundColor:e.palette.primary.main,color:"white",textAlign:"center"},name:{flex:1,fontWeight:500,fontSize:"16px",lineHeight:"22px",wordBreak:"break-word",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:200},containerQuickReply:{boxShadow:"0px 3px 6px rgb(0 0 0 / 10%)",backgroundColor:"#FFF",width:250},headerQuickReply:{fontSize:13,fontWeight:500,padding:e.spacing(1.5),borderBottom:"1px solid #EBEAED"},itemQuickReply:{fontSize:13,paddingTop:e.spacing(.7),paddingBottom:e.spacing(.7),paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),"&:hover":{backgroundColor:"#EBEAED",cursor:"pointer"}}}}));t.a=function(e){var t=e.ticket,l=e.openModal,v=e.setOpenModal,_=Object(p.a)().t,S=w(),C=Object(d.c)(),k=o.a.useState(!1),D=Object(r.a)(k,2),I=D[0],N=D[1],E=Object(s.b)((function(e){return e.inbox.interactionExtraList})),T=o.a.useState([]),F=Object(r.a)(T,2),A=F[0],R=F[1],H=o.a.useRef(null);Object(i.useEffect)((function(){t&&l&&C(Object(u.m)(null===t||void 0===t?void 0:t.conversationid,!1,0))}),[t]);var B=function(e){e.downloadFileName;return Object(y.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){n.e(102).then(n.bind(null,911)).then((function(e){if(H.current){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.gap="8px",n.style.width="190mm",n.id="newexportcontainer",n.innerHTML=H.current.innerHTML,n.querySelectorAll(".interaction-gmap").forEach((function(e){return e.remove()})),n.querySelectorAll(".interaction-gmap-text").forEach((function(e){return e.style.display=""})),document.body.appendChild(n),new e.jsPDF("p","mm")&&h.a.toPng(n).then((function(a){var r,i=Math.ceil(.2645833333*n.scrollHeight),o=i,c=new e.jsPDF("p","mm"),l=10;for(c.addImage(a,"PNG",10,l,200,i),o-=297;o>=0;)l=o-i+10,c.addPage(),c.addImage(a,"PNG",10,l,200,i),o-=297;c.save("ticket".concat(null===t||void 0===t?void 0:t.ticketnum,".pdf")),null===(r=document.getElementById("newexportcontainer"))||void 0===r||r.remove()}))}}))},startIcon:Object(y.jsx)(g.E,{}),style:{position:"absolute",right:16,top:16},children:Object(y.jsx)(j.a,{i18nKey:b.a.download})})};return Object(i.useEffect)((function(){R(I?E.data:E.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{interactions:e.interactions.filter((function(e){return!e.isHide}))})})))}),[I,E.loading]),Object(y.jsxs)(c.g,{open:l,title:(null===t||void 0===t?void 0:t.displayname)+" - "+(null===t||void 0===t?void 0:t.ticketnum),buttonText1:_(b.a.cancel),handleClickButton1:function(){return v(!1)},children:[Object(y.jsx)(B,{downloadFileName:"ticket-"+(null===t||void 0===t?void 0:t.ticketnum)}),Object(y.jsx)("div",{style:{position:"absolute",left:16,bottom:16},children:Object(y.jsx)(x.a,{title:_(b.a.show_all)||"",arrow:!0,children:Object(y.jsx)("div",{children:Object(y.jsx)(O.a,{checked:I,onChange:function(e){return N(e.target.checked)},name:"checkedB"})})})}),E.loading?Object(y.jsx)(c.H,{}):Object(y.jsx)("div",{ref:H,className:"scroll-style-go",style:{display:"flex",flexDirection:"column",gap:8,height:"60vh"},children:A.map((function(e){return Object(y.jsx)(f.a,{imageClient:null===t||void 0===t?void 0:t.imageurldef,clientName:null===t||void 0===t?void 0:t.displayname,classes:S,groupInteraction:e},e.interactionid)}))})]})}},860:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a=n(1),r=n(20),i=n(52),o=n(3),c=n(0),l=n.n(c),s=n(51),d=n(169),u=n(122),p=n(8),b=n(25),f=n(7),m=n(779),j=n(831),g=n.n(j),v=n(94),h=n(16),O=n(48),x=n(171),y=n(1398),w=n(1399),_=n(1404),S=n(934),C=n(935),k=n(1359),D=n(1077),I=n(864),N=n(1494),E=n(1219),T=n(933),F=n(874),A=n.n(F),R=n(924),H=n.n(R),B=n(2),M=["cx","cy","midAngle","innerRadius","outerRadius","percent","summary"],P=Object(d.a)((function(e){return{container:{width:"100%"},containerDetails:{marginTop:e.spacing(3)},media:{objectFit:"contain"},containerSearch:Object(o.a)({width:"100%",display:"flex",gap:e.spacing(1),alignItems:"center"},e.breakpoints.up("sm"),{width:"50%"}),containerFilter:{width:"100%",marginBottom:e.spacing(2),display:"flex",gap:16,flexWrap:"wrap"},filterComponent:{minWidth:"220px",maxWidth:"260px"},containerFilterGeneral:{display:"flex",justifyContent:"space-between",backgroundColor:"#FFF",padding:e.spacing(1)},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerHeader:Object(o.a)({display:"block",marginBottom:0},e.breakpoints.up("sm"),{display:"flex"}),mb2:{marginBottom:e.spacing(4)},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},containerHeaderItem:Object(o.a)({backgroundColor:"#FFF",padding:8,display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"})}})),L=function(){return Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")},z=Math.PI/180,G=function(e){var t=e.cx,n=e.cy,a=e.midAngle,r=e.innerRadius,o=e.outerRadius,c=(e.percent,e.summary),l=(Object(i.a)(e,M),r+.5*(o-r)),s=t+l*Math.cos(-a*z),d=n+l*Math.sin(-a*z);return Object(B.jsx)("text",{x:s,y:d,fill:"white",textAnchor:s>t?"start":"end",dominantBaseline:"central",children:c})},W=function(e){var t=e.row,n=e.column,a=e.data,r=e.graphicType,i=e.columnDesc,o=Object(u.a)().t,c=l.a.useMemo((function(){return[{Header:i||o("report_"+(null===t||void 0===t?void 0:t.origin)+"_"+n),accessor:"columnname",NoFilter:!0,Cell:function(e){var t=e.cell.row.original;return"BAR"===r?null===t||void 0===t?void 0:t.columnname:Object(B.jsxs)("div",{style:{display:"flex",gap:4},children:[Object(B.jsx)("div",{style:{width:15,height:15,backgroundColor:t.color}}),null===t||void 0===t?void 0:t.columnname]})}},{Header:o(p.a.quantity),accessor:"summary",NoFilter:!0,type:"number"},{Header:o(p.a.percentage),accessor:"percentage",NoFilter:!0,type:"number",Cell:function(e){return e.cell.row.original.percentage+"%"}}]}),[]);return Object(B.jsx)("div",{children:Object(B.jsx)(m.f,{columns:c,data:a,download:!1,pageSizeDefault:100,filterGeneral:!1,toolsFooter:!1})})};t.b=function(e){var t=e.graphicType,n=e.column,i=e.setOpenModal,l=e.setView,d=e.FiltersElement,m=e.row,j=e.daterange,F=e.handlerSearchGraphic,R=e.withFilters,M=void 0===R||R,z=e.withButtons,V=void 0===z||z,q=e.data,U=e.loading,Y=e.columnDesc,K=P(),J=Object(u.a)().t,Q=Object(c.useState)(!1),X=Object(r.a)(Q,2),$=X[0],Z=X[1],ee=Object(c.useState)([]),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],re=Object(c.useState)({startDate:new Date("".concat(j.startDate," 10:00:00")),endDate:new Date("".concat(j.endDate," 10:00:00")),key:"selection"}),ie=Object(r.a)(re,2),oe=ie[0],ce=ie[1],le=Object(b.b)((function(e){return e.main.mainGraphic}));return Object(c.useEffect)((function(){if(q){if(!U){var e=q.reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(o.a)({},t[n]||"",(e[t[n]||""]||0)+1))}),{}),t=Object.entries(e).map((function(e){var t=Object(r.a)(e,2);return{columnname:t[0],summary:t[1]}})),i=t.reduce((function(e,t){return e+parseInt(t.summary)}),0);ae(t.sort((function(e,t){return parseInt(e.summary)<parseInt(t.summary)?1:-1})).map((function(e){var t;return Object(a.a)(Object(a.a)({},e),{},{columnname:(null===(t=e.columnname)||void 0===t?void 0:t.startsWith("report_"))?J(p.a[e.columnname]):""===e.columnname?"(".concat(J(p.a.in_white),")"):e.columnname,summary:parseInt(e.summary),percentage:parseFloat((parseInt(e.summary)/i*100).toFixed(2)),color:"#".concat(L())})})))}}else if(!le.loading&&!le.error){var c=le.data.reduce((function(e,t){return e+parseInt(t.summary)}),0);ae(le.data.sort((function(e,t){return parseInt(e.summary)<parseInt(t.summary)?1:-1})).map((function(e){var t;return Object(a.a)(Object(a.a)({},e),{},{columnname:(null===(t=e.columnname)||void 0===t?void 0:t.startsWith("report_"))?J(p.a[e.columnname]):""===e.columnname?"(".concat(J(p.a.in_white),")"):e.columnname,summary:parseInt(e.summary),percentage:parseFloat((parseInt(e.summary)/c*100).toFixed(2)),color:"#".concat(L())})})))}}),[le,q,U]),Object(B.jsxs)(B.Fragment,{children:[(M||V)&&Object(B.jsxs)(s.a,{className:K.containerHeaderItem,justifyContent:"space-between",alignItems:"center",children:[Object(B.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:M&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(O.f,{open:$,setOpen:Z,range:oe,onSelect:ce,children:Object(B.jsx)(v.a,{disabled:le.loading,style:{border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},startIcon:Object(B.jsx)(h.n,{}),onClick:function(){return Z(!$)},children:Object(f.Ec)(oe.startDate)+" - "+Object(f.Ec)(oe.endDate)})}),d&&d,Object(B.jsx)(v.a,{disabled:le.loading,variant:"contained",color:"primary",startIcon:Object(B.jsx)(g.a,{style:{color:"white"}}),style:{backgroundColor:"#55BD84",width:120},onClick:function(){return F(oe,n)},children:J(p.a.search)})]})}),Object(B.jsx)("div",{style:{display:"flex",gap:8},children:V&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(v.a,{className:K.button,variant:"contained",color:"primary",onClick:function(){return i(!0)},startIcon:Object(B.jsx)(H.a,{}),children:J(p.a.configuration)}),Object(B.jsx)(v.a,{className:K.button,variant:"contained",color:"primary",onClick:function(){return l("GRID")},startIcon:Object(B.jsx)(A.a,{}),children:J(p.a.grid_view)})]})})]}),!q&&Object(B.jsx)("div",{style:{fontWeight:500,padding:16},children:J(p.a.graphic_report_of,{report:J("report_"+(null===m||void 0===m?void 0:m.origin)),column:J("report_"+(null===m||void 0===m?void 0:m.origin)+"_"+n)})}),U||le.loading?Object(B.jsx)("div",{style:{flex:1,height:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(B.jsx)(x.a,{})}):"BAR"===t?Object(B.jsxs)("div",{style:{display:"flex"},children:[Object(B.jsx)("div",{style:{flex:"0 0 70%",height:500},children:Object(B.jsx)(y.a,{aspect:2,children:Object(B.jsxs)(w.a,{data:ne,margin:{top:20,right:30,left:20,bottom:5},children:[Object(B.jsx)(_.a,{strokeDasharray:"3 3"}),Object(B.jsx)(S.a,{dataKey:"columnname",style:{fontSize:"0.8em"},angle:315,interval:0,textAnchor:"end",height:160,dy:5,dx:-5}),Object(B.jsx)(C.a,{}),Object(B.jsx)(k.a,{formatter:function(e,t){return[e,J(t)]}}),Object(B.jsx)(D.a,{dataKey:"summary",fill:"#8884d8",textAnchor:"end",stackId:"a",type:"monotone",children:Object(B.jsx)(I.a,{dataKey:"summary",position:"top"})})]})})}),Object(B.jsx)("div",{style:{overflowX:"auto"},children:Object(B.jsx)(W,{row:m,column:n,graphicType:t,data:ne,columnDesc:Y})})]}):Object(B.jsxs)("div",{style:{display:"flex"},children:[Object(B.jsx)("div",{style:{flex:"0 0 65%",height:500},children:Object(B.jsx)(y.a,{width:"100%",height:"100%",children:Object(B.jsxs)(N.a,{children:[Object(B.jsx)(k.a,{}),Object(B.jsx)(E.a,{data:ne,dataKey:"summary",labelLine:!1,label:G,nameKey:"columnname",cx:"50%",cy:"50%",innerRadius:40,fill:"#8884d8",children:ne.map((function(e,t){return Object(B.jsx)(T.a,{fill:e.color},e.columnname)}))})]})})}),Object(B.jsx)("div",{style:{overflowX:"auto"},children:Object(B.jsx)(W,{row:m,column:n,graphicType:t,columnDesc:Y,data:ne})})]})]})}},874:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");t.default=o},878:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}),"Assessment");t.default=o},879:function(e,t,n){"use strict";(function(e){var a=n(0),r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(l){r=!0,i=l}finally{try{!a&&c.return&&c.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=void 0;s="undefined"!==typeof window?window:"undefined"!==typeof self?self:e;var d=null,u=null,p=s.clearTimeout,b=s.setTimeout,f=s.cancelAnimationFrame||s.mozCancelAnimationFrame||s.webkitCancelAnimationFrame,m=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame;function j(e){var t=void 0,n=void 0,a=void 0,r=void 0,i=void 0,o=void 0,c=void 0,l="undefined"!==typeof document&&document.attachEvent;if(!l){o=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,a=t.lastElementChild,r=n.firstElementChild;a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},c=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&d(this.__resizeRAF__),this.__resizeRAF__=u((function(){i(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var p=!1,b="";a="animationstart";var f="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),j=document.createElement("fakeelement");if(void 0!==j.style.animationName&&(p=!0),!1===p)for(var g=0;g<f.length;g++)if(void 0!==j.style[f[g]+"AnimationName"]){b="-"+f[g].toLowerCase()+"-",a=m[g],p=!0;break}t="@"+b+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",r=b+"animation: 1ms "+n+"; "}return{addResizeListener:function(i,d){if(l)i.attachEvent("onresize",d);else{if(!i.__resizeTriggers__){var u=i.ownerDocument,p=s.getComputedStyle(i);p&&"static"===p.position&&(i.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var a=(t||"")+".resize-triggers { "+(r||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=n.head||n.getElementsByTagName("head")[0],o=n.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=a:o.appendChild(n.createTextNode(a)),i.appendChild(o)}}(u),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=u.createElement("div")).className="resize-triggers";var b=u.createElement("div");b.className="expand-trigger",b.appendChild(u.createElement("div"));var f=u.createElement("div");f.className="contract-trigger",i.__resizeTriggers__.appendChild(b),i.__resizeTriggers__.appendChild(f),i.appendChild(i.__resizeTriggers__),o(i),i.addEventListener("scroll",c,!0),a&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&o(i)},i.__resizeTriggers__.addEventListener(a,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(d)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(a,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(n){}}}}}null==f||null==m?(d=p,u=function(e){return b(e,20)}):(d=function(e){var t=l(e,2),n=t[0],a=t[1];f(n),p(a)},u=function(e){var t=m((function(){p(n),e()})),n=b((function(){f(t),e()}),20);return[t,n]});var g=function(e){function t(){var e,n,a;r(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={height:a.props.defaultHeight||0,width:a.props.defaultWidth||0},a._onResize=function(){var e=a.props,t=e.disableHeight,n=e.disableWidth,r=e.onResize;if(a._parentNode){var i=a._parentNode.offsetHeight||0,o=a._parentNode.offsetWidth||0,c=window.getComputedStyle(a._parentNode)||{},l=parseInt(c.paddingLeft,10)||0,s=parseInt(c.paddingRight,10)||0,d=parseInt(c.paddingTop,10)||0,u=parseInt(c.paddingBottom,10)||0,p=i-d-u,b=o-l-s;(!t&&a.state.height!==p||!n&&a.state.width!==b)&&(a.setState({height:i-d-u,width:o-l-s}),r({height:i,width:o}))}},a._setRef=function(e){a._autoSizer=e},c(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=j(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,i=e.disableWidth,c=e.style,l=this.state,s=l.height,d=l.width,u={overflow:"visible"},p={},b=!1;return r||(0===s&&(b=!0),u.height=0,p.height=s),i||(0===d&&(b=!0),u.width=0,p.width=d),Object(a.createElement)("div",{className:n,ref:this._setRef,style:o({},u,c)},!b&&t(p))}}]),t}(a.PureComponent);g.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t.a=g}).call(this,n(142))},897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!==typeof e)throw new Error((0,a.formatMuiErrorMessage)(7));return e.charAt(0).toUpperCase()+e.slice(1)};var a=n(29)},898:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow");t.default=o},936:function(e,t,n){"use strict";var a=n(4),r=n(11),i=n(0),o=(n(5),n(9)),c=n(15),l=i.forwardRef((function(e,t){var n=e.classes,c=e.className,l=e.component,s=void 0===l?"div":l,d=Object(r.a)(e,["classes","className","component"]);return i.createElement(s,Object(a.a)({className:Object(o.default)(n.root,c),ref:t},d))}));t.a=Object(c.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(l)},980:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(1),r=n(20),i=n(0),o=n.n(i),c=n(25),l=n(40),s=n(7),d=n(83),u=n(44),p=n(48),b=n(169),f=n(122),m=n(8),j=n(94),g=n(784),v=n(779),h=n(16),O=n(830),x=n(2),y=[{id:"view-1",name:"Campaign"},{id:"view-2",name:"Campaign report"}],w=Object(b.a)((function(e){return{containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},select:{width:"200px"},flexgrow1:{flexGrow:1},itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"}}})),_={default:"default",proactive:"proactive"},S={startDate:new Date((new Date).setDate(1)),endDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),key:"selection"},C=function(e){var t=e.setViewSelected,n=e.externalUse,b=w(),v=Object(l.c)(),C=Object(f.a)().t,D=Object(c.b)((function(e){return e.main.mainPaginated})),I=Object(c.b)((function(e){return e.main.exportData})),N=Object(i.useState)(0),E=Object(r.a)(N,2),T=E[0],F=E[1],A=Object(i.useState)(0),R=Object(r.a)(A,2),H=R[0],B=R[1],M=Object(i.useState)({pageSize:20,pageIndex:0,filters:{},sorts:{},daterange:null}),P=Object(r.a)(M,2),L=P[0],z=P[1],G=Object(i.useState)(!1),W=Object(r.a)(G,2),V=W[0],q=W[1],U=Object(i.useState)(!1),Y=Object(r.a)(U,2),K=Y[0],J=Y[1],Q=Object(i.useState)({}),X=Object(r.a)(Q,2),$=X[0],Z=X[1],ee=Object(i.useState)({}),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],re=Object(i.useState)("default"),ie=Object(r.a)(re,2),oe=ie[0],ce=ie[1],le=Object(i.useState)(!1),se=Object(r.a)(le,2),de=se[0],ue=se[1],pe=Object(i.useState)(S),be=Object(r.a)(pe,2),fe=be[0],me=be[1],je=function(e){var t=e.cell.column,n=e.cell.row.original;return Object(x.jsx)("div",{onClick:function(){Z(n),J(!0)},children:"datetime"===t.sortType&&n[t.id]?Object(s.K)(n[t.id]).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}):n[t.id]})},ge=o.a.useMemo((function(){return[{Header:C(m.a.campaign),accessor:"title",Cell:je},{Header:C(m.a.description),accessor:"description",Cell:je},{Header:C(m.a.templatetype),accessor:"templatetype",Cell:je},{Header:C(m.a.templatename),accessor:"templatename",Cell:je},{Header:C(m.a.channel),accessor:"channel",Cell:je},{Header:C(m.a.rundate),accessor:"rundate",type:"date",sortType:"datetime",Cell:je},{Header:C(m.a.total),accessor:"total",type:"number",sortType:"number",Cell:je},{Header:C(m.a.success),accessor:"success",type:"number",sortType:"number",Cell:je},{Header:C(m.a.success_percent),accessor:"successp",type:"number",sortType:"number",Cell:je},{Header:C(m.a.failed),accessor:"fail",type:"number",sortType:"number",Cell:je},{Header:C(m.a.failed_percent),accessor:"failp",type:"number",sortType:"number",Cell:je},{Header:C(m.a.attended),accessor:"attended",type:"number",sortType:"number",Cell:je},{Header:C(m.a.locked),accessor:"locked",type:"number",sortType:"number",Cell:je},{Header:C(m.a.blacklisted),accessor:"blacklisted",type:"number",sortType:"number",Cell:je}]}),[]),ve=function(e){var t=e.pageSize,n=e.pageIndex,r=e.filters,i=e.sorts;v(Object(u.d)(!0)),z(Object(a.a)(Object(a.a)({},L),{pageSize:t,pageIndex:n,filters:r,sorts:i})),v(Object(d.k)(Object(s.dc)({startdate:fe.startDate,enddate:fe.endDate,sorts:i,filters:r,take:t,skip:n*t})))};Object(i.useEffect)((function(){return v(Object(d.u)()),ve(L),function(){v(Object(d.u)())}}),[]),Object(i.useEffect)((function(){var e;if(V)if(I.loading||I.error){if(I.error){var t=C(I.code||"error_unexpected_error",{module:C(m.a.blacklist).toLocaleLowerCase()});v(Object(u.e)({show:!0,severity:"error",message:t})),v(Object(u.d)(!1)),q(!1)}}else v(Object(u.d)(!1)),q(!1),null===(e=I.url)||void 0===e||e.split(",").forEach((function(e){return window.open(e,"_blank")}))}),[I,V]),Object(i.useEffect)((function(){D.loading||D.error||(F(Math.ceil(D.count/L.pageSize)),B(D.count),v(Object(u.d)(!1)))}),[D]);return Object(x.jsxs)("div",{style:{width:"100%"},children:[!n&&Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(p.L,{breadcrumbs:y,handleClick:t}),Object(x.jsx)(p.R,{title:C(m.a.report)})]}),Object(x.jsx)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:Object(x.jsx)(j.a,{variant:"contained",type:"button",color:"primary",style:{backgroundColor:"#FB5F5F"},onClick:function(){return t&&t("view-1")},children:C(m.a.back)})})]}),n&&Object(x.jsx)("div",{style:{height:10}}),Object(x.jsx)("div",{className:n?"":b.containerDetail,children:Object(x.jsx)(g.b,{columns:ge,data:D.data,totalrow:H,loading:D.loading,pageCount:T,download:!0,fetchData:ve,ButtonsElement:function(){return Object(x.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[Object(x.jsx)(p.f,{open:de,setOpen:ue,range:fe,onSelect:me,children:Object(x.jsx)(j.a,{className:b.itemDate,startIcon:Object(x.jsx)(h.n,{}),onClick:function(){return ue(!de)},children:Object(s.Ec)(fe.startDate)+" - "+Object(s.Ec)(fe.endDate)})}),Object(x.jsx)(j.a,{disabled:D.loading,variant:"contained",color:"primary",startIcon:Object(x.jsx)(O.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){return ve(L)},children:C(m.a.search)}),Object(x.jsx)(p.u,{uset:!0,variant:"outlined",label:C(m.a.reporttype),className:b.select,valueDefault:oe,onChange:function(e){return ce(null===e||void 0===e?void 0:e.key)},data:Object(s.X)(_),optionDesc:"value",optionValue:"key"})]})},exportPersonalized:function(){return 0===Object.keys(ne).length?(v(Object(u.e)({show:!0,severity:"error",message:C(m.a.no_record_selected)})),null):oe?void(oe===_.default?(v(Object(d.d)(Object(s.cc)(Object.keys(ne).reduce((function(e,t){return e.push({campaignid:t.split("_")[0],rundate:t.split("_")[1]}),e}),[])),"".concat(C(m.a.report)),"excel",!0,[{key:"templatetype",alias:C(m.a.templatetype)},{key:"date",alias:C(m.a.date)},{key:"campaign",alias:C(m.a.campaign)},{key:"description",alias:C(m.a.description)},{key:"ticketnum",alias:C(m.a.ticket)},{key:"group",alias:C(m.a.group)},{key:"userid",alias:C(m.a.userid)},{key:"agent",alias:C(m.a.agent)},{key:"contact",alias:C(m.a.contact)},{key:"template",alias:C(m.a.templatename)},{key:"rundate",alias:C(m.a.rundate)},{key:"runtime",alias:C(m.a.runtime)},{key:"firstreplydate",alias:C(m.a.firstreplydate)},{key:"firstreplytime",alias:C(m.a.firstreplytime)},{key:"finishdate",alias:C(m.a.finishconversationdate)},{key:"finishtime",alias:C(m.a.finishconversationtime)},{key:"realduration",alias:C(m.a.realduration)},{key:"classification",alias:C(m.a.classification)},{key:"conversationid",alias:C(m.a.conversationid)},{key:"status",alias:C(m.a.status)},{key:"log",alias:C(m.a.log)}])),v(Object(u.d)(!0)),q(!0)):oe===_.proactive&&(v(Object(d.d)(Object(s.ec)(Object.keys(ne).reduce((function(e,t){return e.push({campaignid:t.split("_")[0],rundate:t.split("_")[1]}),e}),[])),"".concat(C(m.a.report)),"excel",!0,[{key:"templatetype",alias:C(m.a.templatetype)},{key:"campaign",alias:C(m.a.campaign)},{key:"description",alias:C(m.a.description)},{key:"template",alias:C(m.a.template)},{key:"ticketnum",alias:C(m.a.ticket)},{key:"year",alias:C(m.a.year)},{key:"month",alias:C(m.a.month)},{key:"ticketdate",alias:C(m.a.ticketdate)},{key:"tickettime",alias:C(m.a.tickettime)},{key:"contact",alias:C(m.a.contact)},{key:"client",alias:C(m.a.client)},{key:"channel",alias:C(m.a.channel)},{key:"group",alias:C(m.a.group)},{key:"firstagent",alias:C(m.a.firstagent)},{key:"message",alias:C(m.a.message)},{key:"classification",alias:C(m.a.classification)},{key:"lastagent",alias:C(m.a.lastagent)},{key:"status",alias:C(m.a.status)},{key:"log",alias:C(m.a.log)}])),v(Object(u.d)(!0)),q(!0))):(v(Object(u.e)({show:!0,severity:"error",message:C(m.a.no_type_selected)})),null)},useSelection:!0,selectionKey:"id",setSelectedRows:ae})}),K&&Object(x.jsx)(k,{openModal:K,setOpenModal:J,row:$})]})},k=function(e){var t=e.openModal,n=e.setOpenModal,a=e.row,u=Object(l.c)(),b=Object(f.a)().t,j=Object(c.b)((function(e){return e.main.mainAux})),g=Object(i.useState)(!1),h=Object(r.a)(g,2),O=h[0],y=h[1],w=o.a.useMemo((function(){return[{Header:b(m.a.contact),accessor:"contact"},{Header:b(m.a.status),accessor:"status"},{Header:b(m.a.log),accessor:"log"}]}),[]);return Object(i.useEffect)((function(){if(null!==a)return u(Object(d.h)(Object(s.cc)([{campaignid:a.id.split("_")[0],rundate:a.id.split("_")[1]}]))),y(!0),function(){u(Object(d.z)())}}),[]),Object(i.useEffect)((function(){O&&(j.loading||j.error||y(!1))}),[j,O]),Object(x.jsx)(p.g,{maxWidth:"md",open:t,title:"".concat(a.title," ").concat(Object(s.K)(a.rundate).toLocaleString()),button1Type:"button",buttonText1:b(m.a.close),handleClickButton1:function(){n(!1)},children:Object(x.jsx)("div",{className:"row-zyx",children:Object(x.jsx)(v.f,{columns:w,data:j.data,loading:j.loading,filterGeneral:!1,download:!1})})})}}}]);
//# sourceMappingURL=19.4fcea2d4.chunk.js.map