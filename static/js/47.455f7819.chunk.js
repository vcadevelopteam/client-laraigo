(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[47,1],{1406:function(e,t,n){"use strict";n.r(t),function(e){var i=n(24),a=n.n(i),c=n(39),l=n(26),r=n(3),s=n(20),o=n(1),d=n(52),u=n(0),j=n.n(u),b=n(25),O=n(40),p=n(48),x=n(7),m=n(169),h=n(722),v=n(254),f=n(51),g=n(156),y=n(101),w=n(378),S=n(257),C=n(94),k=n(241),T=n(318),N=n(170),E=n(849),I=n(717),_=n(706),A=n(770),R=n(776),D=n(709),F=n(245),L=n(9),P=n(16),W=n(207),K=n.n(W),B=n(1232),H=n.n(B),M=n(122),z=n(718),G=n(8),V=n(46),q=n(10),U=n(769),Y=n(778),J=n.n(Y),Q=n(780),X=n.n(Q),$=n(981),Z=n.n($),ee=n(339),te=n.n(ee),ne=n(804),ie=n(44),ae=n(205),ce=n(83),le=n(1035),re=n(779),se=n(49),oe=n(28),de=n(832),ue=n(904),je=n(852),be=n.n(je),Oe=n(1233),pe=n.n(Oe),xe=n(37),me=n(332),he=n.n(me),ve=n(880),fe=n.n(ve),ge=n(903),ye=n.n(ge),we=n(2),Se=["icon","title","subtitle","isLink"],Ce=[null,"LOW","MEDIUM","HIGH"],ke=["firstname","lastname","displayname","email","phone","documenttype","documentnumber","dateactivity","leadactivity","datenote","note","custom"].map((function(e){return{key:e}})),Te=Object(m.a)((function(e){return{accountPhoto:{height:40,width:40}}})),Ne=function(e){var t=e.src,n=e.radius,i=Te(),a=n&&2*n,c=n&&2*n;return t&&""!==t?Object(we.jsx)(h.a,{alt:t,src:t,className:i.accountPhoto,style:{width:a,height:c}}):Object(we.jsx)(H.a,{className:i.accountPhoto,style:{width:a,height:c}})},Ee=Object(v.a)(he.a)({"& label.Mui-focused":{color:"#7721ad"},"& .MuiInput-underline:after":{borderBottomColor:"#7721ad"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#7721ad"}}}),Ie=Object(m.a)((function(e){return{propertyRoot:{display:"flex",flexDirection:"row",stroke:"#8F92A1",alignItems:"center",overflowWrap:"anywhere"},propTitle:{fontWeight:400,fontSize:14,color:"#8F92A1"},propSubtitle:{color:e.palette.text.primary,fontWeight:400,fontSize:15,margin:0,width:"100%"},leadingContainer:{height:24,width:24,display:"flex",alignItems:"center",justifyContent:"center",stroke:"#8F92A1",fill:"#8F92A1"},contentContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",flexGrow:1},propSubtitleTicket:{fontWeight:400,fontSize:15,margin:0,width:"100%",color:"#7721ad",textDecoration:"underline",cursor:"pointer"}}})),_e=function(e){var t=e.icon,n=e.title,i=e.subtitle,a=e.isLink,c=void 0!==a&&a,l=Object(d.a)(e,Se),r=Ie();return Object(we.jsxs)(f.a,Object(o.a)(Object(o.a)({className:r.propertyRoot},l),{},{children:[t&&Object(we.jsx)("div",{className:r.leadingContainer,children:t}),t&&Object(we.jsx)("div",{style:{width:8,minWidth:8}}),Object(we.jsxs)("div",{className:r.contentContainer,children:[Object(we.jsx)("label",{className:r.propTitle,children:n}),Object(we.jsx)("div",{style:{height:4}}),Object(we.jsx)("div",{className:c?r.propSubtitleTicket:r.propSubtitle,children:i||"-"})]})]}))},Ae=function(e){var t=e.children,n=e.value,i=e.index;return Object(we.jsx)("div",{role:"tabpanel",hidden:n!==i,id:"wrapped-tabpanel-".concat(n),"aria-labelledby":"wrapped-tab-".concat(n),style:{display:n===i?"block":"none",overflowY:"auto"},children:Object(we.jsx)(f.a,{p:3,children:t})})},Re=function(e){var t,n,i,a,c,l,r,s,d,j,m,h,v,f,C,k=e.person,T=e.getValues,N=e.trigger,E=e.setValue,I=e.domains,_=e.errors,A=e.control,R=e.extraTriggers,D=e.setExtraTriggers,F=Object(O.c)(),L=Object(M.a)().t,P=Object(b.b)((function(e){return e.voximplant.connection})),W=Object(b.b)((function(e){return e.inbox.userConnected})),B=(null===I||void 0===I||null===(t=I.value)||void 0===t||null===(n=t.ocupationProperty)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.propertyvalue)||"DOMINIO";return Object(u.useEffect)((function(){if(k.referringpersonid)return F(Object(ne.g)(Object(x.be)(k.referringpersonid))),function(){F(Object(ne.n)())}}),[F,k]),Object(we.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(we.jsx)(g.a,{container:!0,direction:"row",children:Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(we.jsxs)(g.a,{container:!0,children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.corporation}),subtitle:k.corpdesc,m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.organization}),subtitle:k.orgdesc,m:1})}),Object(we.jsx)(g.a,{item:!0,sm:6,xl:6,xs:6,md:6,lg:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.firstname}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.firstname),defaultValue:T("firstname"),value:T("firstname"),onChange:function(e){E("firstname",e.target.value),N("firstname")},error:!!(null===_||void 0===_||null===(a=_.firstname)||void 0===a?void 0:a.message),helperText:(null===_||void 0===_||null===(c=_.firstname)||void 0===c?void 0:c.message)||null}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.lastname}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.lastname),defaultValue:T("lastname"),value:T("lastname"),onChange:function(e){E("lastname",e.target.value),N("lastname")},error:!!(null===_||void 0===_||null===(l=_.lastname)||void 0===l?void 0:l.message),helperText:(null===_||void 0===_||null===(r=_.lastname)||void 0===r?void 0:r.message)||null}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.documenttype}),subtitle:Object(we.jsx)(p.u,{uset:!0,valueDefault:T("documenttype"),onChange:function(e){E("documenttype",(null===e||void 0===e?void 0:e.domainvalue)||"")},loading:I.loading,data:(null===(s=I.value)||void 0===s?void 0:s.docTypes)||[],prefixTranslation:"type_documenttype_",optionValue:"domainvalue",optionDesc:"domainvalue"}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.docNumber}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.docNumber),defaultValue:T("documentnumber"),value:T("documentnumber"),onChange:function(e){E("documentnumber",e.target.value),N("documentnumber")}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.personType}),subtitle:Object(we.jsx)(p.u,{uset:!0,valueDefault:T("persontype"),onChange:function(e){E("persontype",(null===e||void 0===e?void 0:e.domainvalue)||"")},loading:I.loading,data:(null===(d=I.value)||void 0===d?void 0:d.personTypes)||[],prefixTranslation:"type_persontype_",optionValue:"domainvalue",optionDesc:"domainvalue"}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.type}),subtitle:Object(we.jsx)(p.u,{uset:!0,valueDefault:k.type,onChange:function(e){E("type",(null===e||void 0===e?void 0:e.domainvalue)||"")},loading:I.loading,data:(null===(j=I.value)||void 0===j?void 0:j.personGenTypes)||[],prefixTranslation:"type_personlevel_",optionValue:"domainvalue",optionDesc:"domaindesc"}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.phone}),subtitle:Object(we.jsx)(ae.a,{name:"phone",control:A,render:function(e){var t=e.field;return Object(we.jsx)(Ee,Object(o.a)(Object(o.a)({},t),{},{fullWidth:!0,defaultCountry:"pe",placeholder:L(G.a.phone),onChange:function(e){E("personcommunicationchannel",e||""),E("personcommunicationchannelowner",e||""),E("channeltype",null===e||void 0===e?void 0:e.domainvalue),E("phone",e||""),D(Object(o.a)(Object(o.a)({},R),{},{phone:(null===e||void 0===e?void 0:e.replace("+",""))||""}))},InputProps:{endAdornment:Object(we.jsx)(w.a,{position:"end",children:!P.error&&W&&Object(we.jsx)(S.a,{size:"small",onClick:function(){P.error?F(Object(ie.e)({show:!0,severity:"warning",message:L(G.a.nochannelvoiceassociated)})):(F(Object(se.v)(!0)),F(Object(se.x)(T("phone"))))},children:Object(we.jsx)(K.a,{})})})}}))}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.alternativePhone}),subtitle:Object(we.jsx)(ae.a,{name:"alternativephone",control:A,render:function(e){var t=e.field;return Object(we.jsx)(Ee,Object(o.a)(Object(o.a)({},t),{},{fullWidth:!0,defaultCountry:"pe",placeholder:L(G.a.alternativePhone),onChange:function(e){E("alternativephone",e||"")},InputProps:{endAdornment:Object(we.jsx)(w.a,{position:"end",children:!P.error&&W&&Object(we.jsx)(S.a,{size:"small",onClick:function(){P.error?F(Object(ie.e)({show:!0,severity:"warning",message:L(G.a.nochannelvoiceassociated)})):(F(Object(se.v)(!0)),F(Object(se.x)(T("alternativephone"))))},children:Object(we.jsx)(K.a,{})})})}}))}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.email}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.email),defaultValue:T("email"),value:T("email"),onChange:function(e){E("email",e.target.value),D(Object(o.a)(Object(o.a)({},R),{},{email:e.target.value||""})),N("email")}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.alternativeEmail}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.alternativeEmail),defaultValue:T("alternativeemail"),value:T("alternativeemail"),onChange:function(e){E("alternativeemail",e.target.value),N("alternativeemail")}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.birthday}),subtitle:Object(we.jsx)(y.a,{type:"date",fullWidth:!0,placeholder:L(G.a.birthday),defaultValue:T("birthday"),value:T("birthday"),onChange:function(e){var t;E("birthday",(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||null),N("birthday")}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.gender}),subtitle:Object(we.jsx)(p.u,{uset:!0,valueDefault:T("gender"),onChange:function(e){E("gender",(null===e||void 0===e?void 0:e.domainvalue)||""),E("genderdesc",(null===e||void 0===e?void 0:e.domaindesc)||"")},loading:I.loading,data:(null===(m=I.value)||void 0===m?void 0:m.genders)||[],prefixTranslation:"type_gender_",optionValue:"domainvalue",optionDesc:"domainvalue"}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.educationLevel}),subtitle:Object(we.jsx)(p.u,{uset:!0,valueDefault:T("educationlevel"),onChange:function(e){E("educationlevel",(null===e||void 0===e?void 0:e.domainvalue)||""),E("educationleveldesc",(null===e||void 0===e?void 0:e.domaindesc)||"")},loading:I.loading,data:(null===(h=I.value)||void 0===h?void 0:h.educationLevels)||[],prefixTranslation:"type_educationlevel_",optionValue:"domainvalue",optionDesc:"domainvalue"}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.civilStatus}),subtitle:Object(we.jsx)(p.u,{uset:!0,valueDefault:T("civilstatus"),onChange:function(e){E("civilstatus",(null===e||void 0===e?void 0:e.domainvalue)||""),E("civilstatusdesc",(null===e||void 0===e?void 0:e.domaindesc)||"")},loading:I.loading,data:(null===(v=I.value)||void 0===v?void 0:v.civilStatuses)||[],prefixTranslation:"type_civilstatus_",optionValue:"domainvalue",optionDesc:"domainvalue"}),m:1})}),"DOMINIO"===B?Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.occupation}),subtitle:Object(we.jsx)(p.u,{uset:!0,valueDefault:T("occupation"),onChange:function(e){E("occupation",(null===e||void 0===e?void 0:e.domainvalue)||""),E("occupationdesc",(null===e||void 0===e?void 0:e.domaindesc)||"")},loading:I.loading,data:(null===(f=I.value)||void 0===f?void 0:f.occupations)||[],prefixTranslation:"type_ocupation_",optionValue:"domainvalue",optionDesc:"domainvalue"}),m:1})}):Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.occupation}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.occupation),defaultValue:T("occupation"),value:T("occupation"),onChange:function(e){E("occupation",e.target.value),E("occupationdesc",e.target.value),N("occupation")}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.group,count:2}),subtitle:Object(we.jsx)(p.u,{valueDefault:T("groups"),onChange:function(e){E("groups",(null===e||void 0===e?void 0:e.domainvalue)||"")},loading:I.loading,data:(null===(C=I.value)||void 0===C?void 0:C.groups)||[],optionValue:"domainvalue",optionDesc:"domaindesc"}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.address}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.address),defaultValue:T("address"),value:T("address"),onChange:function(e){E("address",e.target.value),N("address")}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.district}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.district),defaultValue:T("district"),value:T("district"),onChange:function(e){E("district",e.target.value),N("district")}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.referralchannel}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.referralchannel),defaultValue:T("referralchannel"),value:T("referralchannel"),onChange:function(e){E("referralchannel",e.target.value),N("referralchannel")}}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.healthprofessional}),subtitle:Object(we.jsx)(y.a,{fullWidth:!0,placeholder:L(G.a.healthprofessional),defaultValue:T("healthprofessional"),value:T("healthprofessional"),onChange:function(e){E("healthprofessional",e.target.value),N("healthprofessional")}}),m:1})})]})})})})},De=Object(m.a)((function(e){return{root:{border:"#EBEAED solid 1px",borderRadius:5,padding:e.spacing(2),marginTop:e.spacing(1),marginBottom:e.spacing(1)},contentContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",flexGrow:1},propTitle:{fontWeight:400,fontSize:14,color:"#8F92A1"},item:{display:"flex",flexDirection:"column"},itemLabel:{color:"#8F92A1",fontSize:14,fontWeight:400,margin:0},itemText:{color:e.palette.text.primary,fontSize:15,fontWeight:400,margin:"6px 0"},subtitle:{display:"flex",flexDirection:"row",gap:"0.5em",alignItems:"center"},propSubtitle:{color:e.palette.text.primary,fontWeight:400,fontSize:15,margin:0,width:"100%"},buttonphone:{padding:0,"&:hover":{color:"#7721ad"}}}})),Fe={WHAT:"WHATSAPP",WHAD:"WHATSAPP",WHAP:"WHATSAPP",WHAC:"WHATSAPP",WHAG:"WHATSAPP",FBMS:"FACEBOOK MESSENGER",FBDM:"FACEBOOK MESSENGER",FBWA:"FACEBOOK MURO",WEBM:"CHAT WEB",TELE:"TELEGRAM",INST:"INSTAGRAM",INMS:"INSTAGRAM",INDM:"INSTAGRAM",ANDR:"ANDROID",APPL:"IOS",CHATZ:"CHAT WEB",CHAZ:"CHAT WEB",MAIL:"EMAIL",MAII:"EMAIL",YOUT:"YOUTUBE",LINE:"LINE",SMS:"SMS",SMSI:"SMS",TWIT:"TWITTER",TWMS:"TWITTER",VOXI:"T_VOICECHANNEL"},Le=function(e){var t=e.channel,n=Object(M.a)().t,i=De(),a=Object(O.c)(),c=Object(b.b)((function(e){return e.voximplant.connection})),l=Object(b.b)((function(e){return e.voximplant.callOnLine})),r=Object(b.b)((function(e){return e.inbox.userConnected})),o=Object(u.useState)(!1),d=Object(s.a)(o,2),j=d[0],m=d[1],h=Object(b.b)((function(e){return e.main.execute})),v=Object(u.useMemo)((function(){if(!t)return"";var e=t.personcommunicationchannel.lastIndexOf("_");return t.personcommunicationchannel.substring(0,e)}),[t]);return Object(u.useEffect)((function(){if(j)if(h.loading||h.error){if(h.error){var e=n(h.code||"error_unexpected_error",{module:n(G.a.tipification).toLocaleLowerCase()});a(Object(ie.e)({show:!0,severity:"error",message:e})),a(Object(ie.d)(!1)),m(!1)}}else a(Object(ie.e)({show:!0,severity:"success",message:"Vinculaci\xf3n correcta"})),m(!1),a(Object(ne.b)(Object(x.jc)(t.personid)))}),[h,j]),Object(we.jsxs)("div",{className:i.root,children:[t.originpersonid&&Object(we.jsx)("div",{style:{textAlign:"right"},children:Object(we.jsx)(C.a,{variant:"contained",type:"button",color:"primary",disabled:h.loading,startIcon:Object(we.jsx)(pe.a,{color:"secondary"}),onClick:function(){a(Object(ce.c)(Object(x.lh)({personid:t.personid,personcommunicationchannel:t.personcommunicationchannel}))),m(!0)},children:"Desvincular"})}),Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:11,sm:11,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.communicationchannel}),subtitle:Object(we.jsxs)("div",{className:i.subtitle,children:[Object(we.jsx)("span",{children:(Fe[t.type]||"").includes("T_")?n(G.a[Fe[t.type]]):Fe[t.type]}),Object(we.jsx)(p.w,{channelType:t.type,color:"black"})]}),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.displayname}),subtitle:t.displayname,m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(f.a,{children:Object(we.jsxs)("div",{className:i.contentContainer,children:[Object(we.jsx)("label",{className:i.propTitle,children:Object(we.jsx)(z.a,{i18nKey:G.a.personIdentifier})}),Object(we.jsx)("div",{style:{height:4}}),Object(we.jsxs)("div",{style:{display:"flex"},children:[!c.error&&!c.loading&&r&&!l&&(t.type.includes("WHA")||t.type.includes("VOXI"))&&Object(we.jsx)(S.a,{className:i.buttonphone,onClick:function(){a(Object(se.x)(t.personcommunicationchannelowner.replaceAll("+",""))),a(Object(se.v)(!0))},children:Object(we.jsx)(K.a,{style:{width:"20px",height:"20px"}})}),Object(we.jsx)("div",{className:i.propSubtitle,children:t.personcommunicationchannelowner||"-"})]})]})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.internalIdentifier}),subtitle:v,m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:4,lg:4,xl:4,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.firstConnection}),subtitle:t.firstcontact,m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:4,lg:4,xl:4,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.lastConnection}),subtitle:t.lastcontact,m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:4,lg:4,xl:4,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.conversation,count:2}),subtitle:t.conversations||"0",m:1})})]})]})},Pe=function(e){var t=e.person,n=Object(O.c)(),i=Object(b.b)((function(e){return e.person.personChannelList}));return Object(u.useEffect)((function(){if(t.personid&&0!==t.personid)return n(Object(ne.b)(Object(x.jc)(t.personid))),function(){n(Object(ne.j)())}}),[n,t]),Object(we.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(we.jsx)("div",{style:{height:12}}),i.data.map((function(e,t){return Object(we.jsx)(Le,{channel:e},"channel_item_".concat(t))}))]})},We=function(e){var t=e.person;return Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsxs)(g.a,{container:!0,direction:"column",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.communicationchannel}),subtitle:"".concat(t.communicationchannelname||""),m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.createdBy}),subtitle:t.createby,m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.creationDate}),subtitle:new Date(t.createdate).toLocaleString(),m:1})})]})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(we.jsxs)(g.a,{container:!0,direction:"column",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.firstContactDate}),subtitle:t.firstcontact?new Date(t.firstcontact).toLocaleString():"",m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.lastContactDate}),subtitle:t.lastcontact?new Date(t.lastcontact).toLocaleString():"",m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.modifiedBy}),subtitle:t.changeby,m:1})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.modificationDate}),subtitle:new Date(t.changedate).toLocaleString(),m:1})})]})})]})},Ke=Object(m.a)((function(e){return{root:{height:"100%"},root2:{padding:"2px 4px",display:"flex",alignItems:"center",height:35,border:"1px solid #EBEAED",backgroundColor:"#F9F9FA"},containerFilterGeneral:{display:"flex",justifyContent:"space-between",backgroundColor:"#f9f9fa",padding:"".concat(e.spacing(2),"px")},containerSearch:Object(r.a)({width:"100%"},e.breakpoints.up("sm"),{width:"50%"}),iconButton:{padding:4},input:{marginLeft:e.spacing(1),flex:1},inputPlaceholder:{"&::placeholder":{fontSize:14,fontWeight:500,color:"#84818A"}}}})),Be=function(e){var t=e.person,n=Object(M.a)().t,i=Ke(),a=Object(O.c)(),c=Object(u.useRef)(!0),r=Object(u.useState)(0),o=Object(s.a)(r,2),d=o[0],j=o[1],p=Object(u.useState)(""),m=Object(s.a)(p,2),h=m[0],v=m[1],g=Object(u.useState)([]),y=Object(s.a)(g,2),w=y[0],C=y[1],N=Object(u.useState)([]),E=Object(s.a)(N,2),I=E[0],_=E[1],A=Object(b.b)((function(e){return e.person.personTicketList})),R=Object(u.useCallback)((function(){if(t.personid&&0!==t.personid){var e={filters:{},sorts:{},take:20,skip:20*d,offset:0};a(Object(ne.h)(Object(x.ue)(t.personid,e)))}}),[d,t,a]);return Object(u.useEffect)((function(){return function(){a(Object(ne.o)())}}),[a]),Object(u.useEffect)((function(){var e=document.getElementById("wrapped-tabpanel-2");e&&(e.onscroll=function(){!c.current&&w.length>=A.count||A.loading||e.offsetHeight+e.scrollTop+1>=e.scrollHeight&&j((function(e){return e+1}))})}),[w,A,j]),Object(u.useEffect)((function(){R()}),[R]),Object(u.useEffect)((function(){c.current&&(c.current=!1),A.loading||(!0===A.error?a(Object(ie.e)({message:A.message||"Error",show:!0,severity:"error"})):(C((function(e){return[].concat(Object(l.a)(e),Object(l.a)(A.data))})),_((function(e){return[].concat(Object(l.a)(e),Object(l.a)(A.data))}))))}),[A,C,a]),Object(we.jsxs)("div",{className:i.root,children:[w.length>0&&Object(we.jsxs)(f.a,{className:i.containerFilterGeneral,children:[Object(we.jsx)("span",{}),Object(we.jsx)("div",{className:i.containerSearch,children:Object(we.jsxs)(k.a,{component:"div",className:i.root2,elevation:0,children:[Object(we.jsx)(S.a,{type:"button",className:i.iconButton,"aria-label":"search",disabled:!0,children:Object(we.jsx)(P.Ub,{})}),Object(we.jsx)(T.a,{className:i.input,value:h,onChange:function(e){return function(e){if(v(e),""===e)_(w);else{var t=w.filter((function(t){return t.ticketnum.includes(e)||t.asesorfinal.toLowerCase().includes(e.toLowerCase())||t.channeldesc.toLowerCase().includes(e.toLowerCase())||new Date(t.fechainicio).toLocaleString().includes(e)||new Date(t.fechafin).toLocaleString().includes(e)}));_(t)}}(e.target.value)},placeholder:n(G.a.search),inputProps:{className:i.inputPlaceholder}})]})})]}),I.map((function(e,n){return I.length<A.count&&n===I.length-1?[Object(we.jsx)(Me,{conversation:e,person:t},"conversation_item_".concat(n)),Object(we.jsx)("div",{style:{width:"inherit",display:"flex",justifyContent:"center"}},"conversation_item_".concat(n,"_loader"))]:Object(we.jsx)(Me,{conversation:e,person:t},"conversation_item_".concat(n))}))]})},He=Object(m.a)((function(e){return{root:{border:"#EBEAED solid 1px",borderRadius:5,padding:e.spacing(2),display:"flex",flexDirection:"column",marginTop:e.spacing(1),marginBottom:e.spacing(1)},collapseContainer:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",fontSize:14,fontWeight:400},infoLabel:{fontWeight:500,fontSize:14},totalTime:{fontWeight:700,fontSize:16},icon:{height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},containerstyle:{padding:"10px 0"}}})),Me=function(t){var n=t.conversation,i=t.person,l=He(),r=Object(u.useState)(!1),d=Object(s.a)(r,2),j=d[0],x=d[1],m=Object(u.useState)(!1),h=Object(s.a)(m,2),v=h[0],f=h[1],y=Object(b.b)((function(e){return e.main})),w=Object(u.useState)(null),C=Object(s.a)(w,2),k=C[0],T=C[1],I=Object(u.useCallback)((function(e){f(!0),T(Object(o.a)(Object(o.a)({},e),{},{displayname:i.name,ticketnum:e.ticketnum}))}),[y]),_=Object(O.c)(),A=Object(M.a)().t,R=function(){var t=Object(c.a)(a.a.mark((function t(n){var i,c,l,r,s,o,d,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.m.getCallRecord({call_session_history_id:n.postexternalid});case 3:200===(i=t.sent).status&&(c=e.from(i.data,"base64"),l=new Blob([c],{type:i.headers["content-type"].split(";").find((function(e){return e.includes("audio")}))}),r=window.URL.createObjectURL(l),(s=document.createElement("a")).href=r,s.download=n.ticketnum,s.click()),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),u=A((null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o||null===(d=o.data)||void 0===d?void 0:d.code)||"error_unexpected_error"),_(Object(ie.e)({show:!0,severity:"error",message:u}));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(we.jsxs)("div",{className:l.root,children:[Object(we.jsx)(de.a,{openModal:v,setOpenModal:f,ticket:k}),Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:1,lg:1,xl:1,children:"VOXI"===n.channeltype&&n.postexternalid&&n.callanswereddate&&Object(we.jsx)(N.a,{title:A(G.a.download_record)||"",children:Object(we.jsx)(S.a,{size:"small",onClick:function(){return R(n)},style:{paddingTop:15,paddingLeft:20},children:Object(we.jsx)(P.p,{style:{fill:"#7721AD"}})})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:1,lg:1,xl:1,children:Object(we.jsx)(_e,{title:"Ticket #",subtitle:n.ticketnum,isLink:!0,onClick:function(){return I(n)}})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:2,lg:2,xl:2,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.agent}),subtitle:n.asesorfinal})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:3,lg:3,xl:3,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.channel}),subtitle:Object(we.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5em"},children:[Object(we.jsx)("span",{children:n.channeldesc}),Object(we.jsx)(p.w,{channelType:n.channeltype,color:"black"})]})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:2,lg:2,xl:2,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.startDate}),subtitle:new Date(n.fechainicio).toLocaleString()})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:2,lg:2,xl:2,children:Object(we.jsx)(_e,{title:Object(we.jsx)(z.a,{i18nKey:G.a.endDate}),subtitle:n.fechafin&&new Date(n.fechafin).toLocaleString()})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:1,lg:1,xl:1,children:Object(we.jsx)("div",{className:l.icon,children:Object(we.jsx)(S.a,{size:"medium",onClick:function(){return x(!j)},children:Object(we.jsx)(U.a,{})})})})]}),Object(we.jsx)(E.a,{in:j,children:Object(we.jsxs)("div",{className:l.collapseContainer,children:[Object(we.jsx)("h3",{children:Object(we.jsx)(z.a,{i18nKey:G.a.ticketInformation})}),Object(we.jsxs)(g.a,{container:!0,direction:"column",children:[Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,className:l.containerstyle,children:Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:3,xl:2,children:Object(we.jsx)("span",{className:l.infoLabel,children:"TMO"})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:9,xl:10,children:Object(we.jsx)("span",{children:n.tmo})})]})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,className:l.containerstyle,children:Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:3,xl:2,children:Object(we.jsx)("span",{className:l.infoLabel,children:Object(we.jsx)(z.a,{i18nKey:G.a.status})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:9,xl:10,children:Object(we.jsx)("span",{children:n.status})})]})})]}),Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,className:l.containerstyle,children:Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:3,xl:2,children:Object(we.jsx)("span",{className:l.infoLabel,children:Object(we.jsx)(z.a,{i18nKey:G.a.tmeAgent})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:9,xl:10,children:Object(we.jsx)("span",{children:n.tme})})]})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,className:l.containerstyle,children:Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:3,xl:2,children:Object(we.jsx)("span",{className:l.infoLabel,children:Object(we.jsx)(z.a,{i18nKey:G.a.closetype})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:9,xl:10,children:Object(we.jsx)("span",{children:n.closetype})})]})})]}),Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,className:l.containerstyle,children:Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:3,xl:2,children:Object(we.jsx)("span",{className:l.infoLabel,children:Object(we.jsx)(z.a,{i18nKey:G.a.tmrAgent})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:9,xl:10,children:Object(we.jsx)("span",{children:n.tmr})})]})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,className:l.containerstyle,children:Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:3,xl:2,children:Object(we.jsx)("span",{className:l.infoLabel,children:Object(we.jsx)(z.a,{i18nKey:G.a.initialAgent})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:9,xl:10,children:Object(we.jsx)("span",{children:n.asesorinicial})})]})})]}),Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,className:l.containerstyle,children:Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:3,xl:2,children:Object(we.jsx)("span",{className:l.infoLabel,children:Object(we.jsx)(z.a,{i18nKey:G.a.tmrClient})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:9,xl:10,children:Object(we.jsx)("span",{children:n.tiempopromediorespuestapersona})})]})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,className:l.containerstyle,children:Object(we.jsxs)(g.a,{container:!0,direction:"row",children:[Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:3,xl:2,children:Object(we.jsx)("span",{className:l.infoLabel,children:Object(we.jsx)(z.a,{i18nKey:G.a.finalAgent})})}),Object(we.jsx)(g.a,{item:!0,xs:12,sm:6,md:6,lg:9,xl:10,children:Object(we.jsx)("span",{children:n.asesorfinal})})]})})]})]})]})})]})},ze=function(e){var t=e.person,n=Object(O.c)(),i=Object(b.b)((function(e){return e.person.personLeadList})),a=Object(M.a)().t,c=j.a.useMemo((function(){return[{Header:a(G.a.opportunity),accessor:"description"},{Header:a(G.a.lastUpdate),accessor:"changedate",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return t.changedate?Object(x.K)(t.changedate).toLocaleString():""}},{Header:a(G.a.phase),accessor:"phase"},{Header:a(G.a.priority),accessor:"priority",type:"select",listSelectFilter:[{key:a(G.a.priority_low),value:"LOW"},{key:a(G.a.priority_medium),value:"MEDIUM"},{key:a(G.a.priority_high),value:"HIGH"}],Cell:function(e){var t=e.cell.row.original.priority;return Object(we.jsx)(le.a,{name:"simple-controlled",max:3,value:Ce.findIndex((function(e){return e===t})),readOnly:!0})}},{Header:a(G.a.status),accessor:"status"},{Header:a(G.a.product,{count:2}),accessor:"leadproduct",Cell:function(e){var t=e.cell.row.original.leadproduct;return t?t.split(",").map((function(e,t){return Object(we.jsx)("span",{style:{backgroundColor:"#7721AD",color:"#fff",borderRadius:"20px",padding:"2px 5px",margin:"2px"},children:e},"leadproduct".concat(t))})):null}},{Header:a(G.a.tags),accessor:"tags",Cell:function(e){var t=e.cell.row.original.tags;return t?t.split(",").map((function(e,t){return Object(we.jsx)("span",{style:{backgroundColor:"#7721AD",color:"#fff",borderRadius:"20px",padding:"2px 5px",margin:"2px"},children:e},"lead".concat(t))})):null}},{Header:a(G.a.comments),accessor:"datenote",NoFilter:!0,NoSort:!0,Cell:function(e){var t=e.cell.row.original,n=t.datenote,i=t.leadnote,c=t.dateactivity,l=t.leadactivity;return Object(we.jsxs)("div",{children:[n&&Object(we.jsxs)("div",{children:[a(G.a.lastnote)," (",Object(x.K)(n).toLocaleString(),") ",i]}),c&&Object(we.jsxs)("div",{children:[a(G.a.nextprogramedactivity)," (",Object(x.K)(c).toLocaleString(),") ",l]})]})}}]}),[]);return Object(u.useEffect)((function(){return((null===t||void 0===t?void 0:t.personid)||0)>0&&n(Object(ne.d)(Object(x.vd)(t.personid))),function(){n(Object(ne.l)())}}),[n,t]),Object(we.jsx)(re.f,{columns:c,filterGeneral:!1,data:i.data,download:!1,loading:i.loading,register:!1})},Ge=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%",width:"inherit"},rootContent:{display:"flex",flexDirection:"row",alignItems:"stretch",flexGrow:1,overflowY:"hidden"},tabs:{backgroundColor:"#EBEAED",color:"#989898",display:"flex",flexDirection:"row",flexWrap:"wrap",width:"inherit"},tab:{color:e.palette.text.primary,backgroundColor:"#EBEAED",flexGrow:1,maxWidth:"unset"},activetab:{backgroundColor:"white"},label:{fontSize:14,fontWeight:500},profile:{color:e.palette.text.primary,maxWidth:343,width:343,minWidth:343,padding:e.spacing(2),display:"flex",flexDirection:"column",overflowY:"auto"}}})),Ve=function(e){var t,n,i=e.setOpenModal,a=e.openModal,c=e.persons,l=e.type,r=Object(M.a)().t,d=Object(O.c)(),x=Object(u.useState)(!1),m=Object(s.a)(x,2),h=m[0],v=m[1],g=Object(b.b)((function(e){return e.inbox.triggerSendHSM})),y=Object(u.useState)([]),w=Object(s.a)(y,2),S=w[0],C=w[1],k=Object(u.useState)([]),T=Object(s.a)(k,2),N=T[0],E=T[1],I=Object(u.useState)(""),_=Object(s.a)(I,2),A=_[0],R=_[1],D=Object(u.useState)([]),F=Object(s.a)(D,2),L=F[0],P=F[1],W=Object(b.b)((function(e){return e.person.editableDomains})),K=Object(u.useMemo)((function(){switch(l){case"HSM":return r(G.a.send_hsm);case"SMS":return r(G.a.send_sms);case"MAIL":return r(G.a.send_mail);default:return"-"}}),[l]),B=Object(ae.d)({defaultValues:{hsmtemplateid:0,observation:"",communicationchannelid:"HSM"===l&&1===(null===N||void 0===N?void 0:N.length)?N[0].communicationchannelid:0,communicationchanneltype:"HSM"===l&&1===(null===N||void 0===N?void 0:N.length)?N[0].type:"",variables:[]}}),H=B.control,z=B.register,V=B.handleSubmit,q=B.setValue,U=B.getValues,Y=B.trigger,J=B.reset,Q=B.formState.errors,X=Object(ae.c)({control:H,name:"variables"}).fields;Object(u.useEffect)((function(){if(h)if(g.loading||g.error)g.error&&(d(Object(ie.e)({show:!0,severity:"error",message:r(g.code||"error_unexpected_error")})),d(Object(ie.d)(!1)),v(!1));else{var e=r("HSM"===l?G.a.successful_send_hsm:"SMS"===l?G.a.successful_send_sms:G.a.successful_send_mail);d(Object(ie.e)({show:!0,severity:"success",message:e})),i(!1),d(Object(ie.d)(!1)),v(!1)}}),[g,h]),Object(u.useEffect)((function(){}),[N]),Object(u.useEffect)((function(){var e,t,n,i;W.error||W.loading||(C((null===W||void 0===W||null===(e=W.value)||void 0===e||null===(t=e.templates)||void 0===t?void 0:t.filter((function(e){return"MAIL"!==l?e.type===l:e.type===l||"HTML"===e.type})))||[]),E((null===W||void 0===W||null===(n=W.value)||void 0===n||null===(i=n.channels)||void 0===i?void 0:i.filter((function(e){return e.type.includes("HSM"===l?"WHA":l)})))||[]))}),[W,l]),Object(u.useEffect)((function(){a?(R(""),J({hsmtemplateid:0,hsmtemplatename:"",variables:[],communicationchannelid:"HSM"===l&&1===(null===N||void 0===N?void 0:N.length)?N[0].communicationchannelid:0,communicationchanneltype:"HSM"===l&&1===(null===N||void 0===N?void 0:N.length)?N[0].type:""}),z("hsmtemplateid",{validate:function(e){return e&&e>0||r(G.a.field_required)}}),"HSM"===l?z("communicationchannelid",{validate:function(e){return e&&e>0||r(G.a.field_required)}}):z("communicationchannelid"),P("MAIL"===l?c.filter((function(e){return e.email&&e.email.length>0})):"HSM"===l?c.filter((function(e){return!!e.phonewhatsapp})):c.filter((function(e){return e.phone&&e.phone.length>0})))):v(!1)}),[a]);var $=V((function(e){if(0!==L.length){var t={hsmtemplateid:e.hsmtemplateid,hsmtemplatename:e.hsmtemplatename,communicationchannelid:e.communicationchannelid,communicationchanneltype:e.communicationchanneltype,platformtype:e.communicationchanneltype,type:l,shippingreason:"PERSON",listmembers:L.map((function(t){var n;return{personid:t.personid,phone:(null===(n=t.phone)||void 0===n?void 0:n.replace("+",""))||"",firstname:t.firstname||"",email:t.email||"",lastname:t.lastname,parameters:e.variables.map((function(e){return{type:"text",text:"custom"!==e.variable?t[e.variable]:e.text,name:e.name}}))}}))};d(Object(xe.G)(t)),d(Object(ie.d)(!0)),v(!0)}else d(Object(ie.e)({show:!0,severity:"warning",message:r(G.a.no_people_to_send)}))}));return Object(u.useEffect)((function(){1===N.length&&"HSM"===l&&(q("communicationchannelid",N[0].communicationchannelid||0),q("communicationchanneltype",N[0].type||""),Y("communicationchannelid"))}),[N]),Object(we.jsxs)(p.g,{open:a,title:K,buttonText1:r(G.a.cancel),buttonText2:r(G.a.continue),handleClickButton1:function(){return i(!1)},handleClickButton2:$,button2Type:"submit",children:["HSM"===l&&Object(we.jsx)("div",{className:"row-zyx",children:Object(we.jsx)(p.u,{label:r(G.a.channel),className:"col-12",valueDefault:U("communicationchannelid"),onChange:function(e){q("communicationchannelid",(null===e||void 0===e?void 0:e.communicationchannelid)||0),q("communicationchanneltype",(null===e||void 0===e?void 0:e.type)||"")},error:null===Q||void 0===Q||null===(t=Q.communicationchannelid)||void 0===t?void 0:t.message,data:N,optionDesc:"communicationchanneldesc",optionValue:"communicationchannelid"})}),Object(we.jsx)("div",{className:"row-zyx",children:Object(we.jsx)(p.u,{label:r(G.a.template),className:"col-12",valueDefault:U("hsmtemplateid"),onChange:function(e){if(e){R(e.body),q("hsmtemplateid",e?e.id:0),q("hsmtemplatename",e?e.name:"");var t=(e.body.match(/({{)(.*?)(}})/g)||[]).map((function(e){return e.substring(e.indexOf("{{")+2,e.indexOf("}}"))}));q("variables",t.map((function(e){return{name:e,text:"",type:"text"}})))}else q("hsmtemplatename",""),q("variables",[]),R(""),q("hsmtemplateid",0)},error:null===Q||void 0===Q||null===(n=Q.hsmtemplateid)||void 0===n?void 0:n.message,data:S,optionDesc:"name",optionValue:"id"})}),"MAIL"===l&&Object(we.jsx)("div",{style:{overflow:"scroll"},children:Object(we.jsxs)(j.a.Fragment,{children:[Object(we.jsx)(f.a,{fontWeight:500,lineHeight:"18px",fontSize:14,mb:1,color:"textPrimary",children:r(G.a.message)}),Object(we.jsx)("div",{dangerouslySetInnerHTML:{__html:A}})]})}),"MAIL"!==l&&Object(we.jsx)(p.o,{label:r(G.a.message),valueDefault:A,disabled:!0,rows:1}),Object(we.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:16,marginTop:16},children:X.map((function(e,t){var n,i,a,c,l,s;return Object(we.jsxs)("div",{children:[Object(we.jsx)(p.u,{fregister:Object(o.a)({},z("variables.".concat(t,".variable"),{validate:function(e){return e&&e.length||r(G.a.field_required)}})),label:e.name,valueDefault:U("variables.".concat(t,".variable")),onChange:function(e){q("variables.".concat(t,".variable"),e.key),Y("variables.".concat(t,".variable"))},error:null===Q||void 0===Q||null===(n=Q.variables)||void 0===n||null===(i=n[t])||void 0===i||null===(a=i.text)||void 0===a?void 0:a.message,data:ke,uset:!0,prefixTranslation:"",optionDesc:"key",optionValue:"key"},"var_"+e.id),"custom"===U("variables.".concat(t,".variable"))&&Object(we.jsx)(p.n,{fregister:Object(o.a)({},z("variables.".concat(t,".text"),{validate:function(e){return e&&e.length||r(G.a.field_required)}})),valueDefault:e.value,error:null===Q||void 0===Q||null===(c=Q.variables)||void 0===c||null===(l=c[t])||void 0===l||null===(s=l.text)||void 0===s?void 0:s.message,onChange:function(e){return q("variables.".concat(t,".text"),""+e)}},"custom_"+e.id)]},e.id)}))})]})},qe=function(e){var t=e.person,n=Object(O.c)(),i=Object(V.g)(),l=Object(M.a)().t,r=Object(V.h)(),d=Ge(),j=Object(u.useState)("0"),p=Object(s.a)(j,2),m=p[0],h=p[1],v=Object(b.b)((function(e){return e.person.editableDomains})),f=Object(b.b)((function(e){return e.person.editPerson})),g=Object(b.b)((function(e){return e.main.execute})),y=Object(u.useState)(!1),w=Object(s.a)(y,2),S=w[0],k=w[1],T=Object(u.useState)(!1),N=Object(s.a)(T,2),E=N[0],W=N[1],K=Object(u.useState)(!1),B=Object(s.a)(K,2),H=B[0],U=B[1],Y=Object(u.useState)(null),Q=Object(s.a)(Y,2),$=Q[0],ee=Q[1],le=Object(u.useState)(null),re=Object(s.a)(le,2),se=re[0],oe=re[1],de=Object(u.useState)(!1),je=Object(s.a)(de,2),Oe=je[0],pe=je[1],xe=Object(u.useState)("MAIL"),me=Object(s.a)(xe,2),he=me[0],ve=me[1],ge=Object(u.useState)({phone:(null===t||void 0===t?void 0:t.phone)||"",email:(null===t||void 0===t?void 0:t.email)||""}),Se=Object(s.a)(ge,2),Ce=Se[0],ke=Se[1],Te=Object(b.b)((function(e){return e.login.validateToken.user})),Ee=Object(ae.d)({defaultValues:Object(o.a)(Object(o.a)({},t),{},{corpdesc:(null===Te||void 0===Te?void 0:Te.corpdesc)||"",orgdesc:(null===Te||void 0===Te?void 0:Te.orgdesc)||"",personid:(null===t||void 0===t?void 0:t.personid)||0,groups:(null===t||void 0===t?void 0:t.groups)||"",status:(null===t||void 0===t?void 0:t.status)||"ACTIVO",type:(null===t||void 0===t?void 0:t.type)||"",persontype:(null===t||void 0===t?void 0:t.persontype)||"",personstatus:(null===t||void 0===t?void 0:t.personstatus)||"",phone:(null===t||void 0===t?void 0:t.phone)||"",email:(null===t||void 0===t?void 0:t.email)||"",birthday:(null===t||void 0===t?void 0:t.birthday)||null,alternativephone:(null===t||void 0===t?void 0:t.alternativephone)||"",alternativeemail:(null===t||void 0===t?void 0:t.alternativeemail)||"",documenttype:(null===t||void 0===t?void 0:t.documenttype)||"",documentnumber:(null===t||void 0===t?void 0:t.documentnumber)||"",firstname:(null===t||void 0===t?void 0:t.firstname)||"",lastname:(null===t||void 0===t?void 0:t.lastname)||"",sex:(null===t||void 0===t?void 0:t.sex)||"",gender:(null===t||void 0===t?void 0:t.gender)||"",civilstatus:(null===t||void 0===t?void 0:t.civilstatus)||"",occupation:(null===t||void 0===t?void 0:t.occupation)||"",educationlevel:(null===t||void 0===t?void 0:t.educationlevel)||"",address:(null===t||void 0===t?void 0:t.address)||"",district:(null===t||void 0===t?void 0:t.district)||"",healthprofessional:(null===t||void 0===t?void 0:t.healthprofessional)||"",referralchannel:(null===t||void 0===t?void 0:t.referralchannel)||"",referringpersonid:(null===t||void 0===t?void 0:t.referringpersonid)||0})||{}}),Ie=Ee.setValue,De=Ee.getValues,Fe=Ee.trigger,Le=Ee.register,Ke=Ee.control,He=Ee.formState.errors;Object(u.useEffect)((function(){return t?(t.personid||(t.corpdesc=(null===Te||void 0===Te?void 0:Te.corpdesc)||"",t.orgdesc=(null===Te||void 0===Te?void 0:Te.orgdesc)||"",t.personid=0,t.groups="",t.status="ACTIVO",t.type="",t.persontype="",t.personstatus="",t.phone="",t.email="",t.birthday=null,t.alternativephone="",t.alternativeemail="",t.documenttype="",t.documentnumber="",t.firstname="",t.lastname="",t.sex="",t.gender="",t.civilstatus="",t.occupation="",t.educationlevel="",t.address="",t.district="",t.healthprofessional="",t.referralchannel="",t.referringpersonid=0,Le("firstname",{validate:function(e){return!(!e||!e.length)||l(G.a.field_required)+""}}),Le("lastname",{validate:function(e){return!(!e||!e.length)||l(G.a.field_required)+""}})),n(Object(ne.c)())):i.push(q.a.PERSON),function(){n(Object(ne.k)()),n(Object(ne.i)())}}),[i,t,n]),Object(u.useEffect)((function(){v.loading||!0===v.error&&n(Object(ie.e)({message:v.message,show:!0,severity:"error"}))}),[v,n]),Object(u.useEffect)((function(){f.loading||(!0===f.error?(n(Object(ie.d)(!1)),n(Object(ie.e)({message:f.message,show:!0,severity:"error"}))):f.success&&(n(Object(ie.d)(!1)),n(Object(ie.e)({message:l(G.a.successful_edit),show:!0,severity:"success"})),(null===t||void 0===t?void 0:t.personid)||i.push(q.a.PERSON)))}),[f,n]);var Me=function(){n(Object(ie.d)(!0)),n(Object(ne.a)($.parameters.personid?$:{header:Object(x.ab)(Object(o.a)(Object(o.a)({},t),se)),detail:[]},!$.parameters.personid)),ee(null),oe(null)},qe=function(){var e=Object(c.a)(a.a.mark((function e(){var t,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:e.sent&&(t=De(),i=function(){var e,i,a,c,l,r=Object(x.ab)(t);ee(r),oe(t),n(Object(ce.c)(Object(x.Ig)({id:(null===(e=r.parameters)||void 0===e?void 0:e.id)||0,phone:(null===(i=r.parameters)||void 0===i?void 0:i.phone)||"",email:(null===(a=r.parameters)||void 0===a?void 0:a.email)||"",alternativephone:(null===(c=r.parameters)||void 0===c?void 0:c.alternativephone)||"",alternativeemail:(null===(l=r.parameters)||void 0===l?void 0:l.alternativeemail)||"",operation:r.parameters.operation}))),W(!0),n(Object(ie.d)(!0))},n(Object(ie.a)({visible:!0,question:l(G.a.confirmation_save),callback:i})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){if(S)if(g.loading||g.error){if(g.error){var e=l(g.code||"error_unexpected_error",{module:l(G.a.person).toLocaleLowerCase()});n(Object(ie.e)({show:!0,severity:"error",message:e})),n(Object(ie.d)(!1)),k(!1)}}else n(Object(ie.e)({show:!0,severity:"success",message:l(G.a.successful_transaction)})),n(Object(ie.d)(!1)),k(!1)}),[g,S]),Object(u.useEffect)((function(){if(E)if(g.loading||g.error)g.error&&(n(Object(ie.e)({show:!0,severity:"error",message:"error"})),n(Object(ie.d)(!1)),W(!1));else{var e=[];(null===g||void 0===g?void 0:g.data[0].phone_exists)&&(e=e.concat(l(G.a.phone)+" "+$.parameters.phone)),(null===g||void 0===g?void 0:g.data[0].email_exists)&&(e=e.concat(l(G.a.mail)+" "+$.parameters.email)),(null===g||void 0===g?void 0:g.data[0].alternativephone_exists)&&(e=e.concat(l(G.a.phone)+" "+$.parameters.alternativephone)),(null===g||void 0===g?void 0:g.data[0].alternativeemail_exists)&&(e=e.concat(l(G.a.mail)+" "+$.parameters.alternativeemail)),0===e.length?Me():(n(Object(ie.d)(!1)),n(Object(ie.a)({visible:!0,question:"".concat(l(G.a.personrepeatedwarning1)," ").concat(e.join(" - ")," ").concat(l(G.a.personrepeatedwarning2)),callback:Me}))),W(!1)}}),[g,E]),t?Object(we.jsxs)("div",{className:d.root,children:[Object(we.jsxs)(I.a,{"aria-label":"breadcrumb",children:[Object(we.jsx)(_.a,{underline:"hover",color:"inherit",href:"/",onClick:function(e){e.preventDefault(),i.goBack()},children:Object(we.jsx)(z.a,{i18nKey:G.a.person,count:2})}),Object(we.jsx)(_.a,{underline:"hover",color:"textPrimary",href:r.pathname,onClick:function(e){e.preventDefault()},children:Object(we.jsx)(z.a,{i18nKey:G.a.personDetail})})]}),Object(we.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(we.jsx)("h1",{children:t.name}),Object(we.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[!!t.personid&&Object(we.jsxs)(we.Fragment,{children:[!!Ce.phone&&Object(we.jsx)(C.a,{variant:"contained",color:"primary",startIcon:Object(we.jsx)(P.rc,{width:24,style:{fill:"#FFF"}}),onClick:function(){pe(!0),ve("HSM")},children:Object(we.jsx)(z.a,{i18nKey:G.a.send_hsm})}),!!Ce.email&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(Ce.email)&&Object(we.jsx)(C.a,{variant:"contained",color:"primary",startIcon:Object(we.jsx)(fe.a,{width:24,style:{fill:"#FFF"}}),onClick:function(){pe(!0),ve("MAIL")},children:Object(we.jsx)(z.a,{i18nKey:G.a.send_mail})}),!!Ce.phone&&Object(we.jsx)(C.a,{variant:"contained",color:"primary",startIcon:Object(we.jsx)(ye.a,{width:24,style:{fill:"#FFF"}}),onClick:function(){pe(!0),ve("SMS")},children:Object(we.jsx)(z.a,{i18nKey:G.a.send_sms})}),Object(we.jsx)(C.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(we.jsx)(be.a,{color:"secondary"}),onClick:function(){return U(!0)},children:l(G.a.link)}),Object(we.jsx)(C.a,{variant:"contained",type:"button",color:"primary",startIcon:De("locked")?Object(we.jsx)(te.a,{color:"secondary"}):Object(we.jsx)(Z.a,{color:"secondary"}),onClick:function(){if(t){n(Object(ie.a)({visible:!0,question:De("locked")?l(G.a.confirmation_person_unlock):l(G.a.confirmation_person_lock),callback:function(){Ie("locked",!De("locked")),Fe("locked"),n(Object(ce.c)(Object(x.gg)(Object(o.a)(Object(o.a)({},t),{},{locked:!t.locked})))),n(Object(ie.d)(!0)),k(!0)}}))}},children:De("locked")?l(G.a.unlock):l(G.a.lock)})]}),Object(we.jsx)(C.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(we.jsx)(J.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(e){e.preventDefault(),i.goBack()},children:l(G.a.back)}),Object(we.jsx)(C.a,{variant:"contained",color:"primary",onClick:qe,startIcon:Object(we.jsx)(X.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:Object(we.jsx)(z.a,{i18nKey:G.a.save})})]})]}),Object(we.jsx)("div",{style:{height:7}}),Object(we.jsxs)("div",{className:d.rootContent,children:[Object(we.jsxs)("div",{style:{flexGrow:1,display:"flex",flexDirection:"column",overflowY:"hidden"},children:[Object(we.jsx)(A.a,{position:"static",elevation:0,children:Object(we.jsxs)(R.a,{value:m,onChange:function(e,t){return h(t)},className:d.tabs,TabIndicatorProps:{style:{display:"none"}},children:[Object(we.jsx)(D.a,{className:Object(L.default)(d.tab,d.label,"0"===m&&d.activetab),label:Object(we.jsx)("div",{children:Object(we.jsx)(z.a,{i18nKey:G.a.generalinformation})}),value:"0"}),!!t.personid&&Object(we.jsx)(D.a,{className:Object(L.default)(d.tab,d.label,"1"===m&&d.activetab),label:Object(we.jsx)("div",{children:Object(we.jsx)(z.a,{i18nKey:G.a.communicationchannel})}),value:"1"}),!!t.personid&&Object(we.jsx)(D.a,{className:Object(L.default)(d.tab,d.label,"2"===m&&d.activetab),label:Object(we.jsx)(z.a,{i18nKey:G.a.conversation,count:2}),value:"2"}),!!t.personid&&Object(we.jsx)(D.a,{className:Object(L.default)(d.tab,d.label,"3"===m&&d.activetab),label:Object(we.jsx)(z.a,{i18nKey:G.a.opportunity,count:2}),value:"3"}),!!t.personid&&Object(we.jsx)(D.a,{className:Object(L.default)(d.tab,d.label,"4"===m&&d.activetab),label:Object(we.jsx)(z.a,{i18nKey:G.a.audit}),value:"4"})]})}),Object(we.jsx)(Ae,{value:"0",index:m,children:Object(we.jsx)(Re,{getValues:De,setValue:Ie,person:t,trigger:Fe,domains:v,errors:He,control:Ke,extraTriggers:Ce,setExtraTriggers:ke})}),Object(we.jsx)(Ae,{value:"1",index:m,children:Object(we.jsx)(Pe,{getValues:De,setValue:Ie,person:t,domains:v})}),Object(we.jsx)(Ae,{value:"2",index:m,children:Object(we.jsx)(Be,{person:t})}),Object(we.jsx)(Ae,{value:"3",index:m,children:Object(we.jsx)(ze,{person:t})}),Object(we.jsx)(Ae,{value:"4",index:m,children:Object(we.jsx)(We,{person:t})})]}),Object(we.jsx)(F.a,{style:{backgroundColor:"#EBEAED"},orientation:"vertical",flexItem:!0}),!!t.personid&&Object(we.jsxs)("div",{className:d.profile,children:[Object(we.jsx)("label",{className:d.label,children:"Overview"}),Object(we.jsx)("div",{style:{height:16}}),Object(we.jsx)(Ne,{src:t.imageurldef,radius:50}),Object(we.jsx)("h2",{children:t.name}),Object(we.jsx)(_e,{icon:Object(we.jsx)(P.fc,{fill:"inherit",stroke:"inherit",width:20,height:20}),title:Object(we.jsx)(z.a,{i18nKey:G.a.phone}),subtitle:t.phone,mt:1,mb:1}),Object(we.jsx)(_e,{icon:Object(we.jsx)(P.H,{}),title:Object(we.jsx)(z.a,{i18nKey:G.a.email}),subtitle:t.email,mt:1,mb:1}),Object(we.jsx)(_e,{icon:Object(we.jsx)(P.C,{fill:"inherit",stroke:"inherit",width:20,height:20}),title:Object(we.jsx)(z.a,{i18nKey:G.a.documenttype}),subtitle:t.documenttype,mt:1,mb:1}),Object(we.jsx)(_e,{icon:Object(we.jsx)(P.B,{fill:"inherit",stroke:"inherit",width:20,height:20}),title:Object(we.jsx)(z.a,{i18nKey:G.a.docNumber}),subtitle:t.documentnumber,mt:1,mb:1}),Object(we.jsx)(_e,{icon:Object(we.jsx)(P.W,{}),title:Object(we.jsx)(z.a,{i18nKey:G.a.gender}),subtitle:t.gender,mt:1,mb:1}),Object(we.jsx)(_e,{icon:Object(we.jsx)(P.l,{}),title:Object(we.jsx)(z.a,{i18nKey:G.a.organization}),subtitle:t.orgdesc,mt:1,mb:1})]})]}),Object(we.jsx)(ue.a,{openModal:H,setOpenModal:U,person:t,callback:function(e){Ie("firstname",e.firstname),Fe("firstname"),Ie("lastname",e.lastname),Fe("lastname"),Ie("documenttype",e.documenttype),Fe("documenttype"),Ie("documentnumber",e.documentnumber),Fe("documentnumber"),Ie("phone",e.phone),Fe("phone"),Ie("alternativephone",e.alternativephone),Fe("alternativephone"),Ie("email",e.email),Fe("email"),Ie("alternativeemail",e.alternativeemail),Fe("alternativeemail"),Ie("birthday",e.birthday),Fe("birthday"),Ie("gender",e.gender),Fe("gender"),Ie("educationlevel",e.educationlevel),Fe("educationlevel"),Ie("civilstatus",e.civilstatus),Fe("civilstatus"),Ie("occupation",e.occupation),Fe("occupation"),n(Object(ne.b)(Object(x.jc)(t.personid)))}}),Object(we.jsx)(Ve,{openModal:Oe,setOpenModal:pe,persons:[De()],type:he})]}):Object(we.jsx)("div",{})};t.default=function(){var e=Object(O.c)(),t=Object(V.g)(),n=(Object(M.a)().t,Object(V.h)()),i=Object(b.b)((function(e){return e.main.execute})),a=Object(u.useState)(n.state),c=Object(s.a)(a,2),l=c[0],r=c[1],o=Object(u.useState)(!1),d=Object(s.a)(o,2),j=d[0],p=d[1],m=Object(V.j)();return Object(u.useEffect)((function(){l||(e(Object(ie.d)(!0)),p(!0),e(Object(ce.c)(Object(x.Od)({personid:m.params.id}))))}),[l]),Object(u.useEffect)((function(){j&&!i.loading&&(!i.error&&i.data.length?(r(i.data[0]),e(Object(ie.d)(!1)),p(!1)):(i.error||i.data.length)&&(e(Object(ie.d)(!1)),p(!1),t.push(q.a.PERSON)))}),[i,j]),Object(we.jsx)(we.Fragment,{children:!!l&&Object(we.jsx)(qe,{person:l})})}}.call(this,n(462).Buffer)},779:function(e,t,n){"use strict";n.d(t,"a",(function(){return ue})),n.d(t,"d",(function(){return je})),n.d(t,"b",(function(){return be})),n.d(t,"e",(function(){return Oe})),n.d(t,"c",(function(){return pe}));var i=n(26),a=n(1),c=n(20),l=n(3),r=n(0),s=n.n(r),o=n(1048),d=n(94),u=n(1049),j=n(1045),b=n(1047),O=n(1146),p=n(1044),x=n(167),m=n(7),h=n(83),v=n(40),f=n(1145),g=n(1366),y=n(1046),w=n(765),S=n(766),C=n(767),k=n(768),T=n(721),N=n(197),E=n(817),I=n.n(E),_=n(806),A=n.n(_),R=n(51),D=n(444),F=n(170),L=n(169),P=n(773),W=n(257),K=n(794),B=n.n(K),H=n(48),M=n(16),z=n(823),G=n.n(z),V=n(172),q=n(793),U=n(122),Y=n(718),J=n(8),Q=n(315),X=n(269),$=n(828),Z=n(323),ee=n.n(Z),te=n(856),ne=n(1365),ie=n(1505),ae=n(1367),ce=n(2),le=Object(L.a)((function(e){var t;return{footerTable:(t={display:"block"},Object(l.a)(t,e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),Object(l.a)(t,"& > div",Object(l.a)({display:"block",textAlign:"center"},e.breakpoints.up("sm"),{display:"flex",alignItems:"center"})),t),trdynamic:{"&:hover":{boxShadow:"0 11px 6px -9px rgb(84 84 84 / 78%)","& $containerfloat":{visibility:"visible"}}},containerSearch:Object(l.a)({width:"100%"},e.breakpoints.up("sm"),{width:"50%"}),containerFilterGeneral:{display:"flex",justifyContent:"space-between",backgroundColor:"#FFF",padding:"".concat(e.spacing(1),"px")},containerfloat:{borderBottom:"none",backgroundColor:"white",marginTop:"1px",position:"absolute",zIndex:9999,left:0,visibility:"hidden"},iconOrder:{width:20,height:20,color:e.palette.text.primary},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerButtons:{gridGap:e.spacing(1),display:"grid",gridAutoFlow:"column",alignItems:"center"},containerHeader:Object(l.a)({display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"}),containerHeaderColumn:{display:"flex",justifyContent:"space-between",alignItems:"center"},iconHelpText:{width:15,height:15,cursor:"pointer"}}})),re=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"contains",value:"contains"},{key:"notcontains",value:"notcontains"},{key:"isempty",value:"isempty"},{key:"isnotempty",value:"isnotempty"}],se=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"greater",value:"greater"},{key:"greaterorequals",value:"greaterorequals"},{key:"less",value:"less"},{key:"lessorequals",value:"lessorequals"},{key:"isempty",value:"isempty"},{key:"isnotempty",value:"isnotempty"}],oe=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"after",value:"after"},{key:"afterequals",value:"afterequals"},{key:"before",value:"before"},{key:"beforeequals",value:"beforeequals"}],de=[{key:"all",value:"all"},{key:"istrue",value:"istrue"},{key:"isfalse",value:"isfalse"},{key:"isnull",value:"isnull"},{key:"isnotnull",value:"isnotnull"}],ue=function(e){var t=e.value,n=e.handleClickItemMenu,i=Object(U.a)().t;return Object(ce.jsx)(T.a,{value:t||"all",onChange:function(e){return n(e.target.value)},children:de.map((function(e){return Object(ce.jsx)(N.a,{value:e.key,children:i(e.value)},e.key)}))})},je=function(e){var t=e.value,n=e.data,i=e.handleClickItemMenu,a=Object(U.a)().t;return Object(ce.jsxs)(T.a,{value:t||"_ALL",onChange:function(e){return i(e.target.value)},children:[Object(ce.jsx)(N.a,{value:"_ALL",children:a(J.a.all)}),n.map((function(e){return Object(ce.jsx)(N.a,{value:e.value,children:a(e.key)},e.value)}))]})},be=function(e,t){var n=Object(U.a)().t,i=Object(r.useState)(null),a=Object(c.a)(i,2),l=a[0],s=a[1];return Object(r.useEffect)((function(){"isnull"!==e&&"isnotnull"!==e||s(null)}),[e]),Object(ce.jsx)(te.a,{utils:$.a,locale:Object(m.Bg)()[navigator.language.split("-")[0]],children:Object(ce.jsx)(ne.a,{invalidDateMessage:n(J.a.invalid_date_format),format:Object(m.qd)(),value:l,onChange:function(e){t(e),s(e)},style:{minWidth:"150px"}})})},Oe=function(e,t){return Object(ce.jsx)(te.a,{utils:$.a,locale:Object(m.Bg)()[navigator.language.split("-")[0]],children:Object(ce.jsx)(ie.a,{ampm:!1,views:["hours","minutes","seconds"],format:"HH:mm:ss",error:!1,helperText:"",value:""===e?null:e,onChange:function(e){return t(e)},style:{minWidth:"150px"}})})},pe=function(e,t,n){var i=Object(U.a)().t;switch(e){case"number":case"number-centered":return se.map((function(e){return Object(ce.jsx)(N.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:i(e.value)},e.key)}));case"date":case"datetime-local":case"time":return oe.map((function(e){return Object(ce.jsx)(N.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:i(e.value)},e.key)}));case"string":case"color":default:return re.map((function(e){return Object(ce.jsx)(N.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:i(e.value)},e.key)}))}},xe=s.a.memo((function(e){var t=e.titlemodule,n=e.columns,E=e.data,_=e.fetchData,L=e.download,K=void 0===L||L,z=e.register,U=e.handleRegister,Q=e.calculate,$=void 0!==Q&&Q,Z=e.handleCalculate,te=e.HeadComponent,ne=e.ButtonsElement,ie=e.triggerExportPersonalized,re=e.exportPersonalized,se=e.pageSizeDefault,oe=void 0===se?20:se,de=e.importCSV,xe=e.handleTemplate,he=e.filterGeneral,ve=void 0===he||he,fe=e.loading,ge=void 0!==fe&&fe,ye=e.useSelection,we=e.selectionKey,Se=e.initialSelectedRows,Ce=e.setSelectedRows,ke=e.allRowsSelected,Te=e.setAllRowsSelected,Ne=e.onClickRow,Ee=e.toolsFooter,Ie=void 0===Ee||Ee,_e=e.initialPageIndex,Ae=void 0===_e?0:_e,Re=e.helperText,De=void 0===Re?"":Re,Fe=e.initialStateFilter,Le=e.registertext,Pe=e.setDataFiltered,We=e.useFooter,Ke=void 0!==We&&We,Be=e.heightWithCheck,He=void 0===Be?43:Be,Me=e.checkHistoryCenter,ze=void 0!==Me&&Me,Ge=le(),Ve=Object(v.c)(),qe=Object(r.useState)(!0),Ue=Object(c.a)(qe,2),Ye=Ue[0],Je=Ue[1],Qe=s.a.useCallback((function(e,t,n){var i=n.value,a=n.operator,c=n.type;return e.filter((function(e){var n=null===e.values[t]||void 0===e.values[t]?"":e.values[t];if(""===i&&!["isempty","isnotempty","isnull","isnotnull"].includes(a))return!0;switch(c){case"number":case"number-centered":switch(a){case"greater":return n>Number(i);case"greaterorequals":return n>=Number(i);case"less":return n<Number(i);case"lessorequals":return n<=Number(i);case"isnull":return""===n;case"isnotnull":return""!==n;case"notequals":return n!==Number(i);case"equals":default:return n===Number(i)}case"date":case"datetime-local":case"time":switch(a){case"after":return n>i;case"afterequals":return n>=i;case"before":return n<i;case"beforeequals":return n<=i;case"isnull":return""===n;case"isnotnull":return""!==n;case"notequals":return n!==i;case"equals":default:return n===i}case"boolean":switch(a){case"istrue":return"string"===typeof n?"true"===n:!0===n;case"isfalse":return"string"===typeof n?"false"===n:!1===n;case"isnull":return""===n;case"isnotnull":return""!==n;case"all":default:return!0}case"select":return"_ALL"===i||n===i;case"string":default:switch(a){case"equals":return n===i;case"notequals":return n!==i;case"isempty":return""===n;case"isnotempty":return""!==n;case"isnull":return null==n;case"isnotnull":return null!=n;case"notcontains":return!(n+"").toLowerCase().includes(i.toLowerCase());case"contains":default:return(n+"").toLowerCase().includes(i.toLowerCase())}}}))}),[]),Xe=s.a.useMemo((function(){return{Filter:function(e){return function(e){var t=e.column,n=t.id,i=t.setFilter,a=t.listSelectFilter,o=void 0===a?[]:a,d=t.type,u=void 0===d?"string":d,j=null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return e.id===n}))[0],b=Object(r.useState)((null===j||void 0===j?void 0:j.value.value)||""),O=Object(c.a)(b,2),p=O[0],m=O[1],v=Object(r.useState)(null),g=Object(c.a)(v,2),y=g[0],w=g[1],S=Boolean(y),C=Object(r.useState)((null===j||void 0===j?void 0:j.value.operator)||"contains"),k=Object(c.a)(C,2),T=k[0],N=k[1],E=function(e){i(e),Ve(Object(h.G)({filter:Object(l.a)({},n,{value:e.value,operator:e.operator,type:e.type})}))},I=function(e){w(null),"boolean"===u?(N(e),m(e),E({value:e,operator:e,type:u})):"select"===u?(m(e),E({value:e,operator:e,type:u})):((["isempty","isnotempty","isnull","isnotnull"].includes(e)||p)&&E({value:p,operator:e,type:u}),N(e))},_=s.a.useCallback((function(e){13===e.keyCode&&E({value:p,operator:T,type:u})}),[p,T]);return Object(r.useEffect)((function(){if(!(null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return e.id===n}))[0]))switch(u){case"number":case"number-centered":case"date":case"datetime-local":case"time":case"select":N("equals");break;case"boolean":N("all");break;case"string":case"color":default:N("contains")}}),[u]),Object(ce.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:"boolean"===u?Object(ce.jsx)(ue,{value:p,handleClickItemMenu:I}):"select"===u?Object(ce.jsx)(je,{value:p,handleClickItemMenu:I,data:o}):Object(ce.jsxs)(s.a.Fragment,{children:["date"===u&&be(p,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(m((null===e||void 0===e?void 0:e.toISOString())||""),E({value:(null===e||void 0===e?void 0:e.toISOString().split("T")[0])||"",operator:T,type:u}))})),"time"===u&&Oe(p,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(m((null===e||void 0===e?void 0:e.toISOString())||""),E({value:null===e||void 0===e?void 0:e.toLocaleTimeString(),operator:T,type:u}))})),!["date","time"].includes(u)&&Object(ce.jsx)(D.a,{type:u,style:{fontSize:"15px",minWidth:"100px"},fullWidth:!0,value:p,onKeyDown:_,onChange:function(e){m(e.target.value||""),["date"].includes(u)&&E({value:e.target.value,operator:T,type:u})}}),Object(ce.jsx)(W.a,{onClick:function(e){w(e.currentTarget)},size:"small",children:Object(ce.jsx)(f.a,{style:{cursor:"pointer"},"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",color:"action",fontSize:"small"})}),Object(ce.jsx)(x.a,{id:"long-menu",anchorEl:y,open:S,onClose:function(){w(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}},children:pe(u,T,I)})]})})}(Object(a.a)(Object(a.a)({},e),{},{data:E}))},filter:Qe}}),[]),$e=Object(q.useTable)({columns:n,data:E,initialState:{pageSize:oe,selectedRowIds:Se||{},filters:Fe||[]},defaultColumn:Xe,getRowId:function(e,t,n){return we?n?[e[we],n].join("."):e[we]:n?[n.id,t].join("."):t}},q.useFilters,q.useGlobalFilter,q.useSortBy,q.usePagination,q.useRowSelect,(function(e){ye&&e.visibleColumns.push((function(e){return[{id:"selection",width:80,Header:function(e){var t=e.getToggleAllPageRowsSelectedProps;return Object(ce.jsx)("div",{children:Object(ce.jsx)(V.a,Object(a.a)({color:"primary",style:{padding:"0 24px 0 16px"}},t()))})},Cell:function(e){var t=e.row;return Object(ce.jsx)("div",{children:!0===ze?Object(ce.jsx)(V.a,{color:"primary",style:{padding:"0 24px 0 16px",height:68},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}}):Object(ce.jsx)(V.a,{color:"primary",style:{padding:"0 24px 0 16px"},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}})})},NoFilter:!0}].concat(Object(i.a)(e))}))})),Ze=$e.getTableProps,et=$e.getTableBodyProps,tt=$e.headerGroups,nt=$e.footerGroups,it=$e.prepareRow,at=$e.page,ct=$e.canPreviousPage,lt=$e.canNextPage,rt=$e.pageOptions,st=$e.pageCount,ot=$e.gotoPage,dt=$e.nextPage,ut=$e.previousPage,jt=$e.setPageSize,bt=$e.globalFilteredRows,Ot=$e.setGlobalFilter,pt=$e.state,xt=pt.pageIndex,mt=pt.pageSize,ht=pt.selectedRowIds,vt=$e.toggleAllRowsSelected;Object(r.useEffect)((function(){Pe&&Pe(bt.map((function(e){return e.original})))}),[bt]),Object(r.useEffect)((function(){Fe&&(Ye?(ot(Ae),Je(!1)):Ve(Object(h.G)({page:0})))}),[E]),Object(r.useEffect)((function(){_&&_()}),[_]),Object(r.useEffect)((function(){Ce&&Ce(ht)}),[ht]),Object(r.useEffect)((function(){ke&&(vt(!0),Te&&Te(!1))}),[ke]);var ft=s.a.useCallback((function(e){var t=e.index,n=e.style;n=Object(a.a)(Object(a.a)({},n),{},{display:"flex",alignItems:"flex-end",cursor:Ne?"pointer":"default"});var i=at[t];return it(i),Object(ce.jsx)(p.a,Object(a.a)(Object(a.a)({},i.getRowProps({style:n})),{},{hover:!0,children:i.cells.map((function(e,t){var n;return Object(ce.jsx)(j.a,Object(a.a)(Object(a.a)({},e.getCellProps({style:Object(a.a)(Object(a.a)({},"auto"===e.column.width?{flex:1}:{minWidth:e.column.minWidth,width:e.column.width,maxWidth:e.column.maxWidth}),{},{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"number"===e.column.type?"right":(null===(n=e.column.type)||void 0===n?void 0:n.includes("centered"))?"center":"left"})})),{},{onClick:function(){var t;return"selection"!==e.column.id?Ne&&Ne(i.original,null===e||void 0===e||null===(t=e.column)||void 0===t?void 0:t.id):null},children:e.render("Cell")}))}))}))}),[tt,it,at]);return Object(ce.jsxs)(R.a,{width:1,children:[Object(ce.jsxs)(R.a,{className:Ge.containerHeader,justifyContent:"space-between",alignItems:"center",mb:1,children:[t?Object(ce.jsxs)("span",{className:Ge.title,children:[t,""!==De?Object(ce.jsx)(F.a,{title:Object(ce.jsx)("div",{style:{fontSize:12},children:De}),arrow:!0,placement:"top",children:Object(ce.jsx)(ee.a,{color:"action",className:Ge.iconHelpText})}):""]}):Object(ce.jsx)("div",{style:{flexGrow:1},children:ne&&Object(ce.jsx)(ne,{})}),Object(ce.jsxs)("span",{className:Ge.containerButtons,children:[_&&Object(ce.jsx)(F.a,{title:"Refresh",children:Object(ce.jsx)(P.a,{size:"small","aria-label":"add",color:"primary",disabled:ge,style:{marginLeft:"1rem"},onClick:function(){return _&&_({})},children:Object(ce.jsx)(g.a,{})})}),ne&&!!t&&Object(ce.jsx)(ne,{}),de&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("input",{name:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.csv",id:"laraigo-upload-csv-file",type:"file",style:{display:"none"},onChange:function(e){return de(e.target.files)}}),Object(ce.jsx)("label",{htmlFor:"laraigo-upload-csv-file",children:Object(ce.jsx)(d.a,{className:Ge.button,variant:"contained",component:"span",color:"primary",disabled:ge,startIcon:Object(ce.jsx)(B.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:Object(ce.jsx)(Y.a,{i18nKey:J.a.import})})}),xe&&Object(ce.jsx)(d.a,{className:Ge.button,variant:"contained",component:"span",color:"primary",disabled:ge,startIcon:Object(ce.jsx)(G.a,{color:"secondary"}),onClick:xe,style:{backgroundColor:"#55BD84"},children:Object(ce.jsx)(Y.a,{i18nKey:J.a.template})})]}),z&&Object(ce.jsx)(d.a,{className:Ge.button,variant:"contained",color:"primary",disabled:ge,startIcon:Object(ce.jsx)(y.a,{color:"secondary"}),onClick:U,style:{backgroundColor:"#55BD84"},children:Object(ce.jsx)(Y.a,{i18nKey:Le||J.a.register})}),$&&Object(ce.jsx)(d.a,{className:Ge.button,variant:"contained",color:"primary",disabled:ge,startIcon:Object(ce.jsx)(g.a,{color:"secondary"}),onClick:Z,style:{backgroundColor:"#55BD84"},children:Object(ce.jsx)(Y.a,{i18nKey:J.a.calculate})}),K&&Object(ce.jsx)(d.a,{className:Ge.button,variant:"contained",color:"primary",disabled:ge,onClick:function(){return ie?re&&re():Object(m.bb)(String(t||"")+"Report",bt.map((function(e){return e.original})),n.filter((function(e){return!e.isComponent&&!e.activeOnHover})))},startIcon:Object(ce.jsx)(M.E,{}),children:Object(ce.jsx)(Y.a,{i18nKey:J.a.download})})]})]}),ve&&Object(ce.jsxs)(R.a,{className:Ge.containerFilterGeneral,children:[Object(ce.jsx)("span",{}),Object(ce.jsx)("div",{className:Ge.containerSearch,children:Object(ce.jsx)(H.G,{disabled:ge,colorPlaceHolder:"#FFF",handleChangeOther:Ot,lazy:!0})})]}),te&&Object(ce.jsx)(te,{}),Object(ce.jsxs)(b.a,{style:{position:"relative"},children:[Object(ce.jsx)(R.a,{overflow:"auto",children:Object(ce.jsxs)(o.a,Object(a.a)(Object(a.a)({size:"small"},Ze()),{},{"aria-label":"enhanced table","aria-labelledby":"tableTitle",children:[Object(ce.jsx)(O.a,{style:{display:"table-header-group"},children:tt.map((function(e){return Object(ce.jsx)(p.a,Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{style:ye?{display:"flex"}:{},children:e.headers.map((function(e,t){return e.activeOnHover?Object(ce.jsx)("th",{style:{width:"0px"}},"header-floating"):Object(ce.jsx)(j.a,{style:ye?Object(a.a)({},"auto"===e.width?{flex:1}:{minWidth:e.minWidth,width:e.width,maxWidth:e.maxWidth}):{},children:e.isComponent?e.render("Header"):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("div",{className:Ge.containerHeaderColumn,children:[Object(ce.jsxs)(R.a,Object(a.a)(Object(a.a)({},e.getHeaderProps(e.getSortByToggleProps({title:"ordenar"}))),{},{style:{whiteSpace:"nowrap",wordWrap:"break-word",display:"flex",cursor:"pointer",alignItems:"center"},children:[e.render("Header"),e.isSorted&&(e.isSortedDesc?Object(ce.jsx)(I.a,{className:Ge.iconOrder,color:"action"}):Object(ce.jsx)(A.a,{className:Ge.iconOrder,color:"action"}))]})),!!e.helpText&&Object(ce.jsx)(F.a,{title:Object(ce.jsx)("div",{style:{fontSize:12},children:e.helpText}),arrow:!0,placement:"top",children:Object(ce.jsx)(ee.a,{color:"action",className:Ge.iconHelpText})})]}),Object(ce.jsx)("div",{children:!e.NoFilter&&e.render("Filter")})]})},t)}))}))}))}),Object(ce.jsx)(u.a,Object(a.a)(Object(a.a)({},et()),{},{style:{backgroundColor:"white"},children:ge?Object(ce.jsx)(me,{columns:tt[0].headers.length}):ye?Object(ce.jsx)(X.a,{style:{overflowX:"hidden"},direction:"vertical",width:"auto",height:window.innerHeight-470,itemCount:at.length,itemSize:He,children:ft}):at.map((function(e){return it(e),Object(ce.jsx)(p.a,Object(a.a)(Object(a.a)({},e.getRowProps()),{},{hover:!0,style:{cursor:Ne?"pointer":"default"},children:e.cells.map((function(t,n){var i;return Object(ce.jsx)(j.a,Object(a.a)(Object(a.a)({},t.getCellProps({style:Object(a.a)(Object(a.a)({minWidth:t.column.minWidth,width:t.column.width,maxWidth:t.column.maxWidth,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},Ie?{}:{padding:"0px"}),{},{textAlign:"number"===t.column.type?"right":(null===(i=t.column.type)||void 0===i?void 0:i.includes("centered"))?"center":"left"})})),{},{onClick:function(){var n;return"selection"!==t.column.id?Ne&&Ne(e.original,null===t||void 0===t||null===(n=t.column)||void 0===n?void 0:n.id):null},children:t.render("Cell")}))}))}))}))})),Ke&&Object(ce.jsx)(ae.a,{children:nt.map((function(e){return Object(ce.jsx)(p.a,Object(a.a)(Object(a.a)({},e.getFooterGroupProps()),{},{children:e.headers.map((function(e){var t;return Object(ce.jsx)(j.a,Object(a.a)(Object(a.a)({},e.getFooterProps({style:{fontWeight:"bold",color:"black",textAlign:"number"===e.type?"right":(null===(t=e.type)||void 0===t?void 0:t.includes("centered"))?"center":"left"}})),{},{children:e.render("Footer")}))}))}))}))})]}))}),Ie&&Object(ce.jsxs)(R.a,{className:Ge.footerTable,children:[Object(ce.jsxs)(R.a,{children:[Object(ce.jsx)(W.a,{onClick:function(){ot(0),Ve(Object(h.G)({page:0}))},disabled:!ct||ge,children:Object(ce.jsx)(w.a,{})}),Object(ce.jsx)(W.a,{onClick:function(){ut(),Ve(Object(h.G)({page:xt-1}))},disabled:!ct||ge,children:Object(ce.jsx)(S.a,{})}),Object(ce.jsx)(W.a,{onClick:function(){dt(),Ve(Object(h.G)({page:xt+1}))},disabled:!lt||ge,children:Object(ce.jsx)(C.a,{})}),Object(ce.jsx)(W.a,{onClick:function(){ot(st-1),Ve(Object(h.G)({page:st-1}))},disabled:!lt||ge,children:Object(ce.jsx)(k.a,{})}),Object(ce.jsx)(R.a,{component:"span",fontSize:14,children:Object(ce.jsx)(Y.a,{i18nKey:J.a.tablePageOf,values:{currentPage:0===rt.length?0:xt+1,totalPages:rt.length},components:[Object(ce.jsx)(R.a,{fontWeight:"700",component:"span"}),Object(ce.jsx)(R.a,{fontWeight:"700",component:"span"})]})})]}),Object(ce.jsx)(R.a,{children:Object(ce.jsx)(Y.a,{i18nKey:1e5===(bt||[]).length?J.a.tableShowingRecordOfMore:J.a.tableShowingRecordOf,values:{itemCount:at.length,totalItems:bt.length}})}),Object(ce.jsxs)(R.a,{children:[Object(ce.jsx)(T.a,{disableUnderline:!0,style:{display:"inline-flex"},value:mt,disabled:ge,onChange:function(e){jt(Number(e.target.value)),Ve(Object(h.G)({pageSize:Number(e.target.value)}))},children:[5,10,20,50,100].map((function(e){return Object(ce.jsx)(N.a,{value:e,children:e},e)}))}),Object(ce.jsx)(R.a,{fontSize:14,display:"inline",style:{marginRight:"1rem"},children:Object(ce.jsx)(Y.a,{i18nKey:J.a.recordPerPage,count:mt})})]})]})]})]})}));t.f=xe;var me=function(e){for(var t=e.columns,n=[],i=0;i<t;i++)n.push(Object(ce.jsx)(j.a,{children:Object(ce.jsx)(Q.a,{})},"table-simple-skeleton-".concat(i)));return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(p.a,{children:n},"1aux1"),Object(ce.jsx)(p.a,{children:n},"2aux2")]})}},784:function(e,t,n){"use strict";n.d(t,"c",(function(){return $})),n.d(t,"a",(function(){return Z}));var i=n(26),a=n(1),c=n(20),l=n(3),r=n(0),s=n.n(r),o=n(1048),d=n(1049),u=n(1045),j=n(1047),b=n(1146),O=n(1044),p=n(257),x=n(721),m=n(197),h=n(51),v=n(444),f=n(169),g=n(718),y=n(170),w=n(94),S=n(8),C=n(16),k=n(794),T=n.n(k),N=n(9),E=n(315),I=n(1145),_=n(830),A=n(1046),R=n(893),D=n(894),F=n(765),L=n(766),P=n(767),W=n(768),K=n(323),B=n.n(K),H=n(167),M=n(793),z=n(48),G=n(172),V=n(779),q=n(7),U=n(2),Y=Object(f.a)((function(e){var t;return{footerTable:(t={display:"block"},Object(l.a)(t,e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),Object(l.a)(t,"& > div",Object(l.a)({display:"block",textAlign:"center"},e.breakpoints.up("sm"),{display:"flex",alignItems:"center"})),t),trdynamic:{"&:hover":{boxShadow:"0 11px 6px -9px rgb(84 84 84 / 78%)","& $containerfloat":{visibility:"visible"}}},containerfloat:{borderBottom:"none",padding:"4px 24px 4px 16px",backgroundColor:"white",marginTop:"1px",position:"absolute",zIndex:9999,left:0,visibility:"hidden"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerButtons:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:8},containerButtonsNoFilters:{display:"flex",width:"100%",justifyContent:"end",alignItems:"center",flexWrap:"wrap",gap:8},iconOrder:{width:20,height:20,color:e.palette.text.primary},containerHeader:Object(l.a)({display:"block",backgroundColor:"#FFF",padding:e.spacing(1)},e.breakpoints.up("sm"),{display:"flex"}),containerHeaderColumn:{display:"flex",justifyContent:"space-between",alignItems:"center"},iconHelpText:{width:15,height:15,cursor:"pointer"}}})),J=function(e){var t=e.header,n=e.type,i=e.setFilters,o=e.filters,d=e.listSelectFilter,u=Object(r.useState)(""),j=Object(c.a)(u,2),b=j[0],O=j[1],x=s.a.useState(null),m=Object(c.a)(x,2),h=m[0],f=m[1],g=Boolean(h),y=Object(r.useState)("contains"),w=Object(c.a)(y,2),S=w[0],C=w[1];Object(r.useEffect)((function(){switch(n){case"number":case"number-centered":case"date":case"datetime-local":case"time":case"select":C("equals");break;case"boolean":C("all");break;case"string":case"color":default:C("contains")}}),[n]),Object(r.useEffect)((function(){["number","number-centered"].includes(n)&&C("equals")}),[n]);var k=function(e){f(null),C(e),"boolean"===n?(O(e),i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:e,operator:e})),0)):"select"===n?(O(e),i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,"_ALL"===e?void 0:{value:e,operator:"equals"})),0)):"text"!==n&&n?["number","number-centered"].includes(n)?"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:"",operator:e})),0):b&&i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:b,operator:e})),0):"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:"",operator:e})),0):""!==b&&i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:b,operator:e})),0):"isempty"===e||"isnotempty"===e||"isnull"===e||"isnotnull"===e?i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:"",operator:e})),0):b&&i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:b,operator:e})),0)};return Object(r.useEffect)((function(){if(0===Object.keys(o).length)O("");else if(t in o){var e;O((null===o||void 0===o||null===(e=o[t])||void 0===e?void 0:e.value)||""),(null===o||void 0===o?void 0:o[t])&&C(o[t].operator)}}),[o]),Object(U.jsx)("div",{style:{display:"flex",alignItems:"center"},children:"boolean"===n?Object(U.jsx)(V.a,{value:b,handleClickItemMenu:k}):"select"===n?Object(U.jsx)(V.d,{value:b,handleClickItemMenu:k,data:d||[]}):Object(U.jsxs)(s.a.Fragment,{children:["date"===n&&Object(V.b)(b,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(O((null===e||void 0===e?void 0:e.toISOString())||""),e||["isnull","isnotnull"].includes(S)?i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:(null===e||void 0===e?void 0:e.toISOString().split("T")[0])||"",operator:S})),0):i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,void 0)),0))})),"time"===n&&Object(V.e)(b,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(O((null===e||void 0===e?void 0:e.toISOString())||""),e||["isnull","isnotnull"].includes(S)?i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:null===e||void 0===e?void 0:e.toLocaleTimeString(),operator:S})),0):i(Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,void 0)),0))})),!["date","time"].includes(n)&&Object(U.jsx)(v.a,{style:{fontSize:"15px",minWidth:"100px"},type:["number","number-centered"].includes(n)?"number":"text",fullWidth:!0,value:b,onKeyDown:function(e){13===e.keyCode&&i(b||"noempty"===S||"empty"===S?Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,{value:b,operator:S})):Object(a.a)(Object(a.a)({},o),{},Object(l.a)({},t,void 0)),0)},onChange:function(e){return O(e.target.value)}}),Object(U.jsx)(p.a,{onClick:function(e){f(e.currentTarget)},size:"small",children:Object(U.jsx)(I.a,{style:{cursor:"pointer"},"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",color:"action",fontSize:"small"})}),Object(U.jsx)(H.a,{id:"long-menu",anchorEl:h,open:g,onClose:function(){f(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}},children:Object(V.c)(n||"string",S,k)})]})})},Q=s.a.memo((function(e){var t,n=e.titlemodule,s=e.columns,v=e.data,f=e.fetchData,k=e.filterrange,E=e.totalrow,I=e.pageCount,K=e.download,H=e.register,V=e.handleRegister,Q=e.HeadComponent,$=e.ButtonsElement,Z=e.exportPersonalized,ee=e.loading,te=e.importCSV,ne=e.autotrigger,ie=void 0!==ne&&ne,ae=e.autoRefresh,ce=e.useSelection,le=e.selectionKey,re=e.selectionFilter,se=e.initialSelectedRows,oe=e.cleanSelection,de=e.setCleanSelection,ue=e.setSelectedRows,je=e.onClickRow,be=e.FiltersElement,Oe=e.filterRangeDate,pe=void 0===Oe?"month":Oe,xe=e.onFilterChange,me=e.initialEndDate,he=void 0===me?null:me,ve=e.initialStartDate,fe=void 0===ve?null:ve,ge=e.initialFilters,ye=void 0===ge?{}:ge,we=e.initialPageIndex,Se=void 0===we?0:we,Ce=Y(),ke=Object(r.useState)({sorts:{},filters:ye,pageIndex:Se}),Te=Object(c.a)(ke,2),Ne=Te[0],Ee=Te[1],Ie=Object(r.useState)(!1),_e=Object(c.a)(Ie,2),Ae=_e[0],Re=_e[1],De=Object(r.useState)(ie),Fe=Object(c.a)(De,2),Le=Fe[0],Pe=Fe[1],We=Object(r.useState)({startDate:fe,endDate:he,page:Se,filters:ye}),Ke=Object(c.a)(We,2),Be=Ke[0],He=Ke[1],Me=Object(M.useTable)({columns:s,data:v,initialState:{pageIndex:Se,pageSize:20,selectedRowIds:se||{}},manualPagination:!0,pageCount:I,useControlledState:function(e){return Object(r.useMemo)((function(){return Object(a.a)(Object(a.a)({},e),{},{pageIndex:Ne.pageIndex})}),[e,Ne.pageIndex])},autoResetSelectedRows:!1,getRowId:function(e,t,n){return le?n?[e[le],n].join("."):e[le]:n?[n.id,t].join("."):t},stateReducer:function(e,t){switch(t.type){case"toggleAllRowsSelected":return Object(a.a)(Object(a.a)({},e),{},{selectedRowIds:{}});default:return e}}},M.useFilters,M.useGlobalFilter,M.usePagination,M.useRowSelect,(function(e){ce&&e.visibleColumns.push((function(e){return[{id:"selection",width:80,Header:function(e){var t=e.getToggleAllPageRowsSelectedProps,n=e.filteredRows;return re?Object(U.jsx)("div",{style:{textAlign:"right"},children:Object(U.jsx)(G.a,{color:"primary",style:{padding:0},checked:n.filter((function(e){return e.original[null===re||void 0===re?void 0:re.key]===(null===re||void 0===re?void 0:re.value)})).every((function(e){return e.isSelected})),onChange:function(){n.filter((function(e){return e.original[null===re||void 0===re?void 0:re.key]===(null===re||void 0===re?void 0:re.value)})).forEach((function(e){e.toggleRowSelected()}))}})}):Object(U.jsx)("div",{style:{textAlign:"right"},children:Object(U.jsx)(G.a,Object(a.a)({color:"primary",style:{padding:0}},t()))})},Cell:function(e){var t=e.row;return re&&t.original[null===re||void 0===re?void 0:re.key]!==(null===re||void 0===re?void 0:re.value)?null:Object(U.jsx)("div",{style:{textAlign:"right"},children:Object(U.jsx)(G.a,{color:"primary",style:{padding:0},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}})})},NoFilter:!0,isComponent:!0}].concat(Object(i.a)(e))}))})),ze=Me.getTableProps,Ge=Me.getTableBodyProps,Ve=Me.headerGroups,qe=Me.prepareRow,Ue=Me.page,Ye=Me.canPreviousPage,Je=Me.canNextPage,Qe=Me.pageOptions,Xe=Me.pageCount,$e=Me.setPageSize,Ze=Me.toggleAllRowsSelected,et=Me.state,tt=et.pageIndex,nt=et.pageSize,it=et.selectedRowIds,at=function(e){Ee((function(t){return Object(a.a)(Object(a.a)({},t),{},{pageIndex:e,trigger:!0})})),He((function(t){return Object(a.a)(Object(a.a)({},t),{},{page:e})}))},ct=Object(r.useState)({startDate:fe?new Date(fe):"month"===pe?Object(q.Oc)():Object(q.Fc)(),endDate:he?new Date(he):"month"===pe?Object(q.kd)():Object(q.Fc)(),key:"selection"}),lt=Object(c.a)(ct,2),rt=lt[0],st=lt[1],ot=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&Ee((function(e){return Object(a.a)(Object(a.a)({},e),{},{pageIndex:Se,trigger:!1})})),f&&(f(Object(a.a)(Object(a.a)({},Ne),{},{pageSize:nt,pageIndex:e?Se:Ne.pageIndex,daterange:{startDate:rt.startDate?new Date(rt.startDate.setHours(10)).toISOString().substring(0,10):null,endDate:rt.endDate?new Date(rt.endDate.setHours(10)).toISOString().substring(0,10):null}})),He((function(t){return Object(a.a)(Object(a.a)({},t),{},{page:e?Se:Ne.pageIndex,startDate:rt.startDate?new Date(rt.startDate.setHours(10)).getTime():null,endDate:rt.endDate?new Date(rt.endDate.setHours(10)).getTime():null})})))};Object(r.useEffect)((function(){oe&&(Ze(!1),ue&&ue({}),de&&de(!1))}),[oe]),Object(r.useEffect)((function(){(null===Ne||void 0===Ne?void 0:Ne.trigger)&&ot()}),[Ne,Le]),Object(r.useEffect)((function(){Le&&ot()}),[nt]),Object(r.useEffect)((function(){Le&&Le&&ot(!0)}),[Le]),Object(r.useEffect)((function(){(null===ae||void 0===ae?void 0:ae.value)&&(ot(),null===ae||void 0===ae||ae.callback(!1))}),[ae]),Object(r.useEffect)((function(){ue&&ue(it)}),[it]),Object(r.useEffect)((function(){null===xe||void 0===xe||xe(Be)}),[Be]);return Object(U.jsxs)(h.a,{width:1,children:[n&&Object(U.jsx)("div",{className:Ce.title,children:n}),Object(U.jsx)(h.a,{className:Ce.containerHeader,justifyContent:"space-between",alignItems:"center",children:Object(U.jsxs)("div",{className:Object(N.default)((t={},Object(l.a)(t,Ce.containerButtons,!!be),Object(l.a)(t,Ce.containerButtonsNoFilters,!be),t)),children:[k&&Object(U.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[Object(U.jsx)(z.f,{open:Ae,setOpen:Re,range:rt,onSelect:st,children:Object(U.jsx)(w.a,{disabled:ee,style:{border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},startIcon:Object(U.jsx)(C.n,{}),onClick:function(){return Re(!Ae)},children:Object(q.Ec)(rt.startDate)+" - "+Object(q.Ec)(rt.endDate)})}),be&&be,Object(U.jsx)(w.a,{disabled:ee,variant:"contained",color:"primary",startIcon:Object(U.jsx)(_.a,{style:{color:"white"}}),style:{backgroundColor:"#55BD84",width:120},onClick:function(){Le&&ot(!0),Pe(!0)},children:Object(U.jsx)(g.a,{i18nKey:S.a.search})})]}),Object(U.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[$&&Object(U.jsx)($,{}),te&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("input",{name:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",id:"laraigo-upload-csv-file",type:"file",style:{display:"none"},onChange:function(e){return te(e.target.files)}}),Object(U.jsx)("label",{htmlFor:"laraigo-upload-csv-file",children:Object(U.jsx)(w.a,{className:Ce.button,variant:"contained",component:"span",color:"primary",disabled:ee,startIcon:Object(U.jsx)(T.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:Object(U.jsx)(g.a,{i18nKey:S.a.import})})})]}),H&&Object(U.jsx)(w.a,{className:Ce.button,variant:"contained",color:"primary",disabled:ee,startIcon:Object(U.jsx)(A.a,{color:"secondary"}),onClick:V,style:{backgroundColor:"#55BD84"},children:Object(U.jsx)(g.a,{i18nKey:S.a.register})}),K&&Object(U.jsx)(w.a,{className:Ce.button,variant:"contained",color:"primary",disabled:ee,onClick:function(){Z&&Z(Object(a.a)(Object(a.a)({},Ne),{},{daterange:{startDate:rt.startDate?new Date(rt.startDate.setHours(10)).toISOString().substring(0,10):null,endDate:rt.endDate?new Date(rt.endDate.setHours(10)).toISOString().substring(0,10):null}}))},startIcon:Object(U.jsx)(C.E,{}),children:Object(U.jsx)(g.a,{i18nKey:S.a.download})})]})]})}),Q&&Object(U.jsx)(Q,{}),Object(U.jsxs)(j.a,{style:{position:"relative"},children:[Object(U.jsx)(h.a,{overflow:"auto",children:Object(U.jsxs)(o.a,Object(a.a)(Object(a.a)({},ze()),{},{"aria-label":"enhanced table",size:"small","aria-labelledby":"tableTitle",children:[Object(U.jsx)(b.a,{children:Ve.map((function(e){return Object(U.jsx)(O.a,Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,t){return e.activeOnHover?Object(U.jsx)("th",{style:{width:"0px"}},"header-floating"):Object(U.jsx)(u.a,{children:e.isComponent?e.render("Header"):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:Ce.containerHeaderColumn,children:[Object(U.jsxs)(h.a,Object(a.a)(Object(a.a)({component:"div"},e.getHeaderProps()),{},{onClick:function(){return!e.NoSort&&function(e){var t={};Object.keys(Ne.sorts).includes(e)&&(t=Object(a.a)({},Ne.sorts)),"desc"===t[e]?delete t[e]:"asc"===t[e]?t[e]="desc":t[e]="asc",Ee((function(e){return Object(a.a)(Object(a.a)({},e),{},{sorts:t,trigger:!0})}))}(e.id)},style:{whiteSpace:"nowrap",wordWrap:"break-word",display:"flex",cursor:"pointer",alignItems:"center"},children:[e.render("Header"),Ne.sorts[e.id]&&("asc"===Ne.sorts[e.id]?Object(U.jsx)(R.a,{className:Ce.iconOrder,color:"action"}):Object(U.jsx)(D.a,{className:Ce.iconOrder,color:"action"}))]})),!!e.helpText&&Object(U.jsx)(y.a,{title:Object(U.jsx)("div",{style:{fontSize:12,whiteSpace:"break-spaces"},children:e.helpText}),arrow:!0,placement:"top",children:Object(U.jsx)(B.a,{color:"action",className:Ce.iconHelpText})})]}),!e.NoFilter&&Object(U.jsx)(J,{header:e.id,listSelectFilter:e.listSelectFilter||[],type:e.type,filters:Ne.filters,setFilters:function(e,t){!function(e,t){Ee((function(t){return Object(a.a)(Object(a.a)({},t),{},{filters:e,pageIndex:0,trigger:!0})}))}(e),He((function(n){return Object(a.a)(Object(a.a)({},n),{},{filters:e,page:t})}))}})]})},t)}))}))}))}),Object(U.jsx)(d.a,Object(a.a)(Object(a.a)({},Ge()),{},{style:{backgroundColor:"white"},children:ee?Object(U.jsx)(X,{columns:Ve[0].headers.length}):Ue.map((function(e){return qe(e),Object(U.jsx)(O.a,Object(a.a)(Object(a.a)({},e.getRowProps()),{},{hover:!0,style:{cursor:je?"pointer":"default"},children:e.cells.map((function(t,n){var i;return Object(U.jsx)(u.a,Object(a.a)(Object(a.a)({},t.getCellProps({style:{minWidth:t.column.minWidth,width:t.column.width,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"number"===t.column.type?"right":(null===(i=t.column.type)||void 0===i?void 0:i.includes("centered"))?"center":"left"}})),{},{onClick:function(){return"selection"!==t.column.id?je&&je(e.original):null},children:t.render("Cell")}))}))}))}))}))]}))}),Object(U.jsxs)(h.a,{className:Ce.footerTable,children:[Object(U.jsxs)(h.a,{children:[Object(U.jsx)(p.a,{onClick:function(){return at(0)},disabled:!Ye,children:Object(U.jsx)(F.a,{})}),Object(U.jsx)(p.a,{onClick:function(){return at(Ne.pageIndex-1)},disabled:!Ye,children:Object(U.jsx)(L.a,{})}),Object(U.jsx)(p.a,{onClick:function(){return at(Ne.pageIndex+1)},disabled:!Je,children:Object(U.jsx)(P.a,{})}),Object(U.jsx)(p.a,{onClick:function(){return at(Xe-1)},disabled:!Je,children:Object(U.jsx)(W.a,{})}),Object(U.jsx)(h.a,{component:"span",fontSize:14,children:Object(U.jsx)(g.a,{i18nKey:S.a.tablePageOf,values:{currentPage:0===Qe.length?0:tt+1,totalPages:Qe.length},components:[Object(U.jsx)(h.a,{fontWeight:"700",component:"span"}),Object(U.jsx)(h.a,{fontWeight:"700",component:"span"})]})})]}),Object(U.jsx)(h.a,{children:Object(U.jsx)(g.a,{i18nKey:1e5===(E||0)?S.a.tableShowingRecordOfMore:S.a.tableShowingRecordOf,values:{itemCount:Ue.length,totalItems:E}})}),Object(U.jsxs)(h.a,{children:[Object(U.jsx)(x.a,{disableUnderline:!0,style:{display:"inline-flex"},value:nt,onChange:function(e){$e(Number(e.target.value))},children:[5,10,20,50,100].map((function(e){return Object(U.jsx)(m.a,{value:e,children:e},e)}))}),Object(U.jsx)(h.a,{fontSize:14,display:"inline",style:{marginRight:"1rem"},children:Object(U.jsx)(g.a,{i18nKey:S.a.recordPerPage,count:nt})})]})]})]})]})}));t.b=Q;var X=function(e){for(var t=e.columns,n=[],i=0;i<t;i++)n.push(Object(U.jsx)(u.a,{children:Object(U.jsx)(E.a,{})},"table-simple-skeleton-".concat(i)));return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(O.a,{children:n},"1aux1"),Object(U.jsx)(O.a,{children:n},"2aux2")]})};function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignore:[]};return Object(r.useMemo)((function(){var n={endDate:Number(e.get("endDate")),startDate:Number(e.get("startDate")),page:Number(e.get("page")),filters:{}},i=t.ignore;return e.forEach((function(t,a){if("endDate"!==a&&"startDate"!==a&&"page"!==a&&!a.includes("-operator")&&!(i||[]).includes(a)){var c="".concat(a,"-operator");n.filters[a]={value:t,operator:e.get(c)}}})),n}),[t,e])}function Z(e,t){var n=new URLSearchParams(t);for(var i in e){var a=e[i];"filters"!==i&&void 0!==a&&null!==a&&n.set(i,String(a))}var c=e.filters;for(var l in c)"object"===typeof c[l]&&"value"in c[l]&&"operator"in c[l]&&(n.set(l,String(c[l].value)),n.set("".concat(l,"-operator"),String(c[l].operator)));return n}},804:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"m",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return j})),n.d(t,"o",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"n",(function(){return p})),n.d(t,"b",(function(){return x})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"l",(function(){return v})),n.d(t,"c",(function(){return f})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"i",(function(){return w}));var i=n(24),a=n.n(i),c=n(39),l=n(7),r=n(28),s=n(35),o=function(e){return{callAPI:function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.e.mainPaginated(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),types:{loading:s.a.GET_PERSON_LIST,failure:s.a.GET_PERSON_LIST_FAILURE,success:s.a.GET_PERSON_LIST_SUCCESS},type:null}},d=function(){return{type:s.a.GET_PERSON_LIST_RESET}},u=function(e){return{callAPI:function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.e.mainPaginated(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),types:{loading:s.a.GET_PERSON_LINK,failure:s.a.GET_PERSON_LINK_FAILURE,success:s.a.GET_PERSON_LINK_SUCCESS},type:null}},j=function(e){return{callAPI:function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.e.mainPaginated(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),types:{loading:s.a.GET_TICKET_LIST_BY_PERSON,failure:s.a.GET_TICKET_LIST_BY_PERSON_FAILURE,success:s.a.GET_TICKET_LIST_BY_PERSON_SUCCESS},type:null}},b=function(){return{type:s.a.GET_TICKET_LIST_BY_PERSON_RESET}},O=function(e){return{callAPI:function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.e.main(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),types:{loading:s.a.GET_REFERRER_LIST_BY_PERSON,failure:s.a.GET_REFERRER_LIST_BY_PERSON_FAILURE,success:s.a.GET_REFERRER_LIST_BY_PERSON_SUCCESS},type:null}},p=function(){return{type:s.a.GET_REFERRER_LIST_BY_PERSON_RESET}},x=function(e){return{callAPI:function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.e.main(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),types:{loading:s.a.GET_CHANNEL_LIST_BY_PERSON,failure:s.a.GET_CHANNEL_LIST_BY_PERSON_FAILURE,success:s.a.GET_CHANNEL_LIST_BY_PERSON_SUCCESS},type:null}},m=function(){return{type:s.a.GET_CHANNEL_LIST_BY_PERSON_RESET}},h=function(e){return{callAPI:function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.j.getLeadsByPerson(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),types:{loading:s.a.GET_LEAD_LIST_BY_PERSON,failure:s.a.GET_LEAD_LIST_BY_PERSON_FAILURE,success:s.a.GET_LEAD_LIST_BY_PERSON_SUCCESS},type:null}},v=function(){return{type:s.a.GET_LEAD_LIST_BY_PERSON_RESET}},f=function(){return{callAPI:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.e.multiMain([Object(l.Ke)("GENERO"),Object(l.Ke)("TIPODOCUMENTO"),Object(l.Ke)("OCUPACION"),Object(l.Ke)("ESTADOCIVIL"),Object(l.Ke)("NIVELEDUCATIVO"),Object(l.Ke)("TIPOPERSONA"),Object(l.Ke)("GRUPOPERSONA"),Object(l.Ke)("TIPOPERSONAGEN"),Object(l.Ke)("TIPOCANAL"),Object(l.a)(),Object(l.td)(""),Object(l.sc)(),Object(l.Ke)("EMPRESA"),Object(l.Ke)("GRUPOFACTURACION"),Object(l.Ke)("ESTADOGENERICO"),Object(l.Ke)("ESTADOUSUARIO"),Object(l.le)(),Object(l.Ke)("GRUPOS"),Object(l.Vd)("OCUPACION")]));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),types:{loading:s.a.GET_DOMAINS_BY_TYPENAME,failure:s.a.GET_DOMAINS_BY_TYPENAME_FAILURE,success:s.a.GET_DOMAINS_BY_TYPENAME_SUCCESS},type:null}},g=function(){return{type:s.a.GET_DOMAINS_BY_TYPENAME_RESET}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{callAPI:function(){var n=Object(c.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.e.main(e,t));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),types:{loading:s.a.EDIT_PERSON,failure:s.a.EDIT_PERSON_FAILURE,success:s.a.EDIT_PERSON_SUCCESS},type:null}},w=function(){return{type:s.a.EDIT_PERSON_RESET}}},826:function(e,t,n){"use strict";var i=n(3),a=n(20),c=n(0),l=n.n(c),r=(n(457),n(169)),s=n(16),o=n(773),d=n(812),u=n.n(d),j=n(813),b=n.n(j),O=n(9),p=n(122),x=n(8),m=n(25),h=n(44),v=n(40),f=n(7),g=n(258),y=n(899),w=n.n(y),S=n(259),C=n(260),k=n(722),T=n(1498),N=n(865),E=n(2),I=Object(r.a)((function(e){return{containerCarousel:{width:230,backgroundColor:"#f0f2f5",borderRadius:18,position:"relative"},imageCardCarousel:{width:"100%",objectFit:"cover",height:"100%"},buttonCarousel:{backgroundColor:"#e4e6eb",textAlign:"center",borderRadius:6,height:36,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,cursor:"pointer"},buttonLeft:{position:"absolute",top:"45%",left:-20,backgroundColor:"white"},buttonRight:{position:"absolute",top:"45%",right:-20,backgroundColor:"white"},containerTime:{visibility:"hidden",fontSize:12,float:"right",marginLeft:4,paddingRight:6,lineHeight:1,width:50},timeSeen:{color:"#4fc3f7"},timeInteraction:{position:"absolute",bottom:1.5,height:16,right:0,visibility:"visible",color:"#757377",padding:"inherit",display:"flex",alignItems:"center",gap:4},timeInteractionWithBackground:{position:"absolute",bottom:3,display:"flex",alignItems:"center",height:13,right:0,visibility:"visible",backgroundColor:"#00000059",color:"#fff",padding:"3px 2px 3px 3px",borderRadius:4,marginRight:4,gap:4}}})),_=function(e){var t,n=e.interactiontext,c=e.createdate,r=e.classes,s=e.userType,o=e.onlyTime,d=l.a.useState(!1),u=Object(a.a)(d,2),j=u[0],b=u[1],m=Object(p.a)().t,h=function(){return b(!0)},v=JSON.parse(n);return 0===((null===(t=v.Product_items)||void 0===t?void 0:t.length)||0)?Object(E.jsx)("div",{}):Object(E.jsxs)("div",{title:Object(f.K)(c).toLocaleString(),className:Object(O.default)(r.interactionText,Object(i.a)({},r.interactionTextAgent,"client"!==s)),children:[Object(E.jsxs)("div",{style:{width:300},children:[Object(E.jsxs)("div",{style:{display:"flex",backgroundColor:"#f5f6f6"},children:[Object(E.jsx)("img",{width:"70px",height:"70px",alt:"reference",src:v.Product_items[0].ImageReference}),Object(E.jsx)("div",{style:{display:"flex",alignItems:"center",paddingLeft:8},children:Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{fontWeight:"bold"},children:[v.Product_items.length," ",m(x.a.elements)]}),Object(E.jsxs)("div",{style:{fontWeight:"bold"},children:[v.Product_items.reduce((function(e,t){return e+parseFloat(t.Item_price)*parseFloat(t.Quantity)}),0).toFixed(2)," ",v.Product_items[0].Currency]})]})})]}),Object(E.jsx)("div",{children:v.Text}),Object(E.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(E.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:h,children:m(x.a.show_shopping_cart)}),Object(E.jsx)(F,{interactiontype:"interactivelist",createdate:c,userType:s,time:o||""})]}),Object(E.jsx)(T.a,{anchor:"right",open:j,onClose:function(){return b(!1)},onOpen:h,children:Object(E.jsxs)("div",{style:{width:400,padding:16},children:[Object(E.jsx)("h4",{children:m(x.a.cart_sent)}),Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{fontWeight:500},children:[v.Product_items.length," ",m(x.a.elements)]}),Object(E.jsxs)("div",{style:{color:"#8696a0"},children:[v.Product_items.reduce((function(e,t){return e+parseFloat(t.Item_price)*parseFloat(t.Quantity)}),0).toFixed(2)," ",v.Product_items[0].Currency]}),Object(E.jsx)("div",{style:{marginTop:16}})]}),Object(E.jsx)("div",{children:v.Product_items.map((function(e,t){return Object(E.jsx)("div",{children:Object(E.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:8},children:[Object(E.jsx)("img",{width:"80px",alt:"reference",height:"80px",src:e.ImageReference}),Object(E.jsx)("div",{style:{display:"flex",alignItems:"center",width:"75%",borderTop:"1px solid #ebebeb"},children:Object(E.jsxs)("div",{style:{width:"100%"},children:[Object(E.jsx)("div",{style:{fontWeight:500},children:e.Title}),Object(E.jsxs)("div",{style:{color:"#8696a0"},children:[e.Currency," ",parseFloat(e.Item_price).toFixed(2)," \u2022 ",m(x.a.quantity),": ",e.Quantity]})]})})]})},t)}))})]})})]})},A=function(e){var t,n,c,r,o=e.interactiontext,d=e.createdate,u=e.classes,j=e.userType,b=e.onlyTime,m=l.a.useState(!1),h=Object(a.a)(m,2),v=h[0],g=h[1],y=Object(p.a)().t,w=function(){return g(!0)},S=JSON.parse(o);if("product_list"===S.Type||"dynamic"===S.Type){var C,k,N,I,_=(null===(C=S.SectionList)||void 0===C||null===(k=C[0])||void 0===k||null===(N=k.ProductList)||void 0===N||null===(I=N[0])||void 0===I?void 0:I.ImageReference)||"",A=S.SectionList.reduce((function(e,t){return e+t.ProductList.length}),0);return Object(E.jsxs)("div",{title:Object(f.K)(d).toLocaleString(),className:Object(O.default)(u.interactionText,Object(i.a)({},u.interactionTextAgent,"client"!==j)),children:[Object(E.jsxs)("div",{style:{display:"flex",gap:"4px",backgroundColor:"#f5f6f6"},children:[_&&Object(E.jsx)("img",{width:"70px",height:"70px",src:_,alt:"fist"}),Object(E.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{style:{fontWeight:500},children:S.Header}),Object(E.jsxs)("div",{style:{color:"#8696a0"},children:[A," ",y(x.a.elements)]})]})})]}),Object(E.jsxs)("div",{style:{padding:8},children:[Object(E.jsx)("div",{style:{fontWeight:500},children:S.Body}),Object(E.jsx)("div",{style:{color:"#8696a0"},children:S.Footer})]}),Object(E.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(E.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:w,children:[Object(E.jsx)(s.ib,{})," ",y(x.a.show_items)]}),Object(E.jsx)(F,{interactiontype:"interactivelist",createdate:d,userType:j,time:b||""}),Object(E.jsx)(T.a,{anchor:"right",open:v,onClose:function(){return g(!1)},onOpen:w,children:Object(E.jsxs)("div",{style:{width:400,padding:16},children:[Object(E.jsx)("div",{style:{marginBottom:16},children:S.Body}),Object(E.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:S.SectionList.map((function(e,t){return Object(E.jsxs)("div",{style:{cursor:"pointer"},children:[Object(E.jsx)("div",{style:{color:"#008069",marginBottom:16},children:e.Title}),e.ProductList.map((function(e,t){return Object(E.jsx)("div",{children:Object(E.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:8},children:[Object(E.jsx)("img",{width:"80px",alt:"reference",height:"80px",src:e.ImageReference}),Object(E.jsx)("div",{style:{display:"flex",alignItems:"center",width:"75%",borderTop:"1px solid #ebebeb"},children:Object(E.jsxs)("div",{style:{width:"100%"},children:[Object(E.jsx)("div",{style:{fontWeight:500},children:e.Title}),Object(E.jsx)("div",{style:{color:"#8696a0",overflow:"hidden",wordBreak:"break-word",fontWeight:500,whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e.Description}),Object(E.jsxs)("div",{style:{color:"#8696a0"},children:[e.Currency," ",e.Price||10]})]})})]})},t)}))]},t)}))})]})})]})}return Object(E.jsxs)("div",{title:Object(f.K)(d).toLocaleString(),className:Object(O.default)(u.interactionText,Object(i.a)({},u.interactionTextAgent,"client"!==j)),children:[Object(E.jsxs)("div",{style:{width:300,display:"flex",flexDirection:"column"},children:[Object(E.jsx)("img",{width:"100%",src:null===S||void 0===S||null===(t=S.Product)||void 0===t?void 0:t.ImageReference,height:"320px",alt:"reference"}),Object(E.jsxs)("div",{style:{backgroundColor:"#f5f6f6",padding:8},children:[Object(E.jsx)("div",{children:null===S||void 0===S||null===(n=S.Product)||void 0===n?void 0:n.Title}),Object(E.jsxs)("div",{style:{color:"#dff3cc"},children:[null===S||void 0===S||null===(c=S.Product)||void 0===c?void 0:c.Price," ",null===S||void 0===S||null===(r=S.Product)||void 0===r?void 0:r.Currency]})]}),Object(E.jsxs)("div",{style:{padding:8},children:[Object(E.jsx)("div",{style:{fontWeight:"bold"},children:null===S||void 0===S?void 0:S.Body}),Object(E.jsx)("div",{style:{color:"#8696a0"},children:null===S||void 0===S?void 0:S.Footer})]})]}),Object(E.jsx)(F,{interactiontype:"interactivelist",createdate:d,userType:j,time:b||""})]})},R=function(e){var t=e.interactiontext,n=e.createdate,c=e.classes,r=e.userType,o=e.onlyTime,d=l.a.useState(!1),u=Object(a.a)(d,2),j=u[0],b=u[1],m=Object(p.a)().t,h=JSON.parse(t);return 0===h.sections.length?Object(E.jsx)("div",{title:Object(f.K)(n).toLocaleString(),className:Object(O.default)(c.interactionText,Object(i.a)({},c.interactionTextAgent,"client"!==r)),children:"INTERACTIVE LIST WITHOUT OPTIONS"}):Object(E.jsxs)("div",{title:Object(f.K)(n).toLocaleString(),className:Object(O.default)(c.interactionText,Object(i.a)({},c.interactionTextAgent,"client"!==r)),children:["text"!==h.headertype&&h.headertype?h.header:Object(E.jsx)("div",{style:{fontWeight:500},children:h.header}),Object(E.jsx)("div",{children:h.body}),h.footer&&Object(E.jsx)("div",{style:{color:"rgb(0,0,0,0.45)",fontSize:12},children:h.footer}),Object(E.jsx)("div",{style:{height:2,borderTop:"1px solid rgb(235, 234, 237)",marginTop:4}}),Object(E.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#00a5f4",cursor:"pointer"},onClick:function(){b(!0)},children:[Object(E.jsx)(s.ib,{}),m(x.a.options)]}),Object(E.jsx)(F,{interactiontype:"interactivelist",createdate:n,userType:r,time:o||""}),Object(E.jsxs)(g.a,{onClose:function(){b(!1)},"aria-labelledby":"simple-dialog-title",open:j,fullWidth:!0,maxWidth:"xs",children:[Object(E.jsx)(S.a,{children:m(x.a.options)}),Object(E.jsx)(C.a,{children:h.sections[0].buttons.map((function(e,t){return Object(E.jsxs)("div",{style:{background:"#FFF",borderRadius:4,padding:"12px 8px",textTransform:"uppercase",display:"flex",justifyContent:"space-between"},children:[e.title,Object(E.jsx)(w.a,{})]},t)}))})]})]})},D=function(e){var t=e.carousel,n=I(),i=Object(c.useState)(0),l=Object(a.a)(i,2),r=l[0],s=l[1];return 0===t.length?null:Object(E.jsxs)("div",{className:n.containerCarousel,children:[Object(E.jsx)("div",{style:{height:157},children:Object(E.jsx)("img",{src:t[r].mediaUrl,className:n.imageCardCarousel,alt:"logocarousel",crossOrigin:t[r].mediaUrl.includes("cloud-object-storage")?"anonymous":void 0})}),Object(E.jsxs)("div",{style:{padding:"12px",wordBreak:"break-word"},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{style:{fontWeight:600},children:t[r].title}),Object(E.jsx)("div",{children:t[r].description})]}),Object(E.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:8},children:t[r].actions.map((function(e,t){return Object(E.jsx)("div",{className:n.buttonCarousel,children:e.text},t)}))})]}),r>0&&Object(E.jsx)(o.a,{className:n.buttonLeft,size:"small",onClick:function(){return s(r-1)},children:Object(E.jsx)(u.a,{style:{color:"#2E2C34"}})}),r<t.length-1&&Object(E.jsx)(o.a,{className:n.buttonRight,onClick:function(){return s(r+1)},size:"small",children:Object(E.jsx)(b.a,{style:{color:"#2E2C34"}})})]})},F=function(e){var t=e.time,n=e.background,r=e.userType,o=e.createdate,d=e.interactiontype,u=I(),j=Object(m.b)((function(e){return e.inbox.ticketSelected})),b=Object(c.useState)(!1),p=Object(a.a)(b,2),x=p[0],h=p[1];return l.a.useEffect((function(){if((null===j||void 0===j?void 0:j.lastseendate)&&"LOG"!==d){var e=new Date(null===j||void 0===j?void 0:j.lastseendate),t=new Date(o);h(t<=e)}}),[o,d,null===j||void 0===j?void 0:j.lastseendate]),Object(E.jsxs)("span",{className:u.containerTime,children:[t,n?Object(E.jsxs)("div",{className:u.timeInteractionWithBackground,children:[t,"client"!==r&&Object(E.jsx)(s.Vb,{className:Object(O.default)(Object(i.a)({},u.timeSeen,x))})]}):Object(E.jsxs)("div",{className:u.timeInteraction,children:[t,"client"!==r&&Object(E.jsx)(s.Vb,{className:Object(O.default)(Object(i.a)({},u.timeSeen,x))})]})]})},L=function(e){var t=e.userType,n=e.fill,i=void 0===n?"#FFF":n;return"client"===t?Object(E.jsx)("svg",{viewBox:"0 0 11 20",width:"11",height:"20",style:{position:"absolute",bottom:-1,left:-9,fill:i},children:Object(E.jsx)("svg",{id:"message-tail-filled",viewBox:"0 0 11 20",children:Object(E.jsx)("g",{transform:"translate(9 -14)",fill:"inherit",fillRule:"evenodd",children:Object(E.jsx)("path",{d:"M-6 16h6v17c-.193-2.84-.876-5.767-2.05-8.782-.904-2.325-2.446-4.485-4.625-6.48A1 1 0 01-6 16z",transform:"matrix(1 0 0 -1 0 49)",id:"corner-fill",fill:"inherit"})})})}):Object(E.jsx)("svg",{viewBox:"0 0 11 20",width:"11",height:"20",style:{position:"absolute",bottom:0,right:-9,transform:"translateY(1px) scaleX(-1)",fill:i},children:Object(E.jsx)("svg",{id:"message-tail-filled",viewBox:"0 0 11 20",children:Object(E.jsx)("g",{transform:"translate(9 -14)",fill:"inherit",fillRule:"evenodd",children:Object(E.jsx)("path",{d:"M-6 16h6v17c-.193-2.84-.876-5.767-2.05-8.782-.904-2.325-2.446-4.485-4.625-6.48A1 1 0 01-6 16z",transform:"matrix(1 0 0 -1 0 49)",id:"corner-fill",fill:"inherit"})})})})},P=function(e){var t=e.interaction,n=t.interactionid,r=t.interactiontype,o=t.interactiontext,d=t.listImage,u=t.indexImage,j=t.createdate,b=t.onlyTime,m=e.classes,g=e.userType,y=l.a.useRef(null),w=Object(v.c)(),S=Object(p.a)().t,C=Object(c.useState)(o.length<=450),k=Object(a.a)(C,2),T=k[0],I=k[1],P=Object(N.c)({googleMapsApiKey:"AIzaSyAqrFCH95Tbqwo6opvVPcdtrVd-1fnBLr4"}).isLoaded,W=l.a.useState("0px"),K=Object(a.a)(W,2),B=K[0],H=K[1],M=function(){H((null===y||void 0===y?void 0:y.current.contentWindow.document.body.scrollHeight)+20+"px")};if(!o.trim()||"typing"===r)return null;if("text"===r)return Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),children:[Object(E.jsx)("span",{dangerouslySetInnerHTML:{__html:Object(f.wh)(T?o:o.substring(0,450)+"... ")}}),!T&&Object(E.jsx)("div",{style:{color:"#53bdeb",display:"contents",cursor:"pointer"},onClick:function(){return I(!0)},children:S(x.a.showmore)}),Object(E.jsx)(L,{userType:g,fill:"client"===g?"#FFF":"#eeffde"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]});if("html"===r)return Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),children:[Object(E.jsx)("iframe",{ref:y,srcDoc:o,id:"frame-".concat(n),width:"100%",height:B,title:"frame1",onLoad:M,style:{border:"none"}}),Object(E.jsx)(L,{userType:g,fill:"client"===g?"#FFF":"#eeffde"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]});if("email"===r)try{var z=o.split("&%MAIL%&"),G=Object(a.a)(z,3),V=G[0],q=G[1],U=G[2];return Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),children:[Object(E.jsxs)("div",{children:["RE-LARAIGO: ",V]}),Object(E.jsx)("iframe",{ref:y,srcDoc:q,id:"frame-".concat(n),width:"100%",title:"frame2",height:B,onLoad:M,style:{border:"none"}}),U&&"{}"!==U&&Object.keys(JSON.parse(U)).map((function(e){var t=JSON.parse(U)[e],n=e.split(".").pop();return Object(E.jsxs)("a",{download:!0,rel:"noreferrer",target:"_blank",href:t,style:{textDecoration:"none",display:"flex",justifyContent:"space-between",alignItems:"center",gap:4,maxWidth:200,border:"1px solid #e1e1e1",borderRadius:5,marginBottom:5,paddingRight:5},children:["pdf"===n?Object(E.jsx)(s.Hb,{width:"30",height:"30"}):"doc"===n||"docx"===n?Object(E.jsx)(s.A,{width:"30",height:"30"}):"xls"===n||"xlsx"===n||"csv"===n?Object(E.jsx)(s.tc,{width:"30",height:"30"}):"ppt"===n||"pptx"===n?Object(E.jsx)(s.Lb,{width:"30",height:"30"}):"text"===n||"txt"===n?Object(E.jsx)(s.lc,{width:"30",height:"30"}):"zip"===n||"rar"===n?Object(E.jsx)(s.wc,{width:"30",height:"30"}):Object(E.jsx)(s.U,{width:"30",height:"30"}),Object(E.jsx)("div",{style:{color:"#171717",textOverflow:"ellipsis",overflowX:"hidden",flex:1,whiteSpace:"nowrap"},children:decodeURI(e)}),Object(E.jsx)(s.F,{width:"20",height:"20",color:"primary"})]},e)})),Object(E.jsx)(L,{userType:g,fill:"client"===g?"#FFF":"#eeffde"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]})}catch(je){return null}else{if("image"===r||"comment-image"===r)return Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:m.interactionImage,children:[Object(E.jsx)("img",{className:m.imageCard,src:o,alt:"",crossOrigin:o.includes("cloud-object-storage")?"anonymous":void 0,onClick:function(){w(Object(h.b)({visible:!0,images:d,index:u}))}}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||"",background:!0})]});if("quickreply"===r)try{var Y,J;if("{"===o.substring(0,1)){var Q=JSON.parse(o);return Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),children:[Q.stringsmooch,Object(E.jsx)(L,{userType:g,fill:"client"===g?"#FFF":"#eeffde"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]})}Y=o.split("&&&")[0],J=o.split("&&&")[1];var X=JSON.parse("[".concat(J,"]"));return Object(E.jsxs)("div",{className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),style:{display:"inline-block"},children:[Y,Object(E.jsx)("div",{className:m.containerQuickreply,style:{justifyContent:"space-evenly",display:"flex"},children:X.map((function(e,t){return Object(E.jsx)("div",{className:m.buttonQuickreply,children:e.text||e.title},t)}))}),Object(E.jsx)(L,{userType:g,fill:"client"===g?"#FFF":"#eeffde"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]})}catch(je){return null}else if("postback"===r)try{var $=o.split("&&&"),Z=Object(a.a)($,2),ee=Z[0],te=Z[1],ne=JSON.parse("[".concat(te,"]"));return Object(E.jsxs)("div",{className:m.containerPostback,style:{backgroundColor:"white"},children:[Object(E.jsx)("div",{className:m.headerPostback,children:ee}),Object(E.jsx)("div",{children:ne.map((function(e,t){return Object(E.jsx)("div",{className:m.buttonPostback,children:e.text},t)}))})]})}catch(je){return null}else{if("LOG"===r)return Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),style:{backgroundColor:"#84818A",color:"white"},children:[T?o:o.substring(0,450)+"... ",!T&&Object(E.jsx)("div",{style:{color:"#53bdeb",display:"contents",cursor:"pointer"},onClick:function(){return I(!0)},children:S(x.a.showmore)}),Object(E.jsx)(L,{userType:g,fill:"#84818A"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,background:!0,time:b||""})]});if("carousel"===r)try{var ie=JSON.parse("[".concat(o,"]"));return Object(E.jsx)(D,{carousel:ie})}catch(je){return null}else{if("audio"===r||"video"===r&&o.includes(".oga"))return Object(E.jsxs)("div",{className:m.interactionImage,style:{borderRadius:0,height:50,backgroundColor:"transparent"},children:[Object(E.jsx)("audio",{controls:!0,src:o,className:m.imageCard,style:{}}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,background:!0,time:b||""})]});if("video"===r)return Object(E.jsxs)("div",{className:m.interactionImage,children:[Object(E.jsx)("video",{className:m.imageCard,width:"200",controls:!0,src:o}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||"",background:!0})]});if("file"===r){var ae=o.split("/").pop()||"",ce=(ae||"").split(".").pop();return Object(E.jsxs)("div",{style:{width:200,backgroundColor:"white",padding:"12px 13px",borderRadius:4,position:"relative"},children:[Object(E.jsxs)("a",{download:!0,rel:"noreferrer",target:"_blank",href:o,style:{textDecoration:"none",display:"flex",justifyContent:"space-between",alignItems:"center",gap:4},children:["pdf"===ce?Object(E.jsx)(s.Hb,{width:"30",height:"30"}):"doc"===ce||"docx"===ce?Object(E.jsx)(s.A,{width:"30",height:"30"}):"xls"===ce||"xlsx"===ce||"csv"===ce?Object(E.jsx)(s.tc,{width:"30",height:"30"}):"ppt"===ce||"pptx"===ce?Object(E.jsx)(s.Lb,{width:"30",height:"30"}):"text"===ce||"txt"===ce?Object(E.jsx)(s.lc,{width:"30",height:"30"}):"zip"===ce||"rar"===ce?Object(E.jsx)(s.wc,{width:"30",height:"30"}):Object(E.jsx)(s.U,{width:"30",height:"30"}),Object(E.jsx)("div",{style:{color:"#171717",textOverflow:"ellipsis",overflowX:"hidden",flex:1,whiteSpace:"nowrap"},children:ae}),Object(E.jsx)(s.F,{width:"20",height:"20",color:"primary"})]}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,background:!0,time:b||""})]})}if("interactivebutton"===r)try{var le=JSON.parse(o);return le.headertype=le.headertype||"text",Object(E.jsxs)("div",{style:{display:"flex",gap:4,flexDirection:"column"},children:[Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),children:["text"===le.headertype?Object(E.jsx)("div",{style:{fontWeight:500},children:le.header}):le.header,le.body,le.footer&&Object(E.jsx)("div",{style:{color:"rgb(0,0,0,0.45)",fontSize:12},children:le.footer}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]}),le.buttons.map((function(e,t){return Object(E.jsx)("div",{style:{background:"#FFF",color:"#00a5f4",borderRadius:4,padding:"6px 8px",textAlign:"center",textTransform:"uppercase"},children:e.title},t)}))]})}catch(je){return null}else{if("reply-text"===r){var re=o.split("###")[1];return Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),children:[re,Object(E.jsx)(L,{userType:g,fill:"client"===g?"#FFF":"#eeffde"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]})}if("interactivelist"===r)try{return Object(E.jsx)(R,{interactiontext:o,createdate:j,classes:m,userType:g,onlyTime:b})}catch(je){return null}else{if("post-image"===r)return Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:m.interactionImage,style:{marginLeft:"auto",marginRight:"auto"},children:[Object(E.jsx)("img",{className:m.imageCard,src:o,alt:"",onClick:function(){w(Object(h.b)({visible:!0,images:d,index:u}))}}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||"",background:!0})]});if("post-text"===r){var se=o.includes("###HTML###"),oe=se?o.split("###HTML###")[1]:o;return se?Object(E.jsx)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),style:{marginLeft:"auto",marginRight:"auto"},dangerouslySetInnerHTML:{__html:oe}}):Object(E.jsx)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),style:{marginLeft:"auto",marginRight:"auto"},children:oe})}if("whatsappcatalog"===r)return Object(E.jsx)(A,{interactiontext:o,createdate:j,classes:m,userType:g,onlyTime:b});if("shoppingcart"===r)return Object(E.jsx)(_,{interactiontext:o,createdate:j,classes:m,userType:g,onlyTime:b});if("location"===r){var de,ue=(null===(de=o.split("=").pop())||void 0===de?void 0:de.split(","))||["",""];return P?Object(E.jsxs)("div",{title:Object(f.K)(j).toLocaleString(),className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),children:[Object(E.jsx)("div",{style:{width:"300px"},className:"interaction-gmap",children:Object(E.jsx)(N.a,{mapContainerStyle:{width:"100%",height:"200px"},center:{lat:parseFloat(ue[0]),lng:parseFloat(ue[1])},zoom:10,children:Object(E.jsx)(N.b,{position:{lat:parseFloat(ue[0]),lng:parseFloat(ue[1])}})})}),Object(E.jsx)("div",{style:{display:"none"},className:"interaction-gmap-text",children:o}),Object(E.jsx)(L,{userType:g,fill:"client"===g?"#FFF":"#eeffde"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]}):null}}}}}}return Object(E.jsxs)("div",{className:Object(O.default)(m.interactionText,Object(i.a)({},m.interactionTextAgent,"client"!==g)),children:[o,Object(E.jsx)(L,{userType:g,fill:"client"===g?"#FFF":"#eeffde"}),Object(E.jsx)(F,{interactiontype:r,createdate:j,userType:g,time:b||""})]})};t.a=function(e){var t=e.classes,n=e.groupInteraction,a=n.usertype,c=n.interactions,l=Object(m.b)((function(e){return e.inbox.ticketSelected}));return Object(E.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(E.jsx)("div",{style:{flex:1},children:Object(E.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:c.map((function(e,n){var c;return Object(E.jsxs)("div",{id:"interaction-".concat(e.interactionid),className:Object(O.default)((c={},Object(i.a)(c,t.interactionAgent,"client"!==a),Object(i.a)(c,t.interactionFromPost,"FBWA"===(null===l||void 0===l?void 0:l.communicationchanneltype)),c)),children:[!e.interactiontype.includes("post-")&&"FBWA"===(null===l||void 0===l?void 0:l.communicationchanneltype)&&"client"===a&&Object(E.jsx)(k.a,{src:e.avatar+""||void 0}),Object(E.jsx)(P,{interaction:e,classes:t,userType:a})]},n)}))})}),"agent"===a?Object(E.jsx)("div",{style:{marginTop:"auto"},children:Object(E.jsx)(s.b,{style:{width:40,height:40}})}):"BOT"===a&&Object(E.jsx)("div",{style:{marginTop:"auto"},children:Object(E.jsx)(s.k,{style:{width:40,height:40}})})]})}},832:function(e,t,n){"use strict";var i=n(1),a=n(20),c=n(0),l=n.n(c),r=n(48),s=n(169),o=n(25),d=n(40),u=n(37),j=n(122),b=n(8),O=n(826),p=n(94),x=n(718),m=n(16),h=n(902),v=n.n(h),f=n(133),g=n(170),y=n(2),w=Object(s.a)((function(e){return{containerPanel:{flex:"1",display:"flex"},titleTicketChat:{fontWeight:"bold",fontSize:15},interactionAgent:{marginLeft:"auto"},groupInteractionAgent:{marginLeft:"auto",display:"flex"},containerTickets:{flex:"0 0 300px",maxWidth:300,backgroundColor:"#FFF",flexDirection:"column",display:"flex",borderRight:"1px solid #84818a1a"},headChat:{backgroundColor:"#FFF",padding:e.spacing(1),borderBottom:"1px solid #84818a1a",display:"flex",justifyContent:"space-between",cursor:"pointer"},containerInteractions:{padding:e.spacing(2),flex:1,background:"linear-gradient(90deg, rgba(119,33,173,0.7203256302521008) 35%, rgba(189,240,249,1) 100%)"},containerQuickreply:{whiteSpace:"break-spaces",flexWrap:"wrap",fontStyle:"normal",fontWeight:"normal",display:"flex",gap:e.spacing(1)},containerPostback:{width:200,padding:0,fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:2,borderRadius:25},headerPostback:{textAlign:"center",backgroundColor:"rgb(132 129 138 / 0.4);",borderTopLeftRadius:25,borderTopRightRadius:25},itemSelected:{backgroundColor:"rgb(235, 234, 237, 0.50)"},buttonPostback:{color:e.palette.primary.main,cursor:"pointer",textAlign:"center",borderTop:"1px solid #EBEAED","&:hover":{color:e.palette.primary.dark}},buttonQuickreply:{padding:"0 ".concat(e.spacing(1),"px"),backgroundColor:e.palette.primary.main,borderRadius:"6px",color:"#FFF",cursor:"pointer","&:hover":{backgroundColor:e.palette.primary.dark}},interactionText:{whiteSpace:"break-spaces",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:2,color:"#2E2C34",wordBreak:"break-word",width:"fit-content",borderRadius:12,borderBottomLeftRadius:0,padding:"".concat(e.spacing(.5),"px ").concat(e.spacing(1),"px ").concat(e.spacing(.7),"px ").concat(e.spacing(1),"px"),position:"relative",maxWidth:480,backgroundColor:"#FFF",border:"1px solid #EBEAED"},interactionTextAgent:{borderBottomLeftRadius:12,borderBottomRightRadius:0,backgroundColor:"#eeffde"},interactionImage:{borderRadius:e.spacing(1.5),backgroundColor:"#FFF",position:"relative",width:"328px",height:"340px"},imageCard:{width:"100%",maxWidth:"100%",cursor:"pointer",objectFit:"cover",height:"100%",position:"absolute",top:0,left:0,bottom:0,right:0,borderRadius:"inherit"},timeInteraction:{color:"#84818A",fontSize:13,fontStyle:"normal",fontWeight:"normal",lineHeight:2},containerResponse:{padding:e.spacing(2),background:"#FFF",position:"relative",borderTop:"1px solid #84818a1a"},containerChat:{flex:"1",flexDirection:"column",display:"flex"},collapseInfo:{position:"absolute",top:"calc(50% - 20px)"},infoOpen:{right:-20},infoClose:{right:0},containerProfile:{flex:"0 0 300px",display:"none"},iconResponse:{cursor:"pointer",poisition:"relative",color:"#2E2C34","&:hover":{backgroundColor:"#EBEAED",borderRadius:4}},iconSend:{background:"#5542F6",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer"},iconSendDisabled:{backgroundColor:"#EBEAED",cursor:"not-allowed"},containerButtonsChat:{display:"flex"},buttonCloseticket:{background:"#F9F9FA",border:"1px solid #EBEAED",boxSizing:"border-box",borderRadius:"4px",width:"150px",height:"42px",fontFamily:"Manrope",fontStyle:"normal",fontWeight:600,fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"#ececec"}},interactionFromPost:{display:"flex",gap:8},buttonIcon:{width:48,height:42,border:"1px solid #EBEAED",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer","&:hover":{backgroundColor:"#ececec"}},container:{display:"flex",gap:e.spacing(2),width:"100%"},containerItemTicket:{display:"flex",gap:e.spacing(1),alignItems:"center",padding:e.spacing(1),borderBottom:"1px solid #EBEAED",cursor:"pointer","&:hover":{backgroundColor:"rgb(235, 234, 237, 0.18)"}},containerNewMessages:{minWidth:"22px",padding:"0px 4px",borderRadius:12,backgroundColor:e.palette.primary.main,color:"white",textAlign:"center"},name:{flex:1,fontWeight:500,fontSize:"16px",lineHeight:"22px",wordBreak:"break-word",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:200},containerQuickReply:{boxShadow:"0px 3px 6px rgb(0 0 0 / 10%)",backgroundColor:"#FFF",width:250},headerQuickReply:{fontSize:13,fontWeight:500,padding:e.spacing(1.5),borderBottom:"1px solid #EBEAED"},itemQuickReply:{fontSize:13,paddingTop:e.spacing(.7),paddingBottom:e.spacing(.7),paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),"&:hover":{backgroundColor:"#EBEAED",cursor:"pointer"}}}}));t.a=function(e){var t=e.ticket,s=e.openModal,h=e.setOpenModal,S=Object(j.a)().t,C=w(),k=Object(d.c)(),T=l.a.useState(!1),N=Object(a.a)(T,2),E=N[0],I=N[1],_=Object(o.b)((function(e){return e.inbox.interactionExtraList})),A=l.a.useState([]),R=Object(a.a)(A,2),D=R[0],F=R[1],L=l.a.useRef(null);Object(c.useEffect)((function(){t&&s&&k(Object(u.m)(null===t||void 0===t?void 0:t.conversationid,!1,0))}),[t]);var P=function(e){e.downloadFileName;return Object(y.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){n.e(102).then(n.bind(null,911)).then((function(e){if(L.current){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.gap="8px",n.style.width="190mm",n.id="newexportcontainer",n.innerHTML=L.current.innerHTML,n.querySelectorAll(".interaction-gmap").forEach((function(e){return e.remove()})),n.querySelectorAll(".interaction-gmap-text").forEach((function(e){return e.style.display=""})),document.body.appendChild(n),new e.jsPDF("p","mm")&&v.a.toPng(n).then((function(i){var a,c=Math.ceil(.2645833333*n.scrollHeight),l=c,r=new e.jsPDF("p","mm"),s=10;for(r.addImage(i,"PNG",10,s,200,c),l-=297;l>=0;)s=l-c+10,r.addPage(),r.addImage(i,"PNG",10,s,200,c),l-=297;r.save("ticket".concat(null===t||void 0===t?void 0:t.ticketnum,".pdf")),null===(a=document.getElementById("newexportcontainer"))||void 0===a||a.remove()}))}}))},startIcon:Object(y.jsx)(m.E,{}),style:{position:"absolute",right:16,top:16},children:Object(y.jsx)(x.a,{i18nKey:b.a.download})})};return Object(c.useEffect)((function(){F(E?_.data:_.data.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{interactions:e.interactions.filter((function(e){return!e.isHide}))})})))}),[E,_.loading]),Object(y.jsxs)(r.g,{open:s,title:(null===t||void 0===t?void 0:t.displayname)+" - "+(null===t||void 0===t?void 0:t.ticketnum),buttonText1:S(b.a.cancel),handleClickButton1:function(){return h(!1)},children:[Object(y.jsx)(P,{downloadFileName:"ticket-"+(null===t||void 0===t?void 0:t.ticketnum)}),Object(y.jsx)("div",{style:{position:"absolute",left:16,bottom:16},children:Object(y.jsx)(g.a,{title:S(b.a.show_all)||"",arrow:!0,children:Object(y.jsx)("div",{children:Object(y.jsx)(f.a,{checked:E,onChange:function(e){return I(e.target.checked)},name:"checkedB"})})})}),_.loading?Object(y.jsx)(r.H,{}):Object(y.jsx)("div",{ref:L,className:"scroll-style-go",style:{display:"flex",flexDirection:"column",gap:8,height:"60vh"},children:D.map((function(e){return Object(y.jsx)(O.a,{imageClient:null===t||void 0===t?void 0:t.imageurldef,clientName:null===t||void 0===t?void 0:t.displayname,classes:C,groupInteraction:e},e.interactionid)}))})]})}},904:function(e,t,n){"use strict";var i=n(1),a=n(20),c=n(0),l=n.n(c),r=n(48),s=n(169),o=n(25),d=n(40),u=n(122),j=n(8),b=n(94),O=n(257),p=n(722),x=n(7),m=n(804),h=n(784),v=n(852),f=n.n(v),g=n(806),y=n.n(g),w=n(1366),S=n(44),C=n(83),k=n(2),T=Object(s.a)((function(e){return{label:{overflowWrap:"anywhere",fontSize:12,color:"#B6B4BA"},value:{height:22,maxWidth:180,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},image:{alignItems:"center",marginTop:"auto",marginBottom:"auto"}}}));t.a=function(e){var t=e.openModal,n=e.setOpenModal,s=e.person,v=e.callback,g=Object(u.a)().t,N=T(),E=Object(d.c)(),I=Object(o.b)((function(e){return e.person.personLinkList})),_=Object(c.useState)(null),A=Object(a.a)(_,2),R=A[0],D=A[1],F=Object(c.useState)(null),L=Object(a.a)(F,2),P=L[0],W=L[1],K=Object(c.useState)(0),B=Object(a.a)(K,2),H=B[0],M=B[1],z=Object(c.useState)(0),G=Object(a.a)(z,2),V=G[0],q=G[1],U=Object(c.useState)("view-table"),Y=Object(a.a)(U,2),J=Y[0],Q=Y[1],X=Object(c.useState)(!1),$=Object(a.a)(X,2),Z=$[0],ee=$[1],te=Object(o.b)((function(e){return e.main.execute})),ne=l.a.useMemo((function(){return[{Header:"",accessor:"personid",NoFilter:!0,isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(k.jsx)(O.a,{size:"small",onClick:function(){Q("view-person"),W(t)},children:Object(k.jsx)(f.a,{})})}},{Header:g(j.a.name),accessor:"name"},{Header:g(j.a.phone),accessor:"phone"},{Header:g(j.a.email),accessor:"email"},{Header:g(j.a.lastContactDate),accessor:"lastcontact",type:"date",sortType:"datetime",Cell:function(e){var t=e.cell.row.original;return t.lastcontact?Object(x.K)(t.lastcontact).toLocaleString():""}},{Header:g(j.a.status),accessor:"status",prefixTranslation:"status_",Cell:function(e){var t=e.cell.row.original.status;return(g("status_".concat(t).toLowerCase())||"").toUpperCase()}}]}),[g]),ie=function(e){var t=e.pageSize,n=e.pageIndex,i=e.filters,a=e.sorts;E(Object(m.e)(Object(x.Hd)({skip:t*n,take:t,sorts:a,filters:i,originpersonid:null===s||void 0===s?void 0:s.personid})))};Object(c.useEffect)((function(){t&&(D(s),W(null),Q("view-table"),ie({pageSize:20,pageIndex:0,filters:{},sorts:{},daterange:null}))}),[t]),Object(c.useEffect)((function(){I.loading||I.error||(M(Math.ceil(I.count/20)),q(I.count))}),[I]),Object(c.useEffect)((function(){if(Z)if(te.loading||te.error){if(te.error){var e=g(te.code||"error_unexpected_error",{module:g(j.a.tipification).toLocaleLowerCase()});E(Object(S.e)({show:!0,severity:"error",message:e})),E(Object(S.d)(!1)),ee(!1)}}else v&&v(R),E(Object(S.e)({show:!0,severity:"success",message:"Vinculaci\xf3n correcta"})),n(!1),E(Object(S.d)(!1)),ee(!1)}),[te,Z]);return Object(k.jsxs)(r.g,{open:t,title:g(j.a.link),buttonText1:g(j.a.cancel),buttonText2:g(j.a.link),handleClickButton1:function(){return n(!1)},handleClickButton2:function(){"view-person"===J&&P?(E(Object(S.d)(!0)),E(Object(C.c)(Object(x.kh)(Object(i.a)(Object(i.a)({},R),{},{personidfrom:null===P||void 0===P?void 0:P.personid,personidto:null===R||void 0===R?void 0:R.personid})))),ee(!0)):E(Object(S.e)({show:!0,severity:"warning",message:"Debe seleccionar una persona"}))},maxWidth:"md",children:[Object(k.jsxs)("div",{style:{display:"flex",gap:10},children:[Object(k.jsx)(p.a,{className:N.image,alt:"",style:{width:120,height:120},src:null===R||void 0===R?void 0:R.imageurldef}),Object(k.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",width:"100%",gap:"10px"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.firstname)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.firstname})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.lastname)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.lastname})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.documenttype)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.documenttype})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.documentnumber)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.documentnumber})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.email)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.email})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.phone)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.phone})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.alternativeEmail)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.alternativeemail})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.alternativePhone)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.alternativephone})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.birthday)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.birthday})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.gender)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.gender})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.occupation)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.occupationdesc})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.civilStatus)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.civilstatusdesc})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.educationLevel)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.educationleveldesc})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.address)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.address})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.healthprofessional)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.healthprofessional})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.referralchannel)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.referralchannel})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.observation)}),Object(k.jsx)("div",{className:N.value,children:null===R||void 0===R?void 0:R.observation})]})]})]}),Object(k.jsx)("div",{style:{textAlign:"center",marginTop:12},children:"*Al realizar la vinculaci\xf3n, los tickets y canales de esta persona se trasladaran a la persona seleccionada"}),"view-table"===J&&Object(k.jsx)("div",{children:Object(k.jsx)(h.b,{columns:ne,data:I.data,pageCount:H,totalrow:V,loading:I.loading,filterrange:!1,download:!1,fetchData:ie})}),"view-person"===J&&Object(k.jsxs)("div",{style:{marginTop:16},children:[Object(k.jsx)("div",{style:{textAlign:"right",marginBottom:16},children:Object(k.jsx)(b.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(k.jsx)(w.a,{color:"secondary"}),onClick:function(){return Q("view-table")},children:"Elegir persona"})}),Object(k.jsxs)("div",{style:{display:"flex",gap:10},children:[Object(k.jsxs)("div",{className:N.image,children:[(null===P||void 0===P?void 0:P.imageurldef)&&Object(k.jsx)("div",{style:{textAlign:"center"},children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{imageurldef:P.imageurldef}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsx)(p.a,{alt:"",style:{width:120,height:120},src:null===P||void 0===P?void 0:P.imageurldef})]}),Object(k.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",width:"100%",gap:"10px"},children:[Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.firstname)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{firstname:P.firstname}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.firstname)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.firstname})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.lastname)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{lastname:P.lastname}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.lastname)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.lastname})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.documenttype)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{documenttype:P.documenttype}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.documenttype)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.documenttype})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.documentnumber)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{documentnumber:P.documentnumber}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.documentnumber)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.documentnumber})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.email)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{email:P.email}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.email)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.email})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.phone)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{phone:P.phone}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.phone)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.phone})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.alternativeemail)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{alternativeemail:P.alternativeemail}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.alternativeEmail)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.alternativeemail})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.alternativephone)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{alternativephone:P.alternativephone}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.alternativePhone)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.alternativephone})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.birthday)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{birthday:P.birthday}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.birthday)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.birthday})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.gender)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{gender:P.gender}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.gender)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.gender})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.occupationdesc)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{occupationdesc:P.occupationdesc,occupation:P.occupation}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.occupation)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.occupationdesc})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.civilstatusdesc)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{civilstatusdesc:P.civilstatusdesc,civilstatus:P.civilstatus}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.civilStatus)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.civilstatusdesc})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.educationleveldesc)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{educationleveldesc:P.educationleveldesc,educationlevel:P.educationlevel}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.educationLevel)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.educationleveldesc})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.address)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{address:P.address}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.address)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.address})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.healthprofessional)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{healthprofessional:P.healthprofessional}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.healthprofessional)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.healthprofessional})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.referralchannel)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{referralchannel:P.referralchannel}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.referralchannel)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.referralchannel})]})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:8},children:[(null===P||void 0===P?void 0:P.observation)&&Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{size:"small",onClick:function(){D(Object(i.a)(Object(i.a)({},R),{},{observation:P.observation}))},children:Object(k.jsx)(y.a,{color:"action"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:N.label,children:g(j.a.observation)}),Object(k.jsx)("div",{className:N.value,children:null===P||void 0===P?void 0:P.observation})]})]})]})]})]})]})}}}]);
//# sourceMappingURL=47.455f7819.chunk.js.map