(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[80],{1396:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a(26),i=a(20),r=a(0),l=a.n(r),c=a(25),u=a(40),s=a(94),d=a(48),m=a(7),v=a(779),b=a(169),j=a(780),p=a.n(j),f=a(122),O=a(8),x=a(205),g=a(83),h=a(44),y=a(778),w=a.n(y),N=a(16),C=a(46),D=a(10),_=a(2),M=Object(b.a)((function(e){return{containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},title:{fontSize:"22px",lineHeight:"48px",height:"48px",color:e.palette.text.primary}}})),F=function(e){var t,a,n,v,b,j,y,N,C,D,F,T,z,E,H,I=e.data,k=I.row,q=I.edit,S=e.setViewSelected,V=e.multiData,L=e.fetchData,R=e.arrayBread,A=M(),B=Object(r.useState)(!1),G=Object(i.a)(B,2),U=G[0],P=G[1],K=Object(c.b)((function(e){return e.main.execute})),J=Object(u.c)(),W=Object(f.a)().t,Q=Object(c.b)((function(e){return e.login.validateToken.user})),X=V[0]&&V[0].success?V[0].data:[],Y=V[1]&&V[1].success?V[1].data:[],Z=V[2]&&V[2].success?V[2].data:[],$=V[3]&&V[3].success?V[3].data:[],ee=Object(x.d)({defaultValues:{type:"NINGUNO",id:q?null===k||void 0===k?void 0:k.slaid:0,description:q?null===k||void 0===k?void 0:k.description:"",company:(null===k||void 0===k?void 0:k.company)||"",communicationchannelid:(null===k||void 0===k?void 0:k.communicationchannelid)||"",usergroup:(null===k||void 0===k?void 0:k.usergroup)||"",status:(null===k||void 0===k?void 0:k.status)||"ACTIVO",totaltmo:(null===k||void 0===k?void 0:k.totaltmo)||"",totaltmomin:(null===k||void 0===k?void 0:k.totaltmomin)||"",totaltmopercentmax:(null===k||void 0===k?void 0:k.totaltmopercentmax)||0,usertmo:(null===k||void 0===k?void 0:k.usertmo)||"",usertmomin:(null===k||void 0===k?void 0:k.usertmomin)||"",usertmopercentmax:(null===k||void 0===k?void 0:k.usertmopercentmax)||0,usertme:(null===k||void 0===k?void 0:k.usertme)||"",productivitybyhour:(null===k||void 0===k?void 0:k.productivitybyhour)||0,usertmepercentmax:(null===k||void 0===k?void 0:k.usertmepercentmax)||0,organization:(null===k||void 0===k?void 0:k.organization)||"",operation:q?"EDIT":"INSERT"}}),te=ee.register,ae=ee.handleSubmit,ne=ee.setValue,oe=ee.formState.errors;l.a.useEffect((function(){te("type"),te("id"),te("description",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("company"),te("usergroup"),te("status",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("totaltmo",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("totaltmomin",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("totaltmopercentmax",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("usertmo",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("usertmomin",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("usertmopercentmax",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("usertme",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("productivitybyhour",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("usertmepercentmax",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("communicationchannelid",{validate:function(e){return e&&e.length||W(O.a.field_required)}}),te("organization")}),[q,te]),Object(r.useEffect)((function(){if(U)if(K.loading||K.error){if(K.error){var e=W(K.code||"error_unexpected_error",{module:W(O.a.sla).toLocaleLowerCase()});J(Object(h.e)({show:!0,severity:"error",message:e})),P(!1),J(Object(h.d)(!1))}}else J(Object(h.e)({show:!0,severity:"success",message:W(k?O.a.successful_edit:O.a.successful_register)})),L&&L(),J(Object(h.d)(!1)),S("view-1")}),[K,U]);var ie=ae((function(e){J(Object(h.a)({visible:!0,question:W(O.a.confirmation_save),callback:function(){J(Object(g.c)(Object(m.jg)(e))),J(Object(h.d)(!0)),P(!0)}}))}));return Object(_.jsx)("div",{style:{width:"100%"},children:Object(_.jsxs)("form",{onSubmit:ie,children:[Object(_.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(_.jsxs)("div",{children:[Object(_.jsx)(d.L,{breadcrumbs:[].concat(Object(o.a)(R),[{id:"view-2",name:"".concat(W(O.a.sla)," ").concat(W(O.a.detail))}]),handleClick:S}),Object(_.jsx)(d.R,{title:k?"".concat(k.description):W(O.a.newsla)})]}),Object(_.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(_.jsx)(s.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(_.jsx)(w.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return S("view-1")},children:W(O.a.back)}),Object(_.jsx)(s.a,{className:A.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(_.jsx)(p.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:W(O.a.save)})]})]}),Object(_.jsxs)("div",{className:A.containerDetail,children:[Object(_.jsxs)("div",{className:"row-zyx",children:[Object(_.jsx)(d.l,{label:W(O.a.organization),className:"col-6",onChange:function(e){return ne("organization",e)},valueDefault:k?k.orgdesc||"":null===Q||void 0===Q?void 0:Q.orgdesc,error:null===oe||void 0===oe||null===(t=oe.organization)||void 0===t?void 0:t.message,disabled:!0}),Object(_.jsx)(d.u,{label:W(O.a.supplier),className:"col-6",valueDefault:k&&k.company||"",onChange:function(e){return ne("company",e?e.domainvalue:"")},error:null===oe||void 0===oe||null===(a=oe.company)||void 0===a?void 0:a.message,data:Y,optionDesc:"domaindesc",optionValue:"domainvalue"})]}),Object(_.jsx)("div",{className:"row-zyx",children:Object(_.jsx)(d.l,{label:W(O.a.description),className:"col-12",onChange:function(e){return ne("description",e)},valueDefault:q?null===k||void 0===k?void 0:k.description:"",error:null===oe||void 0===oe||null===(n=oe.description)||void 0===n?void 0:n.message})}),Object(_.jsx)("div",{className:"row-zyx",children:Object(_.jsx)(d.q,{label:W(O.a.channel_plural),className:"col-12",onChange:function(e){return ne("communicationchannelid",e.map((function(e){return e.communicationchannelid})).join())},valueDefault:(null===k||void 0===k?void 0:k.communicationchannelid)||"",error:null===oe||void 0===oe||null===(v=oe.communicationchannelid)||void 0===v?void 0:v.message,data:$,optionDesc:"communicationchanneldesc",optionValue:"communicationchannelid"})}),Object(_.jsxs)("div",{className:"row-zyx",children:[Object(_.jsx)(d.q,{label:W(O.a.group),className:"col-6",onChange:function(e){return ne("usergroup",e.map((function(e){return e.domainvalue})).join())},valueDefault:(null===k||void 0===k?void 0:k.usergroup)||"",error:null===oe||void 0===oe||null===(b=oe.usergroup)||void 0===b?void 0:b.message,data:Z,optionDesc:"domaindesc",optionValue:"domainvalue"}),Object(_.jsx)(d.u,{label:W(O.a.status),className:"col-6",valueDefault:(null===k||void 0===k?void 0:k.status)||"ACTIVO",onChange:function(e){return ne("status",e?e.domainvalue:"")},error:null===oe||void 0===oe||null===(j=oe.status)||void 0===j?void 0:j.message,uset:!0,prefixTranslation:"status_",data:X,optionDesc:"domaindesc",optionValue:"domainvalue"})]}),Object(_.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(_.jsx)("div",{className:A.title,children:W(O.a.detail)}),Object(_.jsxs)("div",{className:"row-zyx",children:[Object(_.jsx)(d.l,{type:"time",label:"TMO total min (HH:MM)",className:"col-4",onChange:function(e){return ne("totaltmomin",e)},valueDefault:k&&k.totaltmomin||"",error:null===oe||void 0===oe||null===(y=oe.totaltmomin)||void 0===y?void 0:y.message}),Object(_.jsx)(d.l,{type:"time",label:"TMO total max (HH:MM)",className:"col-4",onChange:function(e){return ne("totaltmo",e)},valueDefault:k&&k.totaltmo||"",error:null===oe||void 0===oe||null===(N=oe.totaltmo)||void 0===N?void 0:N.message}),Object(_.jsx)(d.l,{type:"number",label:"".concat(W(O.a.tmopercentobj),"%"),className:"col-4",onChange:function(e){return ne("totaltmopercentmax",e)},valueDefault:k&&k.totaltmopercentmax||"",error:null===oe||void 0===oe||null===(C=oe.totaltmopercentmax)||void 0===C?void 0:C.message})]}),Object(_.jsxs)("div",{className:"row-zyx",children:[Object(_.jsx)(d.l,{type:"time",label:"TMO user min (HH:MM)",className:"col-4",onChange:function(e){return ne("usertmomin",e)},valueDefault:k&&k.usertmomin||"",error:null===oe||void 0===oe||null===(D=oe.usertmomin)||void 0===D?void 0:D.message}),Object(_.jsx)(d.l,{type:"time",label:"TMO user max (HH:MM)",className:"col-4",onChange:function(e){return ne("usertmo",e)},valueDefault:k&&k.usertmo||"",error:null===oe||void 0===oe||null===(F=oe.usertmo)||void 0===F?void 0:F.message}),Object(_.jsx)(d.l,{type:"number",label:"".concat(W(O.a.usertmopercentmax),"%"),className:"col-4",onChange:function(e){return ne("usertmopercentmax",e)},valueDefault:k&&k.usertmopercentmax||"",error:null===oe||void 0===oe||null===(T=oe.usertmopercentmax)||void 0===T?void 0:T.message})]}),Object(_.jsxs)("div",{className:"row-zyx",children:[Object(_.jsx)(d.l,{type:"time",label:"TME user max (HH:MM)",className:"col-4",onChange:function(e){return ne("usertme",e)},valueDefault:k&&k.usertme||"",error:null===oe||void 0===oe||null===(z=oe.usertme)||void 0===z?void 0:z.message}),Object(_.jsx)(d.l,{type:"number",label:"".concat(W(O.a.usertmepercentmax),"%"),className:"col-4",onChange:function(e){return ne("usertmepercentmax",e)},valueDefault:k&&k.usertmepercentmax||"",error:null===oe||void 0===oe||null===(E=oe.usertmepercentmax)||void 0===E?void 0:E.message}),Object(_.jsx)(d.l,{label:W(O.a.productivitybyhour),className:"col-4",type:"number",onChange:function(e){return ne("productivitybyhour",e)},valueDefault:k&&parseInt(k.productivitybyhour)||"",error:null===oe||void 0===oe||null===(H=oe.productivitybyhour)||void 0===H?void 0:H.message})]})]})]})]})})};t.default=function(){var e=Object(C.g)(),t=Object(u.c)(),a=Object(f.a)().t,o=Object(c.b)((function(e){return e.main})),b=Object(c.b)((function(e){return e.main.execute})),j=Object(r.useState)("view-1"),p=Object(i.a)(j,2),x=p[0],y=p[1],M=Object(r.useState)({row:null,edit:!1}),T=Object(i.a)(M,2),z=T[0],E=T[1],H=Object(r.useState)(!1),I=Object(i.a)(H,2),k=I[0],q=I[1],S=[{id:"view-0",name:a(O.a.configuration_plural)},{id:"view-1",name:a(O.a.app_sla)}];function V(t){"view-0"!==t?y(t):e.push(D.a.CONFIGURATION)}var L=l.a.useMemo((function(){return[{accessor:"slaid",NoFilter:!0,isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(_.jsx)(d.M,{extraOption:a(O.a.duplicate),extraFunction:function(){return A(t)},ExtraICon:function(){return Object(_.jsx)(N.G,{width:28,style:{fill:"#7721AD"}})},deleteFunction:function(){return G(t)},editFunction:function(){return B(t)}})}},{Header:a(O.a.organization),accessor:"orgdesc",NoFilter:!0},{Header:a(O.a.description),accessor:"description",NoFilter:!0},{Header:a(O.a.channel),accessor:"communicationchanneldesc",NoFilter:!0},{Header:a(O.a.tmopercentobj),accessor:"totaltmopercentmax",NoFilter:!0,type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.totaltmopercentmax;return"".concat((Number(t)||0).toFixed(2)," %")}},{Header:a(O.a.usertmopercentmax),accessor:"usertmopercentmax",NoFilter:!0,type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.usertmopercentmax;return"".concat((Number(t)||0).toFixed(2)," %")}},{Header:a(O.a.usertmepercentmax),accessor:"usertmepercentmax",NoFilter:!0,type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.usertmepercentmax;return"".concat((Number(t)||0).toFixed(2)," %")}},{Header:a(O.a.status),accessor:"status",NoFilter:!0,prefixTranslation:"status_",Cell:function(e){var t=e.cell.row.original.status;return(a("status_".concat(t).toLowerCase())||"").toUpperCase()}}]}),[]),R=function(){return t(Object(g.g)(Object(m.me)(0)))};Object(r.useEffect)((function(){return R(),t(Object(g.p)([Object(m.Ke)("ESTADOGENERICO"),Object(m.Ke)("EMPRESA"),Object(m.Ke)("GRUPOS"),Object(m.sc)()])),function(){t(Object(g.t)())}}),[]),Object(r.useEffect)((function(){if(k)if(b.loading||b.error){if(b.error){var e=a(b.code||"error_unexpected_error",{module:a(O.a.sla).toLocaleLowerCase()});t(Object(h.e)({show:!0,severity:"error",message:e})),t(Object(h.d)(!1)),q(!1)}}else t(Object(h.e)({show:!0,severity:"success",message:a(O.a.successful_delete)})),R(),t(Object(h.d)(!1)),q(!1)}),[b,k]);var A=function(e){y("view-2"),E({row:e,edit:!1})},B=function(e){y("view-2"),E({row:e,edit:!0})},G=function(e){t(Object(h.a)({visible:!0,question:a(O.a.confirmation_delete),callback:function(){t(Object(g.c)(Object(m.jg)(Object(n.a)(Object(n.a)({},e),{},{operation:"DELETE",status:"ELIMINADO",id:e.slaid})))),t(Object(h.d)(!0)),q(!0)}}))};return"view-1"===x?Object(_.jsxs)("div",{style:{width:"100%"},children:[Object(_.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(_.jsx)(d.L,{breadcrumbs:S,handleClick:V})}),Object(_.jsx)(v.f,{columns:L,titlemodule:a(O.a.app_sla,{count:2}),data:o.mainData.data,download:!0,loading:o.mainData.loading,register:!0,onClickRow:B,ButtonsElement:function(){return Object(_.jsx)(s.a,{disabled:o.mainData.loading,variant:"contained",type:"button",color:"primary",startIcon:Object(_.jsx)(w.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return e.push(D.a.CONFIGURATION)},children:a(O.a.back)})},handleRegister:function(){y("view-2"),E({row:null,edit:!1})}})]}):"view-2"===x?Object(_.jsx)(F,{data:z,setViewSelected:V,multiData:o.multiData.data,fetchData:R,arrayBread:S}):null}},778:function(e,t,a){"use strict";var n=a(45),o=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(0)),r=(0,n(a(62)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=r},780:function(e,t,a){"use strict";var n=a(45),o=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(0)),r=(0,n(a(62)).default)(i.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=r}}]);
//# sourceMappingURL=80.b01063fa.chunk.js.map