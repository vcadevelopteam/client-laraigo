{"version":3,"sources":["../node_modules/use-memo-one/dist/use-memo-one.esm.js","../node_modules/css-box-model/dist/css-box-model.esm.js","../node_modules/raf-schd/dist/raf-schd.esm.js","../node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js","../node_modules/@material-ui/core/esm/CardActionArea/CardActionArea.js","../node_modules/@material-ui/core/esm/CardMedia/CardMedia.js","../node_modules/@material-ui/core/Card/Card.js","../node_modules/@material-ui/core/CardContent/CardContent.js","../node_modules/@material-ui/core/Typography/Typography.js","../node_modules/@material-ui/core/FormControlLabel/FormControlLabel.js","../node_modules/@material-ui/icons/ThumbUp.js","../node_modules/@material-ui/icons/ThumbDown.js","../node_modules/@material-ui/icons/esm/Done.js","../node_modules/@material-ui/icons/DragIndicator.js","../node_modules/@material-ui/core/esm/Zoom/Zoom.js","pages/VoiceChannelReport.tsx","../node_modules/@material-ui/core/esm/Typography/index.js","../node_modules/@material-ui/core/esm/Paper/index.js","components/report/IndicatorPanel.tsx","../node_modules/@material-ui/icons/esm/Settings.js","components/report/AssessorProductivity.tsx","pages/ReportTemplate.tsx","components/personalizedreport/ReportPersonalized.tsx","pages/Heatmap.tsx","pages/RecordHSMReport.tsx","components/report/ReportInvoice.tsx","components/report/TicketvsAdviser.tsx","pages/HSMHistoryReport.tsx","pages/UniqueContactsReport.tsx","components/report/ReportKpiOperativo.tsx","pages/Reports.tsx","../node_modules/@material-ui/core/esm/FormControl/index.js","../node_modules/@material-ui/icons/Clear.js","components/fields/table-simple.tsx","../node_modules/@material-ui/icons/Save.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","components/fields/table-paginated.tsx","../node_modules/@material-ui/icons/Add.js","../node_modules/@material-ui/icons/Visibility.js","components/inbox/Interaction.tsx","../node_modules/@material-ui/icons/Search.js","components/inbox/DialogInteractions.tsx","components/fields/Graphic.tsx","../node_modules/@material-ui/icons/List.js","../node_modules/@material-ui/icons/Assessment.js","../node_modules/react-virtualized-auto-sizer/dist/index.esm.js","../node_modules/@material-ui/core/utils/capitalize.js","../node_modules/@material-ui/icons/PlayArrow.js","../node_modules/@material-ui/core/esm/CardContent/CardContent.js","pages/campaign/CampaignReport.tsx"],"names":["useMemoOne","getResult","inputs","initial","useState","result","isFirstRun","useRef","committed","cache","current","Boolean","newInputs","lastInputs","length","i","areInputsEqual","useEffect","useMemo","useCallback","callback","getRect","_ref","top","right","bottom","left","width","height","x","y","center","expand","target","expandBy","shrink","shrinkBy","noSpacing","createBox","_ref2","borderBox","_ref2$margin","margin","_ref2$border","border","_ref2$padding","padding","marginBox","paddingBox","contentBox","parse","raw","value","slice","Number","isNaN","invariant","offset","original","change","shiftBy","shifted","withScroll","scroll","window","pageXOffset","pageYOffset","calculateBox","styles","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","getBox","el","getBoundingClientRect","getComputedStyle","rafSchd","fn","lastArgs","frameId","wrapperFn","_len","arguments","args","Array","_key","requestAnimationFrame","apply","cancel","cancelAnimationFrame","log","type","message","bind","noop","bindEvents","bindings","sharedOptions","unbindings","map","binding","shared","fromBinding","options","_extends","addEventListener","eventName","removeEventListener","forEach","unbind","prefix","RbdInvariant","this","condition","prototype","toString","ErrorBoundary","_React$Component","_this","call","concat","callbacks","onWindowError","event","getCallbacks","isDragging","tryAbort","error","preventDefault","Error","setCallbacks","_inheritsLoose","_proto","componentDidMount","componentDidCatch","err","setState","componentWillUnmount","render","props","children","React","Component","position","index","withLocation","source","destination","isInHomeList","droppableId","startPosition","endPosition","withCombine","id","combine","draggableId","returnedToStart","preset","start","update","location","reason","origin","add","point1","point2","subtract","isEqual","negate","point","patch","line","otherValue","distance","Math","sqrt","pow","closest","points","min","offsetByPosition","spacing","getCorners","clip","frame","shouldClipSubject","subject","max","executeClip","pageMarginBox","getSubject","page","withPlaceholder","axis","increased","_extends2","increasedBy","end","increase","diff","displacement","active","scrollDroppable","droppable","newScroll","scrollable","scrollDiff","scrollDisplacement","values","Object","keys","key","findIndex","list","predicate","find","toArray","toDroppableMap","memoizeOne","droppables","reduce","previous","descriptor","toDraggableMap","draggables","toDroppableList","toDraggableList","getDraggablesInsideDroppable","filter","draggable","sort","a","b","tryGetDestination","impact","at","tryGetCombine","removeDraggableFromList","remove","item","isHomeOf","noDisplacedBy","emptyGroups","invisible","visible","all","noImpact","displaced","displacedBy","isWithin","lowerBound","upperBound","isPartiallyVisibleThroughFrame","isWithinVertical","isWithinHorizontal","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isBiggerVertically","isBiggerHorizontally","isTotallyVisibleThroughFrame","vertical","direction","crossAxisLine","size","crossAxisStart","crossAxisEnd","crossAxisSize","horizontal","isVisible","toBeDisplaced","viewport","withDroppableDisplacement","isVisibleThroughFrameFn","displacedTarget","getDroppableDisplaced","isVisibleInDroppable","isVisibleInViewport","isPartiallyVisible","isTotallyVisible","getDisplacementGroups","afterDragging","forceShouldAnimate","last","groups","getTarget","push","shouldAnimate","getShouldAnimate","goAtEnd","insideDestination","inHomeList","newIndex","indexOfLastItem","getIndexOfLastItem","calculateReorderImpact","match","withoutDragging","sliceFrom","indexOf","didStartAfterCritical","afterCritical","effected","moveToNextIndex","isMovingForward","previousImpact","wasAt","_newIndex","currentIndex","proposedIndex","firstIndex","lastIndex","fromReorder","isCombineEnabled","combineId","combineWithIndex","fromCombine","whenCombining","combineWith","displaceBy","isDisplaced","getCombinedItemDisplacement","distanceFromStartToBorderBoxCenter","box","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","distanceFromEndToBorderBoxCenter","whenReordering","draggablePage","_ref3","moveInto","goIntoStart","closestAfter","withDisplacement","getPageBorderBoxCenterFromImpact","withoutDisplacement","getResultWithoutDroppableDisplacement","scrollViewport","getDraggables","ids","getClientFromPageBorderBoxCenter","pageBorderBoxCenter","withoutPageScrollChange","withViewportDisplacement","client","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","isTotallyVisibleOnAxis","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isEnabled","getImpact","closestId","withoutDraggable","indexOfClosest","d","moveToNextCombine","clientSelection","scrollJumpRequest","maxScrollChange","scrolledViewport","scrolledDroppable","withViewportScroll","withDroppableScroll","tryGetVisible","speculativelyIncrease","getKnownActive","rect","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getDisplacedBy","withMaxScroll","addPlaceholder","placeholderSize","requiredGrowth","mode","availableSpace","needsToGrowBy","sum","dimension","getRequiredGrowthForPlaceholder","added","oldFrameMaxScroll","_subject","maxScroll","newFrame","moveCrossAxis","isOver","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","first","second","array","contains","isWithinDroppable","getBestCrossAxisDroppable","proposed","proposedPageBorderBoxCenter","isGoingBeforeTarget","relativeTo","moveToNewDroppable","distanceToA","distanceToB","getClosestDraggable","whatIsDraggedOver","moveInDirection","state","isActuallyOver","getDroppableOver","dimensions","isMainAxisMovementAllowed","home","critical","isMovingOnMainAxis","borderBoxCenter","_state$dimensions","selection","isMovementAllowed","phase","isPositionInFrame","getDroppableOver$1","pageBorderBox","childCenter","isContained","isStartContained","isEndContained","startCenter","sorted","candidate","getFurthestAway","offsetRectByPosition","getIsDisplaced","getDragImpact","pageOffset","destinationId","pageBorderBoxWithDroppableScroll","area","targetRect","targetStart","targetEnd","child","childRect","threshold","didStartAfterCritical$1","getCombineImpact","atIndex","getReorderImpact","patchDroppableMap","updated","clearUnusedPlaceholder","now","lastDroppable","_subject2","oldMaxScroll","removePlaceholder","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","newImpact","withUpdatedPlaceholders","cleaned","patched","recomputePlaceholders","recompute","getDraggables$1","getClientBorderBoxCenter","refreshSnap","movementMode","needsVisibilityCheck","getLiftEffect","insideHome","rawIndex","inVirtualList","process","finish","adjustAdditionsForScrollChanges","additions","updatedDroppables","windowScrollChange","droppableScrollChange","getFrame","offset$1","initialWindowScroll","placeholder","offsetDraggable","isSnapping","postDroppableChange","isEnabledChanging","patchDimensionMap","removeScrollJumpRequest","idle","completed","shouldFlush","reducer","action","_action$payload","payload","isWindowScrollAllowed","every","isFixedOnPage","_getLiftEffect","onLiftImpact","published","withScrollChange","modified","existing","updatedAdditions","removals","wasOverId","wasOver","draggingState","isWaiting","publishWhileDraggingInVirtual","_clientSelection","_action$payload2","scrolled","_action$payload3","_id","_target","_action$payload4","_id2","_target2","_updated","_newScroll","_viewport","_result2","_action$payload5","dropDuration","newHomeClientOffset","publishWhileDragging","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveUp","moveDown","moveRight","moveLeft","completeDrop","drop","dropAnimationFinished","curves","combining","outOfTheWayTiming","transitions","fluid","snap","duration","timing","outOfTheWay","moveTo","transforms","isCombining","translate","minDropTime","maxDropTime","dropTimeRange","drop$1","getState","dispatch","next","_getDropImpact","lastImpact","didDropInsideDroppable","getDropImpact","newClientCenter","getNewHomeClientOffset","distance$1","toFixed","getDropDuration","animateDrop","dropPending","getWindowScroll","getScrollListener","onWindowScroll","scheduled","passive","capture","document","isActive","stop","scrollListener","store","listener","shouldEnd","getAsyncMarshal","entries","timerId","setTimeout","splice","execute","entry","flush","shallow","clearTimeout","withTimings","getDragStart","responder","data","announce","getDefaultMessage","willExpire","wasCalled","isExpired","timeoutId","getExpiringAnnounce","responders","getResponders","publisher","asyncMarshal","dragging","onDragEnd","beforeCapture","onBeforeCapture","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","onDragStart","hasCriticalChanged","isDraggableEqual","isDroppableEqual","isCriticalEqual","hasLocationChanged","hasGroupingChanged","isCombineEqual","onDragUpdate","abort","getPublisher","dropAnimationFinish","dropAnimationFlushOnScroll","once","pendingDrop","postActionState","composeEnhancers","compose","createStore","marshal","dimensionMarshal","focusMarshal","styleMarshal","autoScroller","createStore$1","applyMiddleware","dropping","resting","stopPublishing","dimensionMarshalStopper","request","scrollOptions","shouldPublishImmediately","_marshal$startPublish","startPublishing","lift$1","shouldStop","autoScroll","isWatching","tryRecordFocus","tryRestoreFocusRecorded","tryShiftRecord","focus","getMaxScroll","scrollHeight","scrollWidth","getDocumentElement","doc","documentElement","getMaxWindowScroll","clientWidth","clientHeight","getInitialPublish","registry","getViewport","windowScroll","getAllByType","getDimensionAndWatchScroll","getDimension","shouldPublishUpdate","getById","createDimensionMarshal","collection","staging","collect","_staging","getScrollWhileDragging","publish","createPublisher","subscriber","exists","unsubscribe","subscribe","dragStopped","canStartDrag","scrollWindow","scrollBy","getScrollableDroppables","getBestScrollableDroppable","_dimension","getScrollableDroppableOver","config","percentage","stopDampeningAt","accelerateAt","getPercentage","startOfRange","endOfRange","range","stopAt","getValue","distanceToEdge","thresholds","dragStartTime","shouldUseTimeDampening","startScrollingFrom","maxScrollValueAt","percentageFromMaxScrollValueAt","ceil","getValueFromDistance","proposedScroll","runTime","Date","betweenAccelerateAtAndStopAtPercentage","dampenValueByTime","getScrollOnAxis","container","distanceToEdges","getDistanceThresholds","clean$2","getScroll","required","limited","isTooBigVertically","isTooBigHorizontally","adjustForSizeLimits","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","canScrollDroppable","scroll$1","_change","getWindowScrollChange","getDroppableScrollChange","createJumpScroller","scrollDroppableAsMuchAsItCan","getDroppableOverlap","whatTheDroppableCanScroll","scrollWindowAsMuchAsItCan","getWindowOverlap","whatTheWindowCanScroll","droppableRemainder","windowRemainder","moveByOffset","createAutoScroller","fluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","wasScrollNeeded","fakeScrollCallback","createFluidScroller","jumpScroll","dragHandle","base","prefix$1","contextId","scrollContainer","getStyles","rules","property","rule","selector","join","useIsomorphicLayoutEffect","createElement","useLayoutEffect","getHead","head","querySelector","createStyleEl","nonce","setAttribute","useStyleMarshal","context","getSelector","attribute","dragHandle$1","grabCursor","always","dropAnimating","transition","userCancel","getStyles$1","alwaysRef","dynamicRef","setDynamicStyle","textContent","setAlwaysStyle","dynamic","appendChild","ref","removeChild","getWindowFromEl","ownerDocument","defaultView","isHtmlElement","HTMLElement","findDragHandle","possible","querySelectorAll","handle","getAttribute","createRegistry","subscribers","notify","cb","findDraggableById","findDroppableById","register","uniqueId","unregister","findById","clean","StoreContext","createContext","getBodyElement","body","visuallyHidden","overflow","count","defaults","separator","useUniqueId","AppContext","useDev","useHook","useDevSetupWarning","useStartupValidation","usePrevious","_preventedKeys","preventedKeys","preventStandardKeyEvents","keyCode","supportedEventName","_scrollJumpKeys","idle$1","getCaptureBindings","getPhase","setPhase","button","clientX","clientY","actions","pending","abs","fluidLift","shouldBlockNextClick","shouldRespectForcePress","noop$1","scrollJumpKeys","getDraggingBindings","idle$2","interactiveTagNames","input","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","parent","tagName","toLowerCase","parentElement","isEventInInteractiveElement","getBorderBoxCenterPosition","supportedMatchesName","name","Element","closestPonyfill","closest$1","findClosestDragHandleFromEvent","_isActive","expected","isLockActive","shouldWarn","canStart","lockAPI","isClaimed","tryStart","forceSensorStop","sourceEvent","draggable$1","findDraggable","canDragInteractiveElements","lock","claim","getShouldRespectForcePress","tryDispatchWhenDragging","getAction","release","cleanup","lift","liftActionArgs","move$1","api","snapLift","defaultSensors","phaseRef","unbindEventsRef","startCaptureBinding","defaultPrevented","ctrlKey","metaKey","shiftKey","altKey","findClosestDraggableId","tryGetLock","startPendingDrag","preventForcePressBinding","findOptionsForDraggable","canGetLock","listenForCapture","bindCapturingEvents","preDrag","isCapturing","touch","touches","longPressTimerId","unbindTarget","hasMoved","_event$touches$","force","shouldRespect","getHandleBindings","unbindWindow","getWindowBindings","startDragging","useSensorMarshal","_ref4","customSensors","enableDefaultSensors","useSensors","abandon","newLock","tryAbandon","create","tryAbandonLock","forceStop","tryGetClosestDraggableIdFromEvent","tryReleaseLock","isLockClaimed","getStore","lazyRef","App","sensors","dragHandleUsageInstructions","lazyStoreRef","lastPropsRef","createResponders","getId","style","useAnnouncer","dragHandleUsageInstructionsId","text","display","useHiddenTextElement","lazyDispatch","marshalCallbacks","bindActionCreators","useRegistry","entriesRef","recordRef","restoreFocusFrameRef","isMountedRef","tryGiveFocus","tryGiveFocusTo","activeElement","redirectTo","record","focused","useFocusMarshal","tryResetStore","getCanLift","getIsMovementAllowed","appContext","canLift","Provider","count$1","DragDropContext","isEqual$1","isScroll","isAuto","isEither","overflowX","overflowY","isElementScrollable","getClosestScrollable","getScroll$1","scrollLeft","scrollTop","getIsFixed","getEnv","closestScrollable","env","isDropDisabled","targetRef","getClient","frameClient","scrollSize","getDroppableDimension","immediate","delayed","getListenerOptions","useRequiredContext","Context","useContext","getClosestScrollableFromDrag","noop$2","empty","getStyle","isAnimatingOpenOnMount","animate","getSize","boxSizing","flexShrink","flexGrow","pointerEvents","Placeholder$1","memo","animateOpenTimerRef","tryClearAnimateOpenTimer","onTransitionEnd","onClose","_useState","setIsAnimatingOpenOnMount","onSizeChangeEnd","propertyName","innerRef","DroppableContext","AnimateInOut","_React$PureComponent","on","getDerivedStateFromProps","provided","PureComponent","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","isDropAnimating","getStyle$1","mapped","getShouldDraggingAnimate","transform","opacity","zIndex","getDraggingStyle","secondary","shouldAnimateDisplacement","useDraggablePublisher","getDraggableRef","computedStyles","getDimension$1","publishedRef","isFirstPublishRef","useValidation$1","getRef","preventHtml5Dnd","isStrictEqual","whatIsDraggedOverFromResult","getSecondarySnapshot","combineTargetFor","isClone","dropAnimation","draggingOver","atRest","snapshot","mapDispatchToProps","ConnectedDraggable","connect","draggingSelector","memoizedOffset","getMemoizedSnapshot","getMemoizedProps","ownProps","_draggingOver","_combineWith","getCombineWithFromResult","curve","scale","getDraggableSelector","secondarySelector","getFallback","getProps","ownId","draggingId","visualDisplacement","isAfterCriticalInVirtualList","_offset","getSecondarySelector","pure","areStatePropsEqual","setRef","_useRequiredContext","_useRequiredContext2","dropAnimationFinishedAction","dragHandleProps","tabIndex","role","onMoveEnd","draggableProps","rubric","PrivateDraggable","isUsingCloneFor","PublicDraggable","isDragDisabled","disableInteractiveElementBlocking","isMatchingType","getDraggable","mapDispatchToProps$1","updateViewportMaxScroll","defaultProps","ignoreContainerClipping","renderClone","getContainerForClone","ConnectedDroppable","idleWithAnimation","shouldAnimatePlaceholder","isDraggingOver","draggingOverWith","draggingFromThisWith","isUsingPlaceholder","useClone","idleWithoutAnimation","getDraggableRubric","getMapProps","isDraggingOverForConsumer","isDraggingOverForImpact","_snapshot","_completed","wasCombining","isHome","droppableRef","placeholderRef","getDroppableRef","setDroppableRef","setPlaceholderRef","onPlaceholderTransitionEnd","whileDraggingRef","previousRef","publishedDescriptorRef","memoizedUpdateScroll","getClosestScroll","updateScroll","scheduleScrollUpdate","onClosestScroll","removeAttribute","useDroppablePublisher","droppableProps","droppableContext","node","draggableProvided","draggableSnapshot","ReactDOM","createPortal","getClone","CardActionArea","classes","className","focusVisibleClassName","other","_objectWithoutProperties","ButtonBase","clsx","root","focusVisible","focusHighlight","withStyles","theme","textAlign","palette","hoverOpacity","borderRadius","backgroundColor","short","MEDIA_COMPONENTS","CardMedia","_props$component","component","image","src","isMediaComponent","composedStyle","backgroundImage","media","img","undefined","backgroundSize","backgroundRepeat","backgroundPosition","objectFit","_interopRequireWildcard","require","_interopRequireDefault","defineProperty","exports","default","_objectWithoutProperties2","_clsx","_Paper","_withStyles","Card","forwardRef","_props$raised","raised","elevation","_default","CardContent","_capitalize","body2","typography","body1","caption","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","overline","srOnly","alignLeft","alignCenter","alignRight","alignJustify","noWrap","textOverflow","whiteSpace","gutterBottom","paragraph","colorInherit","color","colorPrimary","primary","main","colorSecondary","colorTextPrimary","colorTextSecondary","colorError","displayInline","displayBlock","defaultVariantMapping","Typography","_props$align","align","_props$color","_props$display","_props$gutterBottom","_props$noWrap","_props$paragraph","_props$variant","variant","_props$variantMapping","variantMapping","_FormControl","_Typography","alignItems","cursor","verticalAlign","WebkitTapHighlightColor","labelPlacementStart","flexDirection","labelPlacementTop","labelPlacementBottom","disabled","label","FormControlLabel","checked","control","disabledProp","inputRef","_props$labelPlacement","labelPlacement","onChange","muiFormControl","useFormControl","controlProps","cloneElement","createSvgIcon","entering","entered","defaultTimeout","enter","enteringScreen","exit","leavingScreen","Zoom","_props$disableStrictM","disableStrictModeCompat","inProp","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","_props$timeout","timeout","_props$TransitionComp","TransitionComponent","Transition","useTheme","enableStrictModeCompat","unstable_strictMode","nodeRef","foreignRef","useForkRef","handleRef","normalizedTransitionCallback","nodeOrAppearing","maybeAppearing","_slicedToArray","isAppearing","handleEntering","handleEnter","reflow","transitionProps","getTransitionProps","webkitTransition","handleEntered","handleExiting","handleExit","handleExited","appear","childProps","visibility","useStyles","setDate","getFullYear","getMonth","makeStyles","containerHeader","containerDetail","background","fontWeight","fontSize","textTransform","itemDate","minHeight","columnsTemp","DetailVoiceChannelReport","row","setViewSelected","useDispatch","t","useTranslation","multiDataAux2","useSelector","loading","showBackdrop","getMultiCollectionAux2","getRecordHSMReport","from","date","shippingdate","columns","Header","langKeys","recipientsname","accessor","NoFilter","contact","channel","group","status","prefixTranslation","Cell","cell","toUpperCase","communicationtemplate","titlemodule","name_translated","ButtonsElement","startIcon","onClick","back","download","filterGeneral","SummaryGraphic","openModal","setOpenModal","setView","daterange","filters","columnsprefix","useForm","defaultValues","graphictype","column","handleSubmit","setValue","getValues","errors","formState","validate","field_required","handleAcceptModal","triggerGraphic","getMainGraphic","getRecordHSMGraphic","startdate","startDate","enddate","endDate","summarization","open","title","graphic_configuration","button1Type","buttonText1","handleClickButton1","button2Type","buttonText2","accept","handleClickButton2","graphic_type","valueDefault","uset","optionDesc","optionValue","graphic_view_by","VoiceChannelReport","multiData","viewSelected","edit","rowSelected","view","mainPaginated","resExportData","exportData","pageCount","setPageCount","totalrow","settotalrow","waitSave","setWaitSave","waitExport","setWaitExport","pageSize","pageIndex","sorts","fetchDataAux","setfetchDataAux","setViewChange","cleanViewChange","downloadCallRecord","ticket","VoximplantService","getCallRecord","call_session_history_id","postexternalid","axios_result","buff","Buffer","blob","Blob","headers","split","includes","objectUrl","URL","createObjectURL","href","ticketnum","click","errormessage","response","code","showSnackbar","show","severity","isComponent","minWidth","callanswereddate","download_record","fill","ticket_numeroticket","starttimecall","finishtimecall","transfertimecall","helpText","transfertimecall_tooltip","lastadvisername","person","phone","closetype","tipification","tipification_tooltip","totalTime","totalTime_tooltip","advisorattentiontime","advisorattentiontime_tooltip","customerwaitingtime","customerwaitingtime_tooltip","callwaitingtime","callwaitingtime_tooltip","transfertime","transfertime_tooltip","resetMultiMain","module","toLocaleLowerCase","url","Fragment","fetchData","getCollectionPaginated","getPaginatedReportVoiceCall","take","skip","autotrigger","filterrange","exportPersonalized","columnsExport","alias","getVoiceCallReportExport","graphic_view","graphicType","handlerSearchGraphic","prev","getReportGraphic","c","IndicatorPanel","value2","justifyContent","containerFilter","gap","flexWrap","filterComponent","maxWidth","breakpoints","up","containerDetails","BackGrRed","BackGrGreen","iconHelpText","containerHeaderItem","setColumnGraphic","getUserProductivityGraphic","AssessorProductivity","allFilters","user","login","validateToken","mainAux","groupsdata","setgroupsdata","allParameters","setAllParameters","dateRange","setdateRange","openDateRangeModal","setOpenDateRangeModal","checkedA","checkedB","setcheckedA","isday","setisday","columnGraphic","maxticketsclosed","maxticketsclosedasesor","minticketsclosed","minticketsclosedasesor","maxtimeconnected","maxtimeconnectedasesor","mintimeconnected","mintimeconnectedasesor","maxmin","setmaxmin","desconectedmotives","setDesconectedmotives","dataGrid","setdataGrid","detailCustomReport","setDetailCustomReport","report_userproductivity_user","report_userproductivity_fullname","report_userproductivity_hourfirstlogin","report_userproductivity_totaltickets","sortType","report_userproductivity_closedtickets","report_userproductivity_asignedtickets","report_userproductivity_suspendedtickets","report_userproductivity_avgfirstreplytime","report_userproductivity_maxfirstreplytime","report_userproductivity_minfirstreplytime","report_userproductivity_maxtotalduration","report_userproductivity_mintotalduration","report_userproductivity_avgtotalasesorduration","report_userproductivity_maxtotalasesorduration","report_userproductivity_mintotalasesorduration","report_userproductivity_userconnectedduration","report_userproductivity_userstatus","report_userproductivity_groups","groupitem","e","arraygroups","isListDomains","domainname","domainvalue","JSON","desconectedtimejson","maxminaux","desconedtedmotives","Set","ac","usertype","closedtickets","fullname","userconnectedduration","parseInt","setHours","toISOString","substring","parameterName","format","Box","setOpen","onSelect","Button","filtro","multiselect","limitTags","o","lineHeight","report_userproductivity_filter_includebot","yes","stardate","resetMainAux","getCollectionAux","getUserProductivitySel","refresh","Grid","xs","md","lg","cardavgavgtme","tmeesperadogeneral","report_userproductivity_cardtme","Tooltip","tmetooltip","placement","tmeexpected","report_userproductivity_cardavgmax_tme","cardavgmaxtme","cardavgmaxtmeuser","report_userproductivity_cardmaxmax_tme","cardmaxmaxtme","cardmaxmaxtmeuser","cardmaxmaxtmeticket","report_userproductivity_cardavgmin_tme","cardavgmintme","cardavgmintmeuser","report_userproductivity_cardminmin_tme","cardminmintme","cardminmintmeuser","cardminmintmeticket","cardavgavgtmo","tmoesperadogeneral","report_userproductivity_cardtmo","tmotooltip","tmoexpected","report_userproductivity_cardavgmax_tmo","cardavgmaxtmo","cardavgmaxtmouser","report_userproductivity_cardmaxmax_tmo","cardmaxmaxtmo","cardmaxmaxtmouser","cardmaxmaxtmoticket","report_userproductivity_cardavgmin_tmo","cardavgmintmo","cardavgmintmouser","report_userproductivity_cardminmin_tmo","cardminmintmo","cardminmintmouser","cardminmintmoticket","flex","report_userproductivity_totalclosedtickets","totalclosedtickets","report_userproductivity_maxticketsclosedasesorhelptext","arrow","report_userproductivity_minticketsclosedasesorhelptext","report_userproductivity_usersconnected","usersconnected","report_userproductivity_maxtimeconnectedasesorhelptext","report_userproductivity_mintimeconnectedasesorhelptext","exportExcel","activeOnHover","Settings","configuration","grid_view","Graphic","withFilters","withButtons","dataSummarization","function","variableInfo","itemSelected","nodata","colorVariable","DialogManageColumns","setOpenDialogVariables","openDialogVariables","setColumnsSelected","columnsAlreadySelected","mainAuxRes","columnsTable","setColumnsTable","showcolumnsTable","setShowColumnsTable","columnsToAdd","setColumnsToAdd","columnsAdded","setColumnsAdded","timeOut","datafiltered","columnname","columnsVariable","columnsNotVariable","dataaux","descriptionT","description","columnsAddedIndexed","acc","handlerChecked","tmp","RenderRow","Checkbox","available_columns","fregister","search","InputProps","startAdornment","InputAdornment","handleChange","itemCount","itemSize","borderBottom","selected_plural","select_a_field_then_add_it","IconButton","Done","DetailReportDesigner","columnsSelected","dataColumns","setDataColumns","multiDataAux","executeRes","dataStatus","success","dataTables","reporttemplateid","dataorigin","summary","operation","trigger","useFieldArray","fieldsColumns","fields","columnsAppend","append","columnRemove","fieldsFilters","filtersAppend","filterRemove","fieldsSummarization","summaryAppend","summarizationRemove","summaries","report_name","successful_edit","successful_register","view1","view2","onSubmit","manageConfirmation","question","confirmation_save","insertReportTemplate","filterjson","stringify","summaryjson","columnjson","column_at_least_required","breadcrumbs","report_plural","new","report","handleClick","new_report_designer","save","data_origin","tablename","getColumnsOrigin","triggerOnChangeOnFirst","column_plural","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","type_filter","typefilter","join_alias","join_on","join_table","multiline","fieldexists","f","columnnotvalid","containerFilters","itemFilter","itemFlex","initialRange","getCollection","columntext","FilterDynamic","setFiltersDynamic","openDialogDate","setOpenDialogDate","setDateRange","choosenwidth","getDateCleaned","filter_unique_value","PersonalizedReport","dataCleaned","setDataCleaned","mainDynamic","resExportDynamic","exportDynamicData","showDialogGraphic","setShowDialogGraphic","dataFiltered","setDataFiltered","footer","setFooter","filtersDynamic","columnsDynamic","replace","Footer","resetMainDynamic","resetExportMainDynamic","datato","some","cc","conversationclosetype","columnsDate","columnclean","getTime","resRegex","matchAll","z","toLocaleString","toLocaleDateString","nametmp","nameView1","onSearch","isExport","parameters","getTimezoneOffset","exportDynamic","getCollectionDynamic","useFooter","columnDesc","hours","hoursProm","createStyles","fieldsfilter","labellink","textDecoration","capitalize","word","words","wordresult","trim","substr","ModalHeatMap","close","pageSizeDefault","MainHeatMap","realizedsearch","setrealizedsearch","heatMapConversations","setheatMapConversations","heatMapConversationsData","setheatMapConversationsData","averageHeatMapTMOTitle","setaverageHeatMapTMOTitle","averageHeatMapTMOData","setaverageHeatMapTMOData","heatmapaverageagentTMETitle","setheatmapaverageagentTMETitle","heatmapaverageagentTMEData","setheatmapaverageagentTMEData","userAverageReplyTimexFechaTitle","setuserAverageReplyTimexFechaTitle","userAverageReplyTimexFechaData","setuserAverageReplyTimexFechaData","personAverageReplyTimexFechaTitle","setpersonAverageReplyTimexFechaTitle","personAverageReplyTimexFechaData","setpersonAverageReplyTimexFechaData","mainResult","dataAdvisor","domaindesc","agent","communicationchannel","closedby","datetoshow","String","padStart","dataMainHeatMap","setdataMainHeatMap","waitDetail","setWaitDetail","setRowSelected","openModalTicket","setOpenModalTicket","modalTitle","setModalTitle","modalRow","setModalRow","modalColumns","setModalColumns","openDialogInteractions","displayname","asesor","fetchDetail","grid","mes","year","hournum","day","hour","tmo","tme","tmr","tmr_client","heatmappage1detail","horanum","date_format_error","getMultiCollection","heatmappage1","initAtencionesxFechaAsesorGrid","arrayfree","rowmax","dateend","getDate","arrayvalidvalues","LIMITHOUR","objectfree","j","fecha","hora","atencionesxfecha","totalcol","rowcounter","arraytemplate","test","NoSort","num","number","floor","gradient","averageHeatMapTMO","arrayvalidvaluesmonth","timespent","totaldurationxfecha","seconds","timespenttotal","secondstotalnum","hh","mm","ss","round","timetoconvert","initUserFirstReplyTimexFechaGrid","userfirstreplytimexfecha","initUserAverageReplyTimexFechaGrid","useraveragereplytimexfecha","initPersonAverageReplyTimexFechaGrid","personaveragereplytimexfecha","TextField","handleDateChange","advisor","p","conversationheatmap","toolsFooter","helperText","conversationheatmaptooltip","averageheatmapTMOdata","averageheatmapTMOdatatooltip","heatmapaverageagentTME","heatmapaverageagentTMEtooltip","userAverageReplyTimexFecha","userAverageReplyTimexFechatooltip","personAverageReplyTimexFecha","personAverageReplyTimexFechatooltip","DialogInteractions","HeatMapAsesor","companydomain","groupsdomain","completadosxAsesorData","setCompletadosxAsesorData","completadosxAsesorTitle","setCompletadosxAsesorTitle","cantidadOportunidadesData","setCantidadOportunidadesData","cantidadOportunidadesTitle","setCantidadOportunidadesTitle","abandonosxAsesorData","setabandonosxAsesorData","abandonosxAsesorTitle","setabandonosxAsesorTitle","tasaAbandonosxAsesorData","settasaAbandonosxAsesorData","tasaAbandonosxAsesorTitle","settasaAbandonosxAsesorTitle","tasaOportunidadesData","setTasaOportunidadesData","tasaOportunidadesTitle","setTasaOportunidadesTitle","efectividadxAsesorData","setefectividadxAsesorData","efectividadxAsesorTitle","setefectividadxAsesorTitle","efectividadxAsesorOportunidadData","setefectividadxAsesorOportunidadData","efectividadxAsesorOportunidadTitle","setefectividadxAsesorOportunidadTitle","ventasxAsesorData","setventasxAsesorData","ventasxAsesorTitle","setventasxAsesorTitle","typeEfectiveness","settypeEfectiveness","page2","userid","userdesc","opportunity_plural","opportunityname","opportunitywon","heatmappage2detail2","agentid","heatmappage2detail1","company","heatmappage2","getasesoresbyorgid","tempadviserlist","arraything","objectlast","completadosxasesor","m","shift","initCompletadosxAsesorGrid","abandonosxasesor","initAbandonosxAsesorGrid","tasaabandonosxasesor","pop","initTasaAbandonosxAsesorGrid","oportunidadesxasesor","initCantidadOportunidadesGrid","tasaoportunidadesxasesor","initTasaOportunidadesGrid","ventasxasesor","initVentasxAsesorGrid","efectividad","tasaventasxticket","initEfectividadxAsesorGrid","tasaventasxoportunidad","initEfectividadxAsesorxoportunitiesGrid","completadosxAsesor","notecompletedasesors","abandonosxAsesor","noteabandonedasesors","tasaAbandonosxAsesor","tasaAbandonosxAsesortooltip","oportunidadesxAsesor","oportunidadesxAsesortooltip","tasaOportunidades","tasaOportunidadestooltip","ventasxAsesor","ventasxAsesortooltip","efectividadxAsesor","efectividadxAsesortooltip","textYes","ticketbase","textNo","oportunitybase","HeatMapTicket","asesoresConectadosData","setasesoresConectadosData","asesoresConectadosTitle","setasesoresConectadosTitle","heatmappage3","initAsesoresConectadosGrid","agent_plural","heatmappage3detail","Heatmap","pageSelected","setPageSelected","setcompanydomain","setgroupsdomain","getMultiCollectionAux","getValuesFromDomain","resetMultiMainAux","resetMultiMainAux2","Tabs","indicatorColor","textColor","_","heatmap","heatmapasesor","heatmapticket","DetailRecordHSMRecord","RecordHSMRecord","openDateRangeCreateDateModal","setOpenDateRangeCreateDateModal","dateRangeCreateDate","setDateRangeCreateDate","gridData","setGridData","shippingreason","shippingfrom","total","satisfactory","failed","satisfactoryp","failedp","translationname","onClickRow","getRecordHSMList","DetailReportInvoice","columnid","openModalData","setOpenModalData","searchState","setSearchState","getInvoiceReportDetail","corpid","month","currency","invoicestatus","paymentstatus","paymentdate","corpdesc","corporation","organization","receipt","urlpdf","docnumber","serie","correlative","stopPropagation","rel","taxbase","formatCurrency","totalamount","statusofinvoice","dateofissue","dueDate","comments","commentcontent","openInvoiceComment","seeMore","onTrigger","InvoiceCommentModal","executeResult","dataInvoiceComment","setDataInvoiceComment","waitLoad","setWaitLoad","contentValidation","setContentValidation","reloadExit","setReloadExit","orgid","invoiceid","setFields","selInvoiceComment","invoicecommentid","partialFields","commenttype","commentcaption","organization_plural","invoicecomments","borderStyle","borderWidth","borderColor","createby","invoiceat","convertLocalDate","createdate","confirmation_delete","fieldTemporal","insInvoiceComment","handleCommentDelete","delete","invoicecomment","required_fields_missing","partialf","IDREPORTINVOICE","ReportInvoice","mainAux2","memoryTable","setYear","setCurrency","currencyList","setCurrencyList","gridDataCurrencyList","setGridDataCurrencyList","formatCurrencyNoDecimals","rows","getCurrencyList","setMemoryTable","cleanMemoryTable","initialmonth","handleView","dataYears","getCollectionAux2","getInvoiceReportSummary","xfield_ismissing","field","crcy","initialPageIndex","initialStateFilter","TicketvsAdviser","ticket_number","starttime","submotive","assessment","ticket_tipocierre","dateoffirstreplytoadviser","timeoffirstreplytoadviser","dateoflastreplytoadviser","timeoflastreplytoadviser","closing_date","closing_time","transactionoperationtype","operador","purchasemode","province","district","getasesorvsticketsSel","getTicketvsAdviserExport","DetailHSMHistoryReport","getHSMHistoryReport","campaign","firstname","lastname","rundate","runtime","finishconversationdate","firstreplydate","firstreplytime","transaction","realduration","classification","IDHSMHISTORY","HSMHistoryReport","selectedRows","setSelectedRows","triggerExportPersonalized","setTriggerExportPersonalized","success_percent","failed_percent","blacklist","getHSMHistoryList","no_record_selected","getHSMHistoryReportExport","ad","ddate","campaignname","useSelection","selectionKey","COLORS","UNIQUECONTACTS","numericCell","fieldElipsis","TableResume","quantity","setGraphicType","RADIAN","PI","RenderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","cos","sin","textAnchor","dominantBaseline","DetailUniqueContact","channels","firstContactDate","firstcontact","lastContactDate","lastcontact","email","selUniqueContactsPcc","channeltype","getUniqueContactsExport","UniqueContactsReportDetail","channelType","dataGraph","setdataGraph","month_01","month_02","month_03","month_04","month_05","month_06","month_07","month_08","month_09","month_10","month_11","month_12","mainTotal","month_1","month_2","month_3","month_4","month_5","month_6","month_7","month_8","month_9","rawdata","orgdesc","clientdata","indexField","pcc","CircularProgress","ResponsiveContainer","aspect","BarChart","CartesianGrid","strokeDasharray","XAxis","dataKey","angle","interval","dy","dx","YAxis","formatter","Bar","stackId","PieChart","Pie","labelLine","nameKey","DetailConversationQuantity","dateToLocalDate","finishdate","finishtime","ticket_fechahandoff","handoffdate","report_productivity_derivationtime","tmeAgent","report_productivity_holdingholdtime","report_productivity_suspensiontime","tmrtooltip","ticket_balancetimes","selUniqueContactsConversation","getUniqueContactsConversationExport","ConversationQuantityReportDetail","conversation","UniqueContactsReport","setChannelType","selOrgSimpleList","getUniqueContactsSel","uniquecontacts","toLocaleUpperCase","conversationquantity","ReportKpiOperativo","datemonth","setDatemonth","setGroup","report_kpioperativo_year","report_kpioperativo_month","report_kpioperativo_day","report_kpioperativo_groups","report_kpioperativo_origin","report_kpioperativo_tme_avg","timetoseconds","r","secondsToHourTime","report_kpioperativo_tickets","report_kpioperativo_eqtmoasesor","report_kpioperativo_userpause_hour_avg","report_kpioperativo_tmoasesor_tickets","report_kpioperativo_tickets_eqtmoasesor","report_kpioperativo_abandoned_tickets","report_kpioperativo_holdingwaitingtime_avg","report_kpioperativo_firstassignedtime_avg","report_kpioperativo_firstreplytime_avg","report_kpioperativo_balancetimes_avg","report_kpioperativo_useraveragereplytime_avg","getUserGroupsSel","getReportKpiOperativoSel","usergroup","getArrayBread","containerSearch","containerFilterGeneral","mb2","ReportItem","setSearchValue","customReport","reportColumns","proargtype","proargnames","minute","hour12","interactiontext","resetCollectionPaginated","FiltersElement","getPaginatedForReports","methodcollection","methodcount","getReportExport","methodexport","methodgraphic","ReportConversationWhatsapp","conversationstart","conversationend","personIdentifier","countrycode","amount","paymentmethod","paymenttype","getConversationsWhatsapp","Reports","reportsResult","searchValue","setCustomReport","rowReportSelected","setRowReportSelected","anchorEl","setAnchorEl","allReports","setAllReports","allReportsToShow","setallReportsToShow","superadmin","roledesc","getReportSel","getReportTemplateSel","mainData","rr","reporttype","temparray","getTableOrigin","resetMain","successful_delete","handleDelete","handleSelectedString","reportSwitch","reportname","recordhsmreport","hsmhistory","conversation_plural","invoice","kpimanager","report_ticketvsasesor","reportsImage","uniquecontactsreport","reportid","allRequestBody","getReportColumnSel","order","getReportFilterSel","handleSelected","colorPlaceHolder","handleChangeOther","valor","lazy","create_custom_report","defaultreports","currentTarget","Menu","getContentAnchorEl","anchorOrigin","transformOrigin","MenuItem","duplicate","customreports","ReportPersonalized","CampaignReport","externalUse","footerTable","trdynamic","boxShadow","containerfloat","iconOrder","containerButtons","gridGap","gridAutoFlow","containerHeaderColumn","stringOptionsMenu","numberOptionsMenu","dateOptionsMenu","booleanOptionsMenu","BooleanOptionsMenuComponent","handleClickItemMenu","SelectFilterTmp","DateOptionsMenuComponent","setvalue2","utils","DateFnsUtils","locale","localesLaraigo","navigator","language","invalidDateMessage","invalid_date_format","getLocaleDateString","TimeOptionsMenuComponent","ampm","views","OptionsMenuComponent","operator","selected","TableZyx","handleRegister","calculate","handleCalculate","HeadComponent","importCSV","handleTemplate","initialSelectedRows","allRowsSelected","setAllRowsSelected","registertext","heightWithCheck","checkHistoryCenter","setInitial","filterCellValue","filterValue","cellvalue","defaultColumn","Filter","header","$setFilter","setFilter","listSelectFilter","iSF","setoperator","op","keyPress","valueOf","toLocaleTimeString","fullWidth","onKeyDown","PaperProps","maxHeight","DefaultColumnFilter","useTable","initialState","selectedRowIds","getRowId","relativeIndex","useFilters","useGlobalFilter","useSortBy","usePagination","useRowSelect","hooks","visibleColumns","getToggleAllPageRowsSelectedProps","isSelected","toggleRowSelected","getTableProps","getTableBodyProps","headerGroups","footerGroups","prepareRow","canPreviousPage","canNextPage","pageOptions","gotoPage","nextPage","previousPage","setPageSize","globalFilteredRows","setGlobalFilter","toggleAllRowsSelected","getRowProps","hover","cells","getCellProps","mb","files","htmlFor","i18nKey","import","template","headerGroup","getHeaderGroupProps","ii","getHeaderProps","getSortByToggleProps","wordWrap","isSorted","isSortedDesc","LoadingSkeleton","innerHeight","getFooterGroupProps","getFooterProps","tablePageOf","currentPage","totalPages","components","tableShowingRecordOfMore","tableShowingRecordOf","totalItems","disableUnderline","recordPerPage","items","_classCallCheck","instance","Constructor","TypeError","containerButtonsNoFilters","setFilters","controlledPageCount","autoRefresh","selectionFilter","cleanSelection","setCleanSelection","filterRangeDate","onFilterChange","initialEndDate","initialStartDate","initialFilters","pagination","setPagination","triggerSearch","setTriggerSearch","tFilters","setTFilters","manualPagination","useControlledState","autoResetSelectedRows","stateReducer","newState","filteredRows","setPageIndex","getFirstDayMonth","getDateToday","getLastDayMonth","triggertmp","fromButton","newsorts","handleClickSort","useQueryParams","query","ignore","get","buildQueryFilters","init","params","URLSearchParams","set","colFilters","useStylesInteraction","containerCarousel","imageCardCarousel","buttonCarousel","buttonLeft","buttonRight","containerTime","float","timeSeen","timeInteraction","timeInteractionWithBackground","ShoppingCart","userType","onlyTime","handleClickOpen","jsonIntt","Product_items","interactionText","interactionTextAgent","alt","ImageReference","elements","parseFloat","Item_price","Quantity","Currency","Text","borderTop","show_shopping_cart","TimerInteraction","interactiontype","time","anchor","onOpen","cart_sent","Title","CatalogProduct","Type","firstimage","SectionList","ProductList","totalitems","Body","show_items","index11","itemProduct","index22","wordBreak","Description","Price","Product","InteractiveList","sections","headertype","buttons","Carousel","carousel","mediaUrl","crossOrigin","ticketSelected","inbox","isSeen","setIsSeen","lastseendate","lastSeenDate","interactionDate","PickerInteraction","viewBox","fillRule","ItemInteraction","interaction","interactionid","listImage","indexImage","showfulltext","setshowfulltext","isLoaded","useJsApiLoader","googleMapsApiKey","setHeight","onLoad","contentWindow","dangerouslySetInnerHTML","__html","validateIsUrl","showmore","srcDoc","file","hreffile","extension","decodeURI","interactionImage","imageCard","manageLightBox","images","json","jj","stringsmooch","listButtons","containerQuickreply","buttonQuickreply","containerPostback","headerPostback","buttonPostback","listItems","controls","filename","textres","ishtml","coordinates","mapContainerStyle","lat","lng","zoom","ItemGroupInteraction","groupInteraction","interactions","interactionAgent","interactionFromPost","communicationchanneltype","avatar","containerPanel","titleTicketChat","groupInteractionAgent","containerTickets","borderRight","headChat","containerInteractions","fontStyle","borderTopLeftRadius","borderTopRightRadius","dark","borderBottomLeftRadius","borderBottomRightRadius","containerResponse","containerChat","collapseInfo","infoOpen","infoClose","containerProfile","iconResponse","poisition","iconSend","iconSendDisabled","containerButtonsChat","buttonCloseticket","fontFamily","buttonIcon","containerItemTicket","containerNewMessages","containerQuickReply","headerQuickReply","itemQuickReply","showAllInteraction","setShowAllInteraction","interactionExtraList","interactionsToShow","setinteractionsToShow","getInteractions","conversationid","GenericPdfDownloader","downloadFileName","then","jsPDF","gg","innerHTML","DomToImage","toPng","imgData","imgHeight","heightLeft","addImage","addPage","getElementById","isHide","show_all","imageClient","imageurldef","clientName","randomColor","random","dataGraphic","setDataGraphic","mainGraphicRes","mainGraphic","objectItems","dataReady","startsWith","in_white","graphic_report_of","classCallCheck","createClass","defineProperties","enumerable","configurable","writable","protoProps","staticProps","assign","hasOwnProperty","possibleConstructorReturn","self","ReferenceError","slicedToArray","arr","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","sliceIterator","windowObject","global","cancelFrame","requestFrame","clearTimeoutFn","setTimeoutFn","cancelAnimationFrameFn","mozCancelAnimationFrame","webkitCancelAnimationFrame","requestAnimationFrameFn","mozRequestAnimationFrame","webkitRequestAnimationFrame","createDetectElementResize","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","attachEvent","element","triggers","__resizeTriggers__","firstElementChild","contract","lastElementChild","expandChild","offsetWidth","offsetHeight","__resizeLast__","__resizeRAF__","__resizeListeners__","animation","keyframeprefix","domPrefixes","startEvents","elm","addResizeListener","elementStyle","css","getElementsByTagName","styleSheet","cssText","createTextNode","expandTrigger","contractTrigger","__animationListener__","removeResizeListener","detachEvent","animationFrameID","timeoutID","AutoSizer","_temp","__proto__","getPrototypeOf","defaultHeight","defaultWidth","_onResize","_this$props","disableHeight","disableWidth","onResize","_parentNode","_height","_width","_style","newHeight","newWidth","_setRef","autoSizer","_autoSizer","subClass","superClass","constructor","setPrototypeOf","inherits","parentNode","_detectElementResize","_props","_state","outerStyle","childParams","bailoutOnChildren","string","_utils","formatMuiErrorMessage","charAt","arrayBread","flexgrow1","dataReportType","proactive","selectedRow","setSelectedRow","reportType","setReportType","templatetype","templatename","attended","locked","blacklisted","getCampaignReportPaginated","dictToArrayKV","getCampaignReportExport","campaignid","finishconversationtime","getCampaignReportProactiveExport","ticketdate","tickettime","firstagent","lastagent","no_type_selected","ModalReport","waitView","setWaitView"],"mappings":"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","file":"static/js/19.4fcea2d4.chunk.js","sourcesContent":["import { useState, useRef, useEffect } from 'react';\n\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n\n  for (var i = 0; i < newInputs.length; i++) {\n    if (newInputs[i] !== lastInputs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction useMemoOne(getResult, inputs) {\n  var initial = useState(function () {\n    return {\n      inputs: inputs,\n      result: getResult()\n    };\n  })[0];\n  var isFirstRun = useRef(true);\n  var committed = useRef(initial);\n  var useCache = isFirstRun.current || Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));\n  var cache = useCache ? committed.current : {\n    inputs: inputs,\n    result: getResult()\n  };\n  useEffect(function () {\n    isFirstRun.current = false;\n    committed.current = cache;\n  }, [cache]);\n  return cache.result;\n}\nfunction useCallbackOne(callback, inputs) {\n  return useMemoOne(function () {\n    return callback;\n  }, inputs);\n}\nvar useMemo = useMemoOne;\nvar useCallback = useCallbackOne;\n\nexport { useCallback, useCallbackOne, useMemo, useMemoOne };\n","import invariant from 'tiny-invariant';\n\nvar getRect = function getRect(_ref) {\n  var top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var width = right - left;\n  var height = bottom - top;\n  var rect = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height,\n    x: left,\n    y: top,\n    center: {\n      x: (right + left) / 2,\n      y: (bottom + top) / 2\n    }\n  };\n  return rect;\n};\nvar expand = function expand(target, expandBy) {\n  return {\n    top: target.top - expandBy.top,\n    left: target.left - expandBy.left,\n    bottom: target.bottom + expandBy.bottom,\n    right: target.right + expandBy.right\n  };\n};\nvar shrink = function shrink(target, shrinkBy) {\n  return {\n    top: target.top + shrinkBy.top,\n    left: target.left + shrinkBy.left,\n    bottom: target.bottom - shrinkBy.bottom,\n    right: target.right - shrinkBy.right\n  };\n};\n\nvar shift = function shift(target, shiftBy) {\n  return {\n    top: target.top + shiftBy.y,\n    left: target.left + shiftBy.x,\n    bottom: target.bottom + shiftBy.y,\n    right: target.right + shiftBy.x\n  };\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar createBox = function createBox(_ref2) {\n  var borderBox = _ref2.borderBox,\n      _ref2$margin = _ref2.margin,\n      margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin,\n      _ref2$border = _ref2.border,\n      border = _ref2$border === void 0 ? noSpacing : _ref2$border,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;\n  var marginBox = getRect(expand(borderBox, margin));\n  var paddingBox = getRect(shrink(borderBox, border));\n  var contentBox = getRect(shrink(paddingBox, padding));\n  return {\n    marginBox: marginBox,\n    borderBox: getRect(borderBox),\n    paddingBox: paddingBox,\n    contentBox: contentBox,\n    margin: margin,\n    border: border,\n    padding: padding\n  };\n};\n\nvar parse = function parse(raw) {\n  var value = raw.slice(0, -2);\n  var suffix = raw.slice(-2);\n\n  if (suffix !== 'px') {\n    return 0;\n  }\n\n  var result = Number(value);\n  !!isNaN(result) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not parse value [raw: \" + raw + \", without suffix: \" + value + \"]\") : invariant(false) : void 0;\n  return result;\n};\n\nvar getWindowScroll = function getWindowScroll() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar offset = function offset(original, change) {\n  var borderBox = original.borderBox,\n      border = original.border,\n      margin = original.margin,\n      padding = original.padding;\n  var shifted = shift(borderBox, change);\n  return createBox({\n    borderBox: shifted,\n    border: border,\n    margin: margin,\n    padding: padding\n  });\n};\nvar withScroll = function withScroll(original, scroll) {\n  if (scroll === void 0) {\n    scroll = getWindowScroll();\n  }\n\n  return offset(original, scroll);\n};\nvar calculateBox = function calculateBox(borderBox, styles) {\n  var margin = {\n    top: parse(styles.marginTop),\n    right: parse(styles.marginRight),\n    bottom: parse(styles.marginBottom),\n    left: parse(styles.marginLeft)\n  };\n  var padding = {\n    top: parse(styles.paddingTop),\n    right: parse(styles.paddingRight),\n    bottom: parse(styles.paddingBottom),\n    left: parse(styles.paddingLeft)\n  };\n  var border = {\n    top: parse(styles.borderTopWidth),\n    right: parse(styles.borderRightWidth),\n    bottom: parse(styles.borderBottomWidth),\n    left: parse(styles.borderLeftWidth)\n  };\n  return createBox({\n    borderBox: borderBox,\n    margin: margin,\n    padding: padding,\n    border: border\n  });\n};\nvar getBox = function getBox(el) {\n  var borderBox = el.getBoundingClientRect();\n  var styles = window.getComputedStyle(el);\n  return calculateBox(borderBox, styles);\n};\n\nexport { calculateBox, createBox, expand, getBox, getRect, offset, shrink, withScroll };\n","var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n","import React, { useLayoutEffect, useEffect, useRef, useState, useContext } from 'react';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport { getRect, expand, offset, withScroll, getBox, createBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport rafSchd from 'raf-schd';\nimport ReactDOM from 'react-dom';\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nfunction log(type, message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console)[type].apply(_console, getFormattedMessage(message));\n}\nvar warning = log.bind(null, 'warn');\nvar error = log.bind(null, 'error');\n\nfunction noop() {}\n\nfunction getOptions(shared, fromBinding) {\n  return _extends({}, shared, {}, fromBinding);\n}\n\nfunction bindEvents(el, bindings, sharedOptions) {\n  var unbindings = bindings.map(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n    return function unbind() {\n      el.removeEventListener(binding.eventName, binding.fn, options);\n    };\n  });\n  return function unbindAll() {\n    unbindings.forEach(function (unbind) {\n      unbind();\n    });\n  };\n}\n\nvar isProduction$1 = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction RbdInvariant(message) {\n  this.message = message;\n}\n\nRbdInvariant.prototype.toString = function toString() {\n  return this.message;\n};\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction$1) {\n    throw new RbdInvariant(prefix);\n  } else {\n    throw new RbdInvariant(prefix + \": \" + (message || ''));\n  }\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.callbacks = null;\n    _this.unbind = noop;\n\n    _this.onWindowError = function (event) {\n      var callbacks = _this.getCallbacks();\n\n      if (callbacks.isDragging()) {\n        callbacks.tryAbort();\n        process.env.NODE_ENV !== \"production\" ? warning(\"\\n        An error was caught by our window 'error' event listener while a drag was occurring.\\n        The active drag has been aborted.\\n      \") : void 0;\n      }\n\n      var err = event.error;\n\n      if (err instanceof RbdInvariant) {\n        event.preventDefault();\n\n        if (process.env.NODE_ENV !== 'production') {\n          error(err.message);\n        }\n      }\n    };\n\n    _this.getCallbacks = function () {\n      if (!_this.callbacks) {\n        throw new Error('Unable to find AppCallbacks in <ErrorBoundary/>');\n      }\n\n      return _this.callbacks;\n    };\n\n    _this.setCallbacks = function (callbacks) {\n      _this.callbacks = callbacks;\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.unbind = bindEvents(window, [{\n      eventName: 'error',\n      fn: this.onWindowError\n    }]);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(err) {\n    if (err instanceof RbdInvariant) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(err.message);\n      }\n\n      this.setState({});\n      return;\n    }\n\n    throw err;\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unbind();\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setCallbacks);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar dragHandleUsageInstructions = \"\\n  Press space bar to start a drag.\\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\\n  Some screen readers may require you to be in focus mode or to use your pass through key\\n\";\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \"\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  dragHandleUsageInstructions: dragHandleUsageInstructions,\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = (function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n});\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = (function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n});\n\nvar scrollDroppable = (function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n});\n\nfunction isInteger(value) {\n  if (Number.isInteger) {\n    return Number.isInteger(value);\n  }\n\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\nfunction values(map) {\n  if (Object.values) {\n    return Object.values(map);\n  }\n\n  return Object.keys(map).map(function (key) {\n    return map[key];\n  });\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\nfunction toArray(list) {\n  return Array.prototype.slice.call(list);\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nfunction tryGetDestination(impact) {\n  if (impact.at && impact.at.type === 'REORDER') {\n    return impact.at.destination;\n  }\n\n  return null;\n}\nfunction tryGetCombine(impact) {\n  if (impact.at && impact.at.type === 'COMBINE') {\n    return impact.at.combine;\n  }\n\n  return null;\n}\n\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar moveToNextCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var location = tryGetDestination(previousImpact);\n\n  if (!location) {\n    return null;\n  }\n\n  function getImpact(target) {\n    var at = {\n      type: 'COMBINE',\n      combine: {\n        draggableId: target,\n        droppableId: destination.descriptor.id\n      }\n    };\n    return _extends({}, previousImpact, {\n      at: at\n    });\n  }\n\n  var all = previousImpact.displaced.all;\n  var closestId = all.length ? all[0] : null;\n\n  if (isMovingForward) {\n    return closestId ? getImpact(closestId) : null;\n  }\n\n  var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n\n  if (!closestId) {\n    if (!withoutDraggable.length) {\n      return null;\n    }\n\n    var last = withoutDraggable[withoutDraggable.length - 1];\n    return getImpact(last.descriptor.id);\n  }\n\n  var indexOfClosest = findIndex(withoutDraggable, function (d) {\n    return d.descriptor.id === closestId;\n  });\n  !(indexOfClosest !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find displaced item in set') : invariant(false) : void 0;\n  var proposedIndex = indexOfClosest - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  var before = withoutDraggable[proposedIndex];\n  return getImpact(before.descriptor.id);\n});\n\nvar isHomeOf = (function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n});\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar emptyGroups = {\n  invisible: {},\n  visible: {},\n  all: []\n};\nvar noImpact = {\n  displaced: emptyGroups,\n  displacedBy: noDisplacedBy,\n  at: null\n};\n\nvar isWithin = (function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n});\n\nvar isPartiallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n});\n\nvar isTotallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n});\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n});\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(id, last, forceShouldAnimate) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!last) {\n    return true;\n  }\n\n  var invisible = last.invisible,\n      visible = last.visible;\n\n  if (invisible[id]) {\n    return false;\n  }\n\n  var previous = visible[id];\n  return previous ? previous.shouldAnimate : true;\n};\n\nfunction getTarget(draggable, displacedBy) {\n  var marginBox = draggable.page.marginBox;\n  var expandBy = {\n    top: displacedBy.point.y,\n    right: 0,\n    bottom: 0,\n    left: displacedBy.point.x\n  };\n  return getRect(expand(marginBox, expandBy));\n}\n\nfunction getDisplacementGroups(_ref) {\n  var afterDragging = _ref.afterDragging,\n      destination = _ref.destination,\n      displacedBy = _ref.displacedBy,\n      viewport = _ref.viewport,\n      forceShouldAnimate = _ref.forceShouldAnimate,\n      last = _ref.last;\n  return afterDragging.reduce(function process(groups, draggable) {\n    var target = getTarget(draggable, displacedBy);\n    var id = draggable.descriptor.id;\n    groups.all.push(id);\n    var isVisible = isPartiallyVisible({\n      target: target,\n      destination: destination,\n      viewport: viewport,\n      withDroppableDisplacement: true\n    });\n\n    if (!isVisible) {\n      groups.invisible[draggable.descriptor.id] = true;\n      return groups;\n    }\n\n    var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);\n    var displacement = {\n      draggableId: id,\n      shouldAnimate: shouldAnimate\n    };\n    groups.visible[id] = displacement;\n    return groups;\n  }, {\n    all: [],\n    visible: {},\n    invisible: {}\n  });\n}\n\nfunction getIndexOfLastItem(draggables, options) {\n  if (!draggables.length) {\n    return 0;\n  }\n\n  var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;\n  return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;\n}\n\nfunction goAtEnd(_ref) {\n  var insideDestination = _ref.insideDestination,\n      inHomeList = _ref.inHomeList,\n      displacedBy = _ref.displacedBy,\n      destination = _ref.destination;\n  var newIndex = getIndexOfLastItem(insideDestination, {\n    inHomeList: inHomeList\n  });\n  return {\n    displaced: emptyGroups,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: newIndex\n      }\n    }\n  };\n}\n\nfunction calculateReorderImpact(_ref2) {\n  var draggable = _ref2.draggable,\n      insideDestination = _ref2.insideDestination,\n      destination = _ref2.destination,\n      viewport = _ref2.viewport,\n      displacedBy = _ref2.displacedBy,\n      last = _ref2.last,\n      index = _ref2.index,\n      forceShouldAnimate = _ref2.forceShouldAnimate;\n  var inHomeList = isHomeOf(draggable, destination);\n\n  if (index == null) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var match = find(insideDestination, function (item) {\n    return item.descriptor.index === index;\n  });\n\n  if (!match) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var sliceFrom = insideDestination.indexOf(match);\n  var impacted = withoutDragging.slice(sliceFrom);\n  var displaced = getDisplacementGroups({\n    afterDragging: impacted,\n    destination: destination,\n    displacedBy: displacedBy,\n    last: last,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate\n  });\n  return {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: index\n      }\n    }\n  };\n}\n\nfunction didStartAfterCritical(draggableId, afterCritical) {\n  return Boolean(afterCritical.effected[draggableId]);\n}\n\nvar fromCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      combine = _ref.combine,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var combineId = combine.draggableId;\n  var combineWith = draggables[combineId];\n  var combineWithIndex = combineWith.descriptor.index;\n  var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);\n\n  if (didCombineWithStartAfterCritical) {\n    if (isMovingForward) {\n      return combineWithIndex;\n    }\n\n    return combineWithIndex - 1;\n  }\n\n  if (isMovingForward) {\n    return combineWithIndex + 1;\n  }\n\n  return combineWithIndex;\n});\n\nvar fromReorder = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      insideDestination = _ref.insideDestination,\n      location = _ref.location;\n\n  if (!insideDestination.length) {\n    return null;\n  }\n\n  var currentIndex = location.index;\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n  var firstIndex = insideDestination[0].descriptor.index;\n  var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;\n  var upperBound = isInHomeList ? lastIndex : lastIndex + 1;\n\n  if (proposedIndex < firstIndex) {\n    return null;\n  }\n\n  if (proposedIndex > upperBound) {\n    return null;\n  }\n\n  return proposedIndex;\n});\n\nvar moveToNextIndex = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var wasAt = previousImpact.at;\n  !wasAt ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move in direction without previous impact location') : invariant(false) : void 0;\n\n  if (wasAt.type === 'REORDER') {\n    var _newIndex = fromReorder({\n      isMovingForward: isMovingForward,\n      isInHomeList: isInHomeList,\n      location: wasAt.destination,\n      insideDestination: insideDestination\n    });\n\n    if (_newIndex == null) {\n      return null;\n    }\n\n    return calculateReorderImpact({\n      draggable: draggable,\n      insideDestination: insideDestination,\n      destination: destination,\n      viewport: viewport,\n      last: previousImpact.displaced,\n      displacedBy: previousImpact.displacedBy,\n      index: _newIndex\n    });\n  }\n\n  var newIndex = fromCombine({\n    isMovingForward: isMovingForward,\n    destination: destination,\n    displaced: previousImpact.displaced,\n    draggables: draggables,\n    combine: wasAt.combine,\n    afterCritical: afterCritical\n  });\n\n  if (newIndex == null) {\n    return null;\n  }\n\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: previousImpact.displaced,\n    displacedBy: previousImpact.displacedBy,\n    index: newIndex\n  });\n});\n\nvar getCombinedItemDisplacement = (function (_ref) {\n  var displaced = _ref.displaced,\n      afterCritical = _ref.afterCritical,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);\n\n  if (didStartAfterCritical(combineWith, afterCritical)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n});\n\nvar whenCombining = (function (_ref) {\n  var afterCritical = _ref.afterCritical,\n      impact = _ref.impact,\n      draggables = _ref.draggables;\n  var combine = tryGetCombine(impact);\n  !combine ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: impact.displaced,\n    afterCritical: afterCritical,\n    combineWith: combineWith,\n    displacedBy: impact.displacedBy\n  });\n  return add(center, displaceBy);\n});\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      afterCritical = _ref.afterCritical;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = impact.displaced,\n      displacedBy = impact.displacedBy;\n  var closestAfter = displaced.all[0];\n\n  if (closestAfter) {\n    var closest = draggables[closestAfter];\n\n    if (didStartAfterCritical(closestAfter, afterCritical)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closest.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closest.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartAfterCritical(last.descriptor.id, afterCritical)) {\n    var page = offset(last.page, negate(afterCritical.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n});\n\nvar withDroppableDisplacement = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n});\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      afterCritical = _ref.afterCritical;\n  var original = draggable.page.borderBox.center;\n  var at = impact.at;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (!at) {\n    return original;\n  }\n\n  if (at.type === 'REORDER') {\n    return whenReordering({\n      impact: impact,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      afterCritical: afterCritical\n    });\n  }\n\n  return whenCombining({\n    impact: impact,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n};\n\nvar getPageBorderBoxCenterFromImpact = (function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n});\n\nvar scrollViewport = (function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n});\n\nfunction getDraggables(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nfunction tryGetVisible(id, groups) {\n  for (var i = 0; i < groups.length; i++) {\n    var displacement = groups[i].visible[id];\n\n    if (displacement) {\n      return displacement;\n    }\n  }\n\n  return null;\n}\n\nvar speculativelyIncrease = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var last = impact.displaced;\n  var withViewportScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: scrolledViewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var withDroppableScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: scrolledDroppable,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var invisible = {};\n  var visible = {};\n  var groups = [last, withViewportScroll, withDroppableScroll];\n  last.all.forEach(function (id) {\n    var displacement = tryGetVisible(id, groups);\n\n    if (displacement) {\n      visible[id] = displacement;\n      return;\n    }\n\n    invisible[id] = true;\n  });\n\n  var newImpact = _extends({}, impact, {\n    displaced: {\n      all: last.all,\n      invisible: invisible,\n      visible: visible\n    }\n  });\n\n  return newImpact;\n});\n\nvar withViewportDisplacement = (function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n});\n\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n});\n\nvar isTotallyVisibleInNewLocation = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n});\n\nvar moveToNextPlace = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n});\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n});\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, afterCritical) {\n  var original = draggable.page.borderBox.center;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, afterCritical) {\n  var original = draggable.page.borderBox;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, afterCritical),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, afterCritical)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, afterCritical)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n});\n\nvar getDisplacedBy = memoizeOne(function getDisplacedBy(axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n\n  if (droppable.descriptor.mode === 'virtual') {\n    return patch(axis.line, placeholderSize[axis.line]);\n  }\n\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar moveToNewDroppable = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      displaced: emptyGroups,\n      displacedBy: noDisplacedBy,\n      at: {\n        type: 'REORDER',\n        destination: {\n          droppableId: destination.descriptor.id,\n          index: 0\n        }\n      }\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      afterCritical: afterCritical\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);\n\n  var proposedIndex = function () {\n    var relativeTo = moveRelativeTo.descriptor.index;\n\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return relativeTo;\n    }\n\n    if (isGoingBeforeTarget) {\n      return relativeTo;\n    }\n\n    return relativeTo + 1;\n  }();\n\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    displacedBy: displacedBy,\n    last: emptyGroups,\n    index: proposedIndex\n  });\n});\n\nvar moveCrossAxis = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n});\n\nvar whatIsDraggedOver = (function (impact) {\n  var at = impact.at;\n\n  if (!at) {\n    return null;\n  }\n\n  if (at.type === 'REORDER') {\n    return at.destination.droppableId;\n  }\n\n  return at.combine.droppableId;\n});\n\nvar getDroppableOver = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = (function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    afterCritical: state.afterCritical\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    viewport: state.viewport,\n    afterCritical: state.afterCritical\n  });\n});\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nfunction isPositionInFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function run(point) {\n    return isWithinVertical(point.y) && isWithinHorizontal(point.x);\n  };\n}\n\nfunction getHasOverlap(first, second) {\n  return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;\n}\n\nfunction getFurthestAway(_ref) {\n  var pageBorderBox = _ref.pageBorderBox,\n      draggable = _ref.draggable,\n      candidates = _ref.candidates;\n  var startCenter = draggable.page.borderBox.center;\n  var sorted = candidates.map(function (candidate) {\n    var axis = candidate.axis;\n    var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);\n    return {\n      id: candidate.descriptor.id,\n      distance: distance(startCenter, target)\n    };\n  }).sort(function (a, b) {\n    return b.distance - a.distance;\n  });\n  return sorted[0] ? sorted[0].id : null;\n}\n\nfunction getDroppableOver$1(_ref2) {\n  var pageBorderBox = _ref2.pageBorderBox,\n      draggable = _ref2.draggable,\n      droppables = _ref2.droppables;\n  var candidates = toDroppableList(droppables).filter(function (item) {\n    if (!item.isEnabled) {\n      return false;\n    }\n\n    var active = item.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    if (!getHasOverlap(pageBorderBox, active)) {\n      return false;\n    }\n\n    if (isPositionInFrame(active)(pageBorderBox.center)) {\n      return true;\n    }\n\n    var axis = item.axis;\n    var childCenter = active.center[axis.crossAxisLine];\n    var crossAxisStart = pageBorderBox[axis.crossAxisStart];\n    var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];\n    var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);\n    var isStartContained = isContained(crossAxisStart);\n    var isEndContained = isContained(crossAxisEnd);\n\n    if (!isStartContained && !isEndContained) {\n      return true;\n    }\n\n    if (isStartContained) {\n      return crossAxisStart < childCenter;\n    }\n\n    return crossAxisEnd > childCenter;\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0].descriptor.id;\n  }\n\n  return getFurthestAway({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    candidates: candidates\n  });\n}\n\nvar offsetRectByPosition = function offsetRectByPosition(rect, point) {\n  return getRect(offsetByPosition(rect, point));\n};\n\nvar withDroppableScroll = (function (droppable, area) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return area;\n  }\n\n  return offsetRectByPosition(area, frame.scroll.diff.value);\n});\n\nfunction getIsDisplaced(_ref) {\n  var displaced = _ref.displaced,\n      id = _ref.id;\n  return Boolean(displaced.visible[id] || displaced.invisible[id]);\n}\n\nfunction atIndex(_ref) {\n  var draggable = _ref.draggable,\n      closest = _ref.closest,\n      inHomeList = _ref.inHomeList;\n\n  if (!closest) {\n    return null;\n  }\n\n  if (!inHomeList) {\n    return closest.descriptor.index;\n  }\n\n  if (closest.descriptor.index > draggable.descriptor.index) {\n    return closest.descriptor.index - 1;\n  }\n\n  return closest.descriptor.index;\n}\n\nvar getReorderImpact = (function (_ref2) {\n  var targetRect = _ref2.pageBorderBoxWithDroppableScroll,\n      draggable = _ref2.draggable,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      last = _ref2.last,\n      viewport = _ref2.viewport,\n      afterCritical = _ref2.afterCritical;\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var closest = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childCenter = child.page.borderBox.center[axis.line];\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: last,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd <= childCenter;\n      }\n\n      return targetStart < childCenter - displacement;\n    }\n\n    if (isDisplaced) {\n      return targetEnd <= childCenter + displacement;\n    }\n\n    return targetStart < childCenter;\n  });\n  var newIndex = atIndex({\n    draggable: draggable,\n    closest: closest,\n    inHomeList: isHomeOf(draggable, destination)\n  });\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: last,\n    displacedBy: displacedBy,\n    index: newIndex\n  });\n});\n\nvar combineThresholdDivisor = 4;\nvar getCombineImpact = (function (_ref) {\n  var draggable = _ref.draggable,\n      targetRect = _ref.pageBorderBoxWithDroppableScroll,\n      previousImpact = _ref.previousImpact,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var combineWith = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childRect = child.page.borderBox;\n    var childSize = childRect[axis.size];\n    var threshold = childSize / combineThresholdDivisor;\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: previousImpact.displaced,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;\n      }\n\n      return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;\n    }\n\n    if (isDisplaced) {\n      return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;\n    }\n\n    return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;\n  });\n\n  if (!combineWith) {\n    return null;\n  }\n\n  var impact = {\n    displacedBy: displacedBy,\n    displaced: previousImpact.displaced,\n    at: {\n      type: 'COMBINE',\n      combine: {\n        draggableId: combineWith.descriptor.id,\n        droppableId: destination.descriptor.id\n      }\n    }\n  };\n  return impact;\n});\n\nvar getDragImpact = (function (_ref) {\n  var pageOffset = _ref.pageOffset,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBox = offsetRectByPosition(draggable.page.borderBox, pageOffset);\n  var destinationId = getDroppableOver$1({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);\n  return getCombineImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  }) || getReorderImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    last: previousImpact.displaced,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n});\n\nvar patchDroppableMap = (function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n});\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = (function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n});\n\nvar update = (function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, viewport.scroll.current),\n    borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current),\n    offset: add(client.offset, viewport.scroll.diff.value)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageOffset: page.offset,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n});\n\nfunction getDraggables$1(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nvar recompute = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var last = impact.displaced;\n  var afterDragging = getDraggables$1(last.all, draggables);\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate,\n    last: last\n  });\n  return _extends({}, impact, {\n    displaced: displaced\n  });\n});\n\nvar getClientBorderBoxCenter = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    afterCritical: afterCritical\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n});\n\nvar refreshSnap = (function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n});\n\nvar getHomeLocation = (function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n});\n\nvar getLiftEffect = (function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var rawIndex = insideHome.indexOf(draggable);\n  !(rawIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected draggable to be inside home list') : invariant(false) : void 0;\n  var afterDragging = insideHome.slice(rawIndex + 1);\n  var effected = afterDragging.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var afterCritical = {\n    inVirtualList: home.descriptor.mode === 'virtual',\n    displacedBy: displacedBy,\n    effected: effected\n  };\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: home,\n    displacedBy: displacedBy,\n    last: null,\n    viewport: viewport.frame,\n    forceShouldAnimate: false\n  });\n  var impact = {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: getHomeLocation(draggable.descriptor)\n    }\n  };\n  return {\n    impact: impact,\n    afterCritical: afterCritical\n  };\n});\n\nvar patchDimensionMap = (function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n});\n\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    {\n      return;\n    }\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    {\n      return;\n    }\n  }\n};\n\nvar offsetDraggable = (function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n});\n\nvar getFrame = (function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n});\n\nvar adjustAdditionsForScrollChanges = (function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = getFrame(modified);\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n});\n\nvar publishWhileDraggingInVirtual = (function (_ref) {\n  var state = _ref.state,\n      published = _ref.published;\n  start();\n  var withScrollChange = published.modified.map(function (update) {\n    var existing = state.dimensions.droppables[update.droppableId];\n    var scrolled = scrollDroppable(existing, update.scroll);\n    return scrolled;\n  });\n\n  var droppables = _extends({}, state.dimensions.droppables, {}, toDroppableMap(withScrollChange));\n\n  var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({\n    additions: published.additions,\n    updatedDroppables: droppables,\n    viewport: state.viewport\n  }));\n\n  var draggables = _extends({}, state.dimensions.draggables, {}, updatedAdditions);\n\n  published.removals.forEach(function (id) {\n    delete draggables[id];\n  });\n  var dimensions = {\n    droppables: droppables,\n    draggables: draggables\n  };\n  var wasOverId = whatIsDraggedOver(state.impact);\n  var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var home = dimensions.droppables[state.critical.droppable.id];\n\n  var _getLiftEffect = getLiftEffect({\n    draggable: draggable,\n    home: home,\n    draggables: draggables,\n    viewport: state.viewport\n  }),\n      onLiftImpact = _getLiftEffect.impact,\n      afterCritical = _getLiftEffect.afterCritical;\n\n  var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;\n  var impact = getDragImpact({\n    pageOffset: state.current.page.offset,\n    draggable: dimensions.draggables[state.critical.draggable.id],\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: previousImpact,\n    viewport: state.viewport,\n    afterCritical: afterCritical\n  });\n  finish();\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, {\n    phase: 'DRAGGING',\n    impact: impact,\n    onLiftImpact: onLiftImpact,\n    dimensions: dimensions,\n    afterCritical: afterCritical,\n    forceShouldAnimate: false\n  });\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, {\n    phase: 'DROP_PENDING',\n    reason: state.reason,\n    isWaiting: false\n  });\n\n  return dropPending;\n});\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nfunction removeScrollJumpRequest(state) {\n  if (state.isDragging && state.movementMode === 'SNAP') {\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      scrollJumpRequest: null\n    });\n  }\n\n  return state;\n}\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = (function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'FLUSH') {\n    return _extends({}, idle, {\n      shouldFlush: true\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial),\n        offset: add(client.selection, viewport.scroll.diff.value)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getLiftEffect = getLiftEffect({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getLiftEffect.impact,\n        afterCritical = _getLiftEffect.afterCritical;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      afterCritical: afterCritical,\n      onLiftImpact: impact,\n      viewport: viewport,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      phase: 'COLLECTING'\n    });\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDraggingInVirtual({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        newScroll = _action$payload2.newScroll;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, newScroll);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists') : invariant(false) : void 0;\n    var _newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, _newScroll)) {\n      return removeScrollJumpRequest(state);\n    }\n\n    var _viewport = scrollViewport(state.viewport, _newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, {\n      phase: 'DROP_PENDING',\n      isWaiting: true,\n      reason: reason\n    });\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset,\n      dimensions: state.dimensions\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _completed = action.payload.completed;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: false\n    };\n  }\n\n  return state;\n});\n\nvar beforeInitialCapture = function beforeInitialCapture(args) {\n  return {\n    type: 'BEFORE_INITIAL_CAPTURE',\n    payload: args\n  };\n};\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar flush = function flush() {\n  return {\n    type: 'FLUSH',\n    payload: null\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nfunction checkIndexes(insideDestination) {\n  if (insideDestination.length <= 1) {\n    return;\n  }\n\n  var indexes = insideDestination.map(function (d) {\n    return d.descriptor.index;\n  });\n  var errors = {};\n\n  for (var i = 1; i < indexes.length; i++) {\n    var current = indexes[i];\n    var previous = indexes[i - 1];\n\n    if (current !== previous + 1) {\n      errors[current] = true;\n    }\n  }\n\n  if (!Object.keys(errors).length) {\n    return;\n  }\n\n  var formatted = indexes.map(function (index) {\n    var hasError = Boolean(errors[index]);\n    return hasError ? \"[\\uD83D\\uDD25\" + index + \"]\" : \"\" + index;\n  }).join(', ');\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Detected non-consecutive <Draggable /> indexes.\\n\\n    (This can cause unexpected bugs)\\n\\n    \" + formatted + \"\\n  \") : void 0;\n}\n\nfunction validateDimensions(critical, dimensions) {\n  if (process.env.NODE_ENV !== 'production') {\n    var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);\n    checkIndexes(insideDestination);\n  }\n}\n\nvar lift$1 = (function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase to start a drag') : invariant(false) : void 0;\n        dispatch(flush());\n        dispatch(beforeInitialCapture({\n          draggableId: id,\n          movementMode: movementMode\n        }));\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        validateDimensions(critical, dimensions);\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n});\n\nvar style = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\n\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = (function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n});\n\nvar getNewHomeClientOffset = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    afterCritical: afterCritical,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  return offset;\n});\n\nvar getDropImpact = (function (_ref) {\n  var draggables = _ref.draggables,\n      reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      onLiftImpact = _ref.onLiftImpact;\n\n  if (!lastImpact.at || reason !== 'DROP') {\n    var recomputedHomeImpact = recompute({\n      draggables: draggables,\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: recomputedHomeImpact,\n      didDropInsideDroppable: false\n    };\n  }\n\n  if (lastImpact.at.type === 'REORDER') {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: true\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    displaced: emptyGroups\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: true\n  };\n});\n\nvar drop$1 = (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        afterCritical: state.afterCritical,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;\n      var combine = didDropInsideDroppable ? tryGetCombine(impact) : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        afterCritical: state.afterCritical\n      });\n      var completed = {\n        critical: state.critical,\n        afterCritical: state.afterCritical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n});\n\nvar getWindowScroll = (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});\n\nfunction getWindowScrollBinding(update) {\n  return {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.target !== window && event.target !== window.document) {\n        return;\n      }\n\n      update();\n    }\n  };\n}\n\nfunction getScrollListener(_ref) {\n  var onWindowScroll = _ref.onWindowScroll;\n\n  function updateScroll() {\n    onWindowScroll(getWindowScroll());\n  }\n\n  var scheduled = rafSchd(updateScroll);\n  var binding = getWindowScrollBinding(scheduled);\n  var unbind = noop;\n\n  function isActive() {\n    return unbind !== noop;\n  }\n\n  function start() {\n    !!isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start scroll listener when already active') : invariant(false) : void 0;\n    unbind = bindEvents(window, [binding]);\n  }\n\n  function stop() {\n    !isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop scroll listener when not active') : invariant(false) : void 0;\n    scheduled.cancel();\n    unbind();\n    unbind = noop;\n  }\n\n  return {\n    start: start,\n    stop: stop,\n    isActive: isActive\n  };\n}\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar scrollListener = (function (store) {\n  var listener = getScrollListener({\n    onWindowScroll: function onWindowScroll(newScroll) {\n      store.dispatch(moveByWindowScroll({\n        newScroll: newScroll\n      }));\n    }\n  });\n  return function (next) {\n    return function (action) {\n      if (!listener.isActive() && action.type === 'INITIAL_PUBLISH') {\n        listener.start();\n      }\n\n      if (listener.isActive() && shouldEnd(action)) {\n        listener.stop();\n      }\n\n      next(action);\n    };\n  };\n});\n\nvar getExpiringAnnounce = (function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n});\n\nvar getAsyncMarshal = (function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n});\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start();\n  fn();\n  finish();\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = (function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeCapture = function beforeCapture(draggableId, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeCapture as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeCapture', function () {\n      var fn = getResponders().onBeforeCapture;\n\n      if (fn) {\n        var before = {\n          draggableId: draggableId,\n          mode: mode\n        };\n        fn(before);\n      }\n    });\n  };\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = tryGetDestination(impact);\n    var combine = tryGetCombine(impact);\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeCapture: beforeCapture,\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n});\n\nvar responders = (function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'BEFORE_INITIAL_CAPTURE') {\n          publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'FLUSH') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n});\n\nvar dropAnimationFinish = (function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed\n      }));\n    };\n  };\n});\n\nvar dropAnimationFlushOnScroll = (function (store) {\n  var unbind = null;\n  var frameId = null;\n\n  function clear() {\n    if (frameId) {\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n\n    if (unbind) {\n      unbind();\n      unbind = null;\n    }\n  }\n\n  return function (next) {\n    return function (action) {\n      if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATION_FINISHED') {\n        clear();\n      }\n\n      next(action);\n\n      if (action.type !== 'DROP_ANIMATE') {\n        return;\n      }\n\n      var binding = {\n        eventName: 'scroll',\n        options: {\n          capture: true,\n          passive: false,\n          once: true\n        },\n        fn: function flushDropAnimation() {\n          var state = store.getState();\n\n          if (state.phase === 'DROP_ANIMATING') {\n            store.dispatch(dropAnimationFinished());\n          }\n        }\n      };\n      frameId = requestAnimationFrame(function () {\n        frameId = null;\n        unbind = bindEvents(window, [binding]);\n      });\n    };\n  };\n});\n\nvar dimensionMarshalStopper = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'FLUSH' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar focus = (function (marshal) {\n  var isWatching = false;\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          isWatching = true;\n          marshal.tryRecordFocus(action.payload.critical.draggable.id);\n          next(action);\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        next(action);\n\n        if (!isWatching) {\n          return;\n        }\n\n        if (action.type === 'FLUSH') {\n          isWatching = false;\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          isWatching = false;\n          var result = action.payload.completed.result;\n\n          if (result.combine) {\n            marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);\n          }\n\n          marshal.tryRestoreFocusRecorded();\n        }\n      };\n    };\n  };\n});\n\nvar shouldStop = function shouldStop(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar autoScroll = (function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldStop(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n});\n\nvar pendingDrop = (function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n});\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n  name: 'react-beautiful-dnd'\n}) : compose;\nvar createStore = (function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      focusMarshal = _ref.focusMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));\n});\n\nvar clean$1 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\nfunction createPublisher(_ref) {\n  var registry = _ref.registry,\n      callbacks = _ref.callbacks;\n  var staging = clean$1();\n  var frameId = null;\n\n  var collect = function collect() {\n    if (frameId) {\n      return;\n    }\n\n    callbacks.collectionStarting();\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      start();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n      var added = Object.keys(additions).map(function (id) {\n        return registry.draggable.getById(id).getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n      var updated = Object.keys(modified).map(function (id) {\n        var entry = registry.droppable.getById(id);\n        var scroll = entry.callbacks.getScrollWhileDragging();\n        return {\n          droppableId: id,\n          scroll: scroll\n        };\n      });\n      var result = {\n        additions: added,\n        removals: Object.keys(removals),\n        modified: updated\n      };\n      staging = clean$1();\n      finish();\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(entry) {\n    var id = entry.descriptor.id;\n    staging.additions[id] = entry;\n    staging.modified[entry.descriptor.droppableId] = true;\n\n    if (staging.removals[id]) {\n      delete staging.removals[id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(entry) {\n    var descriptor = entry.descriptor;\n    staging.removals[descriptor.id] = true;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$1();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n}\n\nvar getMaxScroll = (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});\n\nvar getDocumentElement = (function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n});\n\nvar getMaxWindowScroll = (function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});\n\nvar getViewport = (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n});\n\nvar getInitialPublish = (function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      registry = _ref.registry;\n  start();\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = registry.droppable.getAllByType(home.type).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish();\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n});\n\nfunction shouldPublishUpdate(registry, dragging, entry) {\n  if (entry.descriptor.id === dragging.id) {\n    return false;\n  }\n\n  if (entry.descriptor.type !== dragging.type) {\n    return false;\n  }\n\n  var home = registry.droppable.getById(entry.descriptor.droppableId);\n\n  if (home.descriptor.mode !== 'virtual') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      You are attempting to add or remove a Draggable [id: \" + entry.descriptor.id + \"]\\n      while a drag is occurring. This is only supported for virtual lists.\\n\\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\\n    \") : void 0;\n    return false;\n  }\n\n  return true;\n}\n\nvar createDimensionMarshal = (function (registry, callbacks) {\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting\n    },\n    registry: registry\n  });\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableScroll({\n      id: id,\n      newScroll: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    if (!collection) {\n      return;\n    }\n\n    registry.droppable.getById(id).callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    registry.droppable.getAllByType(home.type).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection.unsubscribe();\n    collection = null;\n  };\n\n  var subscriber = function subscriber(event) {\n    !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should only be subscribed when a collection is occurring') : invariant(false) : void 0;\n    var dragging = collection.critical.draggable;\n\n    if (event.type === 'ADDITION') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.add(event.value);\n      }\n    }\n\n    if (event.type === 'REMOVAL') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.remove(event.value);\n      }\n    }\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = registry.draggable.getById(request.draggableId);\n    var home = registry.droppable.getById(entry.descriptor.droppableId);\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    var unsubscribe = registry.subscribe(subscriber);\n    collection = {\n      critical: critical,\n      unsubscribe: unsubscribe\n    };\n    return getInitialPublish({\n      critical: critical,\n      registry: registry,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n});\n\nvar canStartDrag = (function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n});\n\nvar scrollWindow = (function (change) {\n  window.scrollBy(change.x, change.y);\n});\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = (function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n});\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = (function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n});\n\nvar getPercentage = (function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n});\n\nvar minScroll = 1;\n\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n});\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n  var now = Date.now();\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n});\n\nvar getValue = (function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n});\n\nvar getScrollOnAxis = (function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});\n\nvar adjustForSizeLimits = (function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n});\n\nvar clean$2 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$2({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n});\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = (function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});\n\nvar getDroppableScrollChange = (function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n});\n\nvar scroll$1 = (function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n});\n\nvar createFluidScroller = (function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var start$1 = function start$1(state) {\n    start();\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n    var dragStartTime = Date.now();\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish();\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    scroll: tryScroll\n  };\n});\n\nvar createJumpScroller = (function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n});\n\nvar createAutoScroller = (function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n});\n\nvar prefix$1 = 'data-rbd';\nvar dragHandle = function () {\n  var base = prefix$1 + \"-drag-handle\";\n  return {\n    base: base,\n    draggableId: base + \"-draggable-id\",\n    contextId: base + \"-context-id\"\n  };\n}();\nvar draggable = function () {\n  var base = prefix$1 + \"-draggable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar droppable = function () {\n  var base = prefix$1 + \"-droppable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar scrollContainer = {\n  contextId: prefix$1 + \"-scroll-container-context-id\"\n};\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = (function (contextId) {\n  var getSelector = makeGetSelector(contextId);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle.contextId),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable.contextId),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable.contextId),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n});\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl(nonce) {\n  var el = document.createElement('style');\n\n  if (nonce) {\n    el.setAttribute('nonce', nonce);\n  }\n\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(contextId, nonce) {\n  var styles = useMemo(function () {\n    return getStyles$1(contextId);\n  }, [contextId]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl(nonce);\n    var dynamic = createStyleEl(nonce);\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix$1 + \"-always\", contextId);\n    dynamic.setAttribute(prefix$1 + \"-dynamic\", contextId);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting\n    };\n  }, [dragging, dropping, resting]);\n  return marshal;\n}\n\nvar getWindowFromEl = (function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n});\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction findDragHandle(contextId, draggableId) {\n  var selector = \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n\n  if (!possible.length) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find any drag handles in the context \\\"\" + contextId + \"\\\"\") : void 0;\n    return null;\n  }\n\n  var handle = find(possible, function (el) {\n    return el.getAttribute(dragHandle.draggableId) === draggableId;\n  });\n\n  if (!handle) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find drag handle with id \\\"\" + draggableId + \"\\\" as no handle with a matching id was found\") : void 0;\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle needs to be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction useFocusMarshal(contextId) {\n  var entriesRef = useRef({});\n  var recordRef = useRef(null);\n  var restoreFocusFrameRef = useRef(null);\n  var isMountedRef = useRef(false);\n  var register = useCallback(function register(id, focus) {\n    var entry = {\n      id: id,\n      focus: focus\n    };\n    entriesRef.current[id] = entry;\n    return function unregister() {\n      var entries = entriesRef.current;\n      var current = entries[id];\n\n      if (current !== entry) {\n        delete entries[id];\n      }\n    };\n  }, []);\n  var tryGiveFocus = useCallback(function tryGiveFocus(tryGiveFocusTo) {\n    var handle = findDragHandle(contextId, tryGiveFocusTo);\n\n    if (handle && handle !== document.activeElement) {\n      handle.focus();\n    }\n  }, [contextId]);\n  var tryShiftRecord = useCallback(function tryShiftRecord(previous, redirectTo) {\n    if (recordRef.current === previous) {\n      recordRef.current = redirectTo;\n    }\n  }, []);\n  var tryRestoreFocusRecorded = useCallback(function tryRestoreFocusRecorded() {\n    if (restoreFocusFrameRef.current) {\n      return;\n    }\n\n    if (!isMountedRef.current) {\n      return;\n    }\n\n    restoreFocusFrameRef.current = requestAnimationFrame(function () {\n      restoreFocusFrameRef.current = null;\n      var record = recordRef.current;\n\n      if (record) {\n        tryGiveFocus(record);\n      }\n    });\n  }, [tryGiveFocus]);\n  var tryRecordFocus = useCallback(function tryRecordFocus(id) {\n    recordRef.current = null;\n    var focused = document.activeElement;\n\n    if (!focused) {\n      return;\n    }\n\n    if (focused.getAttribute(dragHandle.draggableId) !== id) {\n      return;\n    }\n\n    recordRef.current = id;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    isMountedRef.current = true;\n    return function clearFrameOnUnmount() {\n      isMountedRef.current = false;\n      var frameId = restoreFocusFrameRef.current;\n\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n    };\n  }, []);\n  var marshal = useMemo(function () {\n    return {\n      register: register,\n      tryRecordFocus: tryRecordFocus,\n      tryRestoreFocusRecorded: tryRestoreFocusRecorded,\n      tryShiftRecord: tryShiftRecord\n    };\n  }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);\n  return marshal;\n}\n\nfunction createRegistry() {\n  var entries = {\n    draggables: {},\n    droppables: {}\n  };\n  var subscribers = [];\n\n  function subscribe(cb) {\n    subscribers.push(cb);\n    return function unsubscribe() {\n      var index = subscribers.indexOf(cb);\n\n      if (index === -1) {\n        return;\n      }\n\n      subscribers.splice(index, 1);\n    };\n  }\n\n  function notify(event) {\n    if (subscribers.length) {\n      subscribers.forEach(function (cb) {\n        return cb(event);\n      });\n    }\n  }\n\n  function findDraggableById(id) {\n    return entries.draggables[id] || null;\n  }\n\n  function getDraggableById(id) {\n    var entry = findDraggableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find draggable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var draggableAPI = {\n    register: function register(entry) {\n      entries.draggables[entry.descriptor.id] = entry;\n      notify({\n        type: 'ADDITION',\n        value: entry\n      });\n    },\n    update: function update(entry, last) {\n      var current = entries.draggables[last.descriptor.id];\n\n      if (!current) {\n        return;\n      }\n\n      if (current.uniqueId !== entry.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[last.descriptor.id];\n      entries.draggables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var draggableId = entry.descriptor.id;\n      var current = findDraggableById(draggableId);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[draggableId];\n      notify({\n        type: 'REMOVAL',\n        value: entry\n      });\n    },\n    getById: getDraggableById,\n    findById: findDraggableById,\n    exists: function exists(id) {\n      return Boolean(findDraggableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.draggables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function findDroppableById(id) {\n    return entries.droppables[id] || null;\n  }\n\n  function getDroppableById(id) {\n    var entry = findDroppableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find droppable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var droppableAPI = {\n    register: function register(entry) {\n      entries.droppables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var current = findDroppableById(entry.descriptor.id);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.droppables[entry.descriptor.id];\n    },\n    getById: getDroppableById,\n    findById: findDroppableById,\n    exists: function exists(id) {\n      return Boolean(findDroppableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.droppables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function clean() {\n    entries.draggables = {};\n    entries.droppables = {};\n    subscribers.length = 0;\n  }\n\n  return {\n    draggable: draggableAPI,\n    droppable: droppableAPI,\n    subscribe: subscribe,\n    clean: clean\n  };\n}\n\nfunction useRegistry() {\n  var registry = useMemo(createRegistry, []);\n  useEffect(function () {\n    return function unmount() {\n      requestAnimationFrame(registry.clean);\n    };\n  }, [registry]);\n  return registry;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = (function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n});\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar getId = function getId(contextId) {\n  return \"rbd-announcement-\" + contextId;\n};\nfunction useAnnouncer(contextId) {\n  var id = useMemo(function () {\n    return getId(contextId);\n  }, [contextId]);\n  var ref = useRef(null);\n  useEffect(function setup() {\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('aria-atomic', 'true');\n\n    _extends(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function cleanup() {\n      setTimeout(function remove() {\n        var body = getBodyElement();\n\n        if (body.contains(el)) {\n          body.removeChild(el);\n        }\n\n        if (el === ref.current) {\n          ref.current = null;\n        }\n      });\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar count = 0;\nvar defaults = {\n  separator: '::'\n};\nfunction reset() {\n  count = 0;\n}\nfunction useUniqueId(prefix, options) {\n  if (options === void 0) {\n    options = defaults;\n  }\n\n  return useMemo(function () {\n    return \"\" + prefix + options.separator + count++;\n  }, [options.separator, prefix]);\n}\n\nfunction getElementId(_ref) {\n  var contextId = _ref.contextId,\n      uniqueId = _ref.uniqueId;\n  return \"rbd-hidden-text-\" + contextId + \"-\" + uniqueId;\n}\nfunction useHiddenTextElement(_ref2) {\n  var contextId = _ref2.contextId,\n      text = _ref2.text;\n  var uniqueId = useUniqueId('hidden-text', {\n    separator: '-'\n  });\n  var id = useMemo(function () {\n    return getElementId({\n      contextId: contextId,\n      uniqueId: uniqueId\n    });\n  }, [uniqueId, contextId]);\n  useEffect(function mount() {\n    var el = document.createElement('div');\n    el.id = id;\n    el.textContent = text;\n    el.style.display = 'none';\n    getBodyElement().appendChild(el);\n    return function unmount() {\n      var body = getBodyElement();\n\n      if (body.contains(el)) {\n        body.removeChild(el);\n      }\n    };\n  }, [id, text]);\n  return id;\n}\n\nvar AppContext = React.createContext(null);\n\nvar peerDependencies = {\n\treact: \"^16.8.5 || ^17.0.0\",\n\t\"react-dom\": \"^16.8.5 || ^17.0.0\"\n};\n\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = (function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n});\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = (function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n});\n\nfunction useDev(useHook) {\n  if (process.env.NODE_ENV !== 'production') {\n    useHook();\n  }\n}\n\nfunction useDevSetupWarning(fn, inputs) {\n  useDev(function () {\n    useEffect(function () {\n      try {\n        fn();\n      } catch (e) {\n        error(\"\\n          A setup problem was encountered.\\n\\n          > \" + e.message + \"\\n        \");\n      }\n    }, inputs);\n  });\n}\n\nfunction useStartupValidation() {\n  useDevSetupWarning(function () {\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nfunction create() {\n  var lock = null;\n\n  function isClaimed() {\n    return Boolean(lock);\n  }\n\n  function isActive(value) {\n    return value === lock;\n  }\n\n  function claim(abandon) {\n    !!lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot claim lock as it is already claimed') : invariant(false) : void 0;\n    var newLock = {\n      abandon: abandon\n    };\n    lock = newLock;\n    return newLock;\n  }\n\n  function release() {\n    !lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot release lock when there is no lock') : invariant(false) : void 0;\n    lock = null;\n  }\n\n  function tryAbandon() {\n    if (lock) {\n      lock.abandon();\n      release();\n    }\n  }\n\n  return {\n    isClaimed: isClaimed,\n    isActive: isActive,\n    claim: claim,\n    release: release,\n    tryAbandon: tryAbandon\n  };\n}\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = (function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n});\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\nvar sloppyClickThreshold = 5;\n\nfunction isSloppyClickThresholdExceeded(original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n}\n\nvar idle$1 = {\n  type: 'IDLE'\n};\n\nfunction getCaptureBindings(_ref) {\n  var cancel = _ref.cancel,\n      completed = _ref.completed,\n      getPhase = _ref.getPhase,\n      setPhase = _ref.setPhase;\n  return [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      var phase = getPhase();\n\n      if (phase.type === 'DRAGGING') {\n        event.preventDefault();\n        phase.actions.move(point);\n        return;\n      }\n\n      !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot be IDLE') : invariant(false) : void 0;\n      var pending = phase.point;\n\n      if (!isSloppyClickThresholdExceeded(pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      var actions = phase.actions.fluidLift(point);\n      setPhase({\n        type: 'DRAGGING',\n        actions: actions\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (getPhase().type === 'DRAGGING') {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (getPhase().type === 'PENDING') {\n        cancel();\n      }\n    }\n  }, {\n    eventName: 'webkitmouseforcedown',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase') : invariant(false) : void 0;\n\n      if (phase.actions.shouldRespectForcePress()) {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useMouseSensor(api) {\n  var phaseRef = useRef(idle$1);\n  var unbindEventsRef = useRef(noop);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'mousedown',\n      fn: function onMouseDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.button !== primaryButton) {\n          return;\n        }\n\n        if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        event.preventDefault();\n        var point = {\n          x: event.clientX,\n          y: event.clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var preventForcePressBinding = useMemo(function () {\n    return {\n      eventName: 'webkitmouseforcewillbegin',\n      fn: function fn(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var id = api.findClosestDraggableId(event);\n\n        if (!id) {\n          return;\n        }\n\n        var options = api.findOptionsForDraggable(id);\n\n        if (!options) {\n          return;\n        }\n\n        if (options.shouldRespectForcePress) {\n          return;\n        }\n\n        if (!api.canGetLock(id)) {\n          return;\n        }\n\n        event.preventDefault();\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);\n  }, [preventForcePressBinding, startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    phaseRef.current = idle$1;\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var bindings = getCaptureBindings({\n      cancel: cancel,\n      completed: stop,\n      getPhase: function getPhase() {\n        return phaseRef.current;\n      },\n      setPhase: function setPhase(phase) {\n        phaseRef.current = phase;\n      }\n    });\n    unbindEventsRef.current = bindEvents(window, bindings, options);\n  }, [cancel, stop]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(phaseRef.current.type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    phaseRef.current = {\n      type: 'PENDING',\n      point: point,\n      actions: actions\n    };\n    bindCapturingEvents();\n  }, [bindCapturingEvents]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar _scrollJumpKeys;\n\nfunction noop$1() {}\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction getDraggingBindings(actions, stop) {\n  function cancel() {\n    stop();\n    actions.cancel();\n  }\n\n  function drop() {\n    stop();\n    actions.drop();\n  }\n\n  return [{\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === space) {\n        event.preventDefault();\n        drop();\n        return;\n      }\n\n      if (event.keyCode === arrowDown) {\n        event.preventDefault();\n        actions.moveDown();\n        return;\n      }\n\n      if (event.keyCode === arrowUp) {\n        event.preventDefault();\n        actions.moveUp();\n        return;\n      }\n\n      if (event.keyCode === arrowRight) {\n        event.preventDefault();\n        actions.moveRight();\n        return;\n      }\n\n      if (event.keyCode === arrowLeft) {\n        event.preventDefault();\n        actions.moveLeft();\n        return;\n      }\n\n      if (scrollJumpKeys[event.keyCode]) {\n        event.preventDefault();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useKeyboardSensor(api) {\n  var unbindEventsRef = useRef(noop$1);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'keydown',\n      fn: function onKeyDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.keyCode !== space) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var preDrag = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!preDrag) {\n          return;\n        }\n\n        event.preventDefault();\n        var isCapturing = true;\n        var actions = preDrag.snapLift();\n        unbindEventsRef.current();\n\n        function stop() {\n          !isCapturing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing a keyboard drag when not capturing') : invariant(false) : void 0;\n          isCapturing = false;\n          unbindEventsRef.current();\n          listenForCapture();\n        }\n\n        unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {\n          capture: true,\n          passive: false\n        });\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function tryStartCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar idle$2 = {\n  type: 'IDLE'\n};\nvar timeForLongPress = 120;\nvar forcePressThreshold = 0.15;\n\nfunction getWindowBindings(_ref) {\n  var cancel = _ref.cancel,\n      getPhase = _ref.getPhase;\n  return [{\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction getHandleBindings(_ref2) {\n  var cancel = _ref2.cancel,\n      completed = _ref2.completed,\n      getPhase = _ref2.getPhase;\n  return [{\n    eventName: 'touchmove',\n    options: {\n      capture: false\n    },\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      phase.hasMoved = true;\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      phase.actions.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      var touch = event.touches[0];\n\n      if (!touch) {\n        return;\n      }\n\n      var isForcePress = touch.force >= forcePressThreshold;\n\n      if (!isForcePress) {\n        return;\n      }\n\n      var shouldRespect = phase.actions.shouldRespectForcePress();\n\n      if (phase.type === 'PENDING') {\n        if (shouldRespect) {\n          cancel();\n        }\n\n        return;\n      }\n\n      if (shouldRespect) {\n        if (phase.hasMoved) {\n          event.preventDefault();\n          return;\n        }\n\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useTouchSensor(api) {\n  var phaseRef = useRef(idle$2);\n  var unbindEventsRef = useRef(noop);\n  var getPhase = useCallback(function getPhase() {\n    return phaseRef.current;\n  }, []);\n  var setPhase = useCallback(function setPhase(phase) {\n    phaseRef.current = phase;\n  }, []);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'touchstart',\n      fn: function onTouchStart(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        var touch = event.touches[0];\n        var clientX = touch.clientX,\n            clientY = touch.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    if (current.type === 'PENDING') {\n      clearTimeout(current.longPressTimerId);\n    }\n\n    setPhase(idle$2);\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture, setPhase]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var args = {\n      cancel: cancel,\n      completed: stop,\n      getPhase: getPhase\n    };\n    var unbindTarget = bindEvents(window, getHandleBindings(args), options);\n    var unbindWindow = bindEvents(window, getWindowBindings(args), options);\n\n    unbindEventsRef.current = function unbindAll() {\n      unbindTarget();\n      unbindWindow();\n    };\n  }, [cancel, getPhase, stop]);\n  var startDragging = useCallback(function startDragging() {\n    var phase = getPhase();\n    !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot start dragging from phase \" + phase.type) : invariant(false) : void 0;\n    var actions = phase.actions.fluidLift(phase.point);\n    setPhase({\n      type: 'DRAGGING',\n      actions: actions,\n      hasMoved: false\n    });\n  }, [getPhase, setPhase]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(getPhase().type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setPhase({\n      type: 'PENDING',\n      point: point,\n      actions: actions,\n      longPressTimerId: longPressTimerId\n    });\n    bindCapturingEvents();\n  }, [bindCapturingEvents, getPhase, setPhase, startDragging]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        clearTimeout(phase.longPressTimerId);\n        setPhase(idle$2);\n      }\n    };\n  }, [getPhase, listenForCapture, setPhase]);\n  useIsomorphicLayoutEffect(function webkitHack() {\n    var unbind = bindEvents(window, [{\n      eventName: 'touchmove',\n      fn: function fn() {},\n      options: {\n        capture: false,\n        passive: false\n      }\n    }]);\n    return unbind;\n  }, []);\n}\n\nfunction useValidateSensorHooks(sensorHooks) {\n  useDev(function () {\n    var previousRef = usePrevious(sensorHooks);\n    useDevSetupWarning(function () {\n      !(previousRef.current.length === sensorHooks.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot change the amount of sensor hooks after mounting') : invariant(false) : void 0;\n    });\n  });\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nfunction isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n}\n\nfunction isEventInInteractiveElement(draggable, event) {\n  var target = event.target;\n\n  if (!isHtmlElement(target)) {\n    return false;\n  }\n\n  return isAnInteractiveElement(draggable, target);\n}\n\nvar getBorderBoxCenterPosition = (function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n});\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar supportedMatchesName = function () {\n  var base = 'matches';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, 'msMatchesSelector', 'webkitMatchesSelector'];\n  var value = find(candidates, function (name) {\n    return name in Element.prototype;\n  });\n  return value || base;\n}();\n\nfunction closestPonyfill(el, selector) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el[supportedMatchesName](selector)) {\n    return el;\n  }\n\n  return closestPonyfill(el.parentElement, selector);\n}\n\nfunction closest$1(el, selector) {\n  if (el.closest) {\n    return el.closest(selector);\n  }\n\n  return closestPonyfill(el, selector);\n}\n\nfunction getSelector(contextId) {\n  return \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n}\n\nfunction findClosestDragHandleFromEvent(contextId, event) {\n  var target = event.target;\n\n  if (!isElement(target)) {\n    process.env.NODE_ENV !== \"production\" ? warning('event.target must be a Element') : void 0;\n    return null;\n  }\n\n  var selector = getSelector(contextId);\n  var handle = closest$1(target, selector);\n\n  if (!handle) {\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle must be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction tryGetClosestDraggableIdFromEvent(contextId, event) {\n  var handle = findClosestDragHandleFromEvent(contextId, event);\n\n  if (!handle) {\n    return null;\n  }\n\n  return handle.getAttribute(dragHandle.draggableId);\n}\n\nfunction findDraggable(contextId, draggableId) {\n  var selector = \"[\" + draggable.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n  var draggable$1 = find(possible, function (el) {\n    return el.getAttribute(draggable.id) === draggableId;\n  });\n\n  if (!draggable$1) {\n    return null;\n  }\n\n  if (!isHtmlElement(draggable$1)) {\n    process.env.NODE_ENV !== \"production\" ? warning('Draggable element is not a HTMLElement') : void 0;\n    return null;\n  }\n\n  return draggable$1;\n}\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction _isActive(_ref) {\n  var expected = _ref.expected,\n      phase = _ref.phase,\n      isLockActive = _ref.isLockActive,\n      shouldWarn = _ref.shouldWarn;\n\n  if (!isLockActive()) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The sensor no longer has an action lock.\\n\\n        Tips:\\n\\n        - Throw away your action handlers when forceStop() is called\\n        - Check actions.isActive() if you really need to\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  if (expected !== phase) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The actions you used belong to an outdated phase\\n\\n        Current phase: \" + expected + \"\\n        You called an action from outdated phase: \" + phase + \"\\n\\n        Tips:\\n\\n        - Do not use preDragActions actions after calling preDragActions.lift()\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction canStart(_ref2) {\n  var lockAPI = _ref2.lockAPI,\n      store = _ref2.store,\n      registry = _ref2.registry,\n      draggableId = _ref2.draggableId;\n\n  if (lockAPI.isClaimed()) {\n    return false;\n  }\n\n  var entry = registry.draggable.findById(draggableId);\n\n  if (!entry) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable with id: \" + draggableId) : void 0;\n    return false;\n  }\n\n  if (!entry.options.isEnabled) {\n    return false;\n  }\n\n  if (!canStartDrag(store.getState(), draggableId)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction tryStart(_ref3) {\n  var lockAPI = _ref3.lockAPI,\n      contextId = _ref3.contextId,\n      store = _ref3.store,\n      registry = _ref3.registry,\n      draggableId = _ref3.draggableId,\n      forceSensorStop = _ref3.forceSensorStop,\n      sourceEvent = _ref3.sourceEvent;\n  var shouldStart = canStart({\n    lockAPI: lockAPI,\n    store: store,\n    registry: registry,\n    draggableId: draggableId\n  });\n\n  if (!shouldStart) {\n    return null;\n  }\n\n  var entry = registry.draggable.getById(draggableId);\n  var el = findDraggable(contextId, entry.descriptor.id);\n\n  if (!el) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable element with id: \" + draggableId) : void 0;\n    return null;\n  }\n\n  if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {\n    return null;\n  }\n\n  var lock = lockAPI.claim(forceSensorStop || noop);\n  var phase = 'PRE_DRAG';\n\n  function getShouldRespectForcePress() {\n    return entry.options.shouldRespectForcePress;\n  }\n\n  function isLockActive() {\n    return lockAPI.isActive(lock);\n  }\n\n  function tryDispatch(expected, getAction) {\n    if (_isActive({\n      expected: expected,\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    })) {\n      store.dispatch(getAction());\n    }\n  }\n\n  var tryDispatchWhenDragging = tryDispatch.bind(null, 'DRAGGING');\n\n  function lift$1(args) {\n    function completed() {\n      lockAPI.release();\n      phase = 'COMPLETED';\n    }\n\n    if (phase !== 'PRE_DRAG') {\n      completed();\n      !(phase === 'PRE_DRAG') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot lift in phase \" + phase) : invariant(false) : void 0;\n    }\n\n    store.dispatch(lift(args.liftActionArgs));\n    phase = 'DRAGGING';\n\n    function finish(reason, options) {\n      if (options === void 0) {\n        options = {\n          shouldBlockNextClick: false\n        };\n      }\n\n      args.cleanup();\n\n      if (options.shouldBlockNextClick) {\n        var unbind = bindEvents(window, [{\n          eventName: 'click',\n          fn: preventDefault,\n          options: {\n            once: true,\n            passive: false,\n            capture: true\n          }\n        }]);\n        setTimeout(unbind);\n      }\n\n      completed();\n      store.dispatch(drop({\n        reason: reason\n      }));\n    }\n\n    return _extends({\n      isActive: function isActive() {\n        return _isActive({\n          expected: 'DRAGGING',\n          phase: phase,\n          isLockActive: isLockActive,\n          shouldWarn: false\n        });\n      },\n      shouldRespectForcePress: getShouldRespectForcePress,\n      drop: function drop(options) {\n        return finish('DROP', options);\n      },\n      cancel: function cancel(options) {\n        return finish('CANCEL', options);\n      }\n    }, args.actions);\n  }\n\n  function fluidLift(clientSelection) {\n    var move$1 = rafSchd(function (client) {\n      tryDispatchWhenDragging(function () {\n        return move({\n          client: client\n        });\n      });\n    });\n    var api = lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: 'FLUID'\n      },\n      cleanup: function cleanup() {\n        return move$1.cancel();\n      },\n      actions: {\n        move: move$1\n      }\n    });\n    return _extends({}, api, {\n      move: move$1\n    });\n  }\n\n  function snapLift() {\n    var actions = {\n      moveUp: function moveUp$1() {\n        return tryDispatchWhenDragging(moveUp);\n      },\n      moveRight: function moveRight$1() {\n        return tryDispatchWhenDragging(moveRight);\n      },\n      moveDown: function moveDown$1() {\n        return tryDispatchWhenDragging(moveDown);\n      },\n      moveLeft: function moveLeft$1() {\n        return tryDispatchWhenDragging(moveLeft);\n      }\n    };\n    return lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: getBorderBoxCenterPosition(el),\n        movementMode: 'SNAP'\n      },\n      cleanup: noop,\n      actions: actions\n    });\n  }\n\n  function abortPreDrag() {\n    var shouldRelease = _isActive({\n      expected: 'PRE_DRAG',\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    });\n\n    if (shouldRelease) {\n      lockAPI.release();\n    }\n  }\n\n  var preDrag = {\n    isActive: function isActive() {\n      return _isActive({\n        expected: 'PRE_DRAG',\n        phase: phase,\n        isLockActive: isLockActive,\n        shouldWarn: false\n      });\n    },\n    shouldRespectForcePress: getShouldRespectForcePress,\n    fluidLift: fluidLift,\n    snapLift: snapLift,\n    abort: abortPreDrag\n  };\n  return preDrag;\n}\n\nvar defaultSensors = [useMouseSensor, useKeyboardSensor, useTouchSensor];\nfunction useSensorMarshal(_ref4) {\n  var contextId = _ref4.contextId,\n      store = _ref4.store,\n      registry = _ref4.registry,\n      customSensors = _ref4.customSensors,\n      enableDefaultSensors = _ref4.enableDefaultSensors;\n  var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);\n  var lockAPI = useState(function () {\n    return create();\n  })[0];\n  var tryAbandonLock = useCallback(function tryAbandonLock(previous, current) {\n    if (previous.isDragging && !current.isDragging) {\n      lockAPI.tryAbandon();\n    }\n  }, [lockAPI]);\n  useIsomorphicLayoutEffect(function listenToStore() {\n    var previous = store.getState();\n    var unsubscribe = store.subscribe(function () {\n      var current = store.getState();\n      tryAbandonLock(previous, current);\n      previous = current;\n    });\n    return unsubscribe;\n  }, [lockAPI, store, tryAbandonLock]);\n  useIsomorphicLayoutEffect(function () {\n    return lockAPI.tryAbandon;\n  }, [lockAPI.tryAbandon]);\n  var canGetLock = useCallback(function (draggableId) {\n    return canStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      store: store,\n      draggableId: draggableId\n    });\n  }, [lockAPI, registry, store]);\n  var tryGetLock = useCallback(function (draggableId, forceStop, options) {\n    return tryStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      contextId: contextId,\n      store: store,\n      draggableId: draggableId,\n      forceSensorStop: forceStop,\n      sourceEvent: options && options.sourceEvent ? options.sourceEvent : null\n    });\n  }, [contextId, lockAPI, registry, store]);\n  var findClosestDraggableId = useCallback(function (event) {\n    return tryGetClosestDraggableIdFromEvent(contextId, event);\n  }, [contextId]);\n  var findOptionsForDraggable = useCallback(function (id) {\n    var entry = registry.draggable.findById(id);\n    return entry ? entry.options : null;\n  }, [registry.draggable]);\n  var tryReleaseLock = useCallback(function tryReleaseLock() {\n    if (!lockAPI.isClaimed()) {\n      return;\n    }\n\n    lockAPI.tryAbandon();\n\n    if (store.getState().phase !== 'IDLE') {\n      store.dispatch(flush());\n    }\n  }, [lockAPI, store]);\n  var isLockClaimed = useCallback(lockAPI.isClaimed, [lockAPI]);\n  var api = useMemo(function () {\n    return {\n      canGetLock: canGetLock,\n      tryGetLock: tryGetLock,\n      findClosestDraggableId: findClosestDraggableId,\n      findOptionsForDraggable: findOptionsForDraggable,\n      tryReleaseLock: tryReleaseLock,\n      isLockClaimed: isLockClaimed\n    };\n  }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);\n  useValidateSensorHooks(useSensors);\n\n  for (var i = 0; i < useSensors.length; i++) {\n    useSensors[i](api);\n  }\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeCapture: props.onBeforeCapture,\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var contextId = props.contextId,\n      setCallbacks = props.setCallbacks,\n      sensors = props.sensors,\n      nonce = props.nonce,\n      dragHandleUsageInstructions = props.dragHandleUsageInstructions;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(contextId);\n  var dragHandleUsageInstructionsId = useHiddenTextElement({\n    contextId: contextId,\n    text: dragHandleUsageInstructions\n  });\n  var styleMarshal = useStyleMarshal(contextId, nonce);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var marshalCallbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var registry = useRegistry();\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(registry, marshalCallbacks);\n  }, [registry, marshalCallbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var focusMarshal = useFocusMarshal(contextId);\n  var store = useMemo(function () {\n    return createStore({\n      announce: announce,\n      autoScroller: autoScroller,\n      dimensionMarshal: dimensionMarshal,\n      focusMarshal: focusMarshal,\n      getResponders: getResponders,\n      styleMarshal: styleMarshal\n    });\n  }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(flush());\n    }\n  }, []);\n  var isDragging = useCallback(function () {\n    var state = getStore(lazyStoreRef).getState();\n    return state.isDragging || state.phase === 'DROP_ANIMATING';\n  }, []);\n  var appCallbacks = useMemo(function () {\n    return {\n      isDragging: isDragging,\n      tryAbort: tryResetStore\n    };\n  }, [isDragging, tryResetStore]);\n  setCallbacks(appCallbacks);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      focus: focusMarshal,\n      contextId: contextId,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed,\n      dragHandleUsageInstructionsId: dragHandleUsageInstructionsId,\n      registry: registry\n    };\n  }, [contextId, dimensionMarshal, dragHandleUsageInstructionsId, focusMarshal, getCanLift, getIsMovementAllowed, registry]);\n  useSensorMarshal({\n    contextId: contextId,\n    store: store,\n    registry: registry,\n    customSensors: sensors,\n    enableDefaultSensors: props.enableDefaultSensors !== false\n  });\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar count$1 = 0;\nfunction reset$1() {\n  count$1 = 0;\n}\nfunction useInstanceCount() {\n  return useMemo(function () {\n    return \"\" + count$1++;\n  }, []);\n}\n\nfunction resetServerContext() {\n  reset$1();\n  reset();\n}\nfunction DragDropContext(props) {\n  var contextId = useInstanceCount();\n  var dragHandleUsageInstructions = props.dragHandleUsageInstructions || preset.dragHandleUsageInstructions;\n  return React.createElement(ErrorBoundary, null, function (setCallbacks) {\n    return React.createElement(App, {\n      nonce: props.nonce,\n      contextId: contextId,\n      setCallbacks: setCallbacks,\n      dragHandleUsageInstructions: dragHandleUsageInstructions,\n      enableDefaultSensors: props.enableDefaultSensors,\n      sensors: props.sensors,\n      onBeforeCapture: props.onBeforeCapture,\n      onBeforeDragStart: props.onBeforeDragStart,\n      onDragStart: props.onDragStart,\n      onDragUpdate: props.onDragUpdate,\n      onDragEnd: props.onDragEnd\n    }, props.children);\n  });\n}\n\nvar isEqual$1 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$1('scroll');\nvar isAuto = isEqual$1('auto');\nvar isVisible$1 = isEqual$1('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = (function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n});\n\nvar getScroll$1 = (function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n});\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = (function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n});\n\nvar getDroppableDimension = (function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n});\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = (function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n});\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\nvar getListenerOptions = (function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n});\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppablePublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var uniqueId = useUniqueId('droppable');\n  var registry = appContext.registry,\n      marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type,\n      mode: args.mode\n    };\n  }, [args.droppableId, args.mode, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n    var scrollable = env.closestScrollable;\n\n    if (scrollable) {\n      scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);\n      scrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(scrollable);\n      }\n    }\n\n    return dimension;\n  }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);\n  var getScrollWhileDragging = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    return getScroll$1(closest);\n  }, []);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeAttribute(scrollContainer.contextId);\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      getScrollWhileDragging: getScrollWhileDragging,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      callbacks: callbacks\n    };\n  }, [callbacks, descriptor, uniqueId]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = entry.descriptor;\n    registry.droppable.register(entry);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      registry.droppable.unregister(entry);\n    };\n  }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop$2() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: animate !== 'none' ? transitions.placeholder : null\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      contextId = props.contextId;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop$2;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop$2;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop$2;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-rbd-placeholder-context-id': contextId,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\n\nvar DroppableContext = React.createContext(null);\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction isBoolean(value) {\n  return typeof value === 'boolean';\n}\n\nfunction runChecks(args, checks) {\n  checks.forEach(function (check) {\n    return check(args);\n  });\n}\n\nvar shared = [function required(_ref) {\n  var props = _ref.props;\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.droppableId === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A Droppable requires a [string] droppableId. Provided: [\" + typeof props.droppableId + \"]\") : invariant(false) : void 0;\n}, function _boolean(_ref2) {\n  var props = _ref2.props;\n  !isBoolean(props.isDropDisabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.ignoreContainerClipping) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}, function ref(_ref3) {\n  var getDroppableRef = _ref3.getDroppableRef;\n  checkIsValidInnerRef(getDroppableRef());\n}];\nvar standard = [function placeholder(_ref4) {\n  var props = _ref4.props,\n      getPlaceholderRef = _ref4.getPlaceholderRef;\n\n  if (!props.placeholder) {\n    return;\n  }\n\n  var ref = getPlaceholderRef();\n\n  if (ref) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\n}];\nvar virtual = [function hasClone(_ref5) {\n  var props = _ref5.props;\n  !props.renderClone ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must provide a clone render function (renderClone) for virtual lists') : invariant(false) : void 0;\n}, function hasNoPlaceholder(_ref6) {\n  var getPlaceholderRef = _ref6.getPlaceholderRef;\n  !!getPlaceholderRef() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected virtual list to not have a placeholder') : invariant(false) : void 0;\n}];\nfunction useValidation(args) {\n  useDevSetupWarning(function () {\n    runChecks(args, shared);\n\n    if (args.props.mode === 'standard') {\n      runChecks(args, standard);\n    }\n\n    if (args.props.mode === 'virtual') {\n      runChecks(args, virtual);\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggablePublisher(args) {\n  var uniqueId = useUniqueId('draggable');\n  var descriptor = args.descriptor,\n      registry = args.registry,\n      getDraggableRef = args.getDraggableRef,\n      canDragInteractiveElements = args.canDragInteractiveElements,\n      shouldRespectForcePress = args.shouldRespectForcePress,\n      isEnabled = args.isEnabled;\n  var options = useMemo(function () {\n    return {\n      canDragInteractiveElements: canDragInteractiveElements,\n      shouldRespectForcePress: shouldRespectForcePress,\n      isEnabled: isEnabled\n    };\n  }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);\n  var getDimension = useCallback(function (windowScroll) {\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(descriptor, el, windowScroll);\n  }, [descriptor, getDraggableRef]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      options: options,\n      getDimension: getDimension\n    };\n  }, [descriptor, getDimension, options, uniqueId]);\n  var publishedRef = useRef(entry);\n  var isFirstPublishRef = useRef(true);\n  useIsomorphicLayoutEffect(function () {\n    registry.draggable.register(publishedRef.current);\n    return function () {\n      return registry.draggable.unregister(publishedRef.current);\n    };\n  }, [registry.draggable]);\n  useIsomorphicLayoutEffect(function () {\n    if (isFirstPublishRef.current) {\n      isFirstPublishRef.current = false;\n      return;\n    }\n\n    var last = publishedRef.current;\n    publishedRef.current = entry;\n    registry.draggable.update(entry, last);\n  }, [entry, registry.draggable]);\n}\n\nfunction useValidation$1(props, contextId, getRef) {\n  useDevSetupWarning(function () {\n    function prefix(id) {\n      return \"Draggable[id: \" + id + \"]: \";\n    }\n\n    var id = props.draggableId;\n    !id ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n    !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Draggable requires a [string] draggableId.\\n      Provided: [type: \" + typeof id + \"] (value: \" + id + \")\") : invariant(false) : void 0;\n    !isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" requires an integer index prop\") : invariant(false) : void 0;\n\n    if (props.mapped.type === 'DRAGGING') {\n      return;\n    }\n\n    checkIsValidInnerRef(getRef());\n\n    if (props.isEnabled) {\n      !findDragHandle(contextId, id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" Unable to find drag handle\") : invariant(false) : void 0;\n    }\n  });\n}\nfunction useClonePropValidation(isClone) {\n  useDev(function () {\n    var initialRef = useRef(isClone);\n    useDevSetupWarning(function () {\n      !(isClone === initialRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable isClone prop value changed during component life') : invariant(false) : void 0;\n    }, [isClone]);\n  });\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      contextId = _useRequiredContext.contextId,\n      dragHandleUsageInstructionsId = _useRequiredContext.dragHandleUsageInstructionsId,\n      registry = _useRequiredContext.registry;\n\n  var _useRequiredContext2 = useRequiredContext(DroppableContext),\n      type = _useRequiredContext2.type,\n      droppableId = _useRequiredContext2.droppableId;\n\n  var descriptor = useMemo(function () {\n    return {\n      id: props.draggableId,\n      index: props.index,\n      type: type,\n      droppableId: droppableId\n    };\n  }, [props.draggableId, props.index, type, droppableId]);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isEnabled = props.isEnabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.canDragInteractiveElements,\n      isClone = props.isClone,\n      mapped = props.mapped,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  useValidation$1(props, contextId, getRef);\n  useClonePropValidation(isClone);\n\n  if (!isClone) {\n    var forPublisher = useMemo(function () {\n      return {\n        descriptor: descriptor,\n        registry: registry,\n        getDraggableRef: getRef,\n        canDragInteractiveElements: canDragInteractiveElements,\n        shouldRespectForcePress: shouldRespectForcePress,\n        isEnabled: isEnabled\n      };\n    }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);\n    useDraggablePublisher(forPublisher);\n  }\n\n  var dragHandleProps = useMemo(function () {\n    return isEnabled ? {\n      tabIndex: 0,\n      role: 'button',\n      'aria-describedby': dragHandleUsageInstructionsId,\n      'data-rbd-drag-handle-draggable-id': draggableId,\n      'data-rbd-drag-handle-context-id': contextId,\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    } : null;\n  }, [contextId, dragHandleUsageInstructionsId, draggableId, isEnabled]);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-rbd-draggable-context-id': contextId,\n        'data-rbd-draggable-id': draggableId,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);\n  var rubric = useMemo(function () {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);\n  return children(provided, mapped.snapshot, rubric);\n}\n\nvar isStrictEqual = (function (a, b) {\n  return a === b;\n});\n\nvar whatIsDraggedOverFromResult = (function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n});\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.at && impact.at.type === 'COMBINE' ? impact.at.combine.draggableId : null;\n};\n\nfunction getDraggableSelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(function (mode, isClone, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isClone: isClone,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getMemoizedProps = memoizeOne(function (offset, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)\n      }\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getMemoizedProps(memoizedOffset(offset.x, offset.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var isClone = ownProps.isClone;\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: mode,\n          forceShouldAnimate: null,\n          snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nfunction getSecondarySnapshot(combineTargetFor) {\n  return {\n    isDragging: false,\n    isDropAnimating: false,\n    isClone: false,\n    dropAnimation: null,\n    mode: null,\n    draggingOver: null,\n    combineTargetFor: combineTargetFor,\n    combineWith: null\n  };\n}\n\nvar atRest = {\n  mapped: {\n    type: 'SECONDARY',\n    offset: origin,\n    combineTargetFor: null,\n    shouldAnimateDisplacement: true,\n    snapshot: getSecondarySnapshot(null)\n  }\n};\n\nfunction getSecondarySelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(getSecondarySnapshot);\n  var getMemoizedProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getMemoizedSnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getFallback = function getFallback(combineTargetFor) {\n    return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;\n  };\n\n  var getProps = function getProps(ownId, draggingId, impact, afterCritical) {\n    var visualDisplacement = impact.displaced.visible[ownId];\n    var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);\n    var combine = tryGetCombine(impact);\n    var combineTargetFor = combine && combine.draggableId === ownId ? draggingId : null;\n\n    if (!visualDisplacement) {\n      if (!isAfterCriticalInVirtualList) {\n        return getFallback(combineTargetFor);\n      }\n\n      if (impact.displaced.invisible[ownId]) {\n        return null;\n      }\n\n      var change = negate(afterCritical.displacedBy.point);\n\n      var _offset = memoizedOffset(change.x, change.y);\n\n      return getMemoizedProps(_offset, combineTargetFor, true);\n    }\n\n    if (isAfterCriticalInVirtualList) {\n      return getFallback(combineTargetFor);\n    }\n\n    var displaceBy = impact.displacedBy.point;\n    var offset = memoizedOffset(displaceBy.x, displaceBy.y);\n    return getMemoizedProps(offset, combineTargetFor, visualDisplacement.shouldAnimate);\n  };\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var draggingSelector = getDraggableSelector();\n  var secondarySelector = getSecondarySelector();\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps = {\n  dropAnimationFinished: dropAnimationFinished\n};\nvar ConnectedDraggable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\n\nfunction PrivateDraggable(props) {\n  var droppableContext = useRequiredContext(DroppableContext);\n  var isUsingCloneFor = droppableContext.isUsingCloneFor;\n\n  if (isUsingCloneFor === props.draggableId && !props.isClone) {\n    return null;\n  }\n\n  return React.createElement(ConnectedDraggable, props);\n}\nfunction PublicDraggable(props) {\n  var isEnabled = typeof props.isDragDisabled === 'boolean' ? !props.isDragDisabled : true;\n  var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);\n  var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);\n  return React.createElement(PrivateDraggable, _extends({}, props, {\n    isClone: false,\n    isEnabled: isEnabled,\n    canDragInteractiveElements: canDragInteractiveElements,\n    shouldRespectForcePress: shouldRespectForcePress\n  }));\n}\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var contextId = appContext.contextId,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      mode = props.mode,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      useClone = props.useClone,\n      updateViewportMaxScroll = props.updateViewportMaxScroll,\n      getContainerForClone = props.getContainerForClone;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  useValidation({\n    props: props,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppablePublisher({\n    droppableId: droppableId,\n    type: type,\n    mode: mode,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      contextId: contextId,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-rbd-droppable-id': droppableId,\n        'data-rbd-droppable-context-id': contextId\n      }\n    };\n  }, [contextId, droppableId, placeholder, setDroppableRef]);\n  var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type,\n      isUsingCloneFor: isUsingCloneFor\n    };\n  }, [droppableId, isUsingCloneFor, type]);\n\n  function getClone() {\n    if (!useClone) {\n      return null;\n    }\n\n    var dragging = useClone.dragging,\n        render = useClone.render;\n    var node = React.createElement(PrivateDraggable, {\n      draggableId: dragging.draggableId,\n      index: dragging.source.index,\n      isClone: true,\n      isEnabled: true,\n      shouldRespectForcePress: false,\n      canDragInteractiveElements: true\n    }, function (draggableProvided, draggableSnapshot) {\n      return render(draggableProvided, draggableSnapshot, dragging);\n    });\n    return ReactDOM.createPortal(node, getContainerForClone());\n  }\n\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot), getClone());\n}\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var idleWithAnimation = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: false\n    },\n    useClone: null\n  };\n\n  var idleWithoutAnimation = _extends({}, idleWithAnimation, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getDraggableRubric = memoizeOne(function (descriptor) {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  });\n  var getMapProps = memoizeOne(function (id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      var useClone = renderClone ? {\n        render: renderClone,\n        dragging: getDraggableRubric(dragging.descriptor)\n      } : null;\n      var _snapshot = {\n        isDraggingOver: isDraggingOverForConsumer,\n        draggingOverWith: isDraggingOverForConsumer ? draggableId : null,\n        draggingFromThisWith: draggableId,\n        isUsingPlaceholder: true\n      };\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: _snapshot,\n        useClone: useClone\n      };\n    }\n\n    if (!isEnabled) {\n      return idleWithoutAnimation;\n    }\n\n    if (!isDraggingOverForImpact) {\n      return idleWithAnimation;\n    }\n\n    var snapshot = {\n      isDraggingOver: isDraggingOverForConsumer,\n      draggingOverWith: draggableId,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: true\n    };\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot,\n      useClone: null\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n    var isEnabled = !ownProps.isDropDisabled;\n    var renderClone = ownProps.renderClone;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);\n    }\n\n    if (state.phase === 'IDLE' && state.completed && !state.shouldFlush) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === 'COMBINE');\n      var isHome = _completed.critical.droppable.id === id;\n\n      if (wasOver) {\n        return wasCombining ? idleWithAnimation : idleWithoutAnimation;\n      }\n\n      if (isHome) {\n        return idleWithAnimation;\n      }\n\n      return idleWithoutAnimation;\n    }\n\n    return idleWithoutAnimation;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\n\nfunction getBody() {\n  !document.body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'document.body is not ready') : invariant(false) : void 0;\n  return document.body;\n}\n\nvar defaultProps = {\n  mode: 'standard',\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false,\n  renderClone: null,\n  getContainerForClone: getBody\n};\nvar ConnectedDroppable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nexport { DragDropContext, PublicDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext, useKeyboardSensor, useMouseSensor, useTouchSensor };\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      textAlign: 'inherit',\n      width: '100%',\n      '&:hover $focusHighlight': {\n        opacity: theme.palette.action.hoverOpacity\n      },\n      '&$focusVisible $focusHighlight': {\n        opacity: 0.12\n      }\n    },\n\n    /* Pseudo-class applied to the ButtonBase root element if the action area is keyboard focused. */\n    focusVisible: {},\n\n    /* Styles applied to the overlay that covers the action area when it is keyboard focused. */\n    focusHighlight: {\n      overflow: 'hidden',\n      pointerEvents: 'none',\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      borderRadius: 'inherit',\n      opacity: 0,\n      backgroundColor: 'currentcolor',\n      transition: theme.transitions.create('opacity', {\n        duration: theme.transitions.duration.short\n      })\n    }\n  };\n};\nvar CardActionArea = /*#__PURE__*/React.forwardRef(function CardActionArea(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      focusVisibleClassName = props.focusVisibleClassName,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"focusVisibleClassName\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(focusVisibleClassName, classes.focusVisible),\n    ref: ref\n  }, other), children, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.focusHighlight\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActionArea.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardActionArea'\n})(CardActionArea);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { chainPropTypes } from '@material-ui/utils';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'block',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center'\n  },\n\n  /* Styles applied to the root element if `component=\"video, audio, picture, iframe, or img\"`. */\n  media: {\n    width: '100%'\n  },\n\n  /* Styles applied to the root element if `component=\"picture or img\"`. */\n  img: {\n    // ⚠️ object-fit is not supported by IE 11.\n    objectFit: 'cover'\n  }\n};\nvar MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nvar CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      image = props.image,\n      src = props.src,\n      style = props.style,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"image\", \"src\", \"style\"]);\n\n  var isMediaComponent = MEDIA_COMPONENTS.indexOf(Component) !== -1;\n  var composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: \"url(\\\"\".concat(image, \"\\\")\")\n  }, style) : style;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, isMediaComponent && classes.media, \"picture img\".indexOf(Component) !== -1 && classes.img),\n    ref: ref,\n    style: composedStyle,\n    src: isMediaComponent ? image || src : undefined\n  }, other), children);\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, function (props) {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('Material-UI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardMedia'\n})(CardMedia);","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar _Paper = _interopRequireDefault(require(\"../Paper\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nexports.styles = styles;\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = (0, _objectWithoutProperties2.default)(props, [\"classes\", \"className\", \"raised\"]);\n  return /*#__PURE__*/React.createElement(_Paper.default, (0, _extends2.default)({\n    className: (0, _clsx.default)(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: _propTypes.default.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: _propTypes.default.object,\n\n  /**\n   * @ignore\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   */\n  raised: _propTypes.default.bool\n} : void 0;\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiCard'\n})(Card);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nexports.styles = styles;\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = (0, _objectWithoutProperties2.default)(props, [\"classes\", \"className\", \"component\"]);\n  return /*#__PURE__*/React.createElement(Component, (0, _extends2.default)({\n    className: (0, _clsx.default)(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: _propTypes.default.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: _propTypes.default.object,\n\n  /**\n   * @ignore\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: _propTypes.default\n  /* @typescript-to-proptypes-ignore */\n  .elementType\n} : void 0;\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiCardContent'\n})(CardContent);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar _capitalize = _interopRequireDefault(require(\"../utils/capitalize\"));\n\nvar styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      margin: 0\n    },\n\n    /* Styles applied to the root element if `variant=\"body2\"`. */\n    body2: theme.typography.body2,\n\n    /* Styles applied to the root element if `variant=\"body1\"`. */\n    body1: theme.typography.body1,\n\n    /* Styles applied to the root element if `variant=\"caption\"`. */\n    caption: theme.typography.caption,\n\n    /* Styles applied to the root element if `variant=\"button\"`. */\n    button: theme.typography.button,\n\n    /* Styles applied to the root element if `variant=\"h1\"`. */\n    h1: theme.typography.h1,\n\n    /* Styles applied to the root element if `variant=\"h2\"`. */\n    h2: theme.typography.h2,\n\n    /* Styles applied to the root element if `variant=\"h3\"`. */\n    h3: theme.typography.h3,\n\n    /* Styles applied to the root element if `variant=\"h4\"`. */\n    h4: theme.typography.h4,\n\n    /* Styles applied to the root element if `variant=\"h5\"`. */\n    h5: theme.typography.h5,\n\n    /* Styles applied to the root element if `variant=\"h6\"`. */\n    h6: theme.typography.h6,\n\n    /* Styles applied to the root element if `variant=\"subtitle1\"`. */\n    subtitle1: theme.typography.subtitle1,\n\n    /* Styles applied to the root element if `variant=\"subtitle2\"`. */\n    subtitle2: theme.typography.subtitle2,\n\n    /* Styles applied to the root element if `variant=\"overline\"`. */\n    overline: theme.typography.overline,\n\n    /* Styles applied to the root element if `variant=\"srOnly\"`. Only accessible to screen readers. */\n    srOnly: {\n      position: 'absolute',\n      height: 1,\n      width: 1,\n      overflow: 'hidden'\n    },\n\n    /* Styles applied to the root element if `align=\"left\"`. */\n    alignLeft: {\n      textAlign: 'left'\n    },\n\n    /* Styles applied to the root element if `align=\"center\"`. */\n    alignCenter: {\n      textAlign: 'center'\n    },\n\n    /* Styles applied to the root element if `align=\"right\"`. */\n    alignRight: {\n      textAlign: 'right'\n    },\n\n    /* Styles applied to the root element if `align=\"justify\"`. */\n    alignJustify: {\n      textAlign: 'justify'\n    },\n\n    /* Styles applied to the root element if `nowrap={true}`. */\n    noWrap: {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `gutterBottom={true}`. */\n    gutterBottom: {\n      marginBottom: '0.35em'\n    },\n\n    /* Styles applied to the root element if `paragraph={true}`. */\n    paragraph: {\n      marginBottom: 16\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"textPrimary\"`. */\n    colorTextPrimary: {\n      color: theme.palette.text.primary\n    },\n\n    /* Styles applied to the root element if `color=\"textSecondary\"`. */\n    colorTextSecondary: {\n      color: theme.palette.text.secondary\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `display=\"inline\"`. */\n    displayInline: {\n      display: 'inline'\n    },\n\n    /* Styles applied to the root element if `display=\"block\"`. */\n    displayBlock: {\n      display: 'block'\n    }\n  };\n};\n\nexports.styles = styles;\nvar defaultVariantMapping = {\n  h1: 'h1',\n  h2: 'h2',\n  h3: 'h3',\n  h4: 'h4',\n  h5: 'h5',\n  h6: 'h6',\n  subtitle1: 'h6',\n  subtitle2: 'h6',\n  body1: 'p',\n  body2: 'p'\n};\nvar Typography = /*#__PURE__*/React.forwardRef(function Typography(props, ref) {\n  var _props$align = props.align,\n      align = _props$align === void 0 ? 'inherit' : _props$align,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'initial' : _props$color,\n      component = props.component,\n      _props$display = props.display,\n      display = _props$display === void 0 ? 'initial' : _props$display,\n      _props$gutterBottom = props.gutterBottom,\n      gutterBottom = _props$gutterBottom === void 0 ? false : _props$gutterBottom,\n      _props$noWrap = props.noWrap,\n      noWrap = _props$noWrap === void 0 ? false : _props$noWrap,\n      _props$paragraph = props.paragraph,\n      paragraph = _props$paragraph === void 0 ? false : _props$paragraph,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'body1' : _props$variant,\n      _props$variantMapping = props.variantMapping,\n      variantMapping = _props$variantMapping === void 0 ? defaultVariantMapping : _props$variantMapping,\n      other = (0, _objectWithoutProperties2.default)(props, [\"align\", \"classes\", \"className\", \"color\", \"component\", \"display\", \"gutterBottom\", \"noWrap\", \"paragraph\", \"variant\", \"variantMapping\"]);\n  var Component = component || (paragraph ? 'p' : variantMapping[variant] || defaultVariantMapping[variant]) || 'span';\n  return /*#__PURE__*/React.createElement(Component, (0, _extends2.default)({\n    className: (0, _clsx.default)(classes.root, className, variant !== 'inherit' && classes[variant], color !== 'initial' && classes[\"color\".concat((0, _capitalize.default)(color))], noWrap && classes.noWrap, gutterBottom && classes.gutterBottom, paragraph && classes.paragraph, align !== 'inherit' && classes[\"align\".concat((0, _capitalize.default)(align))], display !== 'initial' && classes[\"display\".concat((0, _capitalize.default)(display))]),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Typography.propTypes = {\n  /**\n   * Set the text-align on the component.\n   */\n  align: _propTypes.default.oneOf(['inherit', 'left', 'center', 'right', 'justify']),\n\n  /**\n   * The content of the component.\n   */\n  children: _propTypes.default.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: _propTypes.default.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: _propTypes.default.oneOf(['initial', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary', 'error']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   * Overrides the behavior of the `variantMapping` prop.\n   */\n  component: _propTypes.default\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Controls the display type\n   */\n  display: _propTypes.default.oneOf(['initial', 'block', 'inline']),\n\n  /**\n   * If `true`, the text will have a bottom margin.\n   */\n  gutterBottom: _propTypes.default.bool,\n\n  /**\n   * If `true`, the text will not wrap, but instead will truncate with a text overflow ellipsis.\n   *\n   * Note that text overflow can only happen with block or inline-block level elements\n   * (the element needs to have a width in order to overflow).\n   */\n  noWrap: _propTypes.default.bool,\n\n  /**\n   * If `true`, the text will have a bottom margin.\n   */\n  paragraph: _propTypes.default.bool,\n\n  /**\n   * Applies the theme typography styles.\n   */\n  variant: _propTypes.default.oneOf(['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'subtitle1', 'subtitle2', 'body1', 'body2', 'caption', 'button', 'overline', 'srOnly', 'inherit']),\n\n  /**\n   * The component maps the variant prop to a range of different HTML element types.\n   * For instance, subtitle1 to `<h6>`.\n   * If you wish to change that mapping, you can provide your own.\n   * Alternatively, you can use the `component` prop.\n   */\n  variantMapping: _propTypes.default.object\n} : void 0;\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiTypography'\n})(Typography);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar _utils = require(\"@material-ui/utils\");\n\nvar _FormControl = require(\"../FormControl\");\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar _Typography = _interopRequireDefault(require(\"../Typography\"));\n\nvar _capitalize = _interopRequireDefault(require(\"../utils/capitalize\"));\n\nvar styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -11,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -11\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\n\nexports.styles = styles;\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(props, ref) {\n  var checked = props.checked,\n      classes = props.classes,\n      className = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = (0, _objectWithoutProperties2.default)(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"]);\n  var muiFormControl = (0, _FormControl.useFormControl)();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"label\", (0, _extends2.default)({\n    className: (0, _clsx.default)(classes.root, className, labelPlacement !== 'end' && classes[\"labelPlacement\".concat((0, _capitalize.default)(labelPlacement))], disabled && classes.disabled),\n    ref: ref\n  }, other), /*#__PURE__*/React.cloneElement(control, controlProps), /*#__PURE__*/React.createElement(_Typography.default, {\n    component: \"span\",\n    className: (0, _clsx.default)(classes.label, disabled && classes.disabled)\n  }, label));\n});\nprocess.env.NODE_ENV !== \"production\" ? FormControlLabel.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component appears selected.\n   */\n  checked: _propTypes.default.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: _propTypes.default.object,\n\n  /**\n   * @ignore\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * A control element. For instance, it can be be a `Radio`, a `Switch` or a `Checkbox`.\n   */\n  control: _propTypes.default.element.isRequired,\n\n  /**\n   * If `true`, the control will be disabled.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: _utils.refType,\n\n  /**\n   * The text to be used in an enclosing label element.\n   */\n  label: _propTypes.default.node,\n\n  /**\n   * The position of the label.\n   */\n  labelPlacement: _propTypes.default.oneOf(['bottom', 'end', 'start', 'top']),\n\n  /**\n   * @ignore\n   */\n  name: _propTypes.default.string,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: _propTypes.default.func,\n\n  /**\n   * The value of the component.\n   */\n  value: _propTypes.default.any\n} : void 0;\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiFormControlLabel'\n})(FormControlLabel);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z\"\n}), 'ThumbUp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z\"\n}), 'ThumbDown');\n\nexports.default = _default;","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'DragIndicator');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\nvar styles = {\n  entering: {\n    transform: 'none'\n  },\n  entered: {\n    transform: 'none'\n  }\n};\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Zoom transition can be used for the floating variant of the\n * [Button](/components/buttons/#floating-action-buttons) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Zoom = /*#__PURE__*/React.forwardRef(function Zoom(props, ref) {\n  var children = props.children,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var foreignRef = useForkRef(children.ref, ref);\n  var handleRef = useForkRef(enableStrictModeCompat ? nodeRef : undefined, foreignRef);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEntering = normalizedTransitionCallback(onEntering);\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    reflow(node); // So the animation always start from the start.\n\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('transform', transitionProps);\n    node.style.transition = theme.transitions.create('transform', transitionProps);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('transform', transitionProps);\n    node.style.transition = theme.transitions.create('transform', transitionProps);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: inProp,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      style: _extends({\n        transform: 'scale(0)',\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, styles[state], style, children.props.style),\n      ref: handleRef\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Zoom.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * A single child content element.\n   */\n  children: PropTypes.element,\n\n  /**\n   * Enable this prop if you encounter 'Function components cannot be given refs',\n   * use `unstable_createStrictModeTheme`,\n   * and can't forward the ref in the child component.\n   */\n  disableStrictModeCompat: PropTypes.bool,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Zoom;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useEffect, useState } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport { DialogZyx, FieldSelect } from 'components';\r\nimport { getPaginatedReportVoiceCall, getRecordHSMGraphic, getRecordHSMReport, getReportGraphic, getVoiceCallReportExport } from 'common/helpers';\r\nimport { Dictionary, IFetchData } from \"@types\";\r\nimport TableZyx from '../components/fields/table-simple';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { cleanViewChange, exportData, getCollectionPaginated, getMainGraphic, getMultiCollectionAux2, resetMultiMain, setViewChange } from 'store/main/actions';\r\nimport { showBackdrop, showSnackbar } from 'store/popus/actions';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport {\r\n    Search as SearchIcon,\r\n} from '@material-ui/icons';\r\nimport { useForm } from 'react-hook-form';\r\nimport Graphic from 'components/fields/Graphic';\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nimport TablePaginated from 'components/fields/table-paginated';\r\nimport { IconButton, Tooltip } from '@material-ui/core';\r\nimport { CallRecordIcon } from 'icons';\r\nimport { VoximplantService } from 'network';\r\n\r\ninterface RowSelected {\r\n    row: Dictionary | null,\r\n    edit: boolean\r\n}\r\ninterface DetailVoiceChannelReportProps {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n}\r\n\r\nconst initialRange = {\r\n    startDate: new Date(new Date().setDate(1)),\r\n    endDate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n    key: 'selection'\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerHeader: {\r\n        padding: theme.spacing(1),\r\n    },\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n}));\r\n\r\nconst columnsTemp = [\r\n    \"ticketnum\",\r\n    \"channel\",\r\n    \"ticketdate\",\r\n    \"tickettime\",\r\n    \"finishtime\",\r\n    \"handoffdate\",\r\n    \"agent\",\r\n    \"name\",\r\n    \"phone\",\r\n    \"origin\",\r\n    \"closetype\",\r\n    \"classification\",\r\n    \"totalduration\",\r\n    \"agentduration\",\r\n    \"customerwaitingduration\",\r\n    \"holdingtime\",\r\n    \"transferduration\"\r\n]\r\n\r\nconst DetailVoiceChannelReport: React.FC<DetailVoiceChannelReportProps> = ({ data: { row }, setViewSelected }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiDataAux2 = useSelector(state => state.main.multiDataAux2);\r\n\r\n    function search(){\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getMultiCollectionAux2([\r\n            getRecordHSMReport({\r\n                name: row?.name || \"\",\r\n                from: row?.from || \"\",\r\n                date: row?.shippingdate || \"\",\r\n                type: row?.type || \"\",\r\n            })\r\n        ]))\r\n    }\r\n    useEffect(() => {\r\n        if (!multiDataAux2.loading){\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [multiDataAux2])\r\n\r\n    useEffect(() => {\r\n        search()\r\n    }, [])\r\n    \r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.recipientsname),\r\n                accessor: 'clientname',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.contact),\r\n                accessor: 'contact',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: `${t(langKeys.channel)}`,\r\n                accessor: 'channel',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: `${t(langKeys.origin)}`,\r\n                accessor: 'origin',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.group),\r\n                accessor: 'group',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.status),\r\n                accessor: 'status',\r\n                NoFilter: false,\r\n                prefixTranslation: 'status_',\r\n                Cell: (props: any) => {\r\n                    const { status } = props.cell.row.original;\r\n                    return (t(`status_${status}`.toLowerCase()) || \"\").toUpperCase()\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.communicationtemplate),\r\n                accessor: 'templatename',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.body),\r\n                accessor: 'body',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.log),\r\n                accessor: 'log',\r\n                NoFilter: false\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n\r\n    return (\r\n        <div style={{width: '100%'}}>\r\n            <div className={classes.containerDetail}>\r\n                <TableZyx\r\n                    titlemodule={`${row?.name_translated} (${row?.shippingdate})` || `${t(langKeys.recordhsmreport)} ${t(langKeys.detail)}`}\r\n                    ButtonsElement={() => (\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                    )}\r\n                    columns={columns}\r\n                    data={multiDataAux2.data[0]?.data||[]}\r\n                    download={true}\r\n                    loading={multiDataAux2.loading}\r\n                    register={false}\r\n                    filterGeneral={false}\r\n                // fetchData={fetchData}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst VoiceChannelReport: FC = () => {\r\n    \r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [view, setView] = useState('GRID');\r\n    const classes = useStyles()\r\n\r\n    const mainPaginated = useSelector(state => state.main.mainPaginated);\r\n    const resExportData = useSelector(state => state.main.exportData);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [totalrow, settotalrow] = useState(0);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitExport, setWaitExport] = useState(false);\r\n    const [fetchDataAux, setfetchDataAux] = useState<IFetchData>({ pageSize: 0, pageIndex: 0, filters: {}, sorts: {}, daterange: null })\r\n\r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"voicecallreport\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n    }, [])\r\n    \r\n    const downloadCallRecord = async (ticket: Dictionary) => {\r\n        // dispatch(getCallRecord({call_session_history_id: ticket.postexternalid}));\r\n        // setWaitDownloadRecord(true);\r\n        try {\r\n            const axios_result = await VoximplantService.getCallRecord({call_session_history_id: ticket.postexternalid});\r\n            if (axios_result.status === 200) {\r\n                let buff = Buffer.from(axios_result.data, 'base64');\r\n                const blob = new Blob([buff], {type: axios_result.headers['content-type'].split(';').find((x: string) => x.includes('audio'))});\r\n                const objectUrl = window.URL.createObjectURL(blob);\r\n                let a = document.createElement('a');\r\n                a.href = objectUrl;\r\n                a.download = ticket.ticketnum;\r\n                a.click();\r\n            }\r\n        }\r\n        catch (error: any) {\r\n            const errormessage = t(error?.response?.data?.code || \"error_unexpected_error\")\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n        }\r\n    }\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                accessor: 'postexternalid',\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return (row.postexternalid\r\n                        && row.callanswereddate ?\r\n                        <Tooltip title={t(langKeys.download_record) || \"\"}>\r\n                            <IconButton size=\"small\" onClick={() => downloadCallRecord(row)}\r\n                            >\r\n                                <CallRecordIcon style={{ fill: '#7721AD' }} />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        : null\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: `N° ${t(langKeys.ticket_numeroticket)}`,\r\n                accessor: 'ticketnum',\r\n                NoFilter: false,\r\n            },\r\n            {\r\n                Header: t(langKeys.channel),\r\n                accessor: 'channel',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.date),\r\n                accessor: 'ticketdate',\r\n                NoFilter: false, \r\n                type: 'date'\r\n            },\r\n            {\r\n                Header: `${t(langKeys.starttimecall)}`,\r\n                accessor: 'tickettime',\r\n                NoFilter: false,\r\n                type: 'time'\r\n            },\r\n            {\r\n                Header: `${t(langKeys.finishtimecall)}`,\r\n                accessor: 'finishtime',\r\n                NoFilter: false,\r\n                type: 'time'\r\n            },\r\n            {\r\n                Header: t(langKeys.transfertimecall),\r\n                accessor: 'handoffdate',\r\n                NoFilter: false,\r\n                helpText: t(langKeys.transfertimecall_tooltip),\r\n                type: 'time'\r\n            },\r\n            {\r\n                Header: t(langKeys.lastadvisername),\r\n                accessor: 'agent',\r\n                NoFilter: false,\r\n            },\r\n            {\r\n                Header: t(langKeys.person),\r\n                accessor: 'name',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.phone),\r\n                accessor: 'phone',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.origin),\r\n                accessor: 'origin',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.closetype),\r\n                accessor: 'closetype',\r\n                NoFilter: false\r\n            },\r\n            {\r\n                Header: t(langKeys.tipification),\r\n                accessor: 'classification',\r\n                NoFilter: false,\r\n                helpText: t(langKeys.tipification_tooltip)\r\n            },\r\n            {\r\n                Header: t(langKeys.totalTime),\r\n                accessor: 'totalduration',\r\n                NoFilter: false,\r\n                helpText: t(langKeys.totalTime_tooltip),\r\n                type: 'time'\r\n            },\r\n            {\r\n                Header: t(langKeys.advisorattentiontime),\r\n                accessor: 'agentduration',\r\n                NoFilter: false,\r\n                helpText: t(langKeys.advisorattentiontime_tooltip),\r\n                type: 'time'\r\n            },\r\n            {\r\n                Header: t(langKeys.customerwaitingtime),\r\n                accessor: 'customerwaitingduration',\r\n                NoFilter: false,\r\n                helpText: t(langKeys.customerwaitingtime_tooltip),\r\n                type: 'time'\r\n            },\r\n            {\r\n                Header: t(langKeys.callwaitingtime),\r\n                accessor: 'holdingtime',\r\n                NoFilter: false,\r\n                helpText: t(langKeys.callwaitingtime_tooltip),\r\n                type: 'time'\r\n            },\r\n            {\r\n                Header: t(langKeys.transfertime),\r\n                accessor: 'transferduration',\r\n                NoFilter: false,\r\n                helpText: t(langKeys.transfertime_tooltip),\r\n                type: 'time'\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (!multiData.loading){\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [multiData])\r\n\r\n    const fetchData = ({ pageSize, pageIndex, filters, sorts, daterange }: IFetchData) => {\r\n        setfetchDataAux({ pageSize, pageIndex, filters, sorts, daterange })\r\n        dispatch(getCollectionPaginated(getPaginatedReportVoiceCall({\r\n            startdate: daterange.startDate!,\r\n            enddate: daterange.endDate!,\r\n            take: pageSize,\r\n            skip: pageIndex * pageSize,\r\n            sorts: sorts,\r\n            filters: {\r\n                ...filters,\r\n            },\r\n        })))\r\n    };\r\n    \r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(resetMultiMain());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (waitExport) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.person).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitExport]);\r\n    \r\n    useEffect(() => {\r\n        if (!mainPaginated.loading && !mainPaginated.error) {\r\n            setPageCount(fetchDataAux.pageSize ? Math.ceil(mainPaginated.count / fetchDataAux.pageSize) : 0);\r\n            settotalrow(mainPaginated.count);\r\n        }\r\n    }, [mainPaginated])\r\n\r\n    \r\n    const triggerExportData = ({ filters, sorts, daterange }: IFetchData) => {\r\n        const columnsExport = columns.map(x => ({\r\n            key: x.accessor,\r\n            alias: x.Header,\r\n        }));\r\n        dispatch(exportData(getVoiceCallReportExport(\r\n            {\r\n                startdate: daterange.startDate!,\r\n                enddate: daterange.endDate!,\r\n                sorts,\r\n                filters: filters,\r\n            }), \"\", \"excel\", false, columnsExport));\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.property).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitSave])\r\n    \r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"recordhsmreport\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    \r\n    const handleView = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: false });\r\n    }\r\n\r\n    const handlerSearchGraphic = (daterange: any, column: string) => {\r\n        setfetchDataAux(prev => ({ ...prev, daterange }));\r\n        dispatch(getMainGraphic(getReportGraphic(\r\n            \"UFN_REPORT_VOICECALL_GRAPHIC\",\r\n            \"voicecall\",\r\n            {\r\n                filters: {},\r\n                sorts: {},\r\n                startdate: daterange?.startDate!,\r\n                enddate: daterange?.endDate!,\r\n                column,\r\n                summarization: 'COUNT',\r\n            }\r\n        )));\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div style={{ height: 10 }}></div>\r\n                {view === \"GRID\" ? (\r\n                    <TablePaginated\r\n                        //onClickRow={handleView}    \r\n                        columns={columns}\r\n                        fetchData={fetchData}\r\n                        data={mainPaginated.data}\r\n                        totalrow={totalrow}\r\n                        download={true}\r\n                        pageCount={pageCount}\r\n                        autotrigger={true}\r\n                        filterrange={true}\r\n                        filterGeneral={false}\r\n                        exportPersonalized={triggerExportData}\r\n                        loading={mainPaginated.loading}\r\n                        register={false}\r\n                        ButtonsElement={() => (\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={mainPaginated.loading || !(mainPaginated.data.length > 0)}\r\n                                onClick={() => setOpenModal(true)}\r\n                                startIcon={<AssessmentIcon />}\r\n                            >\r\n                                {t(langKeys.graphic_view)}\r\n                            </Button>\r\n                        )}\r\n                    />\r\n                ) : (\r\n                    <Graphic\r\n                        graphicType={view.split(\"-\")?.[1] || \"BAR\"}\r\n                        column={view.split(\"-\")?.[2] || \"summary\"}\r\n                        openModal={openModal}\r\n                        setOpenModal={setOpenModal}\r\n                        daterange={fetchDataAux.daterange}\r\n                        setView={setView}\r\n                        row={{origin: 'voicecall'}}\r\n                        handlerSearchGraphic={handlerSearchGraphic}\r\n                    />\r\n                )}\r\n                <SummaryGraphic\r\n                    openModal={openModal}\r\n                    setOpenModal={setOpenModal}\r\n                    setView={setView}\r\n                    daterange={fetchDataAux.daterange}\r\n                    columns={columnsTemp.map(c => ({\r\n                        key: c, value: `report_voicecall_${c}`\r\n                    }))}\r\n                    columnsprefix='report_voicecall_'\r\n                />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailVoiceChannelReport\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        )\r\n    } \r\n    else\r\n        return null;\r\n\r\n}\r\n\r\ninterface SummaryGraphicProps {\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => void;\r\n    setView: (value: string) => void;\r\n    row?: Dictionary | null;\r\n    daterange: any;\r\n    filters?: Dictionary;\r\n    columns: any[];\r\n    columnsprefix: string;\r\n}\r\n\r\nconst SummaryGraphic: React.FC<SummaryGraphicProps> = ({ openModal, setOpenModal, setView, row, daterange, filters, columns, columnsprefix }) => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm<any>({\r\n        defaultValues: {\r\n            graphictype: 'BAR',\r\n            column: ''\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        register('graphictype', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n        register('column', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    const handleCancelModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n    const handleAcceptModal = handleSubmit((data) => {\r\n        triggerGraphic(data);\r\n    });\r\n\r\n    const triggerGraphic = (data: any) => {\r\n        setView(`CHART-${data.graphictype}-${data.column}`);\r\n        setOpenModal(false);\r\n        dispatch(getMainGraphic(getRecordHSMGraphic(\r\n            {\r\n                startdate: daterange?.startDate!,\r\n                enddate: daterange?.endDate!,\r\n                column: data.column,\r\n                summarization: 'COUNT'\r\n            }\r\n        )));\r\n    }\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.graphic_configuration)}\r\n            button1Type=\"button\"\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton1={handleCancelModal}\r\n            button2Type=\"button\"\r\n            buttonText2={t(langKeys.accept)}\r\n            handleClickButton2={handleAcceptModal}\r\n        >\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_type)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('graphictype')}\r\n                    error={errors?.graphictype?.message}\r\n                    onChange={(value) => setValue('graphictype', value?.key)}\r\n                    data={[{ key: 'BAR', value: 'BAR' }, { key: 'PIE', value: 'PIE' }]}\r\n                    uset={true}\r\n                    prefixTranslation=\"graphic_\"\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                />\r\n            </div>\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_view_by)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('column')}\r\n                    error={errors?.column?.message}\r\n                    onChange={(value) => setValue('column', value?.key)}\r\n                    data={columns}\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                    uset={true}\r\n                    prefixTranslation=\"\"\r\n                />\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nexport default VoiceChannelReport;","export { default } from './Typography';","export { default } from './Paper';","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { FC } from \"react\";\r\nimport Card from \"@material-ui/core/Card/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\n\r\ninterface Indicator {\r\n    title: string;\r\n    value: string;\r\n    value2?: string\r\n}\r\n\r\nconst IndicatorPanel: FC<Indicator> = ({ title, value,value2 }) => {\r\n    return (\r\n        <Card>\r\n            <CardContent style={{paddingBottom: 10}}>\r\n                <Typography variant=\"body2\">\r\n                    {title}\r\n                </Typography>\r\n                <Typography variant=\"h5\" component=\"div\" align=\"center\">\r\n                    {value}\r\n                </Typography>\r\n                <Typography variant=\"subtitle2\" style={{display: \"flex\",width: \"100%\", paddingTop: 5, justifyContent: \"space-between\"}}>\r\n                    {value2}\r\n                </Typography>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default IndicatorPanel;","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"\n}), 'Settings');","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from 'hooks';\r\nimport { cleanViewChange, getCollectionAux, getMainGraphic, resetMainAux, setViewChange } from \"store/main/actions\";\r\nimport { getUserProductivityGraphic, getUserProductivitySel } from \"common/helpers/requestBodies\";\r\nimport { DateRangePicker, DialogZyx, FieldMultiSelect, FieldSelect, IOSSwitch } from \"components\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel/FormControlLabel\";\r\nimport { Box, Button, Card, CardContent, Grid, Tooltip, Typography } from \"@material-ui/core\";\r\nimport { CalendarIcon, DownloadIcon } from \"icons\";\r\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\r\nimport { Range } from 'react-date-range';\r\nimport IndicatorPanel from \"./IndicatorPanel\";\r\nimport clsx from 'clsx';\r\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport TableZyx from \"components/fields/table-simple\";\r\nimport { exportExcel } from 'common/helpers';\r\nimport { langKeys } from \"lang/keys\";\r\nimport { Dictionary, MultiData } from \"@types\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Graphic from \"components/fields/Graphic\";\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport { Settings } from \"@material-ui/icons\";\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\ninterface Assessor {\r\n    row: Dictionary | null;\r\n    multiData: MultiData[];\r\n    allFilters: Dictionary[];\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerFilter: {\r\n        width: '100%',\r\n        padding: \"10px\",\r\n        marginBottom: \"10px\",\r\n        display: 'flex',\r\n        gap: 8,\r\n        flexWrap: 'wrap',\r\n        backgroundColor: \"white\"\r\n    },\r\n    filterComponent: {\r\n        minWidth: '220px',\r\n        maxWidth: '260px'\r\n    },\r\n    containerHeader: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: 16,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n    containerDetails: {\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    BackGrRed: {\r\n        backgroundColor: \"#fb5f5f\",\r\n    },\r\n    BackGrGreen: {\r\n        backgroundColor: \"#55bd84\",\r\n    },\r\n    iconHelpText: {\r\n        width: 15,\r\n        height: 15,\r\n        cursor: 'pointer',\r\n    },\r\n    containerHeaderItem: {\r\n        backgroundColor: '#FFF',\r\n        padding: 8,\r\n        display: 'block',\r\n        flexWrap: 'wrap',\r\n        gap: 8,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n}));\r\n\r\nconst columnsTemp = [\r\n    \"usr\",\r\n    \"fullname\",\r\n    \"hourfirstlogin\",\r\n    \"totaltickets\",\r\n    \"closedtickets\",\r\n    \"asignedtickets\",\r\n    \"suspendedtickets\",\r\n    \"avgfirstreplytime\",\r\n    \"maxfirstreplytime\",\r\n    \"minfirstreplytime\",\r\n    \"maxtotalduration\",\r\n    \"mintotalduration\",\r\n    \"avgtotalasesorduration\",\r\n    \"maxtotalasesorduration\",\r\n    \"mintotalasesorduration\",\r\n    \"userconnectedduration\",\r\n    \"userstatus\",\r\n    \"groups\"\r\n]\r\n\r\nconst AssessorProductivity: FC<Assessor> = ({ row, multiData, allFilters }) => {\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n    const groups = user?.groups?.split(\",\").filter(x=>!!x) || [];\r\n    const mainAux = useSelector(state => state.main.mainAux);\r\n    const [groupsdata, setgroupsdata] = useState<any>([]);\r\n    const [allParameters, setAllParameters] = useState({});\r\n    const [dateRange, setdateRange] = useState<Range>({ startDate: new Date(new Date().setDate(1)), endDate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0), key: 'selection' });\r\n    const [openDateRangeModal, setOpenDateRangeModal] = useState(false);\r\n    const [state, setState] = useState({ checkedA: false, checkedB: false });\r\n    const [checkedA, setcheckedA] = useState(false);\r\n    const [isday, setisday] = useState(false);\r\n    const [columnGraphic, setColumnGraphic] = useState('');\r\n    const [maxmin, setmaxmin] = useState({\r\n        maxticketsclosed: 0,\r\n        maxticketsclosedasesor: \"\",\r\n        minticketsclosed: 0,\r\n        minticketsclosedasesor: \"\",\r\n        maxtimeconnected: \"0\",\r\n        maxtimeconnectedasesor: \"\",\r\n        mintimeconnected: \"0\",\r\n        mintimeconnectedasesor: \"\",\r\n    });\r\n    const [desconectedmotives, setDesconectedmotives] = useState<any[]>([]);\r\n\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [view, setView] = useState('GRID');\r\n\r\n    const [dataGrid, setdataGrid] = useState<any[]>([])\r\n    const [detailCustomReport, setDetailCustomReport] = useState<{\r\n        loading: boolean;\r\n        data: Dictionary[]\r\n    }>({\r\n        loading: false,\r\n        data: []\r\n    })\r\n\r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"report_userproductivity\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.report_userproductivity_user),\r\n                accessor: 'usr',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_fullname),\r\n                accessor: 'fullname',\r\n            },\r\n            ...(isday ? [{\r\n                Header: t(langKeys.report_userproductivity_hourfirstlogin),\r\n                accessor: 'hourfirstlogin',\r\n            }] : []),\r\n            {\r\n                Header: t(langKeys.report_userproductivity_totaltickets),\r\n                accessor: 'totaltickets',\r\n                type: \"number\",\r\n                sortType: 'number',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_closedtickets),\r\n                accessor: 'closedtickets',\r\n                type: \"number\",\r\n                sortType: 'number',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_asignedtickets),\r\n                accessor: 'asignedtickets',\r\n                type: \"number\",\r\n                sortType: 'number',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_suspendedtickets),\r\n                accessor: 'suspendedtickets',\r\n                type: \"number\",\r\n                sortType: 'number',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_avgfirstreplytime),\r\n                accessor: 'avgfirstreplytime',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_maxfirstreplytime),\r\n                accessor: 'maxfirstreplytime',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_minfirstreplytime),\r\n                accessor: 'minfirstreplytime',\r\n            },\r\n            // {\r\n            //     Header: t(langKeys.report_userproductivity_avgtotalduration),\r\n            //     accessor: 'avgtotalduration',\r\n            //     NoFilter: false\r\n            // },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_maxtotalduration),\r\n                accessor: 'maxtotalduration',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_mintotalduration),\r\n                accessor: 'mintotalduration',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_avgtotalasesorduration),\r\n                accessor: 'avgtotalasesorduration',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_maxtotalasesorduration),\r\n                accessor: 'maxtotalasesorduration',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_mintotalasesorduration),\r\n                accessor: 'mintotalasesorduration',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_userconnectedduration),\r\n                accessor: 'userconnectedduration',\r\n                type: \"number\",\r\n                sortType: 'number',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_userstatus),\r\n                accessor: 'userstatus',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_userproductivity_groups),\r\n                accessor: 'groups',\r\n            },\r\n            ...(mainAux.data.length > 0 ?\r\n                [...desconectedmotives.map((d: any) =>\r\n                ({\r\n                    Header: d,\r\n                    accessor: d,\r\n                })\r\n                )\r\n                ] : []\r\n            )\r\n        ],\r\n        [isday, mainAux, desconectedmotives]\r\n    );\r\n\r\n    useEffect(() => {\r\n        if(allFilters){\r\n            let groupitem = allFilters.find(e=>e.values[0].label === \"group\")\r\n            if(!!groupitem){\r\n                let arraygroups = multiData[multiData.findIndex(x => x.key === (groupitem?.values[0].isListDomains ? groupitem?.values[0].filter + \"_\" + groupitem?.values[0].domainname : groupitem?.values[0].filter))]\r\n                setgroupsdata(groups.length > 0?arraygroups.data.filter(x => groups.includes(x.domainvalue)):arraygroups.data)\r\n            }\r\n        }\r\n    }, [multiData,allFilters])\r\n    useEffect(() => {\r\n        if (!mainAux.error && !mainAux.loading && mainAux.key === \"UFN_REPORT_USERPRODUCTIVITY_SEL\") {\r\n            setDetailCustomReport(mainAux);\r\n            setdataGrid(mainAux.data.map(x => ({ ...x, ...JSON.parse(x.desconectedtimejson) })))\r\n            let maxminaux = {\r\n                maxticketsclosed: 0,\r\n                maxticketsclosedasesor: \"\",\r\n                minticketsclosed: 0,\r\n                minticketsclosedasesor: \"\",\r\n                maxtimeconnected: \"0\",\r\n                maxtimeconnectedasesor: \"\",\r\n                mintimeconnected: \"0\",\r\n                mintimeconnectedasesor: \"\",\r\n            }\r\n            if (mainAux.data.length > 0) {\r\n                const desconedtedmotives = Array.from(new Set((mainAux.data as any).reduce((ac: string[], x: any) => (\r\n                    x.desconectedtimejson ? [...ac, ...Object.keys(JSON.parse(x.desconectedtimejson))] : ac), [])));\r\n                setDesconectedmotives([...desconedtedmotives]);\r\n                mainAux.data.filter(x => x.usertype !== 'HOLDING').forEach((x, i) => {\r\n                    if (i === 0) {\r\n                        maxminaux = {\r\n                            maxticketsclosed: x.closedtickets,\r\n                            maxticketsclosedasesor: x.fullname,\r\n                            minticketsclosed: x.closedtickets,\r\n                            minticketsclosedasesor: x.fullname,\r\n                            maxtimeconnected: x.userconnectedduration,\r\n                            maxtimeconnectedasesor: x.fullname,\r\n                            mintimeconnected: x.userconnectedduration,\r\n                            mintimeconnectedasesor: x.fullname,\r\n                        }\r\n                    } else {\r\n                        if (maxminaux.maxticketsclosed < x.closedtickets) {\r\n                            maxminaux.maxticketsclosed = x.closedtickets\r\n                            maxminaux.maxticketsclosedasesor = x.fullname\r\n                        }\r\n                        if (maxminaux.minticketsclosed > x.closedtickets) {\r\n                            maxminaux.minticketsclosed = x.closedtickets\r\n                            maxminaux.minticketsclosedasesor = x.fullname\r\n                        }\r\n                        if (parseInt(maxminaux.maxtimeconnected) < parseInt(x.userconnectedduration)) {\r\n                            maxminaux.maxtimeconnected = x.userconnectedduration\r\n                            maxminaux.maxtimeconnectedasesor = x.fullname\r\n                        }\r\n                        if (parseInt(maxminaux.mintimeconnected) > parseInt(x.userconnectedduration)) {\r\n                            maxminaux.mintimeconnected = x.userconnectedduration\r\n                            maxminaux.mintimeconnectedasesor = x.fullname\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            setmaxmin(maxminaux)\r\n        }\r\n    }, [mainAux])\r\n\r\n    useEffect(() => {\r\n        setAllParameters({\r\n            ...allParameters,\r\n            startdate: dateRange.startDate ? new Date(dateRange.startDate.setHours(10)).toISOString().substring(0, 10) : null,\r\n            enddate: dateRange.endDate ? new Date(dateRange.endDate.setHours(10)).toISOString().substring(0, 10) : null\r\n        });\r\n    }, [dateRange]);\r\n\r\n    const fetchData = () => {\r\n        let stardate = dateRange.startDate ? new Date(dateRange.startDate.setHours(10)).toISOString().substring(0, 10) : null\r\n        let enddate = dateRange.endDate ? new Date(dateRange.endDate.setHours(10)).toISOString().substring(0, 10) : null\r\n        setisday(stardate === enddate)\r\n        dispatch(resetMainAux());\r\n        dispatch(getCollectionAux(getUserProductivitySel({ ...allParameters })));\r\n\r\n        if (view !== \"GRID\") {\r\n            dispatch(getMainGraphic(getUserProductivityGraphic(\r\n                {\r\n                    ...allParameters,\r\n                    // startdate: daterange?.startDate!,\r\n                    // enddate: daterange?.endDate!,\r\n                    column: columnGraphic,\r\n                    summarization: 'COUNT'\r\n                }\r\n            )));\r\n        }\r\n    };\r\n\r\n    const setValue = (parameterName: any, value: any) => {\r\n        setAllParameters({ ...allParameters, [parameterName]: value });\r\n    }\r\n\r\n    const handleChange = (event: any) => {\r\n        setState({ ...state, [event.target.name]: event.target.checked });\r\n        setValue(\"bot\", event.target.checked);\r\n        setcheckedA(event.target.checked)\r\n    };\r\n\r\n    const format = (date: Date) => date.toISOString().split('T')[0];\r\n\r\n    const handlerSearchGraphic = (daterange: any, column: string) => {\r\n        dispatch(getMainGraphic(getUserProductivityGraphic(\r\n            {\r\n                ...allParameters,\r\n                startdate: daterange?.startDate!,\r\n                enddate: daterange?.endDate!,\r\n                column,\r\n                summarization: 'COUNT'\r\n            }\r\n        )));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.containerFilter}>\r\n                <div style={{ display: 'flex' }}>\r\n                    <Box width={1}>\r\n                        <Box className={classes.containerHeader} justifyContent=\"space-between\" alignItems=\"center\">\r\n                            <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\r\n                                <DateRangePicker\r\n                                    open={openDateRangeModal}\r\n                                    setOpen={setOpenDateRangeModal}\r\n                                    range={dateRange}\r\n                                    onSelect={setdateRange}\r\n                                >\r\n                                    <Button\r\n                                        disabled={detailCustomReport.loading}\r\n                                        style={{ border: '1px solid #bfbfc0', borderRadius: 4, color: 'rgb(143, 146, 161)' }}\r\n                                        startIcon={<CalendarIcon />}\r\n                                        onClick={() => setOpenDateRangeModal(!openDateRangeModal)}\r\n                                    >\r\n                                        {format(dateRange.startDate!) + \" - \" + format(dateRange.endDate!)}\r\n                                    </Button>\r\n                                </DateRangePicker>\r\n                            </div>\r\n                        </Box>\r\n                    </Box>\r\n                </div>\r\n                {\r\n                    allFilters.map(filtro => (\r\n                        (filtro.values[0].multiselect ?\r\n                            <FieldMultiSelect\r\n                                limitTags={1}\r\n                                label={t('report_' + row?.origin + '_filter_' + filtro.values[0].label || '')}\r\n                                className={classes.filterComponent}\r\n                                key={filtro.values[0].isListDomains ? filtro.values[0].filter + \"_\" + filtro.values[0].domainname : filtro.values[0].filter}\r\n                                onChange={(value) => setValue(filtro.values[0].parameterName, value ? value.map((o: Dictionary) => o[filtro.values[0].optionValue]).join() : '')}\r\n                                variant=\"outlined\"\r\n                                data={filtro.values[0].label===\"group\"?\r\n                                    groupsdata:\r\n                                    multiData[multiData.findIndex(x => x.key === (filtro.values[0].isListDomains ? filtro.values[0].filter + \"_\" + filtro.values[0].domainname : filtro.values[0].filter))].data}\r\n                                optionDesc={filtro.values[0].optionDesc}\r\n                                optionValue={filtro.values[0].optionValue}\r\n                            />\r\n                            :\r\n                            <FieldSelect\r\n                                label={t('report_' + row?.origin + '_filter_' + filtro.values[0].label || '')}\r\n                                className={classes.filterComponent}\r\n                                key={filtro.values[0].isListDomains ? filtro.values[0].filter + \"_\" + filtro.values[0].domainname : filtro.values[0].filter}\r\n                                onChange={(value) => setValue(filtro.values[0].parameterName, value ? value[filtro.values[0].optionValue] : '')}\r\n                                variant=\"outlined\"\r\n                                data={multiData[multiData.findIndex(x => x.key === filtro.values[0].isListDomains ? filtro.values[0].filter + \"_\" + filtro.values[0].domainname : filtro.values[0].filter)].data}\r\n                                optionDesc={filtro.values[0].optionDesc}\r\n                                optionValue={filtro.values[0].optionValue}\r\n                            />\r\n                        )\r\n                    )\r\n                    )\r\n                }\r\n                <div style={{ alignItems: 'center' }}>\r\n                    <div>\r\n                        <Box fontWeight={500} lineHeight=\"18px\" fontSize={14} color=\"textPrimary\">{t(langKeys.report_userproductivity_filter_includebot)}</Box>\r\n                        <FormControlLabel\r\n                            style={{ paddingLeft: 10 }}\r\n                            control={<IOSSwitch checked={checkedA} onChange={handleChange} />}\r\n                            label={checkedA ? t(langKeys.yes) : \"No\"}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div style={{ display: 'flex' }}>\r\n                    <Box width={1}>\r\n                        <Box className={classes.containerHeader} justifyContent=\"space-between\" alignItems=\"center\">\r\n                            <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\r\n                                <Button\r\n                                    disabled={detailCustomReport.loading}\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    style={{ backgroundColor: '#55BD84', width: 120 }}\r\n                                    onClick={() => {\r\n                                        setDetailCustomReport({\r\n                                            loading: true,\r\n                                            data: []\r\n                                        })\r\n                                        fetchData()\r\n                                    }}\r\n                                >{t(langKeys.refresh)}\r\n                                </Button>\r\n                            </div>\r\n                        </Box>\r\n                    </Box>\r\n                </div>\r\n            </div>\r\n\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12} md={6} lg={6}>\r\n                    <div>\r\n                        <Grid container spacing={1} >\r\n                            <Grid item xs={12} md={12} lg={12}>\r\n                                <Card className={clsx({\r\n                                    [classes.BackGrGreen]: (detailCustomReport.data[0]?.cardavgavgtme <= detailCustomReport.data[0]?.tmeesperadogeneral),\r\n                                    [classes.BackGrRed]: (detailCustomReport.data[0]?.cardavgavgtme > detailCustomReport.data[0]?.tmeesperadogeneral),\r\n                                })} style={{ color: \"white\" }}>\r\n                                    <CardContent style={{ paddingBottom: 10 }}>\r\n                                        <Typography variant=\"h5\">\r\n                                            {t(langKeys.report_userproductivity_cardtme)}\r\n                                            <Tooltip title={`${t(langKeys.tmetooltip)}`} placement=\"top-start\">\r\n                                                <InfoIcon style={{padding: \"5px 0 0 5px\"}} />\r\n                                            </Tooltip>\r\n                                        </Typography>\r\n                                        <Typography variant=\"h5\" component=\"div\" align=\"center\">\r\n                                            {detailCustomReport.data[0]?.cardavgavgtme}\r\n                                        </Typography>\r\n                                        <Typography variant=\"subtitle2\" style={{ display: \"flex\", width: \"100%\", paddingTop: 5, justifyContent: \"space-between\" }}>\r\n                                            {`${t(langKeys.tmeexpected)} ${detailCustomReport.data[0]?.tmeesperadogeneral || \"\"}`}\r\n                                            {(detailCustomReport.data[0]?.cardavgavgtme <= detailCustomReport.data[0]?.tmeesperadogeneral) ? (<ThumbUpIcon />) : (<ThumbDownIcon />)}\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12} lg={6}>\r\n                                <IndicatorPanel\r\n                                    title={t(langKeys.report_userproductivity_cardavgmax_tme)}\r\n                                    value={detailCustomReport.data[0]?.cardavgmaxtme}\r\n                                    value2={detailCustomReport.data[0]?.cardavgmaxtmeuser || \"-\"}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12} lg={6}>\r\n                                <IndicatorPanel\r\n                                    title={t(langKeys.report_userproductivity_cardmaxmax_tme)}\r\n                                    value={detailCustomReport.data[0]?.cardmaxmaxtme}\r\n                                    value2={detailCustomReport.data[0]?.cardmaxmaxtmeuser ? `#${detailCustomReport.data[0]?.cardmaxmaxtmeticket} (${detailCustomReport.data[0]?.cardmaxmaxtmeuser})` : \"-\"}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12} lg={6}>\r\n                                <IndicatorPanel\r\n                                    title={t(langKeys.report_userproductivity_cardavgmin_tme)}\r\n                                    value={detailCustomReport.data[0]?.cardavgmintme}\r\n                                    value2={detailCustomReport.data[0]?.cardavgmintmeuser || \"-\"}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12} lg={6}>\r\n                                <IndicatorPanel\r\n                                    title={t(langKeys.report_userproductivity_cardminmin_tme)}\r\n                                    value={detailCustomReport.data[0]?.cardminmintme}\r\n                                    value2={detailCustomReport.data[0]?.cardminmintmeuser ? `#${detailCustomReport.data[0]?.cardminmintmeticket} (${detailCustomReport.data[0]?.cardminmintmeuser})` : \"-\"}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={6}>\r\n                    <div>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={12} md={12} lg={12}>\r\n                                <Card className={clsx({\r\n                                    [classes.BackGrGreen]: (detailCustomReport.data[0]?.cardavgavgtmo <= detailCustomReport.data[0]?.tmoesperadogeneral),\r\n                                    [classes.BackGrRed]: (detailCustomReport.data[0]?.cardavgavgtmo > detailCustomReport.data[0]?.tmoesperadogeneral),\r\n                                })} style={{ color: \"white\" }}>\r\n                                    <CardContent style={{ paddingBottom: 10 }}>\r\n                                        <Typography variant=\"h5\">\r\n                                            {t(langKeys.report_userproductivity_cardtmo)}\r\n                                            <Tooltip title={`${t(langKeys.tmotooltip)}`} placement=\"top-start\">\r\n                                                <InfoIcon style={{padding: \"5px 0 0 5px\"}} />\r\n                                            </Tooltip>\r\n                                        </Typography>\r\n                                        <Typography variant=\"h5\" component=\"div\" align=\"center\">\r\n                                            {detailCustomReport.data[0]?.cardavgavgtmo}\r\n                                        </Typography>\r\n                                        <Typography variant=\"subtitle2\" style={{ display: \"flex\", width: \"100%\", paddingTop: 5, justifyContent: \"space-between\" }}>\r\n                                            {`${t(langKeys.tmoexpected)} ${detailCustomReport.data[0]?.tmoesperadogeneral || \"\"}`}\r\n                                            {(detailCustomReport.data[0]?.cardavgavgtmo <= detailCustomReport.data[0]?.tmoesperadogeneral) ? (<ThumbUpIcon />) : (<ThumbDownIcon />)}\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12} lg={6}>\r\n                                <IndicatorPanel\r\n                                    title={t(langKeys.report_userproductivity_cardavgmax_tmo)}\r\n                                    value={detailCustomReport.data[0]?.cardavgmaxtmo}\r\n                                    value2={detailCustomReport.data[0]?.cardavgmaxtmouser || \"-\"}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12} lg={6}>\r\n                                <IndicatorPanel\r\n                                    title={t(langKeys.report_userproductivity_cardmaxmax_tmo)}\r\n                                    value={detailCustomReport.data[0]?.cardmaxmaxtmo}\r\n                                    value2={detailCustomReport.data[0]?.cardmaxmaxtmouser ? `#${detailCustomReport.data[0]?.cardmaxmaxtmoticket} (${detailCustomReport.data[0]?.cardmaxmaxtmouser})` : \"-\"}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12} lg={6}>\r\n                                <IndicatorPanel\r\n                                    title={t(langKeys.report_userproductivity_cardavgmin_tmo)}\r\n                                    value={detailCustomReport.data[0]?.cardavgmintmo}\r\n                                    value2={detailCustomReport.data[0]?.cardavgmintmouser || \"-\"}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12} lg={6}>\r\n                                <IndicatorPanel\r\n                                    title={t(langKeys.report_userproductivity_cardminmin_tmo)}\r\n                                    value={detailCustomReport.data[0]?.cardminmintmo}\r\n                                    value2={detailCustomReport.data[0]?.cardminmintmouser ? `#${detailCustomReport.data[0]?.cardminmintmoticket} (${detailCustomReport.data[0]?.cardminmintmouser})` : \"-\"}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Grid container spacing={3} className={classes.containerDetails}>\r\n                <Grid item xs={12} md={6} lg={6}>\r\n                    <Card>\r\n                        <CardContent style={{ paddingBottom: 10, display: \"flex\" }}>\r\n                            <div style={{ flex: 1 }}>\r\n                                <Typography variant=\"body2\">\r\n                                    {t(langKeys.report_userproductivity_totalclosedtickets)}\r\n                                </Typography>\r\n                                <Typography variant=\"h5\" component=\"div\" align=\"center\">\r\n                                    {detailCustomReport.data[0]?.totalclosedtickets}\r\n                                </Typography>\r\n                            </div>\r\n                            <div style={{ flex: 1 }}>\r\n                                <Typography variant=\"subtitle1\" >\r\n                                    {maxmin.maxticketsclosedasesor} ({maxmin.maxticketsclosed})\r\n                                    <Tooltip title={<div style={{ fontSize: 12 }}>{t(langKeys.report_userproductivity_maxticketsclosedasesorhelptext)}</div>} arrow placement=\"top\" >\r\n                                        <InfoRoundedIcon color=\"action\" className={classes.iconHelpText} />\r\n                                    </Tooltip>\r\n                                </Typography>\r\n                                <Typography variant=\"subtitle1\">\r\n                                    {maxmin.minticketsclosedasesor} ({maxmin.minticketsclosed})\r\n                                    <Tooltip title={<div style={{ fontSize: 12 }}>{t(langKeys.report_userproductivity_minticketsclosedasesorhelptext)}</div>} arrow placement=\"top\" >\r\n                                        <InfoRoundedIcon color=\"action\" className={classes.iconHelpText} />\r\n                                    </Tooltip>\r\n                                </Typography>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={6}>\r\n                    <Card>\r\n                        <CardContent style={{ paddingBottom: 10, display: \"flex\" }}>\r\n                            <div style={{ flex: 1 }}>\r\n                                <Typography variant=\"body2\">\r\n                                    N° {t(langKeys.report_userproductivity_usersconnected)}\r\n                                </Typography>\r\n                                <Typography variant=\"h5\" component=\"div\" align=\"center\">\r\n                                    {detailCustomReport.data[0]?.usersconnected}\r\n                                </Typography>\r\n                            </div>\r\n                            <div style={{ flex: 1 }}>\r\n                                <Typography variant=\"subtitle1\">\r\n                                    {maxmin.maxtimeconnectedasesor} ({maxmin.maxtimeconnected} m)\r\n                                    <Tooltip title={<div style={{ fontSize: 12 }}>{t(langKeys.report_userproductivity_maxtimeconnectedasesorhelptext)}</div>} arrow placement=\"top\" >\r\n                                        <InfoRoundedIcon color=\"action\" className={classes.iconHelpText} />\r\n                                    </Tooltip>\r\n                                </Typography>\r\n                                <Typography variant=\"subtitle1\">\r\n                                    {maxmin.mintimeconnectedasesor} ({maxmin.mintimeconnected} m)\r\n                                    <Tooltip title={<div style={{ fontSize: 12 }}>{t(langKeys.report_userproductivity_mintimeconnectedasesorhelptext)}</div>} arrow placement=\"top\" >\r\n                                        <InfoRoundedIcon color=\"action\" className={classes.iconHelpText} />\r\n                                    </Tooltip>\r\n                                </Typography>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {view === \"GRID\" ? (\r\n                <TableZyx\r\n                    columns={columns}\r\n                    filterGeneral={false}\r\n                    data={dataGrid}\r\n                    download={false}\r\n                    loading={detailCustomReport.loading}\r\n                    register={false}\r\n                    ButtonsElement={() => (\r\n                        <Box width={1} style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8 }}>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={detailCustomReport.loading || !(detailCustomReport.data.length > 0)}\r\n                                onClick={() => setOpenModal(true)}\r\n                                startIcon={<AssessmentIcon />}\r\n                            >\r\n                                {t(langKeys.graphic_view)}\r\n                            </Button>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={detailCustomReport.loading}\r\n                                onClick={() => exportExcel(\"report\" + (new Date().toISOString()), dataGrid, columns.filter((x: any) => (!x.isComponent && !x.activeOnHover)))}\r\n                                startIcon={<DownloadIcon />}\r\n                            >{t(langKeys.download)}\r\n                            </Button>\r\n                        </Box>\r\n                    )}\r\n                />\r\n            ) : (\r\n                <div>\r\n                    <Box style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8 }} className={classes.containerHeaderItem}>\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={detailCustomReport.loading || !(detailCustomReport.data.length > 0)}\r\n                            onClick={() => setOpenModal(true)}\r\n                            startIcon={<Settings />}\r\n                        >\r\n                            {t(langKeys.configuration)}\r\n                        </Button>\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => setView('GRID')}\r\n                            startIcon={<ListIcon />}\r\n                        >\r\n                            {t(langKeys.grid_view)}\r\n                        </Button>\r\n                    </Box>\r\n                    <Graphic\r\n                        graphicType={view.split(\"-\")?.[1] || \"BAR\"}\r\n                        column={view.split(\"-\")?.[2] || \"summary\"}\r\n                        openModal={openModal}\r\n                        setOpenModal={setOpenModal}\r\n                        daterange={{\r\n                            startDate: dateRange.startDate?.toISOString().substring(0, 10),\r\n                            endDate: dateRange.endDate?.toISOString().substring(0, 10),\r\n                        }}\r\n                        withFilters={false}\r\n                        setView={setView}\r\n                        withButtons={false}\r\n                        row={{ origin: 'userproductivity' }}\r\n                        handlerSearchGraphic={handlerSearchGraphic}\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n            <SummaryGraphic\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                setColumnGraphic={setColumnGraphic}\r\n                setView={setView}\r\n                daterange={dateRange}\r\n                filters={allParameters}\r\n                columns={[\r\n                    ...columnsTemp.map(c => ({\r\n                        key: c, value: `report_userproductivity_${c}`\r\n                    })),\r\n                    ...desconectedmotives.map((d: any) =>\r\n                    ({\r\n                        key: `desconectedtimejson::json->>'${d}'`,\r\n                        value: d\r\n                    })\r\n                    )\r\n                ]}\r\n            />\r\n        </>\r\n    )\r\n};\r\n\r\ninterface SummaryGraphicProps {\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => void;\r\n    setView: (value: string) => void;\r\n    setColumnGraphic: (value: string) => void;\r\n    row?: Dictionary | null;\r\n    daterange: any;\r\n    filters?: Dictionary;\r\n    columns: any[];\r\n    columnsprefix?: string;\r\n}\r\n\r\nconst SummaryGraphic: React.FC<SummaryGraphicProps> = ({ openModal, setOpenModal, setView, row, daterange, filters, columns, setColumnGraphic }) => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm<any>({\r\n        defaultValues: {\r\n            graphictype: 'BAR',\r\n            column: ''\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        register('graphictype', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n        register('column', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    const handleCancelModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n    const handleAcceptModal = handleSubmit((data) => {\r\n        triggerGraphic(data);\r\n    });\r\n\r\n    const triggerGraphic = (data: any) => {\r\n        setView(`CHART-${data.graphictype}-${data.column?.split('::')[0]}`);\r\n        setOpenModal(false);\r\n        setColumnGraphic(data.column)\r\n        dispatch(getMainGraphic(getUserProductivityGraphic(\r\n            {\r\n                ...filters,\r\n                column: data.column,\r\n                summarization: 'COUNT'\r\n            }\r\n        )));\r\n    }\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.graphic_configuration)}\r\n            button1Type=\"button\"\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton1={handleCancelModal}\r\n            button2Type=\"button\"\r\n            buttonText2={t(langKeys.accept)}\r\n            handleClickButton2={handleAcceptModal}\r\n        >\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_type)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('graphictype')}\r\n                    error={errors?.graphictype?.message}\r\n                    onChange={(value) => setValue('graphictype', value?.key)}\r\n                    data={[{ key: 'BAR', value: 'BAR' }, { key: 'PIE', value: 'PIE' }]}\r\n                    uset={true}\r\n                    prefixTranslation=\"graphic_\"\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                />\r\n            </div>\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_view_by)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('column')}\r\n                    error={errors?.column?.message}\r\n                    onChange={(value) => setValue('column', value?.key)}\r\n                    data={columns}\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                    uset={true}\r\n                    prefixTranslation=\"\"\r\n                />\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nexport default AssessorProductivity;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport clsx from 'clsx';\r\nimport Button from '@material-ui/core/Button';\r\nimport { TemplateBreadcrumbs, TitleDetail, FieldEdit, FieldSelect, FieldEditArray } from 'components';\r\nimport { insertReportTemplate, getColumnsOrigin } from 'common/helpers';\r\nimport { Dictionary } from \"@types\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { useTranslation, Trans } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { useForm, useFieldArray } from 'react-hook-form';\r\nimport { cleanViewChange, execute, getCollectionAux, setViewChange } from 'store/main/actions';\r\nimport { showSnackbar, showBackdrop, manageConfirmation } from 'store/popus/actions';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { IconButton, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { DialogZyx } from 'components'\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { SearchIcon } from 'icons';\r\nimport { FixedSizeList } from 'react-window';\r\nimport AutoSizer from 'react-virtualized-auto-sizer';\r\nimport { Done } from '@material-ui/icons';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\ninterface RowSelected {\r\n    row: Dictionary | null,\r\n    edit: boolean\r\n}\r\n\r\ninterface DetailReportDesignerProps {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n    fetchData: () => void\r\n}\r\n\r\nconst dataSummarization = [\r\n    { function: 'total', type: [\"double precision\", \"bigint\", \"integer\", \"numeric\", \"interval\"] },\r\n    { function: 'count', type: [\"double precision\", \"boolean\", \"timestamp without time zone\", \"character varying\", \"text\", \"bigint\", \"integer\", \"numeric\", \"date\", \"interval\", \"variable\"] },\r\n    { function: 'count_unique', type: [\"double precision\", \"boolean\", \"timestamp without time zone\", \"character varying\", \"text\", \"bigint\", \"integer\", \"numeric\", \"date\", \"interval\", \"variable\"] },\r\n    { function: 'average', type: [\"double precision\", \"bigint\", \"integer\", \"numeric\", \"interval\"] },\r\n    { function: 'minimum', type: [\"double precision\", \"bigint\", \"integer\", \"numeric\", \"interval\", \"timestamp without time zone\", \"date\"] },\r\n    { function: 'maximum', type: [\"double precision\", \"bigint\", \"integer\", \"numeric\", \"interval\", \"timestamp without time zone\", \"date\"] },\r\n    { function: 'median', type: [\"double precision\", \"bigint\", \"integer\", \"numeric\", \"interval\"] },\r\n    { function: 'mode', type: [\"double precision\", \"bigint\", \"integer\", \"numeric\", \"interval\", \"boolean\", \"character varying\", \"text\", \"variable\"] },\r\n];\r\n\r\nconst arrayBread = (view1: string, view2: string) => [\r\n    { id: \"view-1\", name: view1 },\r\n    { id: \"view-2\", name: view2 }\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerDetail: {\r\n        // marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    title: {\r\n        fontSize: '22px',\r\n        color: theme.palette.text.primary,\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    variableInfo: {\r\n        flex: '0 0 150px',\r\n        padding: '2px 4px',\r\n        overflowX: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: '#e1e1e1'\r\n        }\r\n    },\r\n    itemSelected: {\r\n        fontSize: 14,\r\n        fontWeight: 400,\r\n        lineHeight: 1.5,\r\n        paddingTop: 10.5,\r\n        paddingBottom: 10.5\r\n    },\r\n    nodata: {\r\n        color: '#898989',\r\n        width: '100%',\r\n        display: 'flex',\r\n        height: '100%',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    colorVariable: {\r\n        color: '#7721AD'\r\n    }\r\n}));\r\n\r\ntype IColumnTemplate = {\r\n    columnname: string;\r\n    description: string;\r\n    join_alias: string;\r\n    join_on: string;\r\n    join_table: string;\r\n    tablename: string;\r\n    type: string;\r\n    alias: string;\r\n    id: any;\r\n}\r\n\r\ntype IFilter = {\r\n    description: string;\r\n    columnname: string;\r\n    type: string;\r\n    id: any;\r\n    filter: string;\r\n    join_alias: string;\r\n    type_filter: string;\r\n    join_on: string;\r\n    join_table: string;\r\n}\r\n\r\ntype ISummarization = {\r\n    columnname: string;\r\n    type: string;\r\n    description: string;\r\n    function: string;\r\n    id: any;\r\n}\r\n\r\ntype FormFields = {\r\n    reporttemplateid: number;\r\n    description: string;\r\n    status: string;\r\n    startdate: string;\r\n    finishdate: string;\r\n    usergroup: string;\r\n    channels: string;\r\n    tags: string;\r\n    operation: string;\r\n    dataorigin: string;\r\n    columns: IColumnTemplate[],\r\n    filters: IFilter[],\r\n    summary: ISummarization[],\r\n}\r\n\r\nconst DialogManageColumns: React.FC<{\r\n    setOpenDialogVariables: (param: any) => void;\r\n    setColumnsSelected: (param: any) => void;\r\n    openDialogVariables: boolean;\r\n    columnsAlreadySelected: IColumnTemplate[];\r\n}> = ({ setOpenDialogVariables, openDialogVariables, setColumnsSelected, columnsAlreadySelected }) => {\r\n\r\n    const classes = useStyles();\r\n    const { t } = useTranslation();\r\n    const mainAuxRes = useSelector(state => state.main.mainAux);\r\n    const [columnsTable, setColumnsTable] = useState<Dictionary[]>([]);\r\n    const [showcolumnsTable, setShowColumnsTable] = useState<Dictionary[]>([]);\r\n    const [columnsToAdd, setColumnsToAdd] = useState<Dictionary>({});\r\n    const [columnsAdded, setColumnsAdded] = useState<Dictionary[]>([]);\r\n    const timeOut = React.useRef<NodeJS.Timeout | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (!mainAuxRes.error && !mainAuxRes.loading && mainAuxRes.key === \"UFN_REPORT_PERSONALIZED_COLUMNS_SEL\" && openDialogVariables) {\r\n            const datafiltered = mainAuxRes.data.filter(x => columnsAlreadySelected.findIndex(y => y.columnname === x.columnname) === -1);\r\n\r\n            const columnsVariable = datafiltered.filter(x => x.type === \"variable\");\r\n            const columnsNotVariable = datafiltered.filter(x => x.type !== \"variable\");\r\n\r\n            const dataaux = [...columnsNotVariable, ...columnsVariable].map(x => ({\r\n                ...x,\r\n                descriptionT: x.type === \"variable\" ? x.description : t(`personalizedreport_${x.description}`),\r\n                checked: false\r\n            }))\r\n            setColumnsTable(dataaux);\r\n            setShowColumnsTable(dataaux);\r\n\r\n            setColumnsToAdd({});\r\n            setColumnsAdded([]);\r\n        }\r\n    }, [mainAuxRes, openDialogVariables])\r\n\r\n    useEffect(() => {\r\n        const columnsAddedIndexed = columnsAdded.reduce((acc, item) => ({\r\n            ...acc,\r\n            [item.columnname]: item\r\n        }), {})\r\n        setShowColumnsTable(prev => prev.map((x: Dictionary) => columnsAddedIndexed[x.columnname] ? { ...x, disabled: true, checked: true } : { ...x, disabled: false, checked: false }));\r\n        setColumnsTable(prev => prev.map((x: Dictionary) => columnsAddedIndexed[x.columnname] ? { ...x, disabled: true, checked: true } : { ...x, disabled: false, checked: false }));\r\n        setColumnsToAdd({});\r\n    }, [columnsAdded])\r\n\r\n    const handleChange = (text: string) => {\r\n        if (text === '')\r\n            setShowColumnsTable(columnsTable);\r\n        else\r\n            setShowColumnsTable(columnsTable.filter(x => x.descriptionT.toLowerCase().includes(text.toLowerCase())));\r\n    }\r\n\r\n    const onChange = (text: string) => {\r\n        if (timeOut.current)\r\n            clearTimeout(timeOut.current);\r\n\r\n        timeOut.current = setTimeout(() => {\r\n            handleChange(text);\r\n            if (timeOut.current) {\r\n                clearTimeout(timeOut.current);\r\n                timeOut.current = null;\r\n            }\r\n        }, 1000);\r\n    };\r\n\r\n    const handlerChecked = React.useCallback((column: Dictionary, checked: boolean) => {\r\n        if (checked)\r\n            setColumnsToAdd(prev => ({\r\n                ...prev,\r\n                [column.columnname]: column\r\n            }));\r\n        else {\r\n            setColumnsToAdd(prev => {\r\n                const tmp = { ...prev };\r\n                delete tmp[column.columnname];\r\n                return tmp\r\n            });\r\n        }\r\n    }, [setColumnsToAdd])\r\n\r\n    const RenderRow = React.useCallback(\r\n        ({ index, style }) => {\r\n            const item = showcolumnsTable[index]\r\n\r\n            return (\r\n                <div key={item.columnname} style={style}>\r\n                    <div key={item.columnname} style={{ width: '100%' }}>\r\n                        <FormControlLabel\r\n                            control={(\r\n                                <Checkbox\r\n                                    size='small'\r\n                                    checked={!!columnsToAdd[item.columnname] || !!item.disabled}\r\n                                    disabled={!!item.disabled}\r\n                                    color=\"primary\"\r\n                                    onChange={(e) => handlerChecked(item, e.target.checked)}\r\n                                    name=\"checkedA\" />\r\n                            )}\r\n                            label={<div className={clsx({\r\n                                [classes.colorVariable]: item.type === \"variable\"\r\n                            })}>{item.descriptionT}</div>}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            )\r\n        },\r\n        [showcolumnsTable, columnsToAdd]\r\n    )\r\n\r\n    if (!openDialogVariables)\r\n        return null;\r\n\r\n    return (\r\n        <DialogZyx\r\n            maxWidth=\"md\"\r\n            open={openDialogVariables}\r\n            title=\"\"\r\n            button2Type=\"submit\"\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton2={(e) => {\r\n                e.preventDefault();\r\n            }}\r\n            handleClickButton1={(e) => setOpenDialogVariables(false)}\r\n        >\r\n            <div style={{ display: 'flex' }}>\r\n                <div style={{ flex: 1, padding: 16, paddingTop: 16, paddingBottom: 8 }}>\r\n                    <div style={{ fontSize: 20, fontWeight: 500, marginBottom: 8 }}>\r\n                        {t(langKeys.available_columns)}\r\n                    </div>\r\n                    <div>\r\n                        <FieldEdit\r\n                            variant='standard'\r\n                            fregister={{\r\n                                placeholder: t(langKeys.search)\r\n                            }}\r\n                            InputProps={{\r\n                                startAdornment: (\r\n                                    <InputAdornment position=\"start\">\r\n                                        <SearchIcon />\r\n                                    </InputAdornment>\r\n                                )\r\n                            }}\r\n                            onChange={onChange}\r\n                        />\r\n                        <div style={{ display: 'flex', flexDirection: 'column', height: 320, overflowY: 'auto', marginTop: 4 }}>\r\n                            <AutoSizer>\r\n                                {({ height, width }: any) => (\r\n                                    <FixedSizeList\r\n                                        width={width}\r\n                                        height={height}\r\n                                        itemCount={showcolumnsTable.length}\r\n                                        itemSize={42}\r\n                                    >\r\n                                        {RenderRow}\r\n                                    </FixedSizeList>\r\n                                )}\r\n                            </AutoSizer>\r\n                        </div>\r\n                        <div style={{ textAlign: 'right' }}>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={Object.keys(columnsToAdd).length === 0}\r\n                                startIcon={<AddIcon color=\"secondary\" />}\r\n                                onClick={() => setColumnsAdded(prev => ([...prev, ...Object.values(columnsToAdd)]))}\r\n                            >{t(langKeys.add)}\r\n                            </Button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                <div style={{ flex: 1, backgroundColor: '#f5f5f5', paddingTop: 48 }}>\r\n                    <div style={{ paddingLeft: 24, paddingRight: 24 }}>\r\n                        <div style={{ height: 35, borderBottom: '1px solid rgba(0, 0, 0, 0.42)', color: 'rgb(167 166 170)', display: 'flex', alignItems: 'center' }}>\r\n                            {t(langKeys.selected_plural)} ({columnsAdded.length})\r\n                        </div>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', overflowY: 'auto', marginTop: 4, height: 320, marginBottom: 4 }}>\r\n                            {columnsAdded.length === 0 ? (\r\n                                <div className={classes.nodata}>\r\n                                    {t(langKeys.select_a_field_then_add_it)}\r\n                                </div>\r\n                            ) : columnsAdded.map((item) => (\r\n                                <div key={item.columnname} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                                    <div className={classes.itemSelected}>\r\n                                        {item.descriptionT}\r\n                                    </div>\r\n                                    <IconButton size='small' onClick={() => {\r\n                                        setColumnsAdded(prev => prev.filter(x => x.columnname !== item.columnname))\r\n                                    }}>\r\n                                        <DeleteIcon />\r\n                                    </IconButton>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div style={{ textAlign: 'right' }}>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={columnsAdded.length === 0}\r\n                                startIcon={<Done color=\"secondary\" />}\r\n                                onClick={() => {\r\n                                    setColumnsSelected(columnsAdded);\r\n                                    setOpenDialogVariables(false);\r\n                                }}\r\n                            >{t(langKeys.accept)}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nconst DetailReportDesigner: React.FC<DetailReportDesignerProps> = ({ data: { row, edit }, setViewSelected, fetchData }) => {\r\n    const classes = useStyles();\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [openDialogVariables, setOpenDialogVariables] = useState(false);\r\n    const [columnsSelected, setColumnsSelected] = useState<Dictionary[]>([]);\r\n    const [dataColumns, setDataColumns] = useState<Dictionary[]>([]);\r\n    const mainAuxRes = useSelector(state => state.main.mainAux);\r\n    const multiDataAux = useSelector(state => state.main.multiDataAux);\r\n    const executeRes = useSelector(state => state.main.execute);\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n\r\n\r\n    const dataStatus = multiDataAux.data?.[0] && multiDataAux.data?.[0].success ? multiDataAux.data?.[0].data : [];\r\n    const dataTables = multiDataAux.data?.[1] && multiDataAux.data?.[1].success ? multiDataAux.data?.[1].data : [];\r\n\r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"create_custom_report\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainAuxRes.error && !mainAuxRes.loading && mainAuxRes.key === \"UFN_REPORT_PERSONALIZED_COLUMNS_SEL\") {\r\n            setDataColumns(mainAuxRes.data.map(x => ({\r\n                ...x,\r\n                descriptionT: x.type === \"variable\" ? x.description : t(`personalizedreport_${x.description}`)\r\n            })));\r\n        }\r\n    }, [mainAuxRes])\r\n\r\n    const { control, register, trigger, handleSubmit, setValue, getValues, formState: { errors } } = useForm<FormFields>({\r\n        defaultValues: {\r\n            reporttemplateid: row?.reporttemplateid || 0,\r\n            description: row?.description || '',\r\n            status: row?.status || 'ACTIVO',\r\n            dataorigin: row?.dataorigin || '',\r\n            columns: row?.columns || [],\r\n            filters: row?.filters || [],\r\n            summary: row?.summary || [],\r\n            operation: row?.reporttemplateid ? \"EDIT\" : \"INSERT\"\r\n        }\r\n    });\r\n\r\n    const { fields: fieldsColumns, append: columnsAppend, remove: columnRemove, move } = useFieldArray({\r\n        control,\r\n        name: 'columns',\r\n    });\r\n\r\n    const { fields: fieldsFilters, append: filtersAppend, remove: filterRemove } = useFieldArray({\r\n        control,\r\n        name: 'filters',\r\n    });\r\n\r\n    const { fields: fieldsSummarization, append: summaryAppend, remove: summarizationRemove } = useFieldArray({\r\n        control,\r\n        name: 'summary',\r\n    });\r\n\r\n    useEffect(() => {\r\n        setValue(\"columns\", row?.columns || []);\r\n        trigger(\"columns\");\r\n        setValue(\"filters\", row?.filters || []);\r\n        trigger(\"filters\");\r\n        setValue(\"summary\", row?.summaries || []);\r\n        trigger(\"summary\");\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (columnsSelected.length > 0) {\r\n            columnsAppend(columnsSelected.map(x => ({ ...x, alias: x.descriptionT })));\r\n        }\r\n    }, [columnsSelected]);\r\n\r\n    React.useEffect(() => {\r\n        register('description', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('dataorigin', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('status', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n    }, [edit, register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(row ? langKeys.successful_edit : langKeys.successful_register) }))\r\n                fetchData && fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\")\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.report_name).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const { reporttemplateid, description, status, columns, filters, summary, dataorigin } = data;\r\n        if (columns.length === 0) {\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.column_at_least_required) }))\r\n            return;\r\n        }\r\n        const callback = () => {\r\n            dispatch(execute(insertReportTemplate({\r\n                id: reporttemplateid,\r\n                description,\r\n                status,\r\n                type: '',\r\n                dataorigin,\r\n                filterjson: JSON.stringify(filters),\r\n                summaryjson: JSON.stringify(summary),\r\n                columnjson: JSON.stringify(columns),\r\n                operation: data.operation\r\n            })));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true)\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    const selectDataOrigin = (tablename: string) => {\r\n        setValue('dataorigin', tablename);\r\n        if (tablename)\r\n            dispatch(getCollectionAux(getColumnsOrigin(tablename)));\r\n        else\r\n            setDataColumns([]);\r\n    }\r\n\r\n    const handleDrag = (data: any) => {\r\n        const { source, destination } = data\r\n        if (destination) {\r\n            move(source.index, destination.index);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div style={{ width: '100%' }}>\r\n                <form onSubmit={onSubmit} style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                        <div>\r\n                            <TemplateBreadcrumbs\r\n                                breadcrumbs={arrayBread(t(langKeys.report_plural), (row?.reporttemplateid ? t(langKeys.edit) : t(langKeys.new)) + \" \" + t(langKeys.report).toLocaleLowerCase())}\r\n                                handleClick={setViewSelected}\r\n                            />\r\n                            <TitleDetail\r\n                                title={row ? `${row.description}` : t(langKeys.new_report_designer)}\r\n                            />\r\n                        </div>\r\n                        <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                type=\"button\"\r\n                                color=\"primary\"\r\n                                startIcon={<ClearIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#FB5F5F\" }}\r\n                                onClick={() => setViewSelected(\"view-1\")}\r\n                            >{t(langKeys.back)}</Button>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                startIcon={<SaveIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.save)}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div className={`row-zyx ${classes.containerDetail}`} style={{ marginBottom: 0 }}>\r\n                        <FieldEdit\r\n                            label={t(langKeys.title)}\r\n                            className=\"col-4\"\r\n                            onChange={(value) => setValue('description', value)}\r\n                            valueDefault={row ? (row.description || \"\") : \"\"}\r\n                            error={errors?.description?.message}\r\n                        />\r\n                        <FieldSelect\r\n                            label={t(langKeys.data_origin)}\r\n                            className=\"col-4\"\r\n                            valueDefault={row?.dataorigin || 'ACTIVO'}\r\n                            onChange={(value) => selectDataOrigin(value ? value.tablename : '')}\r\n                            error={errors?.dataorigin?.message}\r\n                            disabled={!!row?.reporttemplateid}\r\n                            data={dataTables}\r\n                            triggerOnChangeOnFirst={true}\r\n                            optionDesc=\"tablename\"\r\n                            optionValue=\"tablename\"\r\n                        />\r\n                        <FieldSelect\r\n                            label={t(langKeys.status)}\r\n                            className=\"col-4\"\r\n                            valueDefault={row?.status || 'ACTIVO'}\r\n                            onChange={(value) => setValue('status', value ? value.domainvalue : '')}\r\n                            error={errors?.status?.message}\r\n                            data={dataStatus}\r\n                            optionDesc=\"domaindesc\"\r\n                            optionValue=\"domainvalue\"\r\n                        />\r\n                    </div>\r\n                    <div className={classes.containerDetail}>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                            <div className={classes.title}>{t(langKeys.column_plural)}</div>\r\n                        </div>\r\n\r\n                        <TableContainer>\r\n                            <Table size=\"small\">\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell>\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <IconButton\r\n                                                size=\"small\"\r\n                                                disabled={mainAuxRes.loading || dataColumns.length === 0}\r\n                                                onClick={async () => setOpenDialogVariables(true)}\r\n                                            >\r\n                                                <AddIcon />\r\n                                            </IconButton>\r\n                                        </TableCell>\r\n                                        <TableCell>{t(langKeys.column)}</TableCell>\r\n                                        <TableCell>{t(langKeys.description)}</TableCell>\r\n                                        <TableCell>{t(langKeys.type)}</TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <DragDropContext onDragEnd={handleDrag}>\r\n                                    <Droppable droppableId=\"test-items\">\r\n                                        {(provided: any, snapshot: any) => (\r\n                                            <TableBody {...provided.droppableProps} ref={provided.innerRef}>\r\n                                                {fieldsColumns.map((item: IColumnTemplate, index: number) => {\r\n                                                    return (\r\n                                                        <Draggable\r\n                                                            key={`item-${index}`}\r\n                                                            draggableId={`item-${index}`}\r\n                                                            index={index}\r\n                                                        >\r\n                                                            {(provided, snapshot) => (\r\n                                                                <TableRow\r\n                                                                    key={`item-${index}`}\r\n                                                                    ref={provided.innerRef}\r\n                                                                    {...provided.draggableProps}\r\n                                                                >\r\n                                                                    <TableCell width={20} style={{ padding: '0' }}\r\n                                                                        {...provided.dragHandleProps}>\r\n                                                                        <div style={{ display: 'flex' }}>\r\n                                                                            <Tooltip title={`${t(langKeys.move)}`}>\r\n                                                                                <IconButton\r\n                                                                                    size=\"small\"\r\n                                                                                >\r\n                                                                                    <DragIndicatorIcon style={{ color: '#777777', cursor: 'grab' }} />\r\n                                                                                </IconButton>\r\n                                                                            </Tooltip>\r\n                                                                        </div>\r\n                                                                    </TableCell>\r\n                                                                    <TableCell width={30}>\r\n                                                                        <div style={{ display: 'flex' }}>\r\n                                                                            <IconButton\r\n                                                                                size=\"small\"\r\n                                                                                onClick={() => columnRemove(index)}\r\n                                                                            >\r\n                                                                                <DeleteIcon style={{ color: '#777777' }} />\r\n                                                                            </IconButton>\r\n                                                                        </div>\r\n                                                                    </TableCell>\r\n                                                                    <TableCell width={230}>\r\n                                                                        {item?.type === \"variable\" ? item?.description : t(`personalizedreport_${item?.description}`)}\r\n                                                                    </TableCell>\r\n                                                                    <TableCell>\r\n                                                                        <FieldEditArray\r\n                                                                            fregister={{\r\n                                                                                ...register(`columns.${index}.alias`, {\r\n                                                                                    validate: (value: any) => (value && value.length) || t(langKeys.field_required)\r\n                                                                                }),\r\n                                                                            }}\r\n                                                                            valueDefault={item?.alias}\r\n                                                                            error={errors?.columns?.[index]?.alias?.message}\r\n                                                                            onChange={(value) => setValue(`columns.${index}.alias`, value)}\r\n                                                                        />\r\n                                                                    </TableCell>\r\n                                                                    <TableCell>\r\n                                                                        {t(`typepg_${item?.type}`)}\r\n                                                                    </TableCell>\r\n                                                                </TableRow>)}\r\n                                                        </Draggable>\r\n                                                    )\r\n                                                }\r\n                                                )}\r\n                                                {provided.placeholder}\r\n                                            </TableBody>\r\n                                        )}\r\n                                    </Droppable>\r\n                                </DragDropContext>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                        <div style={{ flex: .55 }} className={classes.containerDetail}>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                <div className={classes.title}>{t(langKeys.filters)}</div>\r\n                            </div>\r\n                            <div>\r\n                                <TableContainer>\r\n                                    <Table size=\"small\">\r\n                                        <TableHead>\r\n                                            <TableRow>\r\n                                                <TableCell>\r\n                                                    <IconButton\r\n                                                        size=\"small\"\r\n                                                        onClick={async () => {\r\n                                                            const haveDataOrigin = await trigger('dataorigin');\r\n                                                            if (haveDataOrigin) {\r\n                                                                filtersAppend({ columnname: '', type: '', type_filter: '', description: '', filter: '' });\r\n                                                            }\r\n                                                        }}\r\n                                                    >\r\n                                                        <AddIcon />\r\n                                                    </IconButton>\r\n                                                </TableCell>\r\n                                                <TableCell>{t(langKeys.column)}</TableCell>\r\n                                                <TableCell>{t(langKeys.typefilter)}</TableCell>\r\n                                                <TableCell>{t(langKeys.filters)}</TableCell>\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody style={{ marginTop: 5 }}>\r\n                                            {fieldsFilters.map((item: IFilter, i: number) =>\r\n                                                <TableRow key={item.id}>\r\n                                                    <TableCell width={30}>\r\n                                                        <div style={{ display: 'flex' }}>\r\n                                                            <IconButton\r\n                                                                size=\"small\"\r\n                                                                onClick={() => { filterRemove(i) }}\r\n                                                            >\r\n                                                                <DeleteIcon style={{ color: '#777777' }} />\r\n                                                            </IconButton>\r\n                                                        </div>\r\n                                                    </TableCell>\r\n                                                    <TableCell >\r\n                                                        <FieldSelect\r\n                                                            label={t(langKeys.column)}\r\n                                                            valueDefault={getValues(`filters.${i}.columnname`)}\r\n                                                            fregister={{\r\n                                                                ...register(`filters.${i}.columnname`, {\r\n                                                                    validate: (value: any) => (value && value.length) || t(langKeys.field_required)\r\n                                                                })\r\n                                                            }}\r\n                                                            variant='outlined'\r\n                                                            onChange={(value) => {\r\n                                                                setValue(`filters.${i}.columnname`, value?.columnname || '');\r\n                                                                setValue(`filters.${i}.description`, value?.description || '');\r\n                                                                setValue(`filters.${i}.type`, value?.type || '');\r\n                                                                setValue(`filters.${i}.join_alias`, value?.join_alias || '');\r\n                                                                setValue(`filters.${i}.join_on`, value?.join_on || '');\r\n                                                                setValue(`filters.${i}.join_table`, value?.join_table || '');\r\n                                                            }}\r\n                                                            error={errors?.filters?.[i]?.columnname?.message}\r\n                                                            data={dataColumns}\r\n                                                            optionDesc=\"descriptionT\"\r\n                                                            optionValue=\"columnname\"\r\n                                                        />\r\n                                                    </TableCell>\r\n                                                    <TableCell>\r\n                                                        {![\"date\", \"timestamp without time zone\"].includes(getValues(`filters.${i}.type`)) &&\r\n                                                            <FieldSelect\r\n                                                                label={t(langKeys.typefilter)}\r\n                                                                valueDefault={getValues(`filters.${i}.type_filter`)}\r\n                                                                fregister={{\r\n                                                                    ...register(`filters.${i}.type_filter`, {\r\n                                                                        validate: (value: any) => (value && value.length) || t(langKeys.field_required)\r\n                                                                    })\r\n                                                                }}\r\n                                                                variant='outlined'\r\n                                                                onChange={(value) => {\r\n                                                                    setValue(`filters.${i}.type_filter`, value?.key || '');\r\n                                                                    trigger(`filters.${i}.type_filter`);\r\n\r\n                                                                    setValue(`filters.${i}.filter`, '');\r\n                                                                    trigger(`filters.${i}.filter`);\r\n                                                                }}\r\n                                                                error={errors?.filters?.[i]?.type_filter?.message}\r\n                                                                data={[{ key: \"text\" }, { key: \"unique_value\" }]}\r\n                                                                optionDesc=\"key\"\r\n                                                                uset={true}\r\n                                                                prefixTranslation=\"filter_\"\r\n                                                                optionValue=\"key\"\r\n                                                            />\r\n                                                        }\r\n                                                    </TableCell>\r\n                                                    <TableCell style={{ width: 200 }}>\r\n                                                        {(getValues(`filters.${i}.type_filter`) === \"text\" && ![\"date\", \"timestamp without time zone\"].includes(getValues(`filters.${i}.type`))) &&\r\n                                                            <FieldEditArray\r\n                                                                fregister={{\r\n                                                                    ...register(`filters.${i}.filter`),\r\n                                                                }}\r\n                                                                valueDefault={getValues(`filters.${i}.filter`)}\r\n                                                                error={errors?.filters?.[i]?.filter?.message}\r\n                                                                onChange={(value) => setValue(`filters.${i}.filter`, value)}\r\n                                                            />\r\n                                                        }\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            )}\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </TableContainer>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ flex: .45 }} className={classes.containerDetail}>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                <div className={classes.title}>{t(langKeys.summarization)}</div>\r\n                            </div>\r\n                            <div>\r\n                                <TableContainer>\r\n                                    <Table size=\"small\">\r\n                                        <TableHead>\r\n                                            <TableRow>\r\n                                                <TableCell>\r\n                                                    <IconButton\r\n                                                        size=\"small\"\r\n                                                        onClick={async () => {\r\n                                                            const haveDataOrigin = await trigger('dataorigin');\r\n                                                            if (haveDataOrigin) {\r\n                                                                summaryAppend({ columnname: '', function: '' });\r\n                                                            }\r\n                                                        }}\r\n                                                    >\r\n                                                        <AddIcon />\r\n                                                    </IconButton>\r\n                                                </TableCell>\r\n                                                <TableCell>{t(langKeys.column)}</TableCell>\r\n                                                <TableCell>{t(langKeys.function)}</TableCell>\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody>\r\n                                            {fieldsSummarization.map((item: ISummarization, i: number) =>\r\n                                                <TableRow key={item.id}>\r\n                                                    <TableCell width={30}>\r\n                                                        <div style={{ display: 'flex' }}>\r\n                                                            <IconButton\r\n                                                                size=\"small\"\r\n                                                                onClick={() => summarizationRemove(i)}\r\n                                                            >\r\n                                                                <DeleteIcon style={{ color: '#777777' }} />\r\n                                                            </IconButton>\r\n                                                        </div>\r\n                                                    </TableCell>\r\n                                                    <TableCell>\r\n                                                        <FieldSelect\r\n                                                            label={t(langKeys.column)}\r\n                                                            multiline={true}\r\n                                                            valueDefault={getValues(`summary.${i}.columnname`)}\r\n                                                            fregister={{\r\n                                                                ...register(`summary.${i}.columnname`, {\r\n                                                                    validate: {\r\n                                                                        validate: (value: any) => (value && value.length) || t(langKeys.field_required),\r\n                                                                        fieldexists: (value: any) => (value && fieldsColumns.map(f => f.columnname).includes(value)) || t(langKeys.columnnotvalid),\r\n                                                                    }\r\n                                                                })\r\n                                                            }}\r\n                                                            variant='outlined'\r\n                                                            onChange={(value) => {\r\n                                                                setValue(`summary.${i}.type`, value?.type || '');\r\n                                                                setValue(`summary.${i}.columnname`, value?.columnname || '');\r\n                                                                trigger(`summary.${i}.type`)\r\n                                                            }}\r\n                                                            error={errors?.summary?.[i]?.columnname?.message}\r\n                                                            data={fieldsColumns}\r\n                                                            optionDesc=\"descriptionT\"\r\n                                                            optionValue=\"columnname\"\r\n                                                        />\r\n                                                    </TableCell>\r\n                                                    <TableCell>\r\n                                                        <FieldSelect\r\n                                                            label={t(langKeys.function)}\r\n                                                            valueDefault={getValues(`summary.${i}.function`)}\r\n                                                            fregister={{\r\n                                                                ...register(`summary.${i}.function`, {\r\n                                                                    validate: (value: any) => (value && value.length) || t(langKeys.field_required)\r\n                                                                })\r\n                                                            }}\r\n                                                            variant='outlined'\r\n                                                            onChange={(value) => setValue(`summary.${i}.function`, value?.function || '')}\r\n                                                            error={errors?.summary?.[i]?.function?.message}\r\n                                                            data={dataSummarization.filter(x => x.type.includes(getValues(`summary.${i}.type`)))}\r\n                                                            prefixTranslation=\"function_\"\r\n                                                            uset={true}\r\n                                                            optionDesc=\"function\"\r\n                                                            optionValue=\"function\"\r\n                                                        />\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            )}\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </TableContainer>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <DialogManageColumns\r\n                setOpenDialogVariables={setOpenDialogVariables}\r\n                openDialogVariables={openDialogVariables}\r\n                columnsAlreadySelected={fieldsColumns}\r\n                setColumnsSelected={setColumnsSelected}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\nexport const TemplateIcons: React.FC<{\r\n    viewFunction?: (param: any) => void;\r\n    deleteFunction?: (param: any) => void;\r\n    editFunction?: (param: any) => void;\r\n    reportFunction?: (param: any) => void;\r\n}> = ({ viewFunction, deleteFunction, editFunction, reportFunction }) => {\r\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <div style={{ whiteSpace: 'nowrap', display: 'flex' }}>\r\n\r\n            <IconButton\r\n                aria-label=\"more\"\r\n                aria-controls=\"long-menu\"\r\n                aria-haspopup=\"true\"\r\n                size=\"small\"\r\n                onClick={editFunction}\r\n            >\r\n                <VisibilityIcon style={{ color: '#B6B4BA' }} />\r\n            </IconButton>\r\n            <IconButton\r\n                aria-label=\"more\"\r\n                aria-controls=\"long-menu\"\r\n                aria-haspopup=\"true\"\r\n                size=\"small\"\r\n                onClick={reportFunction}\r\n            >\r\n                <PlayArrowIcon style={{ color: '#B6B4BA' }} />\r\n            </IconButton>\r\n            <IconButton\r\n                aria-label=\"more\"\r\n                aria-controls=\"long-menu\"\r\n                aria-haspopup=\"true\"\r\n                size=\"small\"\r\n                onClick={(e) => setAnchorEl(e.currentTarget)}\r\n                style={{ display: deleteFunction ? 'block' : 'none' }}\r\n            >\r\n                <MoreVertIcon style={{ color: '#B6B4BA' }} />\r\n            </IconButton>\r\n            <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                getContentAnchorEl={null}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                <MenuItem onClick={(e) => {\r\n                    setAnchorEl(null)\r\n                    deleteFunction && deleteFunction(e)\r\n                }}><Trans i18nKey={langKeys.delete} /></MenuItem>\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailReportDesigner;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useEffect, useState } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport { TemplateBreadcrumbs, DateRangePicker, FieldEdit, DialogZyx, FieldSelect } from 'components';\r\nimport { Dictionary } from \"@types\";\r\nimport TableZyx from 'components/fields/table-simple';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { CalendarIcon, DownloadIcon } from 'icons';\r\nimport { showSnackbar } from 'store/popus/actions';\r\nimport { getCollectionDynamic, resetMainDynamic, exportDynamic, resetExportMainDynamic } from 'store/main/actions';\r\nimport { Range } from 'react-date-range';\r\nimport { getDateCleaned } from 'common/helpers/functions'\r\nimport { useForm } from 'react-hook-form';\r\nimport Graphic from 'components/fields/Graphic';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport { exportExcel } from 'common/helpers';\r\n\r\nconst getArrayBread = (nametmp: string, nameView1: string) => ([\r\n    { id: \"view-1\", name: nameView1 || \"Reports\" },\r\n    { id: \"view-2\", name: nametmp }\r\n]);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerFilters: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-between',\r\n        gap: theme.spacing(1),\r\n        marginTop: theme.spacing(1),\r\n        backgroundColor: '#FFF',\r\n        padding: theme.spacing(1),\r\n    },\r\n    itemFilter: {\r\n        flex: '0 0 220px',\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n    itemFlex: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: theme.spacing(1),\r\n    }\r\n}));\r\n\r\ninterface SummaryGraphicProps {\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => void;\r\n    setView: (value: string) => void;\r\n    columns: Dictionary[];\r\n    getCollection: () => void;\r\n}\r\n\r\nexport interface IReport {\r\n    columns: Dictionary[];\r\n    filters: Dictionary[];\r\n    summaries: Dictionary[];\r\n    description: string;\r\n}\r\n\r\ninterface DetailReportProps {\r\n    item: IReport;\r\n    setViewSelected: (view: string) => void;\r\n}\r\n\r\nconst initialRange = {\r\n    startDate: new Date(new Date().setDate(1)),\r\n    endDate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n    key: 'selection'\r\n}\r\n\r\nconst SummaryGraphic: React.FC<SummaryGraphicProps> = ({ openModal, setOpenModal, setView, columns, getCollection }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm<any>({\r\n        defaultValues: {\r\n            graphictype: 'BAR',\r\n            column: '',\r\n            columntext: ''\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        register('graphictype', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n        register('column', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    const handleCancelModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n    const handleAcceptModal = handleSubmit((data) => {\r\n        triggerGraphic(data);\r\n    });\r\n\r\n    const triggerGraphic = (data: any) => {\r\n        getCollection();\r\n        setView(`CHART-${data.graphictype}-${data.column}-${data.columntext}`);\r\n        setOpenModal(false);\r\n\r\n    }\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.graphic_configuration)}\r\n            button1Type=\"button\"\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton1={handleCancelModal}\r\n            button2Type=\"button\"\r\n            buttonText2={t(langKeys.accept)}\r\n            handleClickButton2={handleAcceptModal}\r\n        >\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_type)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('graphictype')}\r\n                    error={errors?.graphictype?.message}\r\n                    onChange={(value) => setValue('graphictype', value?.key)}\r\n                    data={[{ key: 'BAR', value: 'BAR' }, { key: 'PIE', value: 'PIE' }]}\r\n                    uset={true}\r\n                    prefixTranslation=\"graphic_\"\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                />\r\n            </div>\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_view_by)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('column')}\r\n                    error={errors?.column?.message}\r\n                    onChange={(value) => {\r\n                        setValue('column', value?.accessor || '');\r\n                        setValue('columntext', value?.Header || '');\r\n                    }}\r\n                    data={columns}\r\n                    optionDesc=\"Header\"\r\n                    optionValue=\"accessor\"\r\n                />\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nconst format = (date: Date) => date.toISOString().split('T')[0];\r\n\r\nconst FilterDynamic: FC<{ filter: Dictionary, setFiltersDynamic: (param: any) => void }> = ({ filter, setFiltersDynamic }) => {\r\n    const [openDialogDate, setOpenDialogDate] = useState(false);\r\n    const [dateRange, setDateRange] = useState<Range>(initialRange);\r\n    const classes = useStyles();\r\n    const { t } = useTranslation();\r\n    const choosenwidth=filter.description.length*18\r\n    \r\n    useEffect(() => {\r\n        setFiltersDynamic((prev: any) => ({\r\n            ...prev,\r\n            [filter.columnname]: {\r\n                ...prev[filter.columnname],\r\n                start: getDateCleaned(dateRange.startDate!!),\r\n                end: getDateCleaned(dateRange.endDate!!)\r\n            }\r\n        }))\r\n    }, [dateRange])\r\n\r\n    if (filter.type === \"timestamp without time zone\" || filter.type === \"date\") {\r\n        return (\r\n            <div>\r\n                <DateRangePicker\r\n                    open={openDialogDate}\r\n                    setOpen={setOpenDialogDate}\r\n                    range={dateRange}\r\n                    onSelect={setDateRange}\r\n                >\r\n                    <Button\r\n                        className={classes.itemDate}\r\n                        startIcon={<CalendarIcon />}\r\n                        onClick={() => setOpenDialogDate(!openDialogDate)}\r\n                    >\r\n                        {format(dateRange.startDate!) + \" - \" + format(dateRange.endDate!)}\r\n                    </Button>\r\n                </DateRangePicker>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <FieldEdit\r\n                label={filter.type === \"variable\" ? filter.description : t(`personalizedreport_${filter.description}`)}\r\n                variant=\"outlined\"\r\n                width={choosenwidth<250?250:choosenwidth}\r\n                disabled={filter.type_filter === \"unique_value\"}\r\n                size=\"small\"\r\n                valueDefault={filter.type_filter === \"unique_value\" ? t(langKeys.filter_unique_value) : filter.filter || \"\"}\r\n                onChange={(value) => setFiltersDynamic((prev: any) => ({\r\n                    ...prev,\r\n                    [filter.columnname]: {\r\n                        ...prev[filter.columnname],\r\n                        value: value\r\n                    }\r\n                }))}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst PersonalizedReport: FC<DetailReportProps> = ({ setViewSelected, item: { columns, summaries, filters, description } }) => {\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const [dataCleaned, setDataCleaned] = useState<Dictionary[]>([])\r\n    const mainDynamic = useSelector(state => state.main.mainDynamic);\r\n    const resExportDynamic = useSelector(state => state.main.exportDynamicData);\r\n    const [showDialogGraphic, setShowDialogGraphic] = useState(false);\r\n    const [dataFiltered, setDataFiltered] = useState<Dictionary[]>([]);\r\n    const [footer, setFooter] = useState<Dictionary | null>(null);\r\n    const [view, setView] = useState('GRID');\r\n    const [filtersDynamic, setFiltersDynamic] = useState<Dictionary>(filters.reduce((acc: Dictionary, item: Dictionary) => ({\r\n        ...acc,\r\n        [item.columnname]: {\r\n            ...item,\r\n            value: item.filter || \"\",\r\n            filter: undefined\r\n        }\r\n    }), {}));\r\n\r\n    const columnsDynamic = React.useMemo(\r\n        () => columns.map((x: Dictionary) => ({\r\n            Header: x.alias,\r\n            accessor: x.columnname.replace(\".\", \"\"),\r\n            Footer: () => footer?.[x.columnname.replace(\".\", \"\")]\r\n        })), [columns, footer]\r\n    )\r\n\r\n    useEffect(() => {\r\n        dispatch(resetMainDynamic());\r\n        dispatch(resetExportMainDynamic());\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (!resExportDynamic.loading && !resExportDynamic.error && resExportDynamic.url) {\r\n            window.open(resExportDynamic.url, '_blank');\r\n        } else if (resExportDynamic.error) {\r\n            const errormessage = t(resExportDynamic.code || \"error_unexpected_error\")\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n        }\r\n    }, [resExportDynamic]);\r\n\r\n    const exportDataFiltered = () => {\r\n        exportExcel(description, dataFiltered, columnsDynamic)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!mainDynamic.loading && !mainDynamic.error) {\r\n            let datato = mainDynamic.data;\r\n            if (summaries.length > 0) {\r\n                setFooter(datato[0]);\r\n                delete datato[0]\r\n            }\r\n            if (columns.some(x => x.columnname.replace(\".\", \"\") === \"conversationclosetype\")) {\r\n                datato = datato.map(x => {\r\n                    const cc = t(`type_close_${(x.conversationclosetype || \"\").toLowerCase().replace(/ /gi, \"_\")}`)\r\n                    return {\r\n                        ...x,\r\n                        conversationclosetype:  cc.includes(\"type_close\") ? x.conversationclosetype : cc\r\n                    }\r\n                })\r\n            }\r\n            const columnsDate = columns.filter(x => [\"timestamp without time zone\", \"date\", \"boolean\"].includes(x.type));\r\n            if (columnsDate.length > 0) {\r\n                setDataCleaned(datato.map(x => {\r\n                    columnsDate.forEach(y => {\r\n                        const columnclean = y.columnname.replace(\".\", \"\");\r\n                        if ([\"timestamp without time zone\", \"date\"].includes(y.type)) {\r\n                            if (!!x[columnclean]) {\r\n                                const date = new Date(x[columnclean]);\r\n                                if (!isNaN(date.getTime())) {\r\n                                    if (y.type === \"timestamp without time zone\")\r\n                                        x[columnclean] = date.toLocaleString();\r\n                                    else\r\n                                        x[columnclean] = date.toLocaleDateString();\r\n                                } else {\r\n                                    const regex = /[0-9]{4}-[0-9]{2}-[0-9]{2}\\s[0-9]{2}:[0-9]{2}:[0-9]{2}.[0-9]{0,6}Z/gi\r\n                                    const resRegex = (x[columnclean] + \"\").matchAll(regex);\r\n                                    Array.from(resRegex).forEach(z => {\r\n                                        if (z) {\r\n                                            if (y.type === \"timestamp without time zone\")\r\n                                                x[columnclean] = x[columnclean].replace(z, new Date(z[0]).toLocaleString());\r\n                                            else\r\n                                                x[columnclean] = x[columnclean].replace(z, new Date(z[0]).toLocaleDateString());\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }\r\n                        }\r\n                        if ([\"boolean\"].includes(y.type)) {\r\n                            x[columnclean] = x[columnclean] ? t(\"yes\") : t(\"no\")\r\n                        }\r\n                    })\r\n                    return x;\r\n                }));\r\n            } else {\r\n                setDataCleaned(datato);\r\n            }\r\n        }\r\n    }, [mainDynamic])\r\n\r\n    const onSearch = (isExport: Boolean = false) => {\r\n        const body = {\r\n            columns,\r\n            parameters: {\r\n                offset: (new Date().getTimezoneOffset() / 60) * -1,\r\n            },\r\n            summaries,\r\n            filters: Object.values(filtersDynamic)\r\n        }\r\n        if (isExport)\r\n            dispatch(exportDynamic(body, description, \"excel\", columnsDynamic.map(x => ({\r\n                key: x.accessor,\r\n                alias: x.Header\r\n            }))));\r\n        else\r\n            dispatch(getCollectionDynamic(body));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{ width: '100%' }}>\r\n                <TemplateBreadcrumbs\r\n                    breadcrumbs={getArrayBread(description, t(langKeys.report_plural))}\r\n                    handleClick={setViewSelected}\r\n                />\r\n                <div className={classes.containerFilters}>\r\n                    <div className={classes.itemFlex}>\r\n                        {Object.values(filters).map((filter: Dictionary) => (\r\n                            <FilterDynamic\r\n                                key={filter.columnname}\r\n                                filter={filter}\r\n                                setFiltersDynamic={setFiltersDynamic}\r\n                            />\r\n                        ))}\r\n                        <Button\r\n                            disabled={mainDynamic.loading}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                            style={{ backgroundColor: '#55BD84', width: 120 }}\r\n                            onClick={() => onSearch()}\r\n                        >\r\n                            {t(langKeys.search)}\r\n                        </Button>\r\n                    </div>\r\n                    <div className={classes.itemFlex}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={mainDynamic.loading || !(mainDynamic.data.length > 0)}\r\n                            onClick={() => setShowDialogGraphic(true)}\r\n                            startIcon={<AssessmentIcon />}\r\n                        >\r\n                            {view === \"GRID\" ? t(langKeys.graphic_view) : t(langKeys.configuration)}\r\n                        </Button>\r\n                        {view === \"GRID\" && (\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={resExportDynamic.loading}\r\n                                onClick={exportDataFiltered}\r\n                                startIcon={<DownloadIcon />}\r\n                            >{t(langKeys.download)}\r\n                            </Button>\r\n                        )}\r\n                        {view !== \"GRID\" && (\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={() => setView('GRID')}\r\n                                startIcon={<ListIcon />}\r\n                            >\r\n                                {t(langKeys.grid_view)}\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                {view === \"GRID\" && (\r\n                    <TableZyx\r\n                        columns={columnsDynamic}\r\n                        filterGeneral={false}\r\n                        data={dataCleaned}\r\n                        setDataFiltered={setDataFiltered}\r\n                        download={false}\r\n                        loading={mainDynamic.loading}\r\n                        useFooter={!!footer}\r\n                    />\r\n                )}\r\n                {view !== \"GRID\" && (\r\n                    <Graphic\r\n                        graphicType={view.split(\"-\")?.[1] || \"BAR\"}\r\n                        column={view.split(\"-\")?.[2] || \"summary\"}\r\n                        openModal={showDialogGraphic}\r\n                        setOpenModal={setShowDialogGraphic}\r\n                        daterange={{}}\r\n                        setView={setView}\r\n                        withFilters={false}\r\n                        withButtons={false}\r\n                        data={dataCleaned}\r\n                        loading={mainDynamic.loading}\r\n                        handlerSearchGraphic={() => null}\r\n                        columnDesc={view.split(\"-\")?.[3] || \"summary\"}\r\n                    />\r\n                )}\r\n            </div>\r\n            <SummaryGraphic\r\n                openModal={showDialogGraphic}\r\n                setOpenModal={setShowDialogGraphic}\r\n                setView={setView}\r\n                columns={columnsDynamic}\r\n                getCollection={onSearch}\r\n            />\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default PersonalizedReport;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, createStyles, makeStyles, Tabs, TextField, Theme } from '@material-ui/core';\r\nimport { AntTab, DialogZyx, TemplateSwitchYesNo } from 'components';\r\nimport { langKeys } from 'lang/keys';\r\nimport React, { FC, Fragment, useEffect, useState ,useCallback} from 'react';\r\nimport { FieldMultiSelect } from \"components\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useDispatch } from 'react-redux';\r\nimport { showBackdrop, showSnackbar } from 'store/popus/actions';\r\nimport { getasesoresbyorgid, getValuesFromDomain, heatmappage1, heatmappage1detail, heatmappage2, heatmappage2detail1, heatmappage2detail2, heatmappage3, heatmappage3detail } from 'common/helpers/requestBodies';\r\nimport { cleanViewChange, getCollectionAux, getMultiCollection, getMultiCollectionAux, getMultiCollectionAux2, resetMainAux, resetMultiMain, resetMultiMainAux, resetMultiMainAux2, setViewChange } from 'store/main/actions';\r\nimport { useSelector } from 'hooks';\r\nimport { Dictionary } from '@types';\r\nimport TableZyx from 'components/fields/table-simple';\r\nimport DialogInteractions from 'components/inbox/DialogInteractions';\r\n\r\nconst hours=[\"00:00 a 01:00\",\"01:00 a 02:00\",\"02:00 a 03:00\",\"03:00 a 04:00\",\"04:00 a 05:00\",\"05:00 a 06:00\",\"06:00 a 07:00\",\"07:00 a 08:00\",\"08:00 a 09:00\",\"09:00 a 10:00\",\"10:00 a 11:00\",\"11:00 a 12:00\",\r\n                       \"12:00 a 13:00\",\"13:00 a 14:00\",\"14:00 a 15:00\",\"15:00 a 16:00\",\"16:00 a 17:00\",\"17:00 a 18:00\",\"18:00 a 19:00\",\"19:00 a 20:00\",\"20:00 a 21:00\",\"21:00 a 22:00\",\"22:00 a 23:00\",\"23:00 a 00:00\",\"TOTAL\"]\r\nconst hoursProm=[\"00:00 a 01:00\",\"01:00 a 02:00\",\"02:00 a 03:00\",\"03:00 a 04:00\",\"04:00 a 05:00\",\"05:00 a 06:00\",\"06:00 a 07:00\",\"07:00 a 08:00\",\"08:00 a 09:00\",\"09:00 a 10:00\",\"10:00 a 11:00\",\"11:00 a 12:00\",\r\n                       \"12:00 a 13:00\",\"13:00 a 14:00\",\"14:00 a 15:00\",\"15:00 a 16:00\",\"16:00 a 17:00\",\"17:00 a 18:00\",\"18:00 a 19:00\",\"19:00 a 20:00\",\"20:00 a 21:00\",\"21:00 a 22:00\",\"22:00 a 23:00\",\"23:00 a 00:00\",\"PRM\"]\r\n\r\n\r\nconst LIMITHOUR = 24;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        itemDate: {\r\n            minHeight: 40,\r\n            height: 40,\r\n            border: '1px solid #bfbfc0',\r\n            borderRadius: 4,\r\n            width: \"100%\",\r\n            color: 'rgb(143, 146, 161)'\r\n        },\r\n        fieldsfilter: {\r\n            width: \"100%\",\r\n        },\r\n        labellink: {\r\n            color: '#7721ad',\r\n            textDecoration: 'underline',\r\n            cursor: 'pointer'\r\n        },\r\n    })\r\n)\r\nfunction capitalize(word:string){\r\n    let wordlower = word.toLowerCase()\r\n    const words = wordlower.split(\" \");\r\n    let wordresult = \"\";\r\n    for (let i = 0; i < words.length; i++) {\r\n        if(words[i].trim()!==\"\"){\r\n            words[i] = words[i][0].toUpperCase() + words[i].substr(1);\r\n            wordresult = wordresult + words[i] + \" \";\r\n        }\r\n    }\r\n    return wordresult\r\n\r\n}\r\n\r\ninterface ModalProps {\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => any;\r\n    title: string;\r\n    row: Dictionary | null;\r\n    columns: Dictionary[];\r\n    data: Dictionary[];\r\n}\r\n\r\nconst ModalHeatMap: React.FC<ModalProps> = ({ openModal, setOpenModal, title = '', row = null, columns = [], data = [] }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const handleCancelModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={title}\r\n            maxWidth=\"lg\"\r\n            button1Type=\"button\"\r\n            buttonText1={t(langKeys.close)}\r\n            handleClickButton1={handleCancelModal}\r\n        >\r\n            <TableZyx\r\n                columns={columns}\r\n                data={data}\r\n                download={true}\r\n                pageSizeDefault={20}\r\n                filterGeneral={false}\r\n            />\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nconst MainHeatMap: React.FC = () => {\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n    const [realizedsearch, setrealizedsearch] = useState(false);  \r\n    const [heatMapConversations, setheatMapConversations] = useState<any>([]);\r\n    const [heatMapConversationsData, setheatMapConversationsData] = useState<any>([]);\r\n    const [averageHeatMapTMOTitle, setaverageHeatMapTMOTitle] = useState<any>([]);\r\n    const [averageHeatMapTMOData, setaverageHeatMapTMOData] = useState<any>([]);\r\n    const [heatmapaverageagentTMETitle, setheatmapaverageagentTMETitle] = useState<any>([]);\r\n    const [heatmapaverageagentTMEData, setheatmapaverageagentTMEData] = useState<any>([]);\r\n    const [userAverageReplyTimexFechaTitle, setuserAverageReplyTimexFechaTitle] = useState<any>([]);\r\n    const [userAverageReplyTimexFechaData, setuserAverageReplyTimexFechaData] = useState<any>([]);\r\n    const [personAverageReplyTimexFechaTitle, setpersonAverageReplyTimexFechaTitle] = useState<any>([]);\r\n    const [personAverageReplyTimexFechaData, setpersonAverageReplyTimexFechaData] = useState<any>([]);\r\n    const dispatch = useDispatch();\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const multiDataAux2 = useSelector(state => state.main.multiDataAux2);\r\n    const mainResult = useSelector(state => state.main);\r\n    const dataAdvisor = [{domaindesc: t(langKeys.agent), domainvalue: \"ASESOR\"},{domaindesc: \"Bot\", domainvalue: \"BOT\"}]\r\n    const [dataMainHeatMap, setdataMainHeatMap] = useState({\r\n        communicationchannel: \"\",\r\n        closedby: \"ASESOR\",\r\n        startdate: new Date(new Date().getFullYear(), new Date().getMonth(), 1),\r\n        enddate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n        datetoshow: `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth()+1).padStart(2, '0')}`\r\n    });\r\n    \r\n    const [waitDetail, setWaitDetail] = useState(false);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<Dictionary | null>(null);\r\n    const [openModalTicket, setOpenModalTicket] = useState(false);\r\n    const [modalTitle, setModalTitle] = useState('');\r\n    const [modalRow, setModalRow] = useState<Dictionary | null>(null);\r\n    const [modalColumns, setModalColumns] = useState<any>([]);\r\n    const openDialogInteractions = useCallback((row: any) => {\r\n        setOpenModalTicket(true);\r\n        setRowSelected({ ...row, displayname: row.asesor, ticketnum: row.ticketnum })\r\n    }, [mainResult]);\r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"heatmap\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    const fetchDetail = (grid: string, column: Dictionary, row: Dictionary, mes: number, year: number) => {\r\n        if (row.hournum!==\"TOTAL\" && row.hournum!==\"PRM\" && ((typeof(row[column.id]) === 'number' && row[column.id] > 0)\r\n        || (typeof(row[column.id]) === 'string' && row[column.id] !== '00:00:00')) ) {\r\n            setModalRow(row);\r\n            const day = column.id.replace('day','');\r\n            const hour = row.hour - 1;\r\n            const hournum = row.hournum.replace('a','-');\r\n            let option = '';\r\n            switch (grid) {\r\n                case '1.1':\r\n                    setModalTitle(`Tickets ${t(langKeys.day)} ${day} ${hournum}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                        { Header: t(langKeys.agent), accessor: 'asesor' },\r\n                        { Header: t(langKeys.tmo), accessor: 'totalduration' },\r\n                    ])\r\n                    break;\r\n                case '1.2':\r\n                    setModalTitle(`Tickets ${t(langKeys.day)} ${day} ${hournum}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                        { Header: t(langKeys.tmo), accessor: 'totalduration' },\r\n                        { Header: t(langKeys.agent), accessor: 'asesor' },\r\n                    ])\r\n                    break;\r\n                case '1.3':\r\n                    option = 'TME';\r\n                    setModalTitle(`Tickets ${t(langKeys.day)} ${day} ${hournum}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                        { Header: t(langKeys.tme), accessor: 'userfirstreplytime' },\r\n                        { Header: t(langKeys.agent), accessor: 'asesor' },\r\n                    ])\r\n                    break;\r\n                case '1.4':\r\n                    option = 'TMR';\r\n                    setModalTitle(`Tickets ${t(langKeys.day)} ${day} ${hournum}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                        { Header: t(langKeys.tmr), accessor: 'useraveragereplytime' },\r\n                        { Header: t(langKeys.agent), accessor: 'asesor' },\r\n                    ])\r\n                    break;\r\n                case '1.5':\r\n                    option = 'TMRCLIENT';\r\n                    setModalTitle(`Tickets ${t(langKeys.day)} ${day} ${hournum}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                        { Header: t(langKeys.tmr_client), accessor: 'personaveragereplytime' },\r\n                    ])\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            dispatch(getMultiCollectionAux2([heatmappage1detail({\r\n                ...dataMainHeatMap,\r\n                startdate: new Date(year, mes-1, day),\r\n                enddate: new Date(year, mes-1, day),\r\n                horanum: ['TOTAL','PRM'].includes(row.hournum) ? '' : hour,\r\n                option: option\r\n            })]));\r\n            dispatch(showBackdrop(true));\r\n            setWaitDetail(true);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(waitDetail) {\r\n            if (!multiDataAux2.loading){\r\n                dispatch(showBackdrop(false));\r\n                setWaitDetail(false);\r\n                setOpenModal(true);\r\n            }\r\n        }\r\n    }, [multiDataAux2])\r\n    \r\n    function handleDateChange(e: any){\r\n        if (e === '') {\r\n            setdataMainHeatMap(prev=>({...prev, datetoshow: e}))\r\n        }\r\n        else {\r\n            let year = +e.split('-')[0]\r\n            let mes = +e.split('-')[1]\r\n            let startdate = new Date(year, mes-1, 1)\r\n            let enddate = new Date(year, mes, 0)\r\n            setdataMainHeatMap(prev=>({...prev,startdate,enddate, datetoshow: e}))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!multiData.loading && realizedsearch){\r\n            setrealizedsearch(false)\r\n            dispatch(showBackdrop(false))\r\n            if(multiData.data[0].key === \"UFN_REPORT_HEATMAP_PAGE1_SEL\"){\r\n                initAtencionesxFechaAsesorGrid(multiData.data[0]?.data||[])\r\n                averageHeatMapTMO(multiData.data[0]?.data||[])\r\n                initUserFirstReplyTimexFechaGrid(multiData.data[0]?.data||[])\r\n                initUserAverageReplyTimexFechaGrid(multiData.data[0]?.data||[])\r\n                initPersonAverageReplyTimexFechaGrid(multiData.data[0]?.data||[])\r\n            }else{\r\n                initAtencionesxFechaAsesorGrid([])\r\n                averageHeatMapTMO([])\r\n                initUserFirstReplyTimexFechaGrid([])\r\n                initUserAverageReplyTimexFechaGrid([])\r\n                initPersonAverageReplyTimexFechaGrid([]) \r\n            }\r\n        }\r\n    }, [multiData,realizedsearch])\r\n\r\n    useEffect(() => {\r\n        search()\r\n    }, [])\r\n\r\n    function search(){\r\n        if (dataMainHeatMap.datetoshow === '') {\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.date_format_error) }))\r\n        }\r\n        else {\r\n            setheatMapConversationsData([])\r\n            setaverageHeatMapTMOData([])\r\n            setheatmapaverageagentTMEData([])\r\n            setuserAverageReplyTimexFechaData([])\r\n            setpersonAverageReplyTimexFechaData([])\r\n            setrealizedsearch(true)\r\n            dispatch(showBackdrop(true))\r\n            dispatch(getMultiCollection([\r\n                heatmappage1(dataMainHeatMap)\r\n            ]));\r\n        }\r\n    }\r\n\r\n    function initAtencionesxFechaAsesorGrid(data:any){\r\n        let arrayfree: any = [];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let rowmax = 0;\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n        let arrayvalidvalues=new Array(24).fill(0);\r\n\r\n        for(let i = 1; i <= LIMITHOUR+1; i++) {\r\n            const objectfree: Dictionary = {\r\n                hour: i,\r\n                hournum: hours[i - 1],\r\n            }\r\n            for(let j = 1; j <= dateend; j++) {\r\n                objectfree[`day${j}`] = 0;\r\n            }\r\n            objectfree[`totalcol`] = 0;\r\n            arrayfree.push(objectfree);\r\n        }\r\n        \r\n        data.forEach( (row:any) => {\r\n            \r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.hora;     \r\n            arrayvalidvalues[row.horanum]++\r\n            arrayfree = arrayfree.map((x:any) => x.hournum === hour ? ({\r\n                ...x, \r\n                [`day${day}`]: x[`day${day}`] + row.atencionesxfecha,\r\n                [`totalcol`]: (x.totalcol + row.atencionesxfecha)\r\n            }) : x) \r\n            \r\n            rowmax = row.atencionesxfecha>rowmax ? row.atencionesxfecha:rowmax;\r\n            arrayfree[24][`day${day}`] += row.atencionesxfecha;\r\n            arrayfree[24][`totalcol`] += row.atencionesxfecha;\r\n        });\r\n        arrayvalidvalues.forEach((x,i)=>{\r\n            if(x!==0){\r\n                arrayfree[i].totalcol = arrayfree[i].totalcol/x \r\n            }\r\n        })\r\n        setheatMapConversationsData(arrayfree)\r\n\r\n        function gradient(num:number,rowcounter:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            if ( rowcounter >= 24 ) {\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        let rowcounter = 0;\r\n        \r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/hour|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : \"Promedio\",\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                const column = props.cell.column;\r\n                const row = props.cell.row.original;\r\n                if (key !== \"totalcol\") {\r\n                    let color = \"white\"\r\n                    if (props.data[rowcounter]) {\r\n                        color = gradient(parseInt(props.data[rowcounter][key]),rowcounter)\r\n                    }\r\n                    return (\r\n                        <div\r\n                            style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}}\r\n                            onClick={() => fetchDetail('1.1', column, row,mes,year)}\r\n                        >\r\n                            {(props.data[rowcounter][key])}\r\n                        </div>\r\n                    )\r\n                }\r\n                else {\r\n                    if (rowcounter < 24)\r\n                        rowcounter++;\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{props.data[rowcounter-1][key]>0?(props.data[rowcounter-1][key].toFixed(2)):\"0\"}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n        setheatMapConversations([\r\n            {\r\n                Header: `Hora`,\r\n                accessor: \"hournum\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n\r\n    function averageHeatMapTMO(data:any) {\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n        let rowmax = 0;    \r\n        let arrayfree:any = [];\r\n        let arrayvalidvalues=new Array(25).fill(0);\r\n        let arrayvalidvaluesmonth=new Array(32).fill(0);\r\n        const LIMITHOUR = 24;\r\n\r\n        for(let i = 1; i <= LIMITHOUR+1; i++) {\r\n            const objectfree: Dictionary  = {\r\n                hour: i,\r\n                hournum: hoursProm[i - 1],\r\n            }\r\n            for(let j = 1; j <= dateend; j++) {\r\n                objectfree[`day${j}`] = \"00:00:00\";\r\n            }\r\n            objectfree[`totalcol`] = \"00:00:00\";\r\n            arrayfree.push(objectfree);\r\n        }\r\n\r\n        data.forEach((row:any)=>{\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.hora;\r\n            let timespent = row.totaldurationxfecha.split(':')\r\n            let seconds = parseInt(timespent[0])*3600+parseInt(timespent[1])*60+parseInt(timespent[2])\r\n            arrayfree = arrayfree.map((x:any) => x.hournum === hour ? ({...x, [`day${day}`]: row.totaldurationxfecha}) : x) \r\n            rowmax = seconds>rowmax ? seconds:rowmax;\r\n            arrayvalidvalues[row.horanum]++\r\n            arrayvalidvaluesmonth[day-1]++\r\n            arrayfree.forEach((x:any) => {\r\n                    if (x.hournum === hour){\r\n                        let timespenttotal = x[\"totalcol\"].split(':')\r\n                        let secondstotalnum = ((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds)\r\n                        let hh= Math.floor(secondstotalnum/3600)\r\n                        let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                        let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                        x[\"totalcol\"] = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n                        \r\n                    }\r\n                }\r\n            )\r\n            \r\n            if(arrayvalidvaluesmonth[day-1] === 0){\r\n                arrayfree[24][`day${day}`] = `00:00:00`\r\n            }else{\r\n                let timespenttotal = arrayfree[24][`day${day}`].split(':')\r\n                let secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[24][`day${day}`]=hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n                timespenttotal = arrayfree[24].totalcol.split(':')\r\n                secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n                hh= Math.floor(secondstotalnum/3600)\r\n                mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[24].totalcol = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n\r\n        arrayvalidvaluesmonth.forEach((x,i)=>{\r\n            if(x!==0){\r\n                let timetoconvert = arrayfree[24][`day${i+1}`].split(':')\r\n                let secondstotalnum = (((timetoconvert[0])*3600+(timetoconvert[1])*60+parseInt(timetoconvert[2])))/x\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[24][`day${i+1}`] = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n\r\n        arrayvalidvalues.forEach((x,i)=>{\r\n            if(x!==0){\r\n                let timetoconvert = arrayfree[i][`totalcol`].split(':')\r\n                let secondstotalnum = (((timetoconvert[0])*3600+(timetoconvert[1])*60+parseInt(timetoconvert[2])))/x\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[i][`totalcol`]= hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n        setaverageHeatMapTMOData(arrayfree)\r\n                \r\n        function gradient(num:number,rowcounter:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            if ( rowcounter >= 24 ) {\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        let rowcounter = 0;\r\n\r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/hour|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : \"Promedio\",\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                const column = props.cell.column;\r\n                const row = props.cell.row.original;\r\n                if (key !== \"totalcol\") {\r\n                    let color = \"white\"                    \r\n                    let timespenttotal = props.cell.row.original[key].split(':')\r\n                    let hh = timespenttotal[0] === \"00\" ? \"\" : (timespenttotal[0] + \"h \")\r\n                    let mm = timespenttotal[1] === \"00\" ? \"\" : (timespenttotal[1] + \"m \")\r\n                    let ss = timespenttotal[2]\r\n                    let seconds = parseInt(timespenttotal[0])*3600+parseInt(timespenttotal[1])*60+parseInt(timespenttotal[2])\r\n                    color = gradient(seconds,rowcounter)\r\n                    return (\r\n                        <div\r\n                            style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}}\r\n                            onClick={() => fetchDetail('1.2', column, row,mes,year)}\r\n                        >\r\n                            {`${hh}${mm}${ss}s`}\r\n                        </div>\r\n                    )\r\n                }\r\n                else {\r\n                    if (rowcounter < 24)\r\n                        rowcounter++;\r\n                    let timespenttotal = props.cell.row.original[key].split(':')\r\n                    let hh = timespenttotal[0] === \"00\" ? \"\" : (timespenttotal[0] + \"h \")\r\n                    let mm = timespenttotal[1] === \"00\" ? \"\" : (timespenttotal[1] + \"m \")\r\n                    let ss = timespenttotal[2]\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{`${hh}${mm}${ss}s`}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n        setaverageHeatMapTMOTitle([\r\n            {\r\n                Header: `Hora`,\r\n                accessor: \"hournum\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n\r\n    function initUserFirstReplyTimexFechaGrid(data:any) {\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n        let rowmax = 0;    \r\n        let arrayfree:any = [];\r\n        \r\n        let arrayvalidvalues=new Array(25).fill(0);\r\n        let arrayvalidvaluesmonth=new Array(32).fill(0);\r\n        const LIMITHOUR = 24;\r\n\r\n        for(let i = 1; i <= LIMITHOUR+1; i++) {\r\n            const objectfree: Dictionary  = {\r\n                hour: i,\r\n                hournum: hoursProm[i - 1],\r\n            }\r\n            for(let j = 1; j <= dateend; j++) {\r\n                objectfree[`day${j}`] = \"00:00:00\";\r\n            }\r\n            objectfree[`totalcol`] = \"00:00:00\";\r\n            arrayfree.push(objectfree);\r\n        }\r\n\r\n        data.forEach((row:any)=>{\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.hora;\r\n            let timespent = row.userfirstreplytimexfecha.split(':')\r\n            let seconds = parseInt(timespent[0])*3600+parseInt(timespent[1])*60+parseInt(timespent[2])\r\n            \r\n            arrayfree = arrayfree.map((x:any) => x.hournum === hour ? ({...x, [`day${day}`]: row.userfirstreplytimexfecha}) : x) \r\n            rowmax = seconds>rowmax ? seconds:rowmax;\r\n            arrayvalidvalues[row.horanum]++\r\n            arrayvalidvaluesmonth[day-1]++\r\n            arrayfree.forEach((x:any) => {\r\n                    if (x.hournum === hour){\r\n                        let timespenttotal = x[\"totalcol\"].split(':')\r\n                        let secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n                        let hh= Math.floor(secondstotalnum/3600)\r\n                        let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                        let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                        x[\"totalcol\"] = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n                        \r\n                    }\r\n                }\r\n            )\r\n            let timespenttotal = arrayfree[24][`day${day}`].split(':')\r\n            let secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n            let hh= Math.floor(secondstotalnum/3600)\r\n            let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n            let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n            arrayfree[24][`day${day}`]=hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            timespenttotal = arrayfree[24].totalcol.split(':')\r\n            secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n            hh= Math.floor(secondstotalnum/3600)\r\n            mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n            ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n            arrayfree[24].totalcol = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n        })\r\n        \r\n        arrayvalidvaluesmonth.forEach((x,i)=>{\r\n            if(x!==0){\r\n                let timetoconvert = arrayfree[24][`day${i+1}`].split(':')\r\n                let secondstotalnum = (((timetoconvert[0])*3600+(timetoconvert[1])*60+parseInt(timetoconvert[2])))/x\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[24][`day${i+1}`] = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n\r\n        arrayvalidvalues.forEach((x,i)=>{\r\n            if(x!==0){\r\n                let timetoconvert = arrayfree[i][`totalcol`].split(':')\r\n                let secondstotalnum = (((timetoconvert[0])*3600+(timetoconvert[1])*60+parseInt(timetoconvert[2])))/x\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[i][`totalcol`]= hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n\r\n        setheatmapaverageagentTMEData(arrayfree)\r\n                \r\n        function gradient(num:number,rowcounter:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            if ( rowcounter >= 24 ) {\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            \r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n\r\n        let rowcounter = 0;\r\n\r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/hour|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : \"Promedio\",\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                const column = props.cell.column;\r\n                const row = props.cell.row.original;\r\n                if (key!==\"totalcol\") {\r\n                    \r\n                    let color = \"white\"\r\n                    let timespenttotal = props.cell.row.original[key].split(':')\r\n                    let hh = timespenttotal[0] === \"00\" ? \"\" : (timespenttotal[0] + \"h \")\r\n                    let mm = timespenttotal[1] === \"00\" ? \"\" : (timespenttotal[1] + \"m \")\r\n                    let ss = timespenttotal[2]\r\n                    let seconds = parseInt(timespenttotal[0])*3600+parseInt(timespenttotal[1])*60+parseInt(timespenttotal[2])\r\n                    if (props.data[rowcounter]) {\r\n                        color = gradient(seconds,rowcounter)\r\n                    }\r\n                    return (\r\n                        <div\r\n                            style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}}\r\n                            onClick={() => fetchDetail('1.3', column, row,mes,year)}\r\n                        >\r\n                            {`${hh}${mm}${ss}s`}\r\n                        </div>\r\n                    )\r\n                }\r\n                else {\r\n                    if (rowcounter < 24)\r\n                        rowcounter++;\r\n                    let timespenttotal = props.cell.row.original[key].split(':')\r\n                    let hh = timespenttotal[0] === \"00\" ? \"\" : (timespenttotal[0] + \"h \")\r\n                    let mm = timespenttotal[1] === \"00\" ? \"\" : (timespenttotal[1] + \"m \")\r\n                    let ss = timespenttotal[2]\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{`${hh}${mm}${ss}s`}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n\r\n        setheatmapaverageagentTMETitle([\r\n            {\r\n                Header: `Hora`,\r\n                accessor: \"hournum\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n\r\n    function initUserAverageReplyTimexFechaGrid(data:any) {\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n        let rowmax = 0;    \r\n        let arrayfree:any = [];\r\n        const LIMITHOUR = 24;\r\n        let arrayvalidvalues=new Array(25).fill(0);\r\n        let arrayvalidvaluesmonth=new Array(32).fill(0);\r\n\r\n        for(let i = 1; i <= LIMITHOUR+1; i++) {\r\n            const objectfree: Dictionary  = {\r\n                hour: i,\r\n                hournum: hoursProm[i - 1],\r\n            }\r\n            for(let j = 1; j <= dateend; j++) {\r\n                objectfree[`day${j}`] = \"00:00:00\";\r\n            }\r\n            objectfree[`totalcol`] = \"00:00:00\";\r\n            arrayfree.push(objectfree);\r\n        }\r\n\r\n        data.forEach((row:any)=>{\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.hora;\r\n            let timespent = row.useraveragereplytimexfecha.split(':')\r\n            let seconds = parseInt(timespent[0])*3600+parseInt(timespent[1])*60+parseInt(timespent[2])\r\n            \r\n            arrayfree = arrayfree.map((x:any) => x.hournum === hour ? ({...x, [`day${day}`]: row.useraveragereplytimexfecha}) : x) \r\n            rowmax = seconds>rowmax ? seconds:rowmax;\r\n            arrayvalidvalues[row.horanum]++\r\n            arrayvalidvaluesmonth[day-1]++\r\n            arrayfree.forEach((x:any) => {\r\n                    if (x.hournum === hour){\r\n                        let timespenttotal = x[\"totalcol\"].split(':')\r\n                        let secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n                        let hh= Math.floor(secondstotalnum/3600)\r\n                        let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                        let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                        x[\"totalcol\"] = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n                        \r\n                    }\r\n                }\r\n            )\r\n            let timespenttotal = arrayfree[24][`day${day}`].split(':')\r\n            let secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n            let hh= Math.floor(secondstotalnum/3600)\r\n            let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n            let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n            arrayfree[24][`day${day}`]=hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            timespenttotal = arrayfree[24].totalcol.split(':')\r\n            secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n            hh= Math.floor(secondstotalnum/3600)\r\n            mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n            ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n            arrayfree[24].totalcol = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n        })\r\n\r\n        arrayvalidvaluesmonth.forEach((x,i)=>{\r\n            if(x!==0){\r\n                let timetoconvert = arrayfree[24][`day${i+1}`].split(':')\r\n                let secondstotalnum = (((timetoconvert[0])*3600+(timetoconvert[1])*60+parseInt(timetoconvert[2])))/x\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[24][`day${i+1}`] = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n\r\n        arrayvalidvalues.forEach((x,i)=>{\r\n            if(x!==0){\r\n                let timetoconvert = arrayfree[i][`totalcol`].split(':')\r\n                let secondstotalnum = (((timetoconvert[0])*3600+(timetoconvert[1])*60+parseInt(timetoconvert[2])))/x\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[i][`totalcol`]= hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n\r\n        setuserAverageReplyTimexFechaData(arrayfree)\r\n                \r\n        function gradient(num:number,rowcounter:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            if ( rowcounter >= 24 ) {\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        let rowcounter = 0;\r\n\r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/hour|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : \"Promedio\",\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                const column = props.cell.column;\r\n                const row = props.cell.row.original;\r\n                if (key !== \"totalcol\") {\r\n                    let color = \"white\"                    \r\n                    let timespenttotal = props.cell.row.original[key].split(':')\r\n                    let hh = timespenttotal[0] === \"00\" ? \"\" : (timespenttotal[0] + \"h \")\r\n                    let mm = timespenttotal[1] === \"00\" ? \"\" : (timespenttotal[1] + \"m \")\r\n                    let ss = timespenttotal[2]\r\n                    let seconds = parseInt(timespenttotal[0])*3600+parseInt(timespenttotal[1])*60+parseInt(timespenttotal[2])\r\n                    if (props.data[rowcounter]) {\r\n                        color = gradient(seconds,rowcounter)\r\n                    }\r\n                    return (\r\n                        <div\r\n                            style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}}\r\n                            onClick={() => fetchDetail('1.4', column, row,mes,year)}\r\n                        >\r\n                            {`${hh}${mm}${ss}s`}\r\n                        </div>\r\n                    )\r\n                }\r\n                else {\r\n                    if (rowcounter < 24)\r\n                        rowcounter++;\r\n                    let timespenttotal = props.cell.row.original[key].split(':')\r\n                    let hh = timespenttotal[0] === \"00\" ? \"\" : (timespenttotal[0] + \"h \")\r\n                    let mm = timespenttotal[1] === \"00\" ? \"\" : (timespenttotal[1] + \"m \")\r\n                    let ss = timespenttotal[2]\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{`${hh}${mm}${ss}s`}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n\r\n        setuserAverageReplyTimexFechaTitle([\r\n            {\r\n                Header: `Hora`,\r\n                accessor: \"hournum\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n\r\n    function initPersonAverageReplyTimexFechaGrid(data:any) {\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n        let rowmax = 0;    \r\n        let arrayfree:any = [];\r\n        const LIMITHOUR = 24;\r\n        let arrayvalidvalues=new Array(25).fill(0);\r\n        let arrayvalidvaluesmonth=new Array(32).fill(0);\r\n\r\n        for(let i = 1; i <= LIMITHOUR+1; i++) {\r\n            const objectfree: Dictionary  = {\r\n                hour: i,\r\n                hournum: hoursProm[i - 1],\r\n            }\r\n            for(let j = 1; j <= dateend; j++) {\r\n                objectfree[`day${j}`] = \"00:00:00\";\r\n            }\r\n            objectfree[`totalcol`] = \"00:00:00\";\r\n            arrayfree.push(objectfree);\r\n        }\r\n\r\n        data.forEach((row:any)=>{\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.hora;\r\n            let timespent = row.personaveragereplytimexfecha.split(':')\r\n            let seconds = parseInt(timespent[0])*3600+parseInt(timespent[1])*60+parseInt(timespent[2])\r\n            \r\n            arrayfree = arrayfree.map((x:any) => x.hournum === hour ? ({...x, [`day${day}`]: row.personaveragereplytimexfecha}) : x) \r\n            rowmax = seconds>rowmax ? seconds:rowmax;\r\n            arrayvalidvalues[row.horanum]++\r\n            arrayvalidvaluesmonth[day-1]++\r\n            arrayfree.forEach((x:any) => {\r\n                    if (x.hournum === hour){\r\n                        let timespenttotal = x[\"totalcol\"].split(':')\r\n                        let secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n                        let hh= Math.floor(secondstotalnum/3600)\r\n                        let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                        let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                        x[\"totalcol\"] = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n                        \r\n                    }\r\n                }\r\n            )\r\n            let timespenttotal = arrayfree[24][`day${day}`].split(':')\r\n            let secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n            let hh= Math.floor(secondstotalnum/3600)\r\n            let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n            let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n            arrayfree[24][`day${day}`]=hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            timespenttotal = arrayfree[24].totalcol.split(':')\r\n            secondstotalnum = (((timespenttotal[0])*3600+(timespenttotal[1])*60+parseInt(timespenttotal[2])+seconds))\r\n            hh= Math.floor(secondstotalnum/3600)\r\n            mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n            ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n            arrayfree[24].totalcol = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n        })\r\n\r\n        arrayvalidvaluesmonth.forEach((x,i)=>{\r\n            if(x!==0){\r\n                let timetoconvert = arrayfree[24][`day${i+1}`].split(':')\r\n                let secondstotalnum = (((timetoconvert[0])*3600+(timetoconvert[1])*60+parseInt(timetoconvert[2])))/x\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[24][`day${i+1}`] = hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n\r\n        arrayvalidvalues.forEach((x,i)=>{\r\n            if(x!==0){\r\n                let timetoconvert = arrayfree[i][`totalcol`].split(':')\r\n                let secondstotalnum = (((timetoconvert[0])*3600+(timetoconvert[1])*60+parseInt(timetoconvert[2])))/x\r\n                let hh= Math.floor(secondstotalnum/3600)\r\n                let mm= Math.floor((secondstotalnum-hh*3600)/60)\r\n                let ss= Math.round(secondstotalnum)-hh*3600-mm*60\r\n                arrayfree[i][`totalcol`]= hh.toString().padStart(2,\"0\") + \":\" + mm.toString().padStart(2,\"0\") +\":\" + ss.toString().padStart(2,\"0\")\r\n            }\r\n        })\r\n\r\n        setpersonAverageReplyTimexFechaData(arrayfree)\r\n                \r\n        function gradient(num:number,rowcounter:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            if ( rowcounter >= 24 ) {\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        let rowcounter = 0;\r\n\r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/hour|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : \"Promedio\",\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                const column = props.cell.column;\r\n                const row = props.cell.row.original;\r\n                if (key !== \"totalcol\") {\r\n                    let color = \"white\"                    \r\n                    let timespenttotal = props.cell.row.original[key].split(':')\r\n                    let hh = timespenttotal[0] === \"00\" ? \"\" : (timespenttotal[0] + \"h \")\r\n                    let mm = timespenttotal[1] === \"00\" ? \"\" : (timespenttotal[1] + \"m \")\r\n                    let ss = timespenttotal[2]\r\n                    let seconds = parseInt(timespenttotal[0])*3600+parseInt(timespenttotal[1])*60+parseInt(timespenttotal[2])\r\n                    if (props.data[rowcounter]) {\r\n                        color = gradient(seconds,rowcounter)\r\n                    }\r\n                    return (\r\n                        <div\r\n                            style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}}\r\n                            onClick={() => fetchDetail('1.5', column, row,mes,year)}\r\n                        >\r\n                            {`${hh}${mm}${ss}s`}\r\n                        </div>\r\n                    )\r\n                }\r\n                else {\r\n                    if (rowcounter < 24)\r\n                        rowcounter++;\r\n                    let timespenttotal = props.cell.row.original[key].split(':')\r\n                    let hh = timespenttotal[0] === \"00\" ? \"\" : (timespenttotal[0] + \"h \")\r\n                    let mm = timespenttotal[1] === \"00\" ? \"\" : (timespenttotal[1] + \"m \")\r\n                    let ss = timespenttotal[2]\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{`${hh}${mm}${ss}s`}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n\r\n        setpersonAverageReplyTimexFechaTitle([\r\n            {\r\n                Header: `Hora`,\r\n                accessor: \"hournum\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div style={{width:\"100%\", display: \"flex\", paddingTop: 10}}>\r\n                <div style={{flex:1, paddingRight: \"10px\",}}>\r\n                    <TextField\r\n                        id=\"date\"\r\n                        className={classes.fieldsfilter}\r\n                        type=\"month\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e)=>handleDateChange(e.target.value)}\r\n                        value={dataMainHeatMap.datetoshow}\r\n                        size=\"small\"\r\n                    />\r\n                </div>\r\n                <div style={{flex:1}}>\r\n\r\n                    <FieldMultiSelect\r\n                        label={t(langKeys.advisor)}\r\n                        className={classes.fieldsfilter}\r\n                        variant=\"outlined\"\r\n                        onChange={(value) => { setdataMainHeatMap(p => ({ ...p, closedby: value.map((o: Dictionary) => o.domainvalue).join() })) }}\r\n                        valueDefault={dataMainHeatMap.closedby}\r\n                        data={dataAdvisor}\r\n                        optionDesc=\"domaindesc\"\r\n                        optionValue=\"domainvalue\"\r\n                    />\r\n                </div>\r\n                <div style={{flex:1, paddingLeft: 20}}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        style={{ width: \"100%\", backgroundColor: \"#007bff\" }}\r\n                        onClick={() => search()}\r\n                    >{t(langKeys.search)}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            {\r\n                heatMapConversationsData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={heatMapConversations}\r\n                        titlemodule={t(langKeys.conversationheatmap)}\r\n                        data={heatMapConversationsData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.conversationheatmaptooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                averageHeatMapTMOData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={averageHeatMapTMOTitle}\r\n                        titlemodule={t(langKeys.averageheatmapTMOdata)}\r\n                        data={averageHeatMapTMOData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.averageheatmapTMOdatatooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                heatmapaverageagentTMEData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={heatmapaverageagentTMETitle}\r\n                        titlemodule={t(langKeys.heatmapaverageagentTME)}\r\n                        data={heatmapaverageagentTMEData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.heatmapaverageagentTMEtooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                userAverageReplyTimexFechaData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={userAverageReplyTimexFechaTitle}\r\n                        titlemodule={t(langKeys.userAverageReplyTimexFecha)}\r\n                        data={userAverageReplyTimexFechaData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.userAverageReplyTimexFechatooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                personAverageReplyTimexFechaData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={personAverageReplyTimexFechaTitle}\r\n                        titlemodule={t(langKeys.personAverageReplyTimexFecha)}\r\n                        data={personAverageReplyTimexFechaData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.personAverageReplyTimexFechatooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            <ModalHeatMap\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                title={modalTitle}\r\n                row={modalRow}\r\n                columns={modalColumns}\r\n                data={multiDataAux2.data[0]?.data||[]}\r\n            />\r\n            <DialogInteractions\r\n                openModal={openModalTicket}\r\n                setOpenModal={setOpenModalTicket}\r\n                ticket={rowSelected}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst HeatMapAsesor: React.FC<{companydomain: any,groupsdomain: any}> = ({companydomain,groupsdomain}) => {\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n    const [realizedsearch, setrealizedsearch] = useState(false);\r\n    const [completadosxAsesorData, setCompletadosxAsesorData] = useState<any>([]);\r\n    const [completadosxAsesorTitle, setCompletadosxAsesorTitle] = useState<any>([]);\r\n    const [cantidadOportunidadesData, setCantidadOportunidadesData] = useState<any>([]);\r\n    const [cantidadOportunidadesTitle, setCantidadOportunidadesTitle] = useState<any>([]);\r\n    const [abandonosxAsesorData, setabandonosxAsesorData] = useState<any>([]);\r\n    const [abandonosxAsesorTitle, setabandonosxAsesorTitle] = useState<any>([]);\r\n    const [tasaAbandonosxAsesorData, settasaAbandonosxAsesorData] = useState<any>([]);\r\n    const [tasaAbandonosxAsesorTitle, settasaAbandonosxAsesorTitle] = useState<any>([]);\r\n    const [tasaOportunidadesData, setTasaOportunidadesData] = useState<any>([]);\r\n    const [tasaOportunidadesTitle, setTasaOportunidadesTitle] = useState<any>([]);\r\n    const [efectividadxAsesorData, setefectividadxAsesorData] = useState<any>([]);\r\n    const [efectividadxAsesorTitle, setefectividadxAsesorTitle] = useState<any>([]);\r\n    const [efectividadxAsesorOportunidadData, setefectividadxAsesorOportunidadData] = useState<any>([]);\r\n    const [efectividadxAsesorOportunidadTitle, setefectividadxAsesorOportunidadTitle] = useState<any>([]);\r\n    const [ventasxAsesorData, setventasxAsesorData] = useState<any>([]);\r\n    const [ventasxAsesorTitle, setventasxAsesorTitle] = useState<any>([]);\r\n    const [typeEfectiveness, settypeEfectiveness] = useState(true);\r\n    // const [listadvisers, setlistadvisers] = useState<any>([]);\r\n    const dataAdvisor = [{domaindesc: t(langKeys.agent), domainvalue: \"ASESOR\"},{domaindesc: \"Bot\", domainvalue: \"BOT\"}]\r\n    const dispatch = useDispatch();\r\n    const [modalRow, setModalRow] = useState<Dictionary | null>(null);\r\n    const [modalTitle, setModalTitle] = useState('');\r\n    const [modalColumns, setModalColumns] = useState<any>([]);\r\n    const [rowSelected, setRowSelected] = useState<Dictionary | null>(null);\r\n    const [openModalTicket, setOpenModalTicket] = useState(false);\r\n    const [waitDetail, setWaitDetail] = useState(false);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const mainResult = useSelector(state => state.main);\r\n    const mainAux = useSelector(state => state.main.mainAux);\r\n    const openDialogInteractions = useCallback((row: any) => {\r\n        setOpenModalTicket(true);\r\n        setRowSelected({ ...row, displayname: row.asesor, ticketnum: row.ticketnum })\r\n    }, [mainResult]);\r\n    const fetchDetail = (grid: string, column: Dictionary, row: Dictionary,page2:boolean, mes: number, year: number) => {\r\n        if (row.hournum!==\"TOTAL\" && ((typeof(row[column.id]) === 'number' && row[column.id] > 0)\r\n        || (typeof(row[column.id]) === 'string' && row[column.id] !== '00:00:00'))) {\r\n            setModalRow(row);\r\n            const day = column.id.replace('day','');\r\n            //const user = listadvisers.filter((x:any)=>x.userid === row.userid)[0]?.userdesc;\r\n            const user = (multiData.data[1]?.data||[]).filter((x:any)=>x.userid === row.userid)[0]?.userdesc\r\n            switch (grid) {\r\n                case 'COMPLETED':\r\n                    setModalTitle(`Tickets ${capitalize(user || '')} ${t(langKeys.day)} ${day}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                        { Header: t(langKeys.agent), accessor: 'asesor' },\r\n                    ])\r\n                    break;\r\n                case 'ABANDONED':\r\n                    setModalTitle(`Tickets ${capitalize(user || '')} ${t(langKeys.day)} ${day}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                    ])\r\n                    break;\r\n                case 'OPPORTUNITY':\r\n                    setModalTitle(`${t(langKeys.opportunity_plural)} ${capitalize(user || '')} ${t(langKeys.day)} ${day}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                        { Header: t(langKeys.opportunityname), accessor: 'leadname' },\r\n                    ])\r\n                    break;\r\n                case 'OPPORTUNITYWON':\r\n                    setModalTitle(`${t(langKeys.opportunity_plural)} ${capitalize(user || '')} ${t(langKeys.day)} ${day}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.ticket), accessor: 'ticketnum',\r\n                            Cell: (props: any) => {\r\n                                const row = props.cell.row.original;\r\n                                return <label\r\n                                    className={classes.labellink}\r\n                                    onClick={() => openDialogInteractions(row)}\r\n                                >\r\n                                    {row.ticketnum}\r\n                                </label>\r\n                            }\r\n                        },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                        { Header: t(langKeys.opportunitywon), accessor: 'opportunitywon' },\r\n                    ])\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            (!page2)?(dispatch(getCollectionAux(heatmappage2detail1({\r\n                ...dataMainHeatMap,\r\n                startdate: new Date(year, mes-1, day),\r\n                enddate: new Date(year, mes-1, day),\r\n                agentid: row.userid,\r\n                option: grid\r\n            })))):(dispatch(getCollectionAux(heatmappage2detail2({\r\n                ...dataMainHeatMap,\r\n                startdate: new Date(year, mes-1, day),\r\n                enddate: new Date(year, mes-1, day),\r\n                agentid: row.userid,\r\n                option: grid\r\n            }))))\r\n            dispatch(showBackdrop(true));\r\n            setWaitDetail(true);\r\n        }\r\n    }\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const [dataMainHeatMap, setdataMainHeatMap] = useState({\r\n        communicationchannel: \"\",\r\n        closedby: \"ASESOR\",\r\n        startdate: new Date(new Date().getFullYear(), new Date().getMonth(), 1),\r\n        enddate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n        datetoshow: `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth()+1).padStart(2, '0')}`,\r\n        company: \"\", \r\n        group: \"\",\r\n    });\r\n    useEffect(() => {\r\n        search()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(waitDetail) {\r\n            if (!mainAux.loading){\r\n                dispatch(showBackdrop(false));\r\n                setWaitDetail(false);\r\n                setOpenModal(true);\r\n            }\r\n        }\r\n    }, [mainAux])\r\n    useEffect(() => {\r\n\r\n        if(!multiData.loading && realizedsearch){\r\n            let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n            let year = dataMainHeatMap.startdate?.getFullYear()\r\n            let dateend = new Date(year, mes, 0).getDate()\r\n            let arrayfree:any = []\r\n            // setlistadvisers(multiData.data[1]?.data||[])\r\n            let tempadviserlist = multiData.data[1]?.data||[]\r\n            tempadviserlist.forEach((row:any) => {\r\n                \r\n                const objectfree: Dictionary = {\r\n                    asesor: capitalize(row.userdesc),\r\n                    userid: row.userid,\r\n                }\r\n                for(let j = 1; j <= dateend; j++) {\r\n                    objectfree[`day${j}`] = 0;\r\n                }\r\n                objectfree[`totalcol`] = 0;\r\n                arrayfree.push(objectfree);\r\n            })\r\n            setrealizedsearch(false)\r\n            dispatch(showBackdrop(false))         \r\n            initCompletadosxAsesorGrid(multiData.data[0]?.data||[],arrayfree,tempadviserlist)\r\n            initAbandonosxAsesorGrid(multiData.data[0]?.data||[],arrayfree,tempadviserlist)\r\n            initTasaAbandonosxAsesorGrid(multiData.data[0]?.data||[],arrayfree)\r\n            initCantidadOportunidadesGrid(multiData.data[0]?.data||[],arrayfree,tempadviserlist)\r\n            initTasaOportunidadesGrid(multiData.data[0]?.data||[],arrayfree)\r\n            initVentasxAsesorGrid(multiData.data[0]?.data||[],arrayfree,tempadviserlist)            \r\n            initEfectividadxAsesorGrid(multiData.data[0]?.data||[],arrayfree)\r\n            initEfectividadxAsesorxoportunitiesGrid(multiData.data[0]?.data||[],arrayfree)\r\n            \r\n        }\r\n    }, [multiData,realizedsearch])\r\n\r\n    function initCompletadosxAsesorGrid(data:any,arraything:any,tempadviserlist:any){\r\n        let arrayfree: any = [...arraything];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let rowmax = 0;\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n        const objectlast:any = { asesor: \"TOTAL\" , userid: 0};\r\n        for(let j = 1; j <= dateend; j++) {\r\n            objectlast[`day${j}`] = 0;\r\n        }\r\n        objectlast[`totalcol`] = 0;\r\n        arrayfree.push(objectlast)\r\n        \r\n        data.filter((x:any) => tempadviserlist.filter((e:any) => e.userid === x.userid).length>0).forEach((row:any) => {\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.userid;\r\n            arrayfree = arrayfree.map((x:any) => x.userid === hour ? ({\r\n                ...x, \r\n                [`day${day}`]: row.completadosxasesor,\r\n                [`totalcol`]: x.totalcol + row.completadosxasesor\r\n            }) : x) \r\n            rowmax = row.completadosxasesor>rowmax ? row.completadosxasesor:rowmax;\r\n            arrayfree[tempadviserlist.length][`day${day}`] += row.completadosxasesor;\r\n            arrayfree[tempadviserlist.length][`totalcol`] += row.completadosxasesor;\r\n        })\r\n        setCompletadosxAsesorData(arrayfree)\r\n\r\n        let m=0;\r\n        function gradient(num:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            m++;\r\n            if ((tempadviserlist.length)*dateend<m){\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/asesor|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : (key===\"asesor\" ? \"ASESOR\" : \"TOTAL\"),\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                const column = props.cell.column;\r\n                const row = props.cell.row.original;\r\n                if(key!==\"totalcol\"){\r\n                    let color=gradient(props.cell.row.original[key])\r\n                    \r\n                    return <div style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}} \r\n                            onClick={() => fetchDetail('COMPLETED', column, row,false, mes, year)}>{(props.cell.row.original[key])}</div>\r\n                    \r\n                }\r\n                else{\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{(props.cell.row.original[key])}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n        arraytemplate?.shift()\r\n        setCompletadosxAsesorTitle([\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: \"asesor\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n    function initAbandonosxAsesorGrid(data:any,arraything:any,tempadviserlist:any){\r\n        let arrayfree: any = [...arraything];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let rowmax = 0;\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n\r\n        const objectlast:any = { asesor: \"TOTAL\" , userid: 0};\r\n        for(let j = 1; j <= dateend; j++) {\r\n            objectlast[`day${j}`] = 0;\r\n        }\r\n        objectlast[`totalcol`] = 0;\r\n        arrayfree.push(objectlast)\r\n        data.filter((x:any) => tempadviserlist.filter((e:any) => e.userid === x.userid).length>0).forEach((row:any) => {\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.userid;\r\n            arrayfree = arrayfree.map((x:any) => x.userid === hour ? ({\r\n                ...x, \r\n                [`day${day}`]: row.abandonosxasesor,\r\n                [`totalcol`]: x.totalcol + row.abandonosxasesor\r\n            }) : x) \r\n            rowmax = row.abandonosxasesor>rowmax ? row.abandonosxasesor:rowmax;\r\n            arrayfree[tempadviserlist.length][`day${day}`] += row.abandonosxasesor;\r\n            arrayfree[tempadviserlist.length][`totalcol`] += row.abandonosxasesor;\r\n        })\r\n        setabandonosxAsesorData(arrayfree)\r\n\r\n        let m=0;\r\n        function gradient(num:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            m++;\r\n            if ((tempadviserlist.length)*dateend<m){\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/asesor|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : (key===\"asesor\" ? \"ASESOR\" : \"TOTAL\"),\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                if(key!==\"totalcol\"){\r\n                    let color=gradient(props.cell.row.original[key])\r\n                    const column = props.cell.column;\r\n                    const row = props.cell.row.original;\r\n                    \r\n                    return <div onClick={() => fetchDetail('ABANDONED', column, row,false, mes, year)} style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}} >{(props.cell.row.original[key])}</div>\r\n                    \r\n                }\r\n                else{\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{(props.cell.row.original[key])}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n        arraytemplate?.shift()\r\n        setabandonosxAsesorTitle([\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: \"asesor\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n    function initTasaAbandonosxAsesorGrid(data:any,arraything:any){\r\n        let arrayfree: any = [...arraything];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        data.forEach((row:any)=>{\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.userid;\r\n            arrayfree = arrayfree.map((x:any) => x.userid === hour ? ({...x, [`day${day}`]: row.tasaabandonosxasesor}) : x) \r\n        })\r\n        \r\n        settasaAbandonosxAsesorData(arrayfree)\r\n        \r\n        function gradient(num:number){\r\n            let scale = 255/(1/2)\r\n            if(isNaN(scale)) scale=0\r\n            \r\n            if ( num <=  1/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            let number= Math.floor((255-(num-1/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n\r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/asesor|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : (key===\"asesor\" ? \"ASESOR\" : \"TOTAL\"),\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            type: \"porcentage\",\r\n            Cell: (props: any) => {\r\n                let color=gradient(Number(props.cell.row.original[key]))\r\n                let number = `${(Number(props.cell.row.original[key])*100).toFixed(0)} %`\r\n                return (\r\n                    <div style={{background: `#${color}`, textAlign: \"center\", color:\"black\"} } >{number}</div>)\r\n            },\r\n        })) : [];\r\n        arraytemplate?.shift()\r\n        arraytemplate?.pop()\r\n        settasaAbandonosxAsesorTitle([\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: \"asesor\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n    function initCantidadOportunidadesGrid(data:any,arraything:any,tempadviserlist:any){\r\n        let arrayfree: any = [...arraything];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let rowmax = 0;\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n\r\n        const objectlast:any = { asesor: \"TOTAL\" , userid: 0};\r\n        for(let j = 1; j <= dateend; j++) {\r\n            objectlast[`day${j}`] = 0;\r\n        }\r\n        objectlast[`totalcol`] = 0;\r\n        arrayfree.push(objectlast)\r\n        data.filter((x:any) => tempadviserlist.filter((e:any) => e.userid === x.userid).length>0).forEach((row:any) => {\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.userid;\r\n            arrayfree = arrayfree.map((x:any) => x.userid === hour ? ({\r\n                ...x, \r\n                [`day${day}`]: row.oportunidadesxasesor,\r\n                [`totalcol`]: x.totalcol + row.oportunidadesxasesor\r\n            }) : x) \r\n            rowmax = row.oportunidadesxasesor>rowmax ? row.oportunidadesxasesor:rowmax;\r\n            arrayfree[tempadviserlist.length][`day${day}`] += row.oportunidadesxasesor;\r\n            arrayfree[tempadviserlist.length][`totalcol`] += row.oportunidadesxasesor;\r\n        })\r\n        setCantidadOportunidadesData(arrayfree)\r\n\r\n        let m=0;\r\n        \r\n        function gradient(num:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            m++;\r\n            if ((tempadviserlist.length)*dateend<m){\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/asesor|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : (key===\"asesor\" ? \"ASESOR\" : \"TOTAL\"),\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                if(key!==\"totalcol\"){\r\n                    let color=gradient(props.cell.row.original[key])\r\n                    const column = props.cell.column;\r\n                    const row = props.cell.row.original;\r\n                    \r\n                    return <div onClick={() => fetchDetail('OPPORTUNITY', column, row,true, mes, year)}  style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}} >{(props.cell.row.original[key])}</div>\r\n                    \r\n                }\r\n                else{\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{(props.cell.row.original[key])}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n        arraytemplate?.shift()\r\n        setCantidadOportunidadesTitle([\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: \"asesor\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n    function initTasaOportunidadesGrid(data:any,arraything:any){\r\n        let arrayfree: any = [...arraything];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n\r\n        data.forEach((row:any)=>{\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.userid;\r\n            arrayfree = arrayfree.map((x:any) => x.userid === hour ? ({...x, [`day${day}`]: row.tasaoportunidadesxasesor}) : x) \r\n        })\r\n        \r\n        setTasaOportunidadesData(arrayfree)\r\n        \r\n        function gradient(num:number){\r\n            let scale = 255/(1/2)\r\n            if(isNaN(scale)) scale=0\r\n            \r\n            if ( num <=  1/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            let number= Math.floor((255-(num-1/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/asesor/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : (key===\"asesor\" ? \"ASESOR\" : \"TOTAL\"),\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            type: \"porcentage\",\r\n            Cell: (props: any) => {\r\n                let color=gradient(Number(props.cell.row.original[key]))\r\n                let number = `${(Number(props.cell.row.original[key])*100).toFixed(0)} %`\r\n                return <div style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}} >{number}</div>\r\n            },\r\n        })) : [];\r\n        arraytemplate?.shift()\r\n        arraytemplate?.pop()\r\n        setTasaOportunidadesTitle([\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: \"asesor\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n\r\n    function initVentasxAsesorGrid(data:any,arraything:any,tempadviserlist:any){\r\n        let arrayfree: any = [...arraything];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let rowmax = 0;\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n\r\n        const objectlast:any = { asesor: \"TOTAL\" , userid: 0};\r\n        for(let j = 1; j <= dateend; j++) {\r\n            objectlast[`day${j}`] = 0;\r\n        }\r\n        objectlast[`totalcol`] = 0;\r\n        arrayfree.push(objectlast)\r\n        \r\n        data.filter((x:any) => tempadviserlist.filter((e:any) => e.userid === x.userid).length>0).forEach((row:any) => {\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.userid;\r\n            arrayfree = arrayfree.map((x:any) => x.userid === hour ? ({\r\n                ...x, \r\n                [`day${day}`]: row.ventasxasesor,\r\n                [`totalcol`]: x.totalcol + row.ventasxasesor\r\n            }) : x) \r\n            rowmax = row.ventasxasesor>rowmax ? row.ventasxasesor:rowmax;\r\n            arrayfree[tempadviserlist.length][`day${day}`] += row.ventasxasesor;\r\n            arrayfree[tempadviserlist.length][`totalcol`] += row.ventasxasesor;\r\n        })\r\n        \r\n        setventasxAsesorData(arrayfree)\r\n\r\n        let m=0;\r\n        \r\n        function gradient(num:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            m++;\r\n            if ((tempadviserlist.length)*dateend<m){\r\n                return \"FFFFFF\"\r\n            }\r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/asesor|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : (key===\"asesor\" ? \"ASESOR\" : \"TOTAL\"),\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                if(key!==\"totalcol\"){\r\n                    let color=gradient(props.cell.row.original[key])\r\n                    const column = props.cell.column;\r\n                    const row = props.cell.row.original;\r\n                    \r\n                    return <div onClick={() => fetchDetail('OPPORTUNITYWON', column, row,true, mes, year)}  style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}} >{(props.cell.row.original[key])}</div>\r\n                    \r\n                }\r\n                else{\r\n                    return <div style={{textAlign: \"center\", fontWeight: \"bold\",background: \"white\"}}>{(props.cell.row.original[key])}</div>\r\n                }\r\n            },\r\n        })) : [];\r\n        arraytemplate?.shift()\r\n        setventasxAsesorTitle([\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: \"asesor\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n    function initEfectividadxAsesorGrid(data:any,arraything:any){\r\n        let arrayfree: any = [...arraything];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n\r\n        data.forEach((row:any)=>{\r\n            let efectividad = row.tasaventasxticket == null? 0: row.tasaventasxticket;\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.userid;\r\n            arrayfree = arrayfree.map((x:any) => x.userid === hour ? ({...x, [`day${day}`]: efectividad}) : x) \r\n        })\r\n        \r\n        setefectividadxAsesorData(arrayfree)\r\n        \r\n        function gradient(num:number){\r\n            let scale = 255/(1/2)\r\n            if(isNaN(scale)) scale=0\r\n            \r\n            if ( num <=  1/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            let number= Math.floor((255-(num-1/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/asesor/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : (key===\"asesor\" ? \"ASESOR\" : \"TOTAL\"),\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            type: \"porcentage\",\r\n            Cell: (props: any) => {\r\n                let color=gradient(Number(props.cell.row.original[key]))\r\n                let number = `${(Number(props.cell.row.original[key])*100).toFixed(0)} %`\r\n                return <div style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}} >{number}</div>\r\n            },\r\n        })) : [];\r\n        arraytemplate?.shift()\r\n        arraytemplate?.pop()\r\n        setefectividadxAsesorTitle([\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: \"asesor\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n    function initEfectividadxAsesorxoportunitiesGrid(data:any,arraything:any){\r\n        let arrayfree: any = [...arraything];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n\r\n        data.forEach((row:any)=>{\r\n            let efectividad = row.tasaventasxoportunidad == null? 0: row.tasaventasxoportunidad;\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.userid;\r\n            arrayfree = arrayfree.map((x:any) => x.userid === hour ? ({...x, [`day${day}`]: efectividad}) : x) \r\n        })\r\n        \r\n        setefectividadxAsesorOportunidadData(arrayfree)\r\n        \r\n        function gradient(num:number){\r\n            let scale = 255/(1/2)\r\n            if(isNaN(scale)) scale=0\r\n            \r\n            if ( num <=  1/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            let number= Math.floor((255-(num-1/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/asesor/gi.test(key)).map(([key, value]) => ({\r\n            Header: key.includes('day') ? `${key.split('day')[1]}/${mes}` : (key===\"asesor\" ? \"ASESOR\" : \"TOTAL\"),\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            type: \"porcentage\",\r\n            Cell: (props: any) => {\r\n                let color=gradient(Number(props.cell.row.original[key]))\r\n                let number = `${(Number(props.cell.row.original[key])*100).toFixed(0)} %`\r\n                return <div style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}} >{number}</div>\r\n            },\r\n        })) : [];\r\n        arraytemplate?.shift()\r\n        arraytemplate?.pop()\r\n        setefectividadxAsesorOportunidadTitle([\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: \"asesor\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n    async function search(){\r\n        if (dataMainHeatMap.datetoshow === '') {\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.date_format_error) }))\r\n        }\r\n        else {\r\n            // setlistadvisers([])\r\n            setCompletadosxAsesorData([])\r\n            setabandonosxAsesorData([])\r\n            settasaAbandonosxAsesorData([])\r\n            setTasaOportunidadesData([])\r\n            setventasxAsesorData([])\r\n            setefectividadxAsesorOportunidadData([])\r\n            setefectividadxAsesorData([])\r\n            setCantidadOportunidadesData([])\r\n            setrealizedsearch(true)\r\n            dispatch(showBackdrop(true))\r\n            dispatch(getMultiCollection([\r\n                heatmappage2(dataMainHeatMap),\r\n                getasesoresbyorgid(dataMainHeatMap.closedby)\r\n            ]));\r\n        }\r\n    }\r\n    function handleDateChange(e: any){\r\n        if (e === '') {\r\n            setdataMainHeatMap(prev=>({...prev, datetoshow: e}))\r\n        }\r\n        else {\r\n            let year = +e.split('-')[0]\r\n            let mes = +e.split('-')[1]\r\n            let startdate = new Date(year, mes-1, 1)\r\n            let enddate = new Date(year, mes, 0)\r\n            setdataMainHeatMap(prev=>({...prev,startdate,enddate, datetoshow: e}))\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <div style={{width:\"100%\", display: \"flex\", paddingTop: 10}}>\r\n            <div style={{flex:1, paddingRight: \"10px\",}}>\r\n                    <TextField\r\n                        id=\"date\"\r\n                        className={classes.fieldsfilter}\r\n                        type=\"month\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e)=>handleDateChange(e.target.value)}\r\n                        value={dataMainHeatMap.datetoshow}\r\n                        size=\"small\"\r\n                    />\r\n                </div>\r\n                <div style={{flex:1,paddingRight: 10}}>\r\n                    <FieldMultiSelect\r\n                        label={t(langKeys.advisor)}\r\n                        className={classes.fieldsfilter}\r\n                        variant=\"outlined\"\r\n                        onChange={(value) => { setdataMainHeatMap(p => ({ ...p, closedby: value.map((o: Dictionary) => o.domainvalue).join() })) }}\r\n                        valueDefault={dataMainHeatMap.closedby}\r\n                        data={dataAdvisor}\r\n                        optionDesc=\"domaindesc\"\r\n                        optionValue=\"domainvalue\"\r\n                    />\r\n                </div>\r\n                <div style={{flex:1,paddingRight: 10}}>\r\n                    <FieldMultiSelect\r\n                        label={t(langKeys.company)}\r\n                        className={classes.fieldsfilter}\r\n                        variant=\"outlined\"\r\n                        onChange={(value) => { setdataMainHeatMap(p => ({ ...p, company: value.map((o: Dictionary) => o.domainvalue).join() })) }}\r\n                        valueDefault={dataMainHeatMap.company}\r\n                        data={companydomain}\r\n                        optionDesc=\"domaindesc\"\r\n                        optionValue=\"domainvalue\"\r\n                    />\r\n                </div>\r\n                <div style={{flex:1}}>\r\n                    <FieldMultiSelect\r\n                        label={t(langKeys.group)}\r\n                        className={classes.fieldsfilter}\r\n                        variant=\"outlined\"\r\n                        onChange={(value) => { setdataMainHeatMap(p => ({ ...p, group: value.map((o: Dictionary) => o.domainvalue).join() })) }}\r\n                        valueDefault={dataMainHeatMap.group}\r\n                        data={groupsdomain}\r\n                        optionDesc=\"domaindesc\"\r\n                        optionValue=\"domainvalue\"\r\n                    />\r\n                </div>\r\n                <div style={{flex:1, paddingLeft: 20}}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        style={{ width: \"100%\", backgroundColor: \"#007bff\" }}\r\n                        onClick={() => search()}\r\n                    >{t(langKeys.search)}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            {\r\n                completadosxAsesorData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={completadosxAsesorTitle}\r\n                        titlemodule={t(langKeys.completadosxAsesor)}\r\n                        data={completadosxAsesorData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.notecompletedasesors)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                abandonosxAsesorData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={abandonosxAsesorTitle}\r\n                        titlemodule={t(langKeys.abandonosxAsesor)}\r\n                        data={abandonosxAsesorData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.noteabandonedasesors)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                tasaAbandonosxAsesorData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={tasaAbandonosxAsesorTitle}\r\n                        titlemodule={t(langKeys.tasaAbandonosxAsesor)}\r\n                        data={tasaAbandonosxAsesorData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.tasaAbandonosxAsesortooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                cantidadOportunidadesData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={cantidadOportunidadesTitle}\r\n                        titlemodule={t(langKeys.oportunidadesxAsesor)}\r\n                        data={cantidadOportunidadesData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.oportunidadesxAsesortooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                tasaOportunidadesData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={tasaOportunidadesTitle}\r\n                        titlemodule={t(langKeys.tasaOportunidades)}\r\n                        data={tasaOportunidadesData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.tasaOportunidadestooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n\r\n\r\n\r\n\r\n            {\r\n                ventasxAsesorData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={ventasxAsesorTitle}\r\n                        titlemodule={t(langKeys.ventasxAsesor)}\r\n                        data={ventasxAsesorData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.ventasxAsesortooltip)}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            {\r\n                efectividadxAsesorData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={typeEfectiveness?efectividadxAsesorTitle:efectividadxAsesorOportunidadTitle}\r\n                        titlemodule={t(langKeys.efectividadxAsesor)}\r\n                        data={typeEfectiveness?efectividadxAsesorData:efectividadxAsesorOportunidadData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                        helperText={t(langKeys.efectividadxAsesortooltip)}\r\n                        ButtonsElement={()=>(\r\n                            <>\r\n                                <TemplateSwitchYesNo\r\n                                    valueDefault={typeEfectiveness}\r\n                                    onChange={(value) => settypeEfectiveness(value)}\r\n                                    textYes={t(langKeys.ticketbase)}\r\n                                    textNo={t(langKeys.oportunitybase)}\r\n                                    labelPlacement=\"start\"\r\n                                    style={{padding: 10}}\r\n                                />\r\n                            </>\r\n                        )}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            <ModalHeatMap\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                title={modalTitle}\r\n                row={modalRow}\r\n                columns={modalColumns}\r\n                data={mainAux?.data||[]}\r\n            />\r\n            <DialogInteractions\r\n                openModal={openModalTicket}\r\n                setOpenModal={setOpenModalTicket}\r\n                ticket={rowSelected}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nconst HeatMapTicket: React.FC = () => {\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const multiDataAux2 = useSelector(state => state.main.multiDataAux2);\r\n    const [realizedsearch, setrealizedsearch] = useState(false);  \r\n    const [asesoresConectadosData, setasesoresConectadosData] = useState<any>([]);  \r\n    const [asesoresConectadosTitle, setasesoresConectadosTitle] = useState<any>([]);  \r\n    const [dataMainHeatMap, setdataMainHeatMap] = useState({\r\n        communicationchannel: \"\",\r\n        startdate: new Date(new Date().getFullYear(), new Date().getMonth(), 1),\r\n        enddate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n        datetoshow: `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth()+1).padStart(2, '0')}`,\r\n    });\r\n\r\n    const [waitDetail, setWaitDetail] = useState(false);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [modalTitle, setModalTitle] = useState('');\r\n    const [modalRow, setModalRow] = useState<Dictionary | null>(null);\r\n    const [modalColumns, setModalColumns] = useState<any>([]);\r\n    const fetchDetail = (grid: string, column: Dictionary, row: Dictionary, mes: number, year: number) => {\r\n        if (typeof(row[column.id]) === 'number' && row[column.id] > 0) {\r\n            setModalRow(row);\r\n            const day = column.id.replace('day','');\r\n            const hour = row.hour - 1;\r\n            const hournum = row.hournum.replace('a','-');\r\n            switch (grid) {\r\n                case '3.1':\r\n                    setModalTitle(`${t(langKeys.agent_plural)} ${t(langKeys.day)} ${day} ${hournum}`)\r\n                    setModalColumns([\r\n                        { Header: t(langKeys.agent), accessor: 'asesor' },\r\n                        { Header: t(langKeys.channel), accessor: 'channel' },\r\n                    ])\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            dispatch(getMultiCollectionAux2([heatmappage3detail({\r\n                ...dataMainHeatMap,\r\n                startdate: new Date(year, mes-1, day),\r\n                enddate: new Date(year, mes-1, day),\r\n                horanum: row.hournum === 'TOTAL' ? '' : hour\r\n            })]));\r\n            dispatch(showBackdrop(true));\r\n            setWaitDetail(true);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(waitDetail) {\r\n            if (!multiDataAux2.loading){\r\n                dispatch(showBackdrop(false));\r\n                setWaitDetail(false);\r\n                setOpenModal(true);\r\n            }\r\n        }\r\n    }, [multiDataAux2])\r\n\r\n    useEffect(() => {\r\n        search()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(!multiData.loading && realizedsearch){\r\n            setrealizedsearch(false)\r\n            dispatch(showBackdrop(false))\r\n            if(multiData.data[0].key === \"UFN_REPORT_HEATMAP_ASESORESCONECTADOS_SEL\"){\r\n                initAsesoresConectadosGrid(multiData.data[0]?.data||[])\r\n            }else{\r\n                initAsesoresConectadosGrid([])\r\n            }\r\n        }\r\n    }, [multiData,realizedsearch])\r\n\r\n    function search(){\r\n        if (dataMainHeatMap.datetoshow === '') {\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.date_format_error) }))\r\n        }\r\n        else {\r\n            setasesoresConectadosData([])\r\n            setrealizedsearch(true)\r\n            dispatch(showBackdrop(true))\r\n            dispatch(getMultiCollection([\r\n                heatmappage3(dataMainHeatMap)\r\n            ]));\r\n        }\r\n    }\r\n\r\n    function handleDateChange(e: any){\r\n        if (e === '') {\r\n            setdataMainHeatMap(prev=>({...prev, datetoshow: e}))\r\n        }\r\n        else {\r\n            let year = +e.split('-')[0]\r\n            let mes = +e.split('-')[1]\r\n            let startdate = new Date(year, mes-1, 1)\r\n            let enddate = new Date(year, mes, 0)\r\n            setdataMainHeatMap(prev=>({...prev,startdate,enddate, datetoshow: e}))\r\n        }\r\n    }\r\n\r\n    function initAsesoresConectadosGrid(data:any){\r\n        let arrayfree: any = [];\r\n        let mes = dataMainHeatMap.startdate?.getMonth()+1\r\n        let year = dataMainHeatMap.startdate?.getFullYear()\r\n        let rowmax = 0;\r\n        let dateend = new Date(year, mes, 0).getDate()\r\n\r\n        const LIMITHOUR = 24;\r\n        for(let i = 1; i <= LIMITHOUR; i++) {\r\n            const objectfree:Dictionary = {\r\n                hour: i,\r\n                hournum: hours[i - 1],\r\n            }\r\n            for(let j = 1; j <= dateend; j++) {\r\n                objectfree[`day${j}`] = 0;\r\n            }\r\n            arrayfree.push(objectfree);\r\n        }\r\n\r\n        data.forEach((row:any)=>{\r\n            const day = parseInt(row.fecha.split(\"-\")[2])\r\n            const hour = row.hora;\r\n            arrayfree = arrayfree.map((x:any) => x.hournum === hour ? ({...x, [`day${day}`]: row.value}) : x) \r\n            rowmax = row.value>rowmax ? row.value:rowmax;\r\n        })\r\n        function gradient(num:number){\r\n            let scale = 255/(rowmax/2)\r\n            if(isNaN(scale)||rowmax===0) scale=0\r\n            \r\n            if ( num <=  rowmax/2) {\r\n                let number=Math.floor((num * scale)).toString(16)\r\n                return \"00\".slice(number.length) + number + \"ff00\"\r\n            }\r\n            if(rowmax === num){\r\n                return \"FF0000\"\r\n            }\r\n            let number= Math.floor((255-(num-rowmax/2)* scale)).toString(16)\r\n            return  \"FF\" +\"00\".slice(number.length) + number +\"00\"  \r\n        }\r\n        \r\n        setasesoresConectadosData(arrayfree);\r\n\r\n        const arraytemplate = arrayfree.length > 0 ? Object.entries(arrayfree[0]).filter(([key]) => !/hour|horanum/gi.test(key)).map(([key, value]) => ({\r\n            Header: `${key.split('day')[1]}/${mes}`,\r\n            accessor: key,\r\n            NoFilter: true,\r\n            NoSort: true,\r\n            Cell: (props: any) => {\r\n                const column = props.cell.column;\r\n                const row = props.cell.row.original;\r\n                let color = gradient(props.cell.row.original[key]);\r\n                return (\r\n                    <div\r\n                        style={{background: `#${color}`, textAlign: \"center\", color:\"black\"}}\r\n                        onClick={() => fetchDetail('3.1', column, row, mes, year)}\r\n                    >\r\n                        {(props.cell.row.original[key])}\r\n                    </div>\r\n                )\r\n            },\r\n        })) : [];\r\n\r\n        setasesoresConectadosTitle([\r\n            {\r\n                Header: `Hora`,\r\n                accessor: \"hournum\",\r\n                NoFilter: true,\r\n                NoSort: true,\r\n            },\r\n            ...arraytemplate\r\n        ])\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div style={{width:\"100%\", display: \"flex\", paddingTop: 10}}>\r\n                <div style={{flex:1, paddingRight: \"10px\",}}>\r\n                    <TextField\r\n                        id=\"date\"\r\n                        className={classes.fieldsfilter}\r\n                        type=\"month\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e)=>handleDateChange(e.target.value)}\r\n                        value={dataMainHeatMap.datetoshow}\r\n                        size=\"small\"\r\n                    />\r\n                </div>\r\n                <div style={{flex:1, paddingLeft: 20}}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        style={{ width: \"100%\", backgroundColor: \"#007bff\" }}\r\n                        onClick={() => search()}\r\n                    >{t(langKeys.search)}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            {\r\n                asesoresConectadosData.length?\r\n                <div style={{padding:10}}>\r\n                    <TableZyx\r\n                        columns={asesoresConectadosTitle}\r\n                        data={asesoresConectadosData}\r\n                        download={true}\r\n                        pageSizeDefault={50}\r\n                        filterGeneral={false}\r\n                        toolsFooter={false}\r\n                    />\r\n                </div>:\"\"\r\n            }\r\n            <ModalHeatMap\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                title={modalTitle}\r\n                row={modalRow}\r\n                columns={modalColumns}\r\n                data={multiDataAux2.data[0]?.data||[]}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Heatmap: FC = () => {\r\n    const [pageSelected, setPageSelected] = useState(0);    \r\n    const [companydomain, setcompanydomain] = useState<any>([]);\r\n    const [groupsdomain, setgroupsdomain] = useState<any>([]);\r\n    const multiDataAux = useSelector(state => state.main.multiDataAux);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        if(!multiDataAux.loading){\r\n            setcompanydomain(multiDataAux.data[0]?.data||[]) \r\n            setgroupsdomain(multiDataAux.data[1]?.data||[])    \r\n        }\r\n    }, [multiDataAux])\r\n    useEffect(() => {\r\n        dispatch(getMultiCollectionAux([\r\n            getValuesFromDomain(\"EMPRESA\"),\r\n            getValuesFromDomain(\"GRUPOS\")\r\n        ]))\r\n        return () => {\r\n            dispatch(resetMainAux());\r\n            dispatch(resetMultiMain());\r\n            dispatch(resetMultiMainAux());\r\n            dispatch(resetMultiMainAux2());\r\n        }\r\n    }, [])\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Fragment>\r\n            <Tabs\r\n                value={pageSelected}\r\n                indicatorColor=\"primary\"\r\n                variant=\"fullWidth\"\r\n                style={{ borderBottom: '1px solid #EBEAED', backgroundColor: '#FFF', marginTop: 8 }}\r\n                textColor=\"primary\"\r\n                onChange={(_, value) => setPageSelected(value)}\r\n            >\r\n                <AntTab label={t(langKeys.heatmap)}/>\r\n                <AntTab label={t(langKeys.heatmapasesor)}/>\r\n                <AntTab label={t(langKeys.heatmapticket)}/>\r\n            </Tabs>\r\n            {pageSelected === 0 && <MainHeatMap />}\r\n            {pageSelected === 1 && <HeatMapAsesor companydomain={companydomain} groupsdomain={groupsdomain}/>}\r\n            {pageSelected === 2 && <HeatMapTicket />}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Heatmap;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useEffect, useState } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport { DateRangePicker, DialogZyx, FieldSelect } from 'components';\r\nimport { getDateCleaned, getRecordHSMGraphic, getRecordHSMList, getRecordHSMReport } from 'common/helpers';\r\nimport { Dictionary } from \"@types\";\r\nimport TableZyx from '../components/fields/table-simple';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { cleanViewChange, getMainGraphic, getMultiCollection, getMultiCollectionAux2, resetMultiMain, setViewChange } from 'store/main/actions';\r\nimport { showBackdrop } from 'store/popus/actions';\r\nimport { CalendarIcon } from 'icons';\r\nimport { Range } from 'react-date-range';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport {\r\n    Search as SearchIcon,\r\n} from '@material-ui/icons';\r\nimport { useForm } from 'react-hook-form';\r\nimport Graphic from 'components/fields/Graphic';\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\n\r\ninterface RowSelected {\r\n    row: Dictionary | null,\r\n    edit: boolean\r\n}\r\ninterface DetailRecordHSMRecordProps {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n}\r\n\r\nconst initialRange = {\r\n    startDate: new Date(new Date().setDate(1)),\r\n    endDate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n    key: 'selection'\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerHeader: {\r\n        padding: theme.spacing(1),\r\n    },\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n}));\r\n\r\nconst columnsTemp = [\r\n    'name',\r\n    'shippingdate',\r\n    'from',\r\n    'total',\r\n    'satisfactory',\r\n    'failed',\r\n    'satisfactoryp',\r\n    'failedp'\r\n]\r\n\r\nconst DetailRecordHSMRecord: React.FC<DetailRecordHSMRecordProps> = ({ data: { row }, setViewSelected }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiDataAux2 = useSelector(state => state.main.multiDataAux2);\r\n\r\n    function search(){\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getMultiCollectionAux2([\r\n            getRecordHSMReport({\r\n                name: row?.name || \"\",\r\n                from: row?.from || \"\",\r\n                date: row?.shippingdate || \"\",\r\n                type: row?.type || \"\",\r\n            })\r\n        ]))\r\n    }\r\n    useEffect(() => {\r\n        if (!multiDataAux2.loading){\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [multiDataAux2])\r\n\r\n    useEffect(() => {\r\n        search()\r\n    }, [])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.recipientsname),\r\n                accessor: 'clientname',\r\n                NoFilter: true\r\n            },\r\n            {\r\n                Header: t(langKeys.contact),\r\n                accessor: 'contact',\r\n                NoFilter: true\r\n            },\r\n            {\r\n                Header: `${t(langKeys.channel)}`,\r\n                accessor: 'channel',\r\n                NoFilter: true\r\n            },\r\n            {\r\n                Header: `${t(langKeys.origin)}`,\r\n                accessor: 'origin',\r\n                NoFilter: true\r\n            },\r\n            {\r\n                Header: t(langKeys.group),\r\n                accessor: 'group',\r\n                NoFilter: true\r\n            },\r\n            {\r\n                Header: t(langKeys.status),\r\n                accessor: 'status',\r\n                NoFilter: true,\r\n                prefixTranslation: 'status_',\r\n                Cell: (props: any) => {\r\n                    const { status } = props.cell.row.original;\r\n                    return (t(`status_${status}`.toLowerCase()) || \"\").toUpperCase()\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.communicationtemplate),\r\n                accessor: 'templatename',\r\n                NoFilter: true\r\n            },\r\n            {\r\n                Header: t(langKeys.body),\r\n                accessor: 'body',\r\n                NoFilter: true\r\n            },\r\n            {\r\n                Header: t(langKeys.log),\r\n                accessor: 'log',\r\n                NoFilter: true\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n\r\n    return (\r\n        <div style={{width: '100%'}}>\r\n            <div className={classes.containerDetail}>\r\n                <TableZyx\r\n                    titlemodule={`${row?.name_translated} (${row?.shippingdate})` || `${t(langKeys.recordhsmreport)} ${t(langKeys.detail)}`}\r\n                    ButtonsElement={() => (\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                    )}\r\n                    columns={columns}\r\n                    data={multiDataAux2.data[0]?.data||[]}\r\n                    download={true}\r\n                    loading={multiDataAux2.loading}\r\n                    register={false}\r\n                    filterGeneral={false}\r\n                // fetchData={fetchData}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst RecordHSMRecord: FC = () => {\r\n    // const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    \r\n    // const multiDataAux = useSelector(state => state.main.multiDataAux);\r\n    const classes = useStyles()\r\n    const [openDateRangeCreateDateModal, setOpenDateRangeCreateDateModal] = useState(false);\r\n    const [dateRangeCreateDate, setDateRangeCreateDate] = useState<Range>(initialRange);\r\n    // const [shippingTypesData, setshippingTypesData] = useState<any>([]);\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    // const [shippingtype, setshippingtype] = useState(\"\");\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [gridData, setGridData] = useState<any[]>([]);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [view, setView] = useState('GRID');\r\n    \r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"recordhsmreport\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    \r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.shippingreason),\r\n                accessor: 'name_translated',\r\n            },\r\n            {\r\n                Header: t(langKeys.shippingdate),\r\n                accessor: 'shippingdate',\r\n                NoFilter: true\r\n            },\r\n            {\r\n                Header: t(langKeys.shippingfrom),\r\n                accessor: 'from',\r\n                NoFilter: true,\r\n            },\r\n            {\r\n                Header: t(langKeys.total),\r\n                accessor: 'total',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                sortType: 'number',\r\n            },\r\n            {\r\n                Header: t(langKeys.satisfactory),\r\n                accessor: 'satisfactory',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                sortType: 'number',\r\n            },\r\n            {\r\n                Header: t(langKeys.failed),\r\n                accessor: 'failed',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                sortType: 'number',\r\n            },\r\n            {\r\n                Header: `% ${t(langKeys.satisfactory)}`,\r\n                accessor: 'satisfactoryp',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { satisfactoryp } = props.cell.row.original;\r\n                    return `${parseInt(satisfactoryp)} %`;\r\n                }\r\n            },\r\n            {\r\n                Header: `% ${t(langKeys.failed)}`,\r\n                accessor: 'failedp',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { failedp } = props.cell.row.original;\r\n                    return `${parseInt(failedp)} %`;\r\n                }\r\n            },\r\n            \r\n        ],\r\n        [t]\r\n    );\r\n    \r\n    \r\n    function search(){\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getMultiCollection([\r\n            getRecordHSMList(\r\n                {\r\n                    startdate: dateRangeCreateDate.startDate,\r\n                    enddate: dateRangeCreateDate.endDate,\r\n                    type: '' //shippingtype\r\n                }\r\n            )\r\n        ]))\r\n    }\r\n    useEffect(() => {\r\n        // dispatch(getMultiCollectionAux([getValuesFromDomain(\"SHIPPINGTYPES\")]));\r\n        // search();\r\n        return () => {\r\n            dispatch(resetMultiMain());\r\n            // dispatch(resetMultiMainAux());\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        if (!multiData.loading){\r\n            setGridData(multiData.data[0]?.data.map(x => ({\r\n                ...x,\r\n                name_translated: x.name !== x.translationname?(t(`report_sentmessages_${x.name}`.toLowerCase()) || \"\").toUpperCase():x.name?.toUpperCase(),\r\n            }))||[]);\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [multiData])\r\n    // useEffect(() => {\r\n    //     if (!multiDataAux.loading){\r\n    //         setshippingTypesData(multiDataAux.data[0]?.data||[])\r\n    //     }\r\n    // }, [multiDataAux])\r\n\r\n    const handleView = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: false });\r\n    }\r\n\r\n    const handlerSearchGraphic = (daterange: any, column: string) => {\r\n        dispatch(getMainGraphic(getRecordHSMGraphic(\r\n            {\r\n                startdate: daterange?.startDate!,\r\n                enddate: daterange?.endDate!,\r\n                column,\r\n                summarization: 'COUNT'\r\n            }\r\n        )));\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div style={{ height: 10 }}></div>\r\n                {view === \"GRID\" ? (\r\n                    <TableZyx\r\n                        onClickRow={handleView}    \r\n                        columns={columns}\r\n                        data={gridData}\r\n                        ButtonsElement={() => (\r\n                            <div className={classes.containerHeader} style={{display: 'flex', gap: 8, flexWrap: 'wrap', justifyContent: 'space-between'}}>\r\n                                <div style={{display: 'flex', gap: 8}}>\r\n                                    <DateRangePicker\r\n                                        open={openDateRangeCreateDateModal}\r\n                                        setOpen={setOpenDateRangeCreateDateModal}\r\n                                        range={dateRangeCreateDate}\r\n                                        onSelect={setDateRangeCreateDate}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.itemDate}\r\n                                            startIcon={<CalendarIcon />}\r\n                                            onClick={() => setOpenDateRangeCreateDateModal(!openDateRangeCreateDateModal)}\r\n                                        >\r\n                                            {getDateCleaned(dateRangeCreateDate.startDate!) + \" - \" + getDateCleaned(dateRangeCreateDate.endDate!)}\r\n                                        </Button>\r\n                                    </DateRangePicker>\r\n                                    {/* <FieldSelect\r\n                                        onChange={(value) => setshippingtype(value?.domainvalue||\"\")}\r\n                                        label={t(langKeys.shippingtype)}\r\n                                        loading={multiDataAux.loading}\r\n                                        variant=\"outlined\"\r\n                                        valueDefault={shippingtype}\r\n                                        style={{width: \"170px\"}}\r\n                                        data={shippingTypesData}\r\n                                        optionValue=\"domainvalue\"\r\n                                        optionDesc=\"domainvalue\"\r\n                                        uset={true}\r\n                                        prefixTranslation='type_shippingtype_'\r\n                                    /> */}\r\n                                    <div>\r\n                                        <Button\r\n                                            disabled={multiData.loading}\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                            style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                            onClick={() => search()}\r\n                                        >{t(langKeys.search)}\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled={multiData.loading || !(multiData.data.length > 0)}\r\n                                    onClick={() => setOpenModal(true)}\r\n                                    startIcon={<AssessmentIcon />}\r\n                                >\r\n                                    {t(langKeys.graphic_view)}\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n                        download={true}\r\n                        filterGeneral={false}\r\n                        loading={multiData.loading}\r\n                        register={false}\r\n                    // fetchData={fetchData}\r\n                    />\r\n                ) : (\r\n                    <Graphic\r\n                        graphicType={view.split(\"-\")?.[1] || \"BAR\"}\r\n                        column={view.split(\"-\")?.[2] || \"summary\"}\r\n                        openModal={openModal}\r\n                        setOpenModal={setOpenModal}\r\n                        daterange={{\r\n                            startDate: dateRangeCreateDate.startDate?.toISOString().substring(0,10),\r\n                            endDate: dateRangeCreateDate.endDate?.toISOString().substring(0,10),\r\n                        }}\r\n                        setView={setView}\r\n                        row={{origin: 'sentmessages'}}\r\n                        handlerSearchGraphic={handlerSearchGraphic}\r\n                    />\r\n                )}\r\n                <SummaryGraphic\r\n                    openModal={openModal}\r\n                    setOpenModal={setOpenModal}\r\n                    setView={setView}\r\n                    daterange={dateRangeCreateDate}\r\n                    columns={columnsTemp.map(c => ({\r\n                        key: c, value: `report_sentmessages_${c}`\r\n                    }))}\r\n                    columnsprefix='report_sentmessages_'\r\n                />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailRecordHSMRecord\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        )\r\n    } \r\n    else\r\n        return null;\r\n\r\n}\r\n\r\ninterface SummaryGraphicProps {\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => void;\r\n    setView: (value: string) => void;\r\n    row?: Dictionary | null;\r\n    daterange: any;\r\n    filters?: Dictionary;\r\n    columns: any[];\r\n    columnsprefix: string;\r\n}\r\n\r\nconst SummaryGraphic: React.FC<SummaryGraphicProps> = ({ openModal, setOpenModal, setView, row, daterange, filters, columns, columnsprefix }) => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm<any>({\r\n        defaultValues: {\r\n            graphictype: 'BAR',\r\n            column: ''\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        register('graphictype', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n        register('column', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    const handleCancelModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n    const handleAcceptModal = handleSubmit((data) => {\r\n        triggerGraphic(data);\r\n    });\r\n\r\n    const triggerGraphic = (data: any) => {\r\n        setView(`CHART-${data.graphictype}-${data.column}`);\r\n        setOpenModal(false);\r\n        dispatch(getMainGraphic(getRecordHSMGraphic(\r\n            {\r\n                startdate: daterange?.startDate!,\r\n                enddate: daterange?.endDate!,\r\n                column: data.column,\r\n                summarization: 'COUNT'\r\n            }\r\n        )));\r\n    }\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.graphic_configuration)}\r\n            button1Type=\"button\"\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton1={handleCancelModal}\r\n            button2Type=\"button\"\r\n            buttonText2={t(langKeys.accept)}\r\n            handleClickButton2={handleAcceptModal}\r\n        >\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_type)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('graphictype')}\r\n                    error={errors?.graphictype?.message}\r\n                    onChange={(value) => setValue('graphictype', value?.key)}\r\n                    data={[{ key: 'BAR', value: 'BAR' }, { key: 'PIE', value: 'PIE' }]}\r\n                    uset={true}\r\n                    prefixTranslation=\"graphic_\"\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                />\r\n            </div>\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_view_by)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('column')}\r\n                    error={errors?.column?.message}\r\n                    onChange={(value) => setValue('column', value?.key)}\r\n                    data={columns}\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                    uset={true}\r\n                    prefixTranslation=\"\"\r\n                />\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nexport default RecordHSMRecord;","/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useEffect, useState, Fragment } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from 'hooks';\r\nimport { showBackdrop } from \"store/popus/actions\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { getCollectionAux2, getMultiCollection, getMultiCollectionAux2, resetMultiMain, cleanMemoryTable, setMemoryTable, execute } from \"store/main/actions\";\r\nimport { langKeys } from \"lang/keys\";\r\nimport TableZyx from \"components/fields/table-simple\";\r\nimport { Button, } from \"@material-ui/core\";\r\nimport { getInvoiceReportSummary, formatCurrencyNoDecimals, getInvoiceReportDetail, getCurrencyList, formatCurrency, selInvoiceComment, insInvoiceComment, convertLocalDate } from 'common/helpers';\r\nimport { Search as SearchIcon } from '@material-ui/icons';\r\nimport { FieldSelect } from \"components/fields/templates\";\r\nimport { Dictionary } from \"@types\";\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { showSnackbar, manageConfirmation } from 'store/popus/actions';\r\nimport { dataYears } from 'common/helpers';\r\nimport { FieldEditMulti, DialogZyx } from 'components';\r\n\r\ninterface RowSelected {\r\n    row: Dictionary | null,\r\n    columnid: string | null,\r\n    edit: boolean\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    containerFilter: {\r\n        width: '100%',\r\n        padding: \"10px\",\r\n        marginBottom: \"10px\",\r\n        display: 'flex',\r\n        gap: 8,\r\n        flexWrap: 'wrap',\r\n        backgroundColor: \"white\"\r\n    },\r\n    filterComponent: {\r\n        minWidth: '220px',\r\n        maxWidth: '260px'\r\n    },\r\n    containerHeader: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: 16,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n    containerDetails: {\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    BackGrRed: {\r\n        backgroundColor: \"#fb5f5f\",\r\n    },\r\n    BackGrGreen: {\r\n        backgroundColor: \"#55bd84\",\r\n    },\r\n    iconHelpText: {\r\n        width: 15,\r\n        height: 15,\r\n        cursor: 'pointer',\r\n    },\r\n    containerHeaderItem: {\r\n        backgroundColor: '#FFF',\r\n        padding: 8,\r\n        display: 'block',\r\n        flexWrap: 'wrap',\r\n        gap: 8,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n}));\r\n\r\ninterface DetailReportInvoiceProps {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n}\r\n\r\nconst DetailReportInvoice: React.FC<DetailReportInvoiceProps> = ({ data: { row, columnid }, setViewSelected }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiDataAux2 = useSelector(state => state.main.multiDataAux2);\r\n    const [gridData, setGridData] = useState<any[]>([]);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [openModalData, setOpenModalData] = useState<Dictionary | null>(null);\r\n    const [searchState, setSearchState] = useState(false);\r\n\r\n    function search() {\r\n        setSearchState(true)\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getMultiCollectionAux2([\r\n            getInvoiceReportDetail({\r\n                corpid: row?.corpid || 0,\r\n                year: row?.year || 0,\r\n                month: columnid?.includes('month_') ? +columnid.replace('month_', '') : 0,\r\n                currency: row?.currency || \"\"\r\n            })\r\n        ]))\r\n    }\r\n    useEffect(() => {\r\n        if (searchState && !multiDataAux2.loading) {\r\n            setGridData((multiDataAux2.data[0]?.data || []).map(x => ({\r\n                ...x,\r\n                invoicestatus: (t(`${x.invoicestatus}`) || \"\"),\r\n                paymentstatus: (t(`${x.paymentstatus}`) || \"\"),\r\n                paymentdate: x.paymentdate ? new Date(x.paymentdate).toLocaleString() : '',\r\n            })) || []);\r\n            setSearchState(false)\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [multiDataAux2])\r\n\r\n    useEffect(() => {\r\n        search()\r\n    }, [])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: `${t(langKeys.client)}`,\r\n                accessor: 'client',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return <span style={{ color: row[\"color\"] }}>{row.corpdesc}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.year),\r\n                accessor: 'year',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'month',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: `${t(langKeys.corporation)}`,\r\n                accessor: 'corpdesc',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: `${t(langKeys.organization)}`,\r\n                accessor: 'orgdesc',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.receipt),\r\n                accessor: 'seriecorrelative',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const urlpdf = props.cell.row.original.urlpdf;\r\n                    const docnumber = (props.cell.row.original.serie && props.cell.row.original.correlative) ? (props.cell.row.original.serie + '-' + props.cell.row.original.correlative.toString().padStart(8, '0')) : null;\r\n                    return <>\r\n                        {urlpdf ?\r\n                            <a\r\n                                onClick={(e) => { e.stopPropagation(); }}\r\n                                style={{ color: row[\"color\"] }}\r\n                                href={urlpdf}\r\n                                target=\"_blank\"\r\n                                rel=\"noreferrer\"\r\n                            >\r\n                                {docnumber}\r\n                            </a>\r\n                            :\r\n                            <span style={{ color: row[\"color\"] }}>\r\n                                {docnumber}\r\n                            </span>\r\n                        }\r\n                    </>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.currency),\r\n                accessor: 'currency',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.taxbase),\r\n                accessor: 'subtotal',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{formatCurrency(row[column])}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: \"IGV\",\r\n                accessor: 'taxes',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{formatCurrency(row[column])}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.totalamount),\r\n                accessor: 'totalamount',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{formatCurrency(row[column])}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.statusofinvoice),\r\n                accessor: 'invoicestatus',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.paymentstatus),\r\n                accessor: 'paymentstatus',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.dateofissue),\r\n                accessor: 'invoicedate',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.dueDate),\r\n                accessor: 'expirationdate',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.paymentdate),\r\n                accessor: 'paymentdate',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[\"color\"] }}>{row[column]}</span>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.comments),\r\n                accessor: 'commentcontent',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const { commentcontent } = props.cell.row.original;\r\n                    if (commentcontent) {\r\n                        return (<span style={{ color: row[\"color\"] }}><Fragment>\r\n                            <div style={{ display: 'inline-block' }}>\r\n                                {(commentcontent || '').substring(0, 50)}... <a href=\"#\" onClick={(e) => { e.stopPropagation(); openInvoiceComment(row); }} style={{ cursor: 'pointer', textDecoration: 'underline', color: 'blue' }} rel=\"noreferrer\">{t(langKeys.seeMore)}</a>\r\n                            </div>\r\n                        </Fragment></span>)\r\n                    }\r\n                    else {\r\n                        return (<span style={{ color: row[\"color\"] }}><Fragment>\r\n                            <div style={{ display: 'inline-block' }}>\r\n                                <a href=\"#\" onClick={(e) => { e.stopPropagation(); openInvoiceComment(row); }} style={{ display: \"block\", cursor: 'pointer', textDecoration: 'underline', color: 'blue' }} rel=\"noreferrer\">{t(langKeys.seeMore)}</a>\r\n                            </div>\r\n                        </Fragment></span>)\r\n                    }\r\n                }\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n\r\n    const openInvoiceComment = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setOpenModalData(row);\r\n        setOpenModal(true);\r\n    }\r\n\r\n    const onModalSuccess = () => {\r\n        setOpenModal(false);\r\n        search();\r\n        setViewSelected(\"view-2\");\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <InvoiceCommentModal\r\n                data={openModalData}\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                onTrigger={onModalSuccess}\r\n            />\r\n            <div className={classes.containerDetail}>\r\n                <TableZyx\r\n                    titlemodule={`${row?.corpdesc} (${row?.year}${columnid?.includes('month_') ? `-${columnid.replace('month_', '')}` : ''})`}\r\n                    ButtonsElement={() => (\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                    )}\r\n                    columns={columns}\r\n                    data={gridData}\r\n                    download={true}\r\n                    loading={searchState && multiDataAux2.loading}\r\n                    register={false}\r\n                    filterGeneral={false}\r\n                // fetchData={fetchData}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst InvoiceCommentModal: FC<{ data: any, openModal: boolean, setOpenModal: (param: any) => void, onTrigger: () => void }> = ({ data, openModal, setOpenModal, onTrigger }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const multiDataAux2 = useSelector(state => state.main.multiDataAux2);\r\n    const executeResult = useSelector(state => state.main.execute);\r\n\r\n    const [dataInvoiceComment, setDataInvoiceComment] = useState<Dictionary[]>([]);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitLoad, setWaitLoad] = useState(false);\r\n    const [contentValidation, setContentValidation] = useState('');\r\n    const [reloadExit, setReloadExit] = useState(false);\r\n\r\n    const [fields, setFields] = useState({\r\n        \"corpid\": data?.corpid,\r\n        \"orgid\": data?.orgid,\r\n        \"invoiceid\": data?.invoiceid,\r\n        \"invoicecommentid\": 0,\r\n        \"description\": '',\r\n        \"status\": 'ACTIVO',\r\n        \"type\": '',\r\n        \"commentcontent\": '',\r\n        \"commenttype\": 'text',\r\n        \"commentcaption\": '',\r\n    })\r\n\r\n    const fetchData = () => {\r\n        dispatch(getMultiCollectionAux2([selInvoiceComment({\r\n            corpid: data?.corpid,\r\n            orgid: data?.orgid,\r\n            invoiceid: data?.invoiceid,\r\n            invoicecommentid: 0,\r\n        })]));\r\n        setWaitLoad(true);\r\n        dispatch(showBackdrop(true));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (openModal && data) {\r\n            setDataInvoiceComment([]);\r\n            setContentValidation('');\r\n            setReloadExit(false);\r\n\r\n            let partialFields = fields;\r\n            partialFields.corpid = data?.corpid;\r\n            partialFields.orgid = data?.orgid;\r\n            partialFields.invoiceid = data?.invoiceid;\r\n            partialFields.invoicecommentid = 0;\r\n            partialFields.description = '';\r\n            partialFields.status = 'ACTIVO';\r\n            partialFields.type = '';\r\n            partialFields.commentcontent = '';\r\n            partialFields.commenttype = 'text';\r\n            partialFields.commentcaption = '';\r\n            setFields(partialFields);\r\n\r\n            fetchData();\r\n        }\r\n    }, [data, openModal]);\r\n\r\n    useEffect(() => {\r\n        if (waitLoad) {\r\n            if (!multiDataAux2.loading && !multiDataAux2.error) {\r\n                setDataInvoiceComment(multiDataAux2.data[0]?.data || []);\r\n                dispatch(showBackdrop(false));\r\n                setWaitLoad(false);\r\n            } else if (multiDataAux2.error) {\r\n                setWaitLoad(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [multiDataAux2, waitLoad])\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.success) }));\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n\r\n                setDataInvoiceComment([]);\r\n\r\n                let partialFields = fields;\r\n                partialFields.commentcontent = '';\r\n                setFields(partialFields);\r\n\r\n                fetchData();\r\n\r\n                setReloadExit(true);\r\n            } else if (executeResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t(executeResult.code || \"error_unexpected_error\", { module: t(langKeys.organization_plural).toLocaleLowerCase() }) }));\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeResult, waitSave])\r\n\r\n    const handleCommentRegister = () => {\r\n        if (fields) {\r\n            if (fields.commentcontent) {\r\n                setContentValidation('');\r\n\r\n                const callback = () => {\r\n                    dispatch(execute(insInvoiceComment(fields)));\r\n                    dispatch(showBackdrop(true));\r\n                    setWaitSave(true);\r\n                }\r\n\r\n                dispatch(manageConfirmation({\r\n                    visible: true,\r\n                    question: t(langKeys.confirmation_save),\r\n                    callback\r\n                }))\r\n            }\r\n            else {\r\n                setContentValidation(t(langKeys.required_fields_missing));\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleCommentDelete = (data: any) => {\r\n        if (fields && data) {\r\n            const callback = () => {\r\n                var fieldTemporal = fields;\r\n\r\n                fieldTemporal.corpid = data?.corpid;\r\n                fieldTemporal.orgid = data?.orgid;\r\n                fieldTemporal.invoiceid = data?.invoiceid;\r\n                fieldTemporal.invoicecommentid = data?.invoicecommentid;\r\n                fieldTemporal.description = data?.description;\r\n                fieldTemporal.status = 'ELIMINADO';\r\n                fieldTemporal.type = data?.type;\r\n                fieldTemporal.commentcontent = data?.commentcontent;\r\n                fieldTemporal.commenttype = data?.commenttype;\r\n                fieldTemporal.commentcaption = data?.commentcaption;\r\n\r\n                dispatch(execute(insInvoiceComment(fieldTemporal)));\r\n                dispatch(showBackdrop(true));\r\n                setWaitSave(true);\r\n            }\r\n\r\n            dispatch(manageConfirmation({\r\n                visible: true,\r\n                question: t(langKeys.confirmation_delete),\r\n                callback\r\n            }))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.invoicecomments)}\r\n            buttonText1={t(langKeys.close)}\r\n            handleClickButton1={() => { setOpenModal(false); if (reloadExit) { onTrigger(); } }}\r\n        >\r\n            <div style={{ overflowY: 'auto' }}>\r\n                {dataInvoiceComment.map((item, index) => (\r\n                    <div style={{ borderStyle: \"solid\", borderWidth: \"1px\", borderColor: \"#762AA9\", borderRadius: \"4px\", padding: \"10px\", margin: \"10px\" }}>\r\n                        <div style={{ display: 'flex' }}>\r\n                            <b style={{ width: '100%' }}>{item.createby} {t(langKeys.invoiceat)} {convertLocalDate(item.createdate || '').toLocaleString()}</b>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type='button'\r\n                                style={{ backgroundColor: \"#FB5F5F\" }}\r\n                                onClick={() => handleCommentDelete(item)}\r\n                            >{t(langKeys.delete)}\r\n                            </Button>\r\n                        </div>\r\n                        <FieldEditMulti\r\n                            className=\"col-12\"\r\n                            label={''}\r\n                            valueDefault={item.commentcontent}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                ))}\r\n                <div style={{ padding: \"10px\", margin: \"10px\" }}>\r\n                    <div style={{ display: 'flex' }}>\r\n                        <b style={{ width: '100%' }}>{t(langKeys.new)} {t(langKeys.invoicecomment)}</b>\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            type='button'\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                            onClick={() => handleCommentRegister()}\r\n                        >{t(langKeys.save)}\r\n                        </Button>\r\n                    </div>\r\n                    <FieldEditMulti\r\n                        className=\"col-12\"\r\n                        label={''}\r\n                        valueDefault={fields.commentcontent}\r\n                        error={contentValidation}\r\n                        onChange={(value) => {\r\n                            let partialf = fields;\r\n                            partialf.commentcontent = value;\r\n                            setFields(partialf);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nconst IDREPORTINVOICE = \"IDREPORTINVOICE\";\r\nconst ReportInvoice: FC = () => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n    const mainAux2 = useSelector(state => state.main.mainAux2);\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n    const classes = useStyles()\r\n    const [year, setYear] = useState(`${new Date().getFullYear()}`);\r\n    const [currency, setCurrency] = useState(\"\");\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, columnid: null, edit: false });\r\n    const [currencyList, setCurrencyList] = useState<any[]>([]);\r\n    const [gridDataCurrencyList, setGridDataCurrencyList] = useState<string[]>([]);\r\n    const [gridData, setGridData] = useState<any>({});\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.client),\r\n                accessor: 'corpdesc',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    return <>TOTAL</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.currency),\r\n                accessor: 'currency',\r\n                NoFilter: true,\r\n            },\r\n            ...([...Array.from(Array(12).keys())].map((c, i) => ({\r\n                Header: t((langKeys as any)[`month_${('' + (i + 1)).padStart(2, '0')}`]),\r\n                accessor: `month_${i + 1}`,\r\n                type: 'number',\r\n                sortType: 'number',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <span style={{ color: row[`color_${i + 1}`] }}>{formatCurrencyNoDecimals(row[column])}</span>\r\n                },\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => row.values[`month_${i + 1}`] + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{formatCurrencyNoDecimals(total)}</>\r\n                },\r\n            }))),\r\n            {\r\n                Header: `Total`,\r\n                accessor: 'total',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    const column = props.cell.column.id;\r\n                    return <>{formatCurrencyNoDecimals(row[column])}</>\r\n                },\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => row.values[\"total\"] + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{formatCurrencyNoDecimals(total)}</>\r\n                },\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    const search = () => {\r\n        if (!!year) {\r\n            dispatch(showBackdrop(true))\r\n            dispatch(getCollectionAux2(\r\n                getInvoiceReportSummary(\r\n                    {\r\n                        year: year,\r\n                        currency: currency\r\n                    }\r\n                )\r\n            ))\r\n        }\r\n        else {\r\n            dispatch(showSnackbar({\r\n                message: t(langKeys.xfield_ismissing, { field: t(langKeys.year) }),\r\n                show: true,\r\n                severity: \"error\"\r\n            }));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(showBackdrop(true));\r\n        dispatch(getMultiCollection([\r\n            getCurrencyList()\r\n        ]))\r\n        dispatch(setMemoryTable({\r\n            id: IDREPORTINVOICE\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n            dispatch(resetMultiMain());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainAux2.loading) {\r\n            setGridDataCurrencyList(Array.from(new Set((mainAux2?.data || []).map(item => item.currency))));\r\n            const initialmonth = [...Array.from(Array(12).keys())].reduce((acc, item) => ({ ...acc, [`month_${item + 1}`]: 0, [`color_${item + 1}`]: 'black' }), {})\r\n            setGridData(\r\n                Object.values((mainAux2?.data || []).reduce((acc, item) => ({\r\n                    ...acc,\r\n                    [`corp_${item.corpid}_${item.currency}`]: acc[`corp_${item.corpid}_${item.currency}`] ? {\r\n                        ...acc[`corp_${item.corpid}_${item.currency}`],\r\n                        [`color_${item.month}`]: item.color,\r\n                        [`month_${item.month}`]: item.totalamount,\r\n                        total: acc[`corp_${item.corpid}_${item.currency}`].total + item.totalamount,\r\n\r\n                    } : {\r\n                        ...initialmonth,\r\n                        corpid: item.corpid,\r\n                        corpdesc: item.corpdesc,\r\n                        currency: item.currency,\r\n                        [`color_${item.month}`]: item.color,\r\n                        year: item.year,\r\n                        [`month_${item.month}`]: item.totalamount,\r\n                        total: item.totalamount,\r\n                    }\r\n                }), {})).reduce((acc, item) => ({\r\n                    ...acc,\r\n                    [item.currency]: [...(acc[item.currency] || []), item]\r\n                }), {})\r\n            )\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [mainAux2])\r\n\r\n    useEffect(() => {\r\n        if (!multiData.loading) {\r\n            setCurrencyList((multiData.data[0]?.data || []));\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [multiData])\r\n\r\n    const handleView = (row: Dictionary, columnid: string) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, columnid, edit: false });\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <React.Fragment>\r\n                <div style={{ height: 10 }}></div>\r\n                <div className={classes.containerHeader} style={{ display: 'flex', gap: 8, flexWrap: 'wrap', justifyContent: 'space-between' }}>\r\n                    <div style={{ display: 'flex', gap: 8 }}>\r\n                        <FieldSelect\r\n                            label={t(langKeys.year)}\r\n                            style={{ width: 140 }}\r\n                            variant=\"outlined\"\r\n                            valueDefault={year}\r\n                            onChange={(value) => setYear(value?.value)}\r\n                            data={dataYears}\r\n                            optionDesc=\"value\"\r\n                            optionValue=\"value\"\r\n                        />\r\n                        <FieldSelect\r\n                            label={t(langKeys.currency)}\r\n                            style={{ width: 140 }}\r\n                            variant=\"outlined\"\r\n                            valueDefault={currency}\r\n                            onChange={(value) => setCurrency(value?.code)}\r\n                            data={currencyList}\r\n                            optionValue=\"code\"\r\n                            optionDesc=\"code\"\r\n                        />\r\n                        <div>\r\n                            <Button\r\n                                disabled={multiData.loading}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                onClick={() => search()}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {gridDataCurrencyList.map(crcy => {\r\n                    return (\r\n                        <TableZyx\r\n                            key={crcy}\r\n                            onClickRow={handleView}\r\n                            columns={columns}\r\n                            data={gridData[crcy]}\r\n                            download={true}\r\n                            filterGeneral={false}\r\n                            loading={multiData.loading}\r\n                            register={false}\r\n                            useFooter={true}\r\n                            pageSizeDefault={IDREPORTINVOICE === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                            initialPageIndex={IDREPORTINVOICE === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                            initialStateFilter={IDREPORTINVOICE === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                        />\r\n                    )\r\n                })}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailReportInvoice\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        )\r\n    }\r\n    else\r\n        return null;\r\n}\r\n\r\nexport default ReportInvoice;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useEffect, useState } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getasesorvsticketsSel, getTicketvsAdviserExport } from 'common/helpers';\r\nimport { IFetchData } from \"@types\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { cleanViewChange, exportData, getCollectionPaginated, resetMultiMain, setViewChange } from 'store/main/actions';\r\nimport { showBackdrop, showSnackbar } from 'store/popus/actions';\r\nimport TablePaginated from 'components/fields/table-paginated';\r\n\r\n\r\nconst TicketvsAdviser: FC = () => {\r\n    // const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const mainPaginated = useSelector(state => state.main.mainPaginated);\r\n    const resExportData = useSelector(state => state.main.exportData);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [totalrow, settotalrow] = useState(0);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitExport, setWaitExport] = useState(false);\r\n    const [fetchDataAux, setfetchDataAux] = useState<IFetchData>({ pageSize: 0, pageIndex: 0, filters: {}, sorts: {}, daterange: null })\r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"report_ticketvsasesor\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    \r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.ticket_number),\r\n                accessor: 'numeroticket',\r\n            },\r\n            {\r\n                Header: t(langKeys.startDate),\r\n                accessor: 'fechainicio',\r\n            },\r\n            {\r\n                Header: t(langKeys.starttime),\r\n                accessor: 'horainicio',\r\n            },\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: 'asesor',\r\n            },\r\n            {\r\n                Header: t(langKeys.channel),\r\n                accessor: 'canal',\r\n            },\r\n            {\r\n                Header: t(langKeys.type),\r\n                accessor: 'tipo',\r\n            },\r\n            {\r\n                Header: t(langKeys.submotive),\r\n                accessor: 'submotivo',\r\n            },\r\n            {\r\n                Header: t(langKeys.assessment),\r\n                accessor: 'valoracion',\r\n            },\r\n            {\r\n                Header: t(langKeys.closedby),\r\n                accessor: 'cerradopor',\r\n            },\r\n            {\r\n                Header: t(langKeys.ticket_tipocierre),\r\n                accessor: 'tipocierre',\r\n            },\r\n            {\r\n                Header: t(langKeys.dateoffirstreplytoadviser),\r\n                accessor: 'fechaprimerarespuesta',\r\n            },\r\n            {\r\n                Header: t(langKeys.timeoffirstreplytoadviser),\r\n                accessor: 'horaprimerarespuesta',\r\n            },\r\n            {\r\n                Header: t(langKeys.dateoflastreplytoadviser),\r\n                accessor: 'fechaultimarespuesta',\r\n            },\r\n            {\r\n                Header: t(langKeys.timeoflastreplytoadviser),\r\n                accessor: 'horaultimarespuesta',\r\n            },\r\n            {\r\n                Header: t(langKeys.closing_date),\r\n                accessor: 'fechacierre',\r\n            },\r\n            {\r\n                Header: t(langKeys.closing_time),\r\n                accessor: 'horacierre',\r\n            },\r\n            {\r\n                Header: t(langKeys.transactionoperationtype),\r\n                accessor: 'tipo_operacion',\r\n            },\r\n            {\r\n                Header: t(langKeys.operador),\r\n                accessor: 'operador',\r\n            },\r\n            {\r\n                Header: \"Plan\",\r\n                accessor: 'plan',\r\n            },\r\n            {\r\n                Header: t(langKeys.purchasemode),\r\n                accessor: 'modalidad_compra',\r\n            },\r\n            {\r\n                Header: t(langKeys.province),\r\n                accessor: 'provincia',\r\n            },\r\n            {\r\n                Header: t(langKeys.district),\r\n                accessor: 'distrito',\r\n            },\r\n            {\r\n                Header: t(langKeys.phone),\r\n                accessor: 'telefono',\r\n            },\r\n            {\r\n                Header: t(langKeys.document),\r\n                accessor: 'documento',\r\n            },\r\n            \r\n        ],\r\n        [t]\r\n    );\r\n    \r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(resetMultiMain());\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        if (!multiData.loading){\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [multiData])\r\n\r\n    const fetchData = ({ pageSize, pageIndex, filters, sorts, daterange }: IFetchData) => {\r\n        setfetchDataAux({ pageSize, pageIndex, filters, sorts, daterange })\r\n        dispatch(getCollectionPaginated(getasesorvsticketsSel({\r\n            startdate: daterange.startDate!,\r\n            enddate: daterange.endDate!,\r\n            take: pageSize,\r\n            skip: pageIndex * pageSize,\r\n            sorts: sorts,\r\n            filters: {\r\n                ...filters,\r\n            },\r\n        })))\r\n    };\r\n    \r\n    useEffect(() => {\r\n        if (waitExport) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.person).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitExport]);\r\n\r\n    \r\n    useEffect(() => {\r\n        if (!mainPaginated.loading && !mainPaginated.error) {\r\n            setPageCount(fetchDataAux.pageSize ? Math.ceil(mainPaginated.count / fetchDataAux.pageSize) : 0);\r\n            settotalrow(mainPaginated.count);\r\n        }\r\n    }, [mainPaginated])\r\n\r\n    const triggerExportData = ({ filters, sorts, daterange }: IFetchData) => {\r\n        const columnsExport = columns.map(x => ({\r\n            key: x.accessor,\r\n            alias: x.Header,\r\n        }));\r\n        dispatch(exportData(getTicketvsAdviserExport(\r\n            {\r\n                startdate: daterange.startDate!,\r\n                enddate: daterange.endDate!,\r\n                sorts,\r\n                filters: filters,\r\n            }), \"\", \"excel\", false, columnsExport));\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.property).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitSave])\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ height: 10 }}></div>\r\n            <TablePaginated    \r\n                columns={columns}\r\n                data={mainPaginated.data}\r\n                totalrow={totalrow}\r\n                loading={mainPaginated.loading}\r\n                pageCount={pageCount}\r\n                filterrange={true}\r\n                download={true}\r\n                fetchData={fetchData}\r\n                filterGeneral={false}\r\n                exportPersonalized={triggerExportData}\r\n                register={false}\r\n            // fetchData={fetchData}\r\n            />\r\n            \r\n        </React.Fragment>\r\n    )\r\n\r\n}\r\n\r\nexport default TicketvsAdviser;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useEffect, useState } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport { DateRangePicker} from 'components';\r\nimport { getDateCleaned, getHSMHistoryList, getHSMHistoryReport, getHSMHistoryReportExport } from 'common/helpers';\r\nimport { Dictionary } from \"@types\";\r\nimport TableZyx from '../components/fields/table-simple';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { cleanMemoryTable, setMemoryTable, exportData, getMultiCollection, getMultiCollectionAux2, resetMultiMain, setViewChange, cleanViewChange } from 'store/main/actions';\r\nimport { showBackdrop, showSnackbar } from 'store/popus/actions';\r\nimport { CalendarIcon } from 'icons';\r\nimport { Range } from 'react-date-range';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport {\r\n    Search as SearchIcon,\r\n} from '@material-ui/icons';\r\n\r\ninterface RowSelected {\r\n    row: Dictionary | null,\r\n    edit: boolean\r\n}\r\ninterface DetailHSMHistoryReportProps {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n}\r\n\r\nconst initialRange = {\r\n    startDate: new Date(new Date().setDate(1)),\r\n    endDate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n    key: 'selection'\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerHeader: {\r\n        padding: theme.spacing(1),\r\n    },\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n}));\r\n\r\nconst DetailHSMHistoryReport: React.FC<DetailHSMHistoryReportProps> = ({ data: { row }, setViewSelected }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiDataAux2 = useSelector(state => state.main.multiDataAux2);\r\n\r\n    function search(){\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getMultiCollectionAux2([\r\n            getHSMHistoryReport({\r\n                campaign: row?.campaign || \"\",\r\n                date: row?.date || \"\",\r\n            })\r\n        ]))\r\n    }\r\n    useEffect(() => {\r\n        if (!multiDataAux2.loading){\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [multiDataAux2])\r\n\r\n    useEffect(() => {\r\n        search()\r\n    }, [])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.firstname),\r\n                accessor: 'firstname',\r\n            },\r\n            {\r\n                Header: t(langKeys.lastname),\r\n                accessor: 'lastname',\r\n            },\r\n            {\r\n                Header: t(langKeys.ticket_number),\r\n                accessor: 'ticketnum',\r\n            },\r\n            {\r\n                Header: t(langKeys.rundate),\r\n                accessor: 'rundate',\r\n            },\r\n            {\r\n                Header: t(langKeys.runtime),\r\n                accessor: 'runtime',\r\n            },\r\n            {\r\n                Header: t(langKeys.finishconversationdate),\r\n                accessor: 'finishdate',\r\n            },\r\n            {\r\n                Header: t(langKeys.firstreplydate),\r\n                accessor: 'firstreplydate',\r\n            },\r\n            {\r\n                Header: t(langKeys.firstreplytime),\r\n                accessor: 'firstreplytime',\r\n            },\r\n            {\r\n                Header: `${t(langKeys.contact)}`,\r\n                accessor: 'contact',\r\n            },\r\n            {\r\n                Header: t(langKeys.channel),\r\n                accessor: 'channel',\r\n            },\r\n            {\r\n                Header: t(langKeys.origin),\r\n                accessor: 'origin',\r\n            },\r\n            {\r\n                Header: t(langKeys.status),\r\n                accessor: 'status',\r\n                prefixTranslation: 'status_',\r\n                Cell: (props: any) => {\r\n                    const { status } = props.cell.row.original;\r\n                    return (t(`status_${status}`.toLowerCase()) || \"\").toUpperCase()\r\n                }\r\n            },\r\n            {\r\n                Header: `N° ${t(langKeys.transaction)}`,\r\n                accessor: 'transactionid',\r\n            },\r\n            {\r\n                Header: t(langKeys.group),\r\n                accessor: 'group',\r\n            },\r\n            {\r\n                Header: t(langKeys.agent),\r\n                accessor: 'agent',\r\n            },\r\n            {\r\n                Header: t(langKeys.success),\r\n                accessor: 'success',\r\n                type: 'boolean',\r\n                sortType: 'basic',\r\n                width: 180,\r\n                maxWidth: 180,\r\n                Cell: (props: any) => {\r\n                    const { success } = props.cell.row.original;\r\n                    return success ? t(langKeys.yes) : \"No\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.realduration),\r\n                accessor: 'realduration',\r\n            },\r\n            {\r\n                Header: t(langKeys.classification),\r\n                accessor: 'classification',\r\n            },\r\n            {\r\n                Header: t(langKeys.log),\r\n                accessor: 'log',\r\n            },\r\n            {\r\n                Header: t(langKeys.body),\r\n                accessor: 'body',\r\n            },\r\n            {\r\n                Header: t(langKeys.parameters),\r\n                accessor: 'parameters',\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n\r\n    return (\r\n        <div style={{width: '100%'}}>\r\n            <div className={classes.containerDetail}>\r\n                <TableZyx\r\n                    titlemodule={`${row?.campaign} (${row?.date})` || `${t(langKeys.recordhsmreport)} ${t(langKeys.detail)}`}\r\n                    ButtonsElement={() => (\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                    )}\r\n                    columns={columns}\r\n                    data={multiDataAux2.data[0]?.data||[]}\r\n                    download={true}\r\n                    loading={multiDataAux2.loading}\r\n                    register={false}\r\n                    filterGeneral={false}\r\n                    // fetchData={fetchData}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst selectionKey = 'id';\r\nconst IDHSMHISTORY = 'IDHSMHISTORY';\r\n\r\nconst HSMHistoryReport: FC = () => {\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    \r\n    const classes = useStyles()\r\n    const [openDateRangeCreateDateModal, setOpenDateRangeCreateDateModal] = useState(false);\r\n    const [dateRangeCreateDate, setDateRangeCreateDate] = useState<Range>(initialRange);\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [gridData, setGridData] = useState<any[]>([]);\r\n\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n\r\n    const [selectedRows, setSelectedRows] = useState<any>({});\r\n    const [triggerExportPersonalized, setTriggerExportPersonalized] = useState<boolean>(false);\r\n    const [waitExport, setWaitExport] = useState(false);\r\n    const resExportData = useSelector(state => state.main.exportData);\r\n\r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"hsmhistory\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    \r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.campaign),\r\n                accessor: 'campaign',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.date),\r\n                accessor: 'date',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.total),\r\n                accessor: 'total',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.success),\r\n                accessor: 'success',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.failed),\r\n                accessor: 'failed',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.success_percent),\r\n                accessor: 'successp',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.failed_percent),\r\n                accessor: 'failedp',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                width: 'auto',\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n\r\n    useEffect(() => {\r\n        dispatch(setMemoryTable({\r\n            id: IDHSMHISTORY\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        };\r\n    }, []);\r\n\r\n    const triggerExportData = () => {\r\n        if (Object.keys(selectedRows).length === 0) {\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.no_record_selected)}));\r\n            return null;\r\n        }\r\n        dispatch(exportData(getHSMHistoryReportExport(\r\n            Object.keys(selectedRows).reduce((ad: any[], d: any) => {\r\n                ad.push({\r\n                    ddate: d.split('_')[d.split('_').length - 1],\r\n                    campaignname: d.split(`_${d.split('_')[d.split('_').length - 1]}`)[0],\r\n                })\r\n                return ad;\r\n            }, [])),\r\n            `${t(langKeys.report)}`,\r\n            'excel',\r\n            true,\r\n            [\r\n                {key: 'campaign', alias: t(langKeys.campaign)},\r\n                {key: 'firstname', alias: t(langKeys.firstname)},\r\n                {key: 'lastname', alias: t(langKeys.lastname)},\r\n                {key: 'ticketnum', alias: t(langKeys.ticket)},\r\n                {key: 'rundate', alias: t(langKeys.rundate)},\r\n                {key: 'runtime', alias: t(langKeys.runtime)},\r\n                {key: 'finishdate', alias: t(langKeys.finishconversationdate)},\r\n                {key: 'firstreplydate', alias: t(langKeys.firstreplydate)},\r\n                {key: 'firstreplytime', alias: t(langKeys.firstreplytime)},\r\n                {key: 'contact', alias: t(langKeys.contact)},\r\n                {key: 'channel', alias: t(langKeys.channel)},\r\n                {key: 'origin', alias: t(langKeys.origin)},\r\n                {key: 'status', alias: t(langKeys.status)},\r\n                {key: 'transactionid', alias: t(langKeys.transaction)},\r\n                {key: 'group', alias: t(langKeys.group)},\r\n                {key: 'agent', alias: t(langKeys.agent)},\r\n                {key: 'success', alias: t(langKeys.success)},\r\n                {key: 'realduration', alias: t(langKeys.realduration)},\r\n                {key: 'classification', alias: t(langKeys.classification)},\r\n                {key: 'log', alias: t(langKeys.log)},\r\n                {key: 'body', alias: t(langKeys.body)},\r\n                {key: 'parameters', alias: t(langKeys.parameters)},\r\n            ]\r\n        ));\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (Object.keys(selectedRows).length === 0) {\r\n            setTriggerExportPersonalized(false)\r\n        }\r\n        else {\r\n            setTriggerExportPersonalized(true)\r\n        }\r\n    }, [selectedRows])\r\n\r\n    useEffect(() => {\r\n        if (waitExport) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.blacklist).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitExport]);\r\n    \r\n    function search(){\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getMultiCollection([\r\n            getHSMHistoryList(\r\n                {\r\n                    startdate: dateRangeCreateDate.startDate,\r\n                    enddate: dateRangeCreateDate.endDate,\r\n                }\r\n            )\r\n        ]))\r\n    }\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(resetMultiMain());\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        if (!multiData.loading){\r\n            setGridData(multiData.data[0]?.data.map(x => ({\r\n                ...x,\r\n                name_translated: x.name !== x.translationname?(t(`report_sentmessages_${x.name}`.toLowerCase()) || \"\").toUpperCase():x.name?.toUpperCase(),\r\n            }))||[]);\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [multiData])\r\n\r\n    const handleView = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: false });\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div style={{ height: 10 }}></div>\r\n                    <TableZyx\r\n                        onClickRow={handleView}    \r\n                        columns={columns}\r\n                        data={gridData}\r\n                        ButtonsElement={() => (\r\n                            <div className={classes.containerHeader} style={{display: 'flex', gap: 8, flexWrap: 'wrap', justifyContent: 'space-between'}}>\r\n                                <div style={{display: 'flex', gap: 8}}>\r\n                                    <DateRangePicker\r\n                                        open={openDateRangeCreateDateModal}\r\n                                        setOpen={setOpenDateRangeCreateDateModal}\r\n                                        range={dateRangeCreateDate}\r\n                                        onSelect={setDateRangeCreateDate}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.itemDate}\r\n                                            startIcon={<CalendarIcon />}\r\n                                            onClick={() => setOpenDateRangeCreateDateModal(!openDateRangeCreateDateModal)}\r\n                                        >\r\n                                            {getDateCleaned(dateRangeCreateDate.startDate!) + \" - \" + getDateCleaned(dateRangeCreateDate.endDate!)}\r\n                                        </Button>\r\n                                    </DateRangePicker>\r\n                                    <div>\r\n                                        <Button\r\n                                            disabled={multiData.loading}\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                            style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                            onClick={() => search()}\r\n                                        >{t(langKeys.search)}\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        download={true}\r\n                        filterGeneral={false}\r\n                        loading={multiData.loading}\r\n                        register={false}\r\n                        triggerExportPersonalized={triggerExportPersonalized}\r\n                        exportPersonalized={triggerExportData}\r\n                        useSelection={true}\r\n                        selectionKey={selectionKey}\r\n                        setSelectedRows={setSelectedRows}\r\n                        pageSizeDefault={IDHSMHISTORY === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                        initialPageIndex={IDHSMHISTORY === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                        initialStateFilter={IDHSMHISTORY === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                    />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailHSMHistoryReport\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        )\r\n    } \r\n    else\r\n        return null;\r\n\r\n}\r\n\r\nexport default HSMHistoryReport;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, Fragment, useCallback, useEffect, useState } from 'react';\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport { AntTab, DialogZyx, FieldMultiSelect, FieldSelect} from 'components';\r\nimport { convertLocalDate, dateToLocalDate, getUniqueContactsConversationExport, getUniqueContactsExport, getUniqueContactsSel, getValuesFromDomain, selOrgSimpleList, selUniqueContactsConversation, selUniqueContactsPcc } from 'common/helpers';\r\nimport { Dictionary, IFetchData } from \"@types\";\r\nimport TableZyx from '../components/fields/table-simple';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { resetMultiMain, getMultiCollectionAux, resetMainAux, resetMultiMainAux, resetMultiMainAux2, getCollectionAux, getCollectionPaginated, exportData, setMemoryTable } from 'store/main/actions';\r\nimport { XAxis, YAxis, ResponsiveContainer, Tooltip as ChartTooltip, BarChart, Bar, PieChart, Pie, Cell, CartesianGrid } from 'recharts';\r\nimport { showBackdrop, showSnackbar } from 'store/popus/actions';\r\nimport { dataYears } from 'common/helpers';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport {\r\n    Search as SearchIcon, Settings,\r\n} from '@material-ui/icons';\r\nimport { Box, CircularProgress, Tabs } from '@material-ui/core';\r\nimport { useForm } from 'react-hook-form';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport TablePaginated from 'components/fields/table-paginated';\r\nimport DialogInteractions from 'components/inbox/DialogInteractions';\r\n\r\nconst COLORS = [\"#0f8fe5\", \"#067713\", \"#296680\", \"#fc3617\", \"#e8187a\", \"#7cfa57\", \"#cfbace\", \"#4cd45f\", \"#fd5055\", \"#7e1be4\", \"#bf1490\", \"#66c6cf\", \"#011c3d\", \"#1a9595\", \"#4ae2c7\", \"#515496\", \"#a2aa65\", \"#df909c\", \"#3aa343\", \"#e0606e\"];\r\n\r\nconst UNIQUECONTACTS = 'UNIQUECONTACTS';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerHeader: {\r\n        padding: theme.spacing(1),\r\n    },\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n    filterComponent: {\r\n        minWidth: '220px',\r\n        maxWidth: '260px'\r\n    },\r\n    numericCell:{\r\n        textAlign: 'end',\r\n        paddingRight: '40px'\r\n    },\r\n    containerHeaderItem: {\r\n        backgroundColor: '#FFF',\r\n        padding: 8,\r\n        display: 'block',\r\n        flexWrap: 'wrap',\r\n        gap: 8,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n    labellink: {\r\n        color: '#7721ad',\r\n        textDecoration: 'underline',\r\n        cursor: 'pointer'\r\n    },\r\n    fieldElipsis: {\r\n        textOverflow:\"ellipsis\",\r\n        overflow: \"hidden\",\r\n        whiteSpace: \"nowrap\", \r\n        width: 230,\r\n    },\r\n}));\r\n\r\ninterface SummaryGraphicProps {\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => void;\r\n    setView: (value: string) => void;\r\n    setGraphicType: (value: string) => void;\r\n    columns: any[];\r\n    columnsprefix?: string;\r\n}\r\n\r\ninterface DetailUniqueContactProps {\r\n    row: any;\r\n    setViewSelected: (view: string) => void;\r\n}\r\n\r\nconst TableResume: FC<{ graphicType: string; data: Dictionary[] }> = ({ data, graphicType }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'name',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n\r\n                    if (graphicType === \"BAR\")\r\n                        return row?.name;\r\n                    return (\r\n                        <div style={{ display: 'flex', gap: 4 }}>\r\n                            <div style={{ width: 15, height: 15, backgroundColor: row.color }}></div>\r\n                            {row?.name}\r\n                        </div>\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.quantity),\r\n                accessor: 'value',\r\n                NoFilter: true,\r\n                type: 'number'\r\n            },\r\n            {\r\n                Header: t(langKeys.percentage),\r\n                accessor: 'percentage',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return row.percentage.toFixed(2) + \"%\";\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <TableZyx\r\n                columns={columns}\r\n                data={data}\r\n                download={false}\r\n                filterGeneral={false}\r\n                toolsFooter={false}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst SummaryGraphic: React.FC<SummaryGraphicProps> = ({ openModal,setView, setOpenModal, columns, setGraphicType }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm<any>({\r\n        defaultValues: {\r\n            graphictype: 'BAR',\r\n            column: 'month'\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        register('graphictype', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n        register('column', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    const handleCancelModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n    const handleAcceptModal = handleSubmit((data:any) => {\r\n        setOpenModal(false);\r\n        setGraphicType(data.graphictype)\r\n        setView(data.graphictype)\r\n    });\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.graphic_configuration)}\r\n            button1Type=\"button\"\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton1={handleCancelModal}\r\n            button2Type=\"button\"\r\n            buttonText2={t(langKeys.accept)}\r\n            handleClickButton2={handleAcceptModal}\r\n        >\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_type)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('graphictype')}\r\n                    error={errors?.graphictype?.message}\r\n                    onChange={(value) => setValue('graphictype', value?.key)}\r\n                    data={[{ key: 'BAR', value: 'BAR' }, { key: 'PIE', value: 'PIE' }]}\r\n                    uset={true}\r\n                    prefixTranslation=\"graphic_\"\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                />\r\n            </div>\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_view_by)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('column')}\r\n                    error={errors?.column?.message}\r\n                    onChange={(value) => setValue('column', value?.key)}\r\n                    data={columns}\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                    uset={true}\r\n                    prefixTranslation=\"\"\r\n                />\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nconst RADIAN = Math.PI / 180;\r\nexport const RenderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, value, ...rest }: Dictionary) => {\r\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n    return (\r\n        <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n            {value||\"\"}\r\n        </text>\r\n    );\r\n};\r\n\r\nconst DetailUniqueContact: React.FC<DetailUniqueContactProps> = ({ row, setViewSelected }) => {\r\n    const [fetchDataAux, setfetchDataAux] = useState<IFetchData>({ pageSize: 0, pageIndex: 0, filters: {}, sorts: {}, daterange: null })\r\n    const [allParameters, setAllParameters] = useState<Dictionary>({});\r\n    const mainPaginated = useSelector(state => state.main.mainPaginated);\r\n    const [totalrow, settotalrow] = useState(0);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [waitExport, setWaitExport] = useState(false);\r\n    const resExportData = useSelector(state => state.main.exportData);\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles()\r\n    const { t } = useTranslation();\r\n    \r\n    const fetchData = ({ pageSize, pageIndex, filters, sorts, daterange }: IFetchData) => {\r\n        setfetchDataAux({ pageSize, pageIndex, filters, sorts, daterange })\r\n        dispatch(getCollectionPaginated(selUniqueContactsPcc({\r\n            take: pageSize,\r\n            skip: pageIndex * pageSize,\r\n            sorts: sorts,\r\n            orgid:row.row.orgid,\r\n            corpid:row.row.corpid,\r\n            month:row.month,\r\n            year:row.year,\r\n            channeltype:row.channeltype,\r\n            filters: {\r\n                ...filters,\r\n            },\r\n            ...allParameters\r\n        })))\r\n    };\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.name),\r\n                accessor: 'name',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.communicationchannel),\r\n                accessor: 'channels',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    <div className={classes.fieldElipsis}>{row?.channels}</div>\r\n                    return <Tooltip TransitionComponent={Zoom} title={row?.channels}>\r\n                        <div className={classes.fieldElipsis}>\r\n                            {row?.channels}\r\n                        </div>\r\n                    </Tooltip>\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.firstContactDate),\r\n                accessor: 'firstcontact',\r\n                width: 'auto',\r\n                type: 'date',\r\n                sortType: 'datetime',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return row.firstcontact ? convertLocalDate(row.firstcontact).toLocaleString() : \"\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.lastContactDate),\r\n                accessor: 'lastcontact',\r\n                width: 'auto',\r\n                type: 'date',\r\n                sortType: 'datetime',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return row.lastcontact ? convertLocalDate(row.lastcontact).toLocaleString() : \"\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.phone),\r\n                accessor: 'phone',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.email),\r\n                accessor: 'email',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.status),\r\n                accessor: 'status',\r\n                width: 'auto',\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n    useEffect(() => {\r\n        if (!mainPaginated.loading && !mainPaginated.error) {\r\n            setPageCount(fetchDataAux.pageSize ? Math.ceil(mainPaginated.count / fetchDataAux.pageSize) : 0);\r\n            settotalrow(mainPaginated.count);\r\n        }\r\n    }, [mainPaginated])\r\n    \r\n    const triggerExportData = ({ filters, sorts }: IFetchData) => {\r\n        const columnsExport = columns.map(x => ({\r\n            key: x.accessor,\r\n            alias: x.Header\r\n        }))\r\n        dispatch(exportData(getUniqueContactsExport({\r\n            filters: {\r\n                ...filters,\r\n            },\r\n            sorts,\r\n            year: row.year,\r\n            corpid: row.row.corpid,\r\n            orgid: row.row.orgid,\r\n            month:row.month,\r\n            channeltype:row.channeltype,\r\n            ...allParameters\r\n        }), \"\", \"excel\", false, columnsExport));\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (waitExport) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.person).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitExport]);\r\n\r\n    return (\r\n        <TablePaginated\r\n            columns={columns}\r\n            data={mainPaginated.data}\r\n            totalrow={totalrow}\r\n            loading={mainPaginated.loading}\r\n            pageCount={pageCount}\r\n            autotrigger={true}\r\n            download={true}\r\n            ButtonsElement={() => (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        type=\"button\"\r\n                        color=\"primary\"\r\n                        startIcon={<ClearIcon color=\"secondary\" />}\r\n                        style={{ backgroundColor: \"#FB5F5F\" }}\r\n                        onClick={() => setViewSelected(\"view-1\")}>\r\n                        {t(langKeys.back)}\r\n                    </Button>\r\n                </>\r\n            )}\r\n            fetchData={fetchData}\r\n            exportPersonalized={triggerExportData}\r\n        />\r\n    )\r\n    \r\n}\r\n\r\n\r\nconst UniqueContactsReportDetail: FC<{year:any; channelType:any}> = ({year,channelType}) => {\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiData = useSelector(state => state.main.multiDataAux);\r\n    const mainResult = useSelector(state => state.main.mainAux);    \r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [view, setView] = useState('GRID');\r\n    const classes = useStyles()\r\n    const [gridData, setGridData] = useState<any[]>([]);\r\n    const [dataGraph, setdataGraph] = useState<any>([]);\r\n    const [rowSelected, setRowSelected] = useState<any>(null);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [graphicType, setGraphicType] = useState('BAR');\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n\r\n    const cell = (props: any) => {\r\n        const column = props.cell.column;\r\n        const row = props.cell.row.original;\r\n        if(row.client === \"Total\"){\r\n            return <div><b>{row[column.id]}</b></div>\r\n        }else if(column.id.includes('_')){\r\n            return <div onClick={()=>handleView(row,column.id.split('_')[1])}>{row[column.id]}</div>\r\n        }else{\r\n            return <div>{row[column.id]}</div>\r\n        }\r\n    }\r\n    \r\n    const handleView = (row: Dictionary, month:number) => {\r\n        setRowSelected({\r\n            row,\r\n            month,\r\n            year,\r\n            channeltype: channelType\r\n        })\r\n        setViewSelected(\"view-2\");\r\n    }\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.client),\r\n                accessor: 'client',\r\n                width: 'auto',\r\n                Cell: (props: any) => {\r\n                    const column = props.cell.column;\r\n                    const row = props.cell.row.original;\r\n                    if(row.client === \"Total\"){\r\n                        return <div><b>{row[column.id]}</b></div>\r\n                    }else{\r\n                        return <div>{row[column.id]}</div>\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.month_01),\r\n                accessor: 'month_1',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_02),\r\n                accessor: 'month_2',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_03),\r\n                accessor: 'month_3',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_04),\r\n                accessor: 'month_4',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_05),\r\n                accessor: 'month_5',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_06),\r\n                accessor: 'month_6',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_07),\r\n                accessor: 'month_7',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_08),\r\n                accessor: 'month_8',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_09),\r\n                accessor: 'month_9',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_10),\r\n                accessor: 'month_10',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_11),\r\n                accessor: 'month_11',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_12),\r\n                accessor: 'month_12',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.total),\r\n                accessor: 'total',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return <b>{row.total}</b>\r\n                }\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n    \r\n    useEffect(() => {\r\n        if (!mainResult.loading && mainResult?.key?.includes(\"UFN_REPORT_UNIQUECONTACTS_SEL\")){\r\n            let mainTotal:any = {\r\n                client: \"Total\",\r\n                month_1: 0, month_2: 0, month_3: 0, month_4: 0, month_5: 0, month_6: 0, month_7: 0, month_8: 0, month_9: 0, month_10: 0, month_11: 0, month_12: 0, total: 0\r\n            }\r\n            let rawdata: any[] = [];\r\n            multiData.data[1].data.map((x)=>{\r\n                rawdata.push({\r\n                    client: `${x.corpdesc} - ${x.orgdesc}`,\r\n                    corpid: x.corpid,\r\n                    orgid: x.orgid,\r\n                    month_1: 0,\r\n                    month_2: 0,\r\n                    month_3: 0,\r\n                    month_4: 0,\r\n                    month_5: 0,\r\n                    month_6: 0,\r\n                    month_7: 0,\r\n                    month_8: 0,\r\n                    month_9: 0,\r\n                    month_10: 0,\r\n                    month_11: 0,\r\n                    month_12: 0,\r\n                    total: 0\r\n                })\r\n            })\r\n            mainResult.data.map(x=>{\r\n                let clientdata = multiData.data[1].data.filter(y=>(x.corpid === y.corpid && x.orgid===y.orgid))[0]\r\n                let indexField = rawdata?.findIndex((y:any)=>(y).client===`${clientdata?.corpdesc} - ${clientdata?.orgdesc}`)   \r\n                if(!(indexField<0)){\r\n                    mainTotal[`month_${x.month}`] += x.pcc\r\n                    mainTotal.total += x.pcc\r\n                    rawdata[indexField][`month_${x.month}`] = x.pcc\r\n                    rawdata[indexField].total += x.pcc\r\n                }\r\n            })\r\n            setGridData([...rawdata,mainTotal]||[]);\r\n            setdataGraph(Object.keys(mainTotal).filter(x=>x.includes('_')).reduce((acc:any,x:string, i:number)=>[...acc,{name:t(x),value:mainTotal[x], percentage: mainTotal[x]*100/mainTotal.total, color:COLORS[i]}],[]))\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [mainResult])\r\n\r\n\r\n    if (viewSelected === \"view-1\") {\r\n\r\n        return (\r\n            <div>\r\n                {view === \"GRID\" ? (\r\n                <React.Fragment>\r\n                    <div style={{ height: 10 }}></div>\r\n                        <TableZyx   \r\n                            columns={columns}\r\n                            data={gridData}\r\n                            ButtonsElement={() => (\r\n                                <Box width={1} style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8 }}>\r\n                                    <Button\r\n                                        className={classes.button}\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        disabled={mainResult.loading || !(gridData.length > 0)}\r\n                                        onClick={() => setOpenModal(true)}\r\n                                        startIcon={<AssessmentIcon />}\r\n                                    >\r\n                                        {t(langKeys.graphic_view)}\r\n                                    </Button>\r\n                                </Box>\r\n                            )}\r\n                            download={true}\r\n                            filterGeneral={false}\r\n                            loading={mainResult.loading}\r\n                            register={false}\r\n                            pageSizeDefault={UNIQUECONTACTS === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                            initialPageIndex={UNIQUECONTACTS === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                            initialStateFilter={UNIQUECONTACTS === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                        />\r\n                </React.Fragment>):\r\n                (<div>\r\n                    <Box style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8 }} className={classes.containerHeaderItem}>\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={mainResult.loading || !(gridData.length > 0)}\r\n                            onClick={() => setOpenModal(true)}\r\n                            startIcon={<Settings />}\r\n                        >\r\n                            {t(langKeys.configuration)}\r\n                        </Button>\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => setView('GRID')}\r\n                            startIcon={<ListIcon />}\r\n                        >\r\n                            {t(langKeys.grid_view)}\r\n                        </Button>\r\n                        <>\r\n                        {(mainResult.loading) ? (\r\n                            <div style={{ flex: 1, height: '400px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <CircularProgress />\r\n                            </div>\r\n                        ) :(graphicType === \"BAR\" ? (\r\n                            <div style={{ display: 'flex' }}>\r\n                                <div style={{ flex: '0 0 70%', height: 500 }}>\r\n                                    <ResponsiveContainer aspect={4.0 / 2}>\r\n                                        <BarChart\r\n                                            data={dataGraph}\r\n                                            margin={{\r\n                                                top: 20,\r\n                                                right: 30,\r\n                                                left: 20,\r\n                                                bottom: 5,\r\n                                            }}\r\n                                        >\r\n                                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                            <XAxis dataKey=\"name\" style={{ fontSize: \"0.8em\" }} angle={315} interval={0} textAnchor=\"end\" height={160} dy={5} dx={-5} />\r\n            \r\n                                            <YAxis />\r\n                                            <ChartTooltip formatter={(value:any, name:any)=> [value,t(name)]} />\r\n                                            <Bar dataKey=\"value\" fill=\"#8884d8\" textAnchor=\"end\" stackId=\"a\" type=\"monotone\" ></Bar>\r\n                                        </BarChart>\r\n                                    </ResponsiveContainer>\r\n                                </div>\r\n                                <div style={{ overflowX: 'auto' }}>\r\n                                    <TableResume\r\n                                        graphicType={graphicType}\r\n                                        data={dataGraph}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <div style={{ display: 'flex' }}>\r\n                                <div style={{ flex: '0 0 65%', height: 500 }}>\r\n                                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                        <PieChart>\r\n                                            <ChartTooltip />\r\n                                            <Pie\r\n                                                data={dataGraph}\r\n                                                dataKey=\"value\"\r\n                                                labelLine={false}\r\n                                                label={RenderCustomizedLabel}\r\n                                                nameKey=\"name\"\r\n                                                cx=\"50%\"\r\n                                                cy=\"50%\"\r\n                                                innerRadius={40}\r\n                                                fill=\"#8884d8\"\r\n                                            >\r\n                                                {dataGraph.map((item:any, i:number) => (\r\n                                                    <Cell\r\n                                                        key={item.name}\r\n                                                        fill={item.color}\r\n                                                    />\r\n                                                ))}\r\n                                            </Pie>\r\n                                        </PieChart>\r\n                                    </ResponsiveContainer>\r\n                                </div>\r\n                                <div style={{ overflowX: 'auto' }}>\r\n                                    <TableResume\r\n                                        graphicType={graphicType}\r\n                                        data={dataGraph}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        </>\r\n                    </Box>\r\n                </div>\r\n                )}\r\n\r\n                <SummaryGraphic\r\n                    openModal={openModal}\r\n                    setOpenModal={setOpenModal}\r\n                    setGraphicType={setGraphicType}\r\n                    setView={setView}\r\n                    columns={[{\r\n                        value: t(langKeys.month),\r\n                        key: 'month',\r\n                    }]}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n            return <DetailUniqueContact\r\n                row={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n    } \r\n    else\r\n        return null;\r\n\r\n}\r\n\r\n\r\nconst DetailConversationQuantity: React.FC<DetailUniqueContactProps> = ({ row, setViewSelected }) => {\r\n    const [fetchDataAux, setfetchDataAux] = useState<IFetchData>({ pageSize: 0, pageIndex: 0, filters: {}, sorts: {}, daterange: null })\r\n    const [allParameters, setAllParameters] = useState<Dictionary>({});\r\n    const mainPaginated = useSelector(state => state.main.mainPaginated);\r\n    const mainResult = useSelector(state => state.main.mainAux2);\r\n    const [totalrow, settotalrow] = useState(0);\r\n    const [rowSelected, setRowSelected] = useState<Dictionary | null>(null);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [waitExport, setWaitExport] = useState(false);\r\n    const resExportData = useSelector(state => state.main.exportData);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n\r\n    const openDialogInteractions = useCallback((row: any) => {\r\n        setOpenModal(true);\r\n        setRowSelected({ ...row, displayname: row?.name||\"\" })\r\n    }, [mainResult]);\r\n    \r\n    const fetchData = ({ pageSize, pageIndex, filters, sorts, daterange }: IFetchData) => {\r\n        setfetchDataAux({ pageSize, pageIndex, filters, sorts, daterange })\r\n        dispatch(getCollectionPaginated(selUniqueContactsConversation({\r\n            take: pageSize,\r\n            skip: pageIndex * pageSize,\r\n            sorts: sorts,\r\n            orgid:row.row.orgid,\r\n            corpid:row.row.corpid,\r\n            month:row.month,\r\n            year:row.year,\r\n            channeltype:row.channeltype,\r\n            filters: {\r\n                ...filters,\r\n            },\r\n            ...allParameters\r\n        })))\r\n    };\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.ticket_number),\r\n                accessor: 'ticketnum',\r\n                width: 'auto',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return (\r\n                        <label\r\n                            className={classes.labellink}\r\n                            onClick={() => openDialogInteractions(row)}\r\n                        >\r\n                            {row.ticketnum}\r\n                        </label>\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.startdate),\r\n                accessor: 'startdate',\r\n                width: 'auto',\r\n                type: 'date',\r\n                sortType: 'date',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return row.startdate ? dateToLocalDate(row.startdate) : \"\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.starttime),\r\n                accessor: 'starttime',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.enddate),\r\n                accessor: 'finishdate',\r\n                width: 'auto',\r\n                type: 'date',\r\n                sortType: 'date',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return row.finishdate ? dateToLocalDate(row.finishdate) : \"\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.finishtime),\r\n                accessor: 'finishtime',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.communicationchannel),\r\n                accessor: 'channel',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.origin),\r\n                accessor: 'origin',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.person),\r\n                accessor: 'name',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.email),\r\n                accessor: 'email',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.phone),\r\n                accessor: 'phone',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.closedby),\r\n                accessor: 'usertype',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.advisor),\r\n                accessor: 'asesor',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.group),\r\n                accessor: 'usergroup',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.closetype),\r\n                accessor: 'closetype',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.ticket_fechahandoff),\r\n                accessor: 'handoffdate',\r\n                width: 'auto',\r\n                type: 'date',\r\n                sortType: 'date',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return row.handoffdate ? dateToLocalDate(row.handoffdate) : \"\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.report_productivity_derivationtime),\r\n                accessor: 'handofftime',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.tmo),\r\n                accessor: 'tmo',\r\n                width: 'auto',\r\n                helpText: t(langKeys.tmotooltip) \r\n            },\r\n            {\r\n                Header: `${t(langKeys.advisor)} ${t(langKeys.tmo)}`,\r\n                accessor: 'tmoasesor',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.tmeAgent),\r\n                accessor: 'tmeasesor',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_productivity_holdingholdtime),\r\n                accessor: 'tdatime',\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.report_productivity_suspensiontime),\r\n                accessor: 'pauseduration', //preguntar por el campo\r\n                width: 'auto',\r\n            },\r\n            {\r\n                Header: t(langKeys.tmr),\r\n                accessor: 'tmrasesor',\r\n                width: 'auto',\r\n                helpText: t(langKeys.tmrtooltip)\r\n            },\r\n            {\r\n                Header: t(langKeys.ticket_balancetimes),\r\n                accessor: 'balancetimes',\r\n                type: 'number',\r\n                width: 'auto',\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n    \r\n    const triggerExportData = ({ filters, sorts }: IFetchData) => {\r\n        const columnsExport = columns.map(x => ({\r\n            key: x.accessor,\r\n            alias: x.Header\r\n        }))\r\n        dispatch(exportData(getUniqueContactsConversationExport({\r\n            filters: {\r\n                ...filters,\r\n            },\r\n            sorts,\r\n            corpid: row.row.corpid,\r\n            orgid: row.row.orgid,\r\n            year: row.year,\r\n            month:row.month,\r\n            channeltype:row.channeltype,\r\n            ...allParameters\r\n        }), \"\", \"excel\", false, columnsExport));\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n    useEffect(() => {\r\n        if (!mainPaginated.loading && !mainPaginated.error) {\r\n            setPageCount(fetchDataAux.pageSize ? Math.ceil(mainPaginated.count / fetchDataAux.pageSize) : 0);\r\n            settotalrow(mainPaginated.count);\r\n        }\r\n    }, [mainPaginated])\r\n\r\n    useEffect(() => {\r\n        if (waitExport) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.person).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitExport]);\r\n\r\n    return (\r\n        <>\r\n            <TablePaginated\r\n                columns={columns}\r\n                data={mainPaginated.data}\r\n                totalrow={totalrow}\r\n                loading={mainPaginated.loading}\r\n                pageCount={pageCount}\r\n                autotrigger={true}\r\n                download={true}\r\n                ButtonsElement={() => (\r\n                    <>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}>\r\n                            {t(langKeys.back)}\r\n                        </Button>\r\n                    </>\r\n                )}\r\n                fetchData={fetchData}\r\n                exportPersonalized={triggerExportData}\r\n            />            \r\n            <DialogInteractions\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                ticket={rowSelected}\r\n            />\r\n        </>\r\n    )\r\n    \r\n}\r\n\r\nconst ConversationQuantityReportDetail: FC<{year:any; channelType:any}> = ({year,channelType}) => {\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const multiData = useSelector(state => state.main.multiDataAux);\r\n    const mainResult = useSelector(state => state.main.mainAux);    \r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [view, setView] = useState('GRID');\r\n    const classes = useStyles()\r\n    const [gridData, setGridData] = useState<any[]>([]);\r\n    const [dataGraph, setdataGraph] = useState<any>([]);\r\n    const [rowSelected, setRowSelected] = useState<any>(null);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [graphicType, setGraphicType] = useState('BAR');\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n\r\n    const cell = (props: any) => {\r\n        const column = props.cell.column;\r\n        const row = props.cell.row.original;\r\n        if(row.client === \"Total\"){\r\n            return <div><b>{row[column.id]}</b></div>\r\n        }else if(column.id.includes('_')){\r\n            return <div onClick={()=>handleView(row,column.id.split('_')[1])}>{row[column.id]}</div>\r\n        }else{\r\n            return <div>{row[column.id]}</div>\r\n        }\r\n    }\r\n    \r\n    const handleView = (row: Dictionary, month:number) => {\r\n        setRowSelected({\r\n            row,\r\n            month,\r\n            year,\r\n            channeltype: channelType\r\n        })\r\n        setViewSelected(\"view-2\");\r\n    }\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.client),\r\n                accessor: 'client',\r\n                width: 'auto',\r\n                Cell: (props: any) => {\r\n                    const column = props.cell.column;\r\n                    const row = props.cell.row.original;\r\n                    if(row.client === \"Total\"){\r\n                        return <div><b>{row[column.id]}</b></div>\r\n                    }else{\r\n                        return <div>{row[column.id]}</div>\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.month_01),\r\n                accessor: 'month_1',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_02),\r\n                accessor: 'month_2',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_03),\r\n                accessor: 'month_3',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_04),\r\n                accessor: 'month_4',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_05),\r\n                accessor: 'month_5',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_06),\r\n                accessor: 'month_6',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_07),\r\n                accessor: 'month_7',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_08),\r\n                accessor: 'month_8',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_09),\r\n                accessor: 'month_9',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_10),\r\n                accessor: 'month_10',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_11),\r\n                accessor: 'month_11',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.month_12),\r\n                accessor: 'month_12',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell:cell\r\n            },\r\n            {\r\n                Header: t(langKeys.total),\r\n                accessor: 'total',\r\n                width: 'auto',\r\n                type: 'number',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return <b>{row.total}</b>\r\n                }\r\n            },\r\n        ],\r\n        [t]\r\n    );\r\n    useEffect(() => {\r\n        if (!mainResult.loading && mainResult?.key?.includes(\"UFN_REPORT_UNIQUECONTACTS_SEL\")){\r\n            let mainTotal:any = {\r\n                client: \"Total\",\r\n                month_1: 0, month_2: 0, month_3: 0, month_4: 0, month_5: 0, month_6: 0, month_7: 0, month_8: 0, month_9: 0, month_10: 0, month_11: 0, month_12: 0, total: 0\r\n            }\r\n            let rawdata: any[] = [];\r\n            multiData.data[1].data.map((x)=>{\r\n                rawdata.push({\r\n                    client: `${x.corpdesc} - ${x.orgdesc}`,\r\n                    corpid: x.corpid,\r\n                    orgid: x.orgid,\r\n                    month_1: 0,\r\n                    month_2: 0,\r\n                    month_3: 0,\r\n                    month_4: 0,\r\n                    month_5: 0,\r\n                    month_6: 0,\r\n                    month_7: 0,\r\n                    month_8: 0,\r\n                    month_9: 0,\r\n                    month_10: 0,\r\n                    month_11: 0,\r\n                    month_12: 0,\r\n                    total: 0\r\n                })\r\n            })\r\n            mainResult.data.map(x=>{\r\n                let clientdata = multiData.data[1].data.filter(y=>(x.corpid === y.corpid && x.orgid===y.orgid))[0]\r\n                let indexField = rawdata?.findIndex((y:any)=>(y).client===`${clientdata?.corpdesc} - ${clientdata?.orgdesc}`)   \r\n                if(!(indexField<0)){\r\n                    mainTotal[`month_${x.month}`] += x.conversation\r\n                    mainTotal.total += x.conversation\r\n                    rawdata[indexField][`month_${x.month}`] = x.conversation\r\n                    rawdata[indexField].total += x.conversation\r\n                }\r\n            })\r\n            setGridData([...rawdata,mainTotal]||[]);\r\n            setdataGraph(Object.keys(mainTotal).filter(x=>x.includes('_')).reduce((acc:any,x:string, i:number)=>[...acc,{name:t(x),value:mainTotal[x], percentage: mainTotal[x]*100/mainTotal.total, color:COLORS[i]}],[]))\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [mainResult])\r\n\r\n    if (viewSelected === \"view-1\") {\r\n\r\n        return (\r\n            <div>\r\n                {view === \"GRID\" ? (\r\n                <React.Fragment>\r\n                    <div style={{ height: 10 }}></div>\r\n                        <TableZyx   \r\n                            columns={columns}\r\n                            data={gridData}\r\n                            ButtonsElement={() => (\r\n                                <Box width={1} style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8 }}>\r\n                                    <Button\r\n                                        className={classes.button}\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        disabled={mainResult.loading || !(gridData.length > 0)}\r\n                                        onClick={() => setOpenModal(true)}\r\n                                        startIcon={<AssessmentIcon />}\r\n                                    >\r\n                                        {t(langKeys.graphic_view)}\r\n                                    </Button>\r\n                                </Box>\r\n                            )}\r\n                            download={true}\r\n                            filterGeneral={false}\r\n                            loading={mainResult.loading}\r\n                            register={false}\r\n                            pageSizeDefault={UNIQUECONTACTS === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                            initialPageIndex={UNIQUECONTACTS === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                            initialStateFilter={UNIQUECONTACTS === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                        />\r\n                </React.Fragment>):\r\n                (<div>\r\n                    <Box style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8 }} className={classes.containerHeaderItem}>\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={mainResult.loading || !(gridData.length > 0)}\r\n                            onClick={() => setOpenModal(true)}\r\n                            startIcon={<Settings />}\r\n                        >\r\n                            {t(langKeys.configuration)}\r\n                        </Button>\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => setView('GRID')}\r\n                            startIcon={<ListIcon />}\r\n                        >\r\n                            {t(langKeys.grid_view)}\r\n                        </Button>\r\n                        <>\r\n                        {(mainResult.loading) ? (\r\n                            <div style={{ flex: 1, height: '400px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <CircularProgress />\r\n                            </div>\r\n                        ) :(graphicType === \"BAR\" ? (\r\n                            <div style={{ display: 'flex' }}>\r\n                                <div style={{ flex: '0 0 70%', height: 500 }}>\r\n                                    <ResponsiveContainer aspect={4.0 / 2}>\r\n                                        <BarChart\r\n                                            data={dataGraph}\r\n                                            margin={{\r\n                                                top: 20,\r\n                                                right: 30,\r\n                                                left: 20,\r\n                                                bottom: 5,\r\n                                            }}\r\n                                        >\r\n                                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                            <XAxis dataKey=\"name\" style={{ fontSize: \"0.8em\" }} angle={315} interval={0} textAnchor=\"end\" height={160} dy={5} dx={-5} />\r\n            \r\n                                            <YAxis />\r\n                                            <ChartTooltip formatter={(value:any, name:any)=> [value,t(name)]} />\r\n                                            <Bar dataKey=\"value\" fill=\"#8884d8\" textAnchor=\"end\" stackId=\"a\" type=\"monotone\" ></Bar>\r\n                                        </BarChart>\r\n                                    </ResponsiveContainer>\r\n                                </div>\r\n                                <div style={{ overflowX: 'auto' }}>\r\n                                    <TableResume\r\n                                        graphicType={graphicType}\r\n                                        data={dataGraph}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <div style={{ display: 'flex' }}>\r\n                                <div style={{ flex: '0 0 65%', height: 500 }}>\r\n                                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                        <PieChart>\r\n                                            <ChartTooltip />\r\n                                            <Pie\r\n                                                data={dataGraph}\r\n                                                dataKey=\"value\"\r\n                                                labelLine={false}\r\n                                                label={RenderCustomizedLabel}\r\n                                                nameKey=\"name\"\r\n                                                cx=\"50%\"\r\n                                                cy=\"50%\"\r\n                                                innerRadius={40}\r\n                                                fill=\"#8884d8\"\r\n                                            >\r\n                                                {dataGraph.map((item:any, i:number) => (\r\n                                                    <Cell\r\n                                                        key={item.name}\r\n                                                        fill={item.color}\r\n                                                    />\r\n                                                ))}\r\n                                            </Pie>\r\n                                        </PieChart>\r\n                                    </ResponsiveContainer>\r\n                                </div>\r\n                                <div style={{ overflowX: 'auto' }}>\r\n                                    <TableResume\r\n                                        graphicType={graphicType}\r\n                                        data={dataGraph}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        </>\r\n                    </Box>\r\n                </div>\r\n                )}\r\n\r\n                <SummaryGraphic\r\n                    openModal={openModal}\r\n                    setOpenModal={setOpenModal}\r\n                    setGraphicType={setGraphicType}\r\n                    setView={setView}\r\n                    columns={[{\r\n                        value: t(langKeys.month),\r\n                        key: 'month',\r\n                    }]}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n            return <DetailConversationQuantity\r\n                row={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n    } \r\n    else\r\n        return null;\r\n\r\n}\r\n\r\nconst UniqueContactsReport: FC = () => {\r\n    const [pageSelected, setPageSelected] = useState(0);   \r\n    const dispatch = useDispatch();\r\n    const classes = useStyles()\r\n    const { t } = useTranslation();\r\n    const [channelType, setChannelType] = useState(\"\");\r\n    const [year, setYear] = useState(`${new Date().getFullYear()}`);\r\n    const multiData = useSelector(state => state.main.multiDataAux);\r\n    useEffect(() => {\r\n        dispatch(getMultiCollectionAux([\r\n            getValuesFromDomain(\"TIPOCANAL\"),\r\n            selOrgSimpleList()\r\n        ]))\r\n        dispatch(setMemoryTable({\r\n            id: UNIQUECONTACTS\r\n        }))\r\n        return () => {\r\n            dispatch(resetMainAux());\r\n            dispatch(resetMultiMain());\r\n            dispatch(resetMultiMainAux());\r\n            dispatch(resetMultiMainAux2());\r\n        }\r\n    }, [])\r\n    function search(){\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getCollectionAux(\r\n            getUniqueContactsSel(\r\n                {\r\n                    year: year,\r\n                    channeltype: channelType,\r\n                }\r\n            )\r\n        ))\r\n    }\r\n    return (\r\n        <Fragment>            \r\n            <div className={classes.containerHeader} style={{display: 'flex', gap: 8, flexWrap: 'wrap', justifyContent: 'space-between'}}>\r\n                <div style={{display: 'flex', gap: 8}}>      \r\n                    <FieldSelect\r\n                        label={t(langKeys.year)}\r\n                        style={{ width: 140 }}\r\n                        variant=\"outlined\"\r\n                        valueDefault={year}\r\n                        onChange={(value) => setYear(value?.value)}\r\n                        data={dataYears}\r\n                        optionDesc=\"value\"\r\n                        optionValue=\"value\"\r\n                    />                            \r\n                    <FieldMultiSelect\r\n                        label={t(langKeys.channeltype)}\r\n                        className={classes.filterComponent}\r\n                        onChange={(value) => {setChannelType(value.map((o: Dictionary) => o.domainvalue).join())}}\r\n                        valueDefault={channelType}\r\n                        variant=\"outlined\"\r\n                        data={multiData?.data?.[0]?.data||[]}\r\n                        loading={multiData.loading}\r\n                        optionDesc={\"domaindesc\"}\r\n                        optionValue={\"domainvalue\"}\r\n                    />\r\n                    <div>\r\n                        <Button\r\n                            disabled={multiData.loading}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                            style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                            onClick={() => search()}\r\n                        >{t(langKeys.search)}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Tabs\r\n                value={pageSelected}\r\n                indicatorColor=\"primary\"\r\n                variant=\"fullWidth\"\r\n                style={{ borderBottom: '1px solid #EBEAED', backgroundColor: '#FFF', marginTop: 8 }}\r\n                textColor=\"primary\"\r\n                onChange={(_, value) => setPageSelected(value)}\r\n            >\r\n                <AntTab label={t(langKeys.uniquecontacts).toLocaleUpperCase()} style={{fontWeight: 'bold'}}/>\r\n                <AntTab label={t(langKeys.conversationquantity).toLocaleUpperCase()} style={{fontWeight: 'bold'}}/>\r\n            </Tabs>\r\n            {pageSelected === 0 && <UniqueContactsReportDetail year={year} channelType={channelType}/>}\r\n            {pageSelected === 1 && <ConversationQuantityReportDetail year={year} channelType={channelType}/>}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UniqueContactsReport;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from 'hooks';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { getCollectionAux2, getMultiCollection, resetMultiMain } from \"store/main/actions\";\r\nimport { langKeys } from \"lang/keys\";\r\nimport TableZyx from \"components/fields/table-simple\";\r\nimport { Button, TextField, } from \"@material-ui/core\";\r\nimport { getReportKpiOperativoSel, timetoseconds, secondsToHourTime, getUserGroupsSel } from 'common/helpers';\r\nimport { Search as SearchIcon } from '@material-ui/icons';\r\nimport { FieldSelect } from \"components/fields/templates\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    containerFilter: {\r\n        width: '100%',\r\n        padding: \"10px\",\r\n        marginBottom: \"10px\",\r\n        display: 'flex',\r\n        gap: 8,\r\n        flexWrap: 'wrap',\r\n        backgroundColor: \"white\"\r\n    },\r\n    filterComponent: {\r\n        minWidth: '220px',\r\n        maxWidth: '260px'\r\n    },\r\n    containerHeader: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: 16,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n    containerDetails: {\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    BackGrRed: {\r\n        backgroundColor: \"#fb5f5f\",\r\n    },\r\n    BackGrGreen: {\r\n        backgroundColor: \"#55bd84\",\r\n    },\r\n    iconHelpText: {\r\n        width: 15,\r\n        height: 15,\r\n        cursor: 'pointer',\r\n    },\r\n    containerHeaderItem: {\r\n        backgroundColor: '#FFF',\r\n        padding: 8,\r\n        display: 'block',\r\n        flexWrap: 'wrap',\r\n        gap: 8,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n}));\r\n\r\nconst origin = 'kpioperativo';\r\nconst ReportKpiOperativo: FC = () => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n    const mainAux2 = useSelector(state => state.main.mainAux2);\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const classes = useStyles()\r\n    const [datemonth, setDatemonth] = useState(new Date().toISOString().slice(0,7));\r\n    const [group, setGroup] = useState(\"\");\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_year),\r\n                accessor: 'year',\r\n                helpText: t(`report_${origin}_year_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    return <>TOTAL</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_month),\r\n                accessor: 'month',\r\n                helpText: t(`report_${origin}_month_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_day),\r\n                accessor: 'day',\r\n                helpText: t(`report_${origin}_day_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_groups),\r\n                accessor: 'groups',\r\n                helpText: t(`report_${origin}_groups_help`),\r\n                NoFilter: true,\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_origin),\r\n                accessor: 'origin',\r\n                helpText: t(`report_${origin}_origin_help`),\r\n                NoFilter: true,\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_tme_avg),\r\n                accessor: 'tme_avg',\r\n                helpText: t(`report_${origin}_tme_avg_help`),\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => timetoseconds(row.values[\"tme_avg\"]) + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"tme_avg\"]).length !== 0 ? secondsToHourTime(total / props.rows.filter((r: any) => r.values[\"tme_avg\"]).length) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_tickets),\r\n                accessor: 'tickets',\r\n                helpText: t(`report_${origin}_tickets_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => +row.values[\"tickets\"] + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"tickets\"]).length !== 0 ? (total / props.rows.filter((r: any) => r.values[\"tickets\"]).length).toFixed(0) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_eqtmoasesor),\r\n                accessor: 'eqtmoasesor',\r\n                helpText: t(`report_${origin}_eqtmoasesor_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => +row.values[\"eqtmoasesor\"] + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"eqtmoasesor\"]).length !== 0 ? (total / props.rows.filter((r: any) => r.values[\"eqtmoasesor\"]).length).toFixed(0) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_userpause_hour_avg),\r\n                accessor: 'userpause_hour_avg',\r\n                helpText: t(`report_${origin}_userpause_hour_avg_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => timetoseconds(row.values[\"userpause_hour_avg\"]) + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"userpause_hour_avg\"]).length !== 0 ? secondsToHourTime(total / props.rows.filter((r: any) => r.values[\"userpause_hour_avg\"]).length) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_tmoasesor_tickets),\r\n                accessor: 'tmoasesor_tickets',\r\n                helpText: t(`report_${origin}_tmoasesor_tickets_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => timetoseconds(row.values[\"tmoasesor_tickets\"]) + sum, 0),    \r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"tmoasesor_tickets\"]).length !== 0 ? secondsToHourTime(total / props.rows.filter((r: any) => r.values[\"tmoasesor_tickets\"]).length) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_tickets_eqtmoasesor),\r\n                accessor: 'tickets_eqtmoasesor',\r\n                helpText: t(`report_${origin}_tickets_eqtmoasesor_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => +row.values[\"tickets_eqtmoasesor\"] + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"tickets_eqtmoasesor\"]).length !== 0 ? (total / props.rows.filter((r: any) => r.values[\"tickets_eqtmoasesor\"]).length).toFixed(0) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_abandoned_tickets),\r\n                accessor: 'abandoned_tickets',\r\n                helpText: t(`report_${origin}_abandoned_tickets_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => +row.values[\"abandoned_tickets\"] + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{(total / props.rows.length).toFixed(0)}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_holdingwaitingtime_avg),\r\n                accessor: 'holdingwaitingtime_avg',\r\n                helpText: t(`report_${origin}_holdingwaitingtime_avg_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => timetoseconds(row.values[\"holdingwaitingtime_avg\"]) + sum, 0),    \r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"holdingwaitingtime_avg\"]).length !== 0 ? secondsToHourTime(total / props.rows.filter((r: any) => r.values[\"holdingwaitingtime_avg\"]).length) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_firstassignedtime_avg),\r\n                accessor: 'firstassignedtime_avg',\r\n                helpText: t(`report_${origin}_firstassignedtime_avg_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => timetoseconds(row.values[\"firstassignedtime_avg\"]) + sum, 0),    \r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"firstassignedtime_avg\"]).length !== 0 ? secondsToHourTime(total / props.rows.filter((r: any) => r.values[\"firstassignedtime_avg\"]).length) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_firstreplytime_avg),\r\n                accessor: 'firstreplytime_avg',\r\n                helpText: t(`report_${origin}_firstreplytime_avg_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => timetoseconds(row.values[\"firstreplytime_avg\"]) + sum, 0),    \r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"firstreplytime_avg\"]).length !== 0 ? secondsToHourTime(total / props.rows.filter((r: any) => r.values[\"firstreplytime_avg\"]).length) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_balancetimes_avg),\r\n                accessor: 'balancetimes_avg',\r\n                helpText: t(`report_${origin}_balancetimes_avg_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => +row.values[\"balancetimes_avg\"] + sum, 0),\r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"balancetimes_avg\"]).length !== 0 ? (total / props.rows.filter((r: any) => r.values[\"balancetimes_avg\"]).length).toFixed(0) : ''}</>\r\n                },\r\n            },\r\n            {\r\n                Header: t(langKeys.report_kpioperativo_useraveragereplytime_avg),\r\n                accessor: 'useraveragereplytime_avg',\r\n                helpText: t(`report_${origin}_useraveragereplytime_avg_help`),\r\n                type: 'number',\r\n                NoFilter: true,\r\n                Footer: (props: any) => {\r\n                    const total = React.useMemo(\r\n                        () =>\r\n                            props.rows.reduce((sum: any, row: any) => timetoseconds(row.values[\"useraveragereplytime_avg\"]) + sum, 0),    \r\n                        [props.rows]\r\n                    )\r\n                    return <>{props.rows.filter((r: any) => r.values[\"useraveragereplytime_avg\"]).length !== 0 ? secondsToHourTime(total / props.rows.filter((r: any) => r.values[\"useraveragereplytime_avg\"]).length) : ''}</>\r\n                },\r\n            },\r\n            // {\r\n            //     Header: t(langKeys.report_kpioperativo_tmoasesor_hour_sum),\r\n            //     accessor: 'tmoasesor_hour_sum',\r\n            //     helpText: t(`report_${origin}_tmoasesor_hour_sum_help`),\r\n            //     type: 'number',\r\n            //     NoFilter: true,\r\n            //     Footer: (props: any) => {\r\n            //         const total = React.useMemo(\r\n            //             () =>\r\n            //                 props.rows.reduce((sum: any, row: any) => +row.values[\"tmoasesor_hour_sum\"] + sum, 0),\r\n            //             [props.rows]\r\n            //         )\r\n            //         return <>{props.rows.filter((r: any) => r.values[\"tmoasesor_hour_sum\"]).length !== 0 ? (total / props.rows.filter((r: any) => r.values[\"tmoasesor_hour_sum\"]).length).toFixed(2) : ''}</>\r\n            //     },\r\n            // },\r\n            // {\r\n            //     Header: t(langKeys.report_kpioperativo_tda_hour_avg),\r\n            //     accessor: 'tda_hour_avg',\r\n            //     helpText: t(`report_${origin}_tda_hour_avg_help`),\r\n            //     type: 'number',\r\n            //     NoFilter: true,\r\n            //     Footer: (props: any) => {\r\n            //         const total = React.useMemo(\r\n            //             () =>\r\n            //                 props.rows.reduce((sum: any, row: any) => +row.values[\"tda_hour_avg\"] + sum, 0),\r\n            //             [props.rows]\r\n            //         )\r\n            //         return <>{props.rows.length !== 0 ? (total / props.rows.filter((r: any) => r.values[\"tda_hour_avg\"]).length).toFixed(2) : ''}</>\r\n            //     },\r\n            // },\r\n            // {\r\n            //     Header: t(langKeys.report_kpioperativo_tdats_hour_avg),\r\n            //     accessor: 'tdats_hour_avg',\r\n            //     helpText: t(`report_${origin}_tdats_hour_avg_help`),\r\n            //     type: 'number',\r\n            //     NoFilter: true,\r\n            //     Footer: (props: any) => {\r\n            //         const total = React.useMemo(\r\n            //             () =>\r\n            //                 props.rows.reduce((sum: any, row: any) => +row.values[\"tdats_hour_avg\"] + sum, 0),\r\n            //             [props.rows]\r\n            //         )\r\n            //         return <>{props.rows.length !== 0 ? (total / props.rows.filter((r: any) => r.values[\"tdats_hour_avg\"]).length).toFixed(2) : ''}</>\r\n            //     },\r\n            // },\r\n        ],\r\n        []\r\n    );\r\n\r\n    function handleDateChange(value: any) {\r\n        if (value !== \"\") {\r\n            setDatemonth(value);\r\n        }\r\n    }\r\n\r\n    const search = () => {\r\n        dispatch(getCollectionAux2(\r\n            getReportKpiOperativoSel(\r\n                {\r\n                    date: `${datemonth}-01`,\r\n                    usergroup: group\r\n                }\r\n            )\r\n        ))\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(getMultiCollection([\r\n            getUserGroupsSel(),\r\n        ]))\r\n        return () => {\r\n            dispatch(resetMultiMain());\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ height: 10 }}></div>\r\n            <div className={classes.containerHeader} style={{ display: 'flex', gap: 8, flexWrap: 'wrap', justifyContent: 'space-between' }}>\r\n                <div style={{ display: 'flex', gap: 8 }}>\r\n                    <TextField\r\n                        id=\"date\"\r\n                        type=\"month\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e) => handleDateChange(e.target.value)}\r\n                        value={datemonth}\r\n                        size=\"small\"\r\n                    />\r\n                    <FieldSelect\r\n                        label={t(langKeys.group)}\r\n                        className={classes.filterComponent}\r\n                        variant=\"outlined\"\r\n                        valueDefault={group}\r\n                        onChange={(value) => setGroup(value?.domainvalue)}\r\n                        data={multiData.data?.[0]?.data || []}\r\n                        loading={multiData.loading}\r\n                        optionValue=\"domainvalue\"\r\n                        optionDesc=\"domaindesc\"\r\n                    />\r\n                    <div>\r\n                        <Button\r\n                            disabled={multiData.loading}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                            style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                            onClick={() => search()}\r\n                        >{t(langKeys.search)}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <TableZyx\r\n                columns={columns}\r\n                data={mainAux2?.data || []}\r\n                download={true}\r\n                filterGeneral={false}\r\n                loading={mainAux2.loading}\r\n                register={false}\r\n                useFooter={true}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default ReportKpiOperativo;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, Fragment, useEffect, useState } from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport TablePaginated from 'components/fields/table-paginated';\r\nimport TableZyx from 'components/fields/table-simple';\r\nimport Graphic from 'components/fields/Graphic';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { TemplateBreadcrumbs, SearchField, FieldSelect, FieldMultiSelect, SkeletonReportCard, DialogZyx, DateRangePicker } from 'components';\r\nimport { useSelector } from 'hooks';\r\nimport { Dictionary, IFetchData, MultiData, IRequestBody } from \"@types\";\r\nimport { getReportSel, getReportTemplateSel, getValuesFromDomain, getReportColumnSel, getReportFilterSel, getPaginatedForReports, getReportExport, insertReportTemplate, convertLocalDate, getTableOrigin, getReportGraphic, getConversationsWhatsapp, getDateCleaned } from 'common/helpers';\r\nimport { getCollection, getCollectionAux, execute, resetMain, getCollectionPaginated, resetCollectionPaginated, exportData, getMultiCollection, resetMultiMain, resetMainAux, getMultiCollectionAux, getMainGraphic, cleanViewChange, setViewChange } from 'store/main/actions';\r\nimport { showSnackbar, showBackdrop, manageConfirmation } from 'store/popus/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { reportsImage } from '../icons/index';\r\nimport AssessorProductivity from 'components/report/AssessorProductivity';\r\nimport DetailReportDesigner from 'pages/ReportTemplate';\r\nimport { SkeletonReport } from 'components';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ReportPersonalized, { IReport } from 'components/personalizedreport/ReportPersonalized'\r\nimport Heatmap from './Heatmap';\r\nimport RecordHSMRecord from './RecordHSMReport';\r\nimport { useForm } from 'react-hook-form';\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nimport { Range } from 'react-date-range';\r\nimport { CalendarIcon } from 'icons';\r\nimport { Search as SearchIcon } from '@material-ui/icons';\r\nimport ReportInvoice from 'components/report/ReportInvoice';\r\nimport TicketvsAdviser from 'components/report/TicketvsAdviser';\r\nimport HSMHistoryReport from './HSMHistoryReport';\r\nimport UniqueContactsReport from './UniqueContactsReport';\r\nimport { CampaignReport } from 'pages/campaign/CampaignReport';\r\nimport ReportKpiOperativo from 'components/report/ReportKpiOperativo';\r\nimport VoiceChannelReport from './VoiceChannelReport';\r\n\r\ninterface RowSelected {\r\n    row: Dictionary | null,\r\n    edit: boolean\r\n}\r\n\r\ninterface ItemProps {\r\n    setViewSelected: (view: string) => void;\r\n    setSearchValue: (searchValue: string) => void;\r\n    row: Dictionary | null;\r\n    multiData: MultiData[];\r\n    allFilters: Dictionary[];\r\n    customReport: boolean;\r\n}\r\n\r\n\r\nconst getArrayBread = (nametmp: string, nameView1: string) => ([\r\n    { id: \"view-1\", name: nameView1 || \"Reports\" },\r\n    { id: \"view-2\", name: nametmp }\r\n]);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '100%'\r\n    },\r\n    containerDetails: {\r\n        marginTop: theme.spacing(3)\r\n    },\r\n    media: {\r\n        objectFit: \"contain\"\r\n    },\r\n    containerSearch: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        gap: theme.spacing(1),\r\n        alignItems: 'center',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '50%',\r\n        },\r\n    },\r\n    containerFilter: {\r\n        width: '100%',\r\n        marginBottom: theme.spacing(2),\r\n        display: 'flex',\r\n        gap: 16,\r\n        flexWrap: 'wrap'\r\n    },\r\n    filterComponent: {\r\n        minWidth: '220px',\r\n        maxWidth: '260px'\r\n    },\r\n    containerFilterGeneral: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        backgroundColor: '#FFF',\r\n        padding: theme.spacing(1),\r\n    },\r\n    title: {\r\n        fontSize: '22px',\r\n        fontWeight: 'bold',\r\n        color: theme.palette.text.primary,\r\n    },\r\n    containerHeader: {\r\n        display: 'block',\r\n        marginBottom: 0,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        },\r\n    },\r\n    mb2: {\r\n        marginBottom: theme.spacing(4),\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n}));\r\n\r\n\r\nconst ReportItem: React.FC<ItemProps> = ({ setViewSelected, setSearchValue, row, multiData, allFilters, customReport }) => {\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const reportColumns = multiData[0] && multiData[0].success ? multiData[0].data : [];\r\n    const mainPaginated = useSelector(state => state.main.mainPaginated);\r\n    const resExportData = useSelector(state => state.main.exportData);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [totalrow, settotalrow] = useState(0);\r\n    const [fetchDataAux, setfetchDataAux] = useState<IFetchData>({ pageSize: 0, pageIndex: 0, filters: {}, sorts: {}, daterange: null })\r\n    const [allParameters, setAllParameters] = useState<any>({});\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [view, setView] = useState('GRID');\r\n\r\n    useEffect(() => {\r\n        dispatch(setViewChange(`report_${row?.origin}`))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    \r\n    // const columns = React.useMemo(() => [{ Header: 'null', accessor: 'null', type: 'null' }] as any, []);\r\n    const columns = React.useMemo(() => reportColumns.map(x => {\r\n        switch (x.proargtype) {\r\n            case \"bigint\":\r\n                if (x.proargnames.includes('year') || x.proargnames.includes('month') || x.proargnames.includes('week') || x.proargnames.includes('day') || x.proargnames.includes('hour')) {\r\n                    return {\r\n                        Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                        accessor: x.proargnames,\r\n                        type: \"number-centered\"\r\n                    }\r\n                }\r\n                else {\r\n                    return {\r\n                        Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                        accessor: x.proargnames,\r\n                        helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                        type: \"number\"\r\n                    }\r\n\r\n                }\r\n            case \"boolean\":\r\n                return {\r\n                    Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                    accessor: x.proargnames,\r\n                    helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                    type: \"boolean\",\r\n                    Cell: (props: any) => {\r\n                        const column = props.cell.column;\r\n                        const row = props.cell.row.original;\r\n                        return (t(`${row[column.id]}`.toLowerCase()) || \"\").toUpperCase()\r\n                    }\r\n                }\r\n            case \"timestamp without time zone\":\r\n                return {\r\n                    Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                    accessor: x.proargnames,\r\n                    helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                    type: \"date\",\r\n                    Cell: (props: any) => {\r\n                        const column = props.cell.column;\r\n                        const row = props.cell.row.original;\r\n                        return (<div>\r\n                            {convertLocalDate(row[column.id]).toLocaleString(undefined, {\r\n                                year: \"numeric\",\r\n                                month: \"2-digit\",\r\n                                day: \"2-digit\",\r\n                                hour: \"numeric\",\r\n                                minute: \"numeric\",\r\n                                second: \"numeric\",\r\n                                hour12: false\r\n                            })}\r\n                        </div>)\r\n                    }\r\n                }\r\n            case \"date\":\r\n                return {\r\n                    Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                    accessor: x.proargnames,\r\n                    helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                    type: \"date\",\r\n                    Cell: (props: any) => {\r\n                        const column = props.cell.column;\r\n                        const row = props.cell.row.original;\r\n                        return (<div>\r\n                            {new Date(\r\n                                row[column.id].split('-')[0],\r\n                                row[column.id].split('-')[1] - 1,\r\n                                row[column.id].split('-')[2]\r\n                            ).toLocaleString(undefined, {\r\n                                year: \"numeric\",\r\n                                month: \"2-digit\",\r\n                                day: \"2-digit\"\r\n                            })}\r\n                        </div>)\r\n                    }\r\n                }\r\n            default:\r\n                switch (row?.origin) {\r\n                    case \"loginhistory\":\r\n                        switch (x.proargnames) {\r\n                            case \"status\":\r\n                                return {\r\n                                    Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                                    accessor: x.proargnames,\r\n                                    helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                                    type: \"string\",\r\n                                    Cell: (props: any) => {\r\n                                        const { status } = props.cell.row.original;\r\n                                        return (t(`status_${status}`.toLowerCase()) || \"\").toUpperCase()\r\n                                    }\r\n                                }\r\n                            default:\r\n                                return {\r\n                                    Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                                    accessor: x.proargnames,\r\n                                    helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                                    type: \"string\"\r\n                                }\r\n                        }\r\n                    case \"interaction\":\r\n                    case \"inputretry\":\r\n                        switch (x.proargnames) {\r\n                            case \"interactiontext\":\r\n                                return {\r\n                                    Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                                    accessor: x.proargnames,\r\n                                    helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                                    type: \"string\",\r\n                                    Cell: (props: any) => {\r\n                                        const { interactiontext } = props.cell.row.original;\r\n                                        let texttoshow = interactiontext.length<40? interactiontext: interactiontext.substring(0, 40) + \"... \"\r\n                                        return texttoshow\r\n                                    }\r\n                                }\r\n                            case \"question\":\r\n                                return {\r\n                                    Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                                    accessor: x.proargnames,\r\n                                    helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                                    type: \"string\",\r\n                                    Cell: (props: any) => {\r\n                                        const { question } = props.cell.row.original;\r\n                                        let texttoshow = question.length<40? question: question.substring(0, 40) + \"... \"\r\n                                        return texttoshow\r\n                                    }\r\n                                }\r\n                            default:\r\n                                return {\r\n                                    Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                                    accessor: x.proargnames,\r\n                                    helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                                    type: \"string\"\r\n                                }\r\n                        }\r\n                    default:\r\n                        return {\r\n                            Header: t('report_' + row?.origin + '_' + x.proargnames || ''),\r\n                            accessor: x.proargnames,\r\n                            helpText: t('report_' + row?.origin + '_' + x.proargnames + \"_help\") === ('report_' + row?.origin + '_' + x.proargnames + \"_help\")? \"\" : t('report_' + row?.origin + '_' + x.proargnames + \"_help\"),\r\n                            type: \"string\"\r\n                        }\r\n                }\r\n        }\r\n    }), [reportColumns]);\r\n\r\n    useEffect(() => {\r\n        if (!mainPaginated.loading && !mainPaginated.error) {\r\n            setPageCount(Math.ceil(mainPaginated.count / fetchDataAux.pageSize));\r\n            settotalrow(mainPaginated.count);\r\n        }\r\n    }, [mainPaginated]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.property).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitSave]);\r\n\r\n    const triggerExportData = ({ filters, sorts, daterange }: IFetchData) => {\r\n        const columnsExport = columns.map((x: Dictionary) => ({\r\n            key: x.accessor,\r\n            alias: x.Header\r\n        }));\r\n        dispatch(exportData(getReportExport(\r\n            row?.methodexport || '',\r\n            row?.origin || '',\r\n            {\r\n                filters,\r\n                sorts,\r\n                startdate: daterange.startDate!,\r\n                enddate: daterange.endDate!,\r\n                ...allParameters\r\n            }), \"\", \"excel\", false, columnsExport));\r\n        dispatch(showBackdrop(true));\r\n        setWaitSave(true);\r\n    };\r\n\r\n    const fetchData = ({ pageSize, pageIndex, filters, sorts, daterange }: IFetchData) => {\r\n        setfetchDataAux({ pageSize, pageIndex, filters, sorts, daterange });\r\n        dispatch(getCollectionPaginated(getPaginatedForReports(\r\n            row?.methodcollection || '',\r\n            row?.methodcount || '',\r\n            row?.origin || '',\r\n            {\r\n                startdate: daterange.startDate!,\r\n                enddate: daterange.endDate!,\r\n                take: pageSize,\r\n                skip: pageIndex * pageSize,\r\n                sorts: sorts,\r\n                filters: filters,\r\n                ...allParameters\r\n            }\r\n        )));\r\n    };\r\n\r\n\r\n    const handlerSearchGraphic = (daterange: any, column: string) => {\r\n        setfetchDataAux(prev => ({ ...prev, daterange }));\r\n        dispatch(getMainGraphic(getReportGraphic(\r\n            row?.methodgraphic || '',\r\n            row?.origin || '',\r\n            {\r\n                filters: {},\r\n                sorts: {},\r\n                startdate: daterange?.startDate!,\r\n                enddate: daterange?.endDate!,\r\n                column,\r\n                summarization: 'COUNT',\r\n                ...allParameters\r\n            }\r\n        )));\r\n    }\r\n\r\n\r\n    const handleSelected = () => {\r\n        dispatch(resetCollectionPaginated());\r\n        dispatch(resetMultiMain());\r\n        setSearchValue('');\r\n        setViewSelected(\"view-1\");\r\n    }\r\n\r\n    const setValue = (parameterName: any, value: any) => {\r\n        setAllParameters({ ...allParameters, [parameterName]: value });\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <TemplateBreadcrumbs\r\n                breadcrumbs={getArrayBread(t('report_' + row?.origin), t(langKeys.report_plural))}\r\n                handleClick={handleSelected}\r\n            />\r\n            <div style={{ height: 10 }}></div>\r\n            {multiData.length > 0 ?\r\n                <>\r\n                    {customReport ?\r\n                        <AssessorProductivity\r\n                            row={row}\r\n                            multiData={multiData}\r\n                            allFilters={allFilters}\r\n                        />\r\n                        :\r\n                        <>\r\n                            <div className={classes.container}>\r\n                                {view === \"GRID\" ? (\r\n                                    <TablePaginated\r\n                                        columns={columns}\r\n                                        data={mainPaginated.data}\r\n                                        totalrow={totalrow}\r\n                                        loading={mainPaginated.loading}\r\n                                        pageCount={pageCount}\r\n                                        filterrange={true}\r\n                                        FiltersElement={(\r\n                                            <>\r\n                                                {!allFilters ? null : allFilters.map(filtro => (\r\n                                                    (filtro.values[0].multiselect ?\r\n                                                        <FieldMultiSelect\r\n                                                            valueDefault={allParameters[filtro.values[0].parameterName]}\r\n                                                            limitTags={1}\r\n                                                            label={t('report_' + row?.origin + '_filter_' + filtro.values[0].label || '')}\r\n                                                            className={classes.filterComponent}\r\n                                                            key={filtro.values[0].filter}\r\n                                                            onChange={(value) => setValue(filtro.values[0].parameterName, value ? value.map((o: Dictionary) => o[filtro.values[0].optionValue]).join() : '')}\r\n                                                            variant=\"outlined\"\r\n                                                            data={multiData[multiData.findIndex(x => x.key === filtro.values[0].filter)].data}\r\n                                                            optionDesc={filtro.values[0].optionDesc}\r\n                                                            optionValue={filtro.values[0].optionValue}\r\n                                                        />\r\n                                                        :\r\n                                                        <FieldSelect\r\n                                                            valueDefault={allParameters[filtro.values[0].parameterName]}    \r\n                                                            label={t('report_' + row?.origin + '_filter_' + filtro.values[0].label || '')}\r\n                                                            className={classes.filterComponent}\r\n                                                            key={filtro.values[0].filter}\r\n                                                            variant=\"outlined\"\r\n                                                            onChange={(value) => setValue(filtro.values[0].parameterName, value ? value[filtro.values[0].optionValue] : '')}\r\n                                                            data={multiData[multiData.findIndex(x => x.key === filtro.values[0].filter)].data}\r\n                                                            optionDesc={filtro.values[0].optionDesc}\r\n                                                            optionValue={filtro.values[0].optionValue}\r\n                                                        />\r\n                                                    )\r\n                                                ))}\r\n                                            </>\r\n                                        )}\r\n                                        ButtonsElement={() => (\r\n                                            <Button\r\n                                                className={classes.button}\r\n                                                variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                disabled={mainPaginated.loading || !(mainPaginated.data.length > 0)}\r\n                                                onClick={() => setOpenModal(true)}\r\n                                                startIcon={<AssessmentIcon />}\r\n                                            >\r\n                                                {t(langKeys.graphic_view)}\r\n                                            </Button>\r\n                                        )}\r\n                                        download={true}\r\n                                        fetchData={fetchData}\r\n                                        exportPersonalized={triggerExportData}\r\n                                    />\r\n                                ) : (\r\n                                    <Graphic\r\n                                        graphicType={view.split(\"-\")?.[1] || \"BAR\"}\r\n                                        column={view.split(\"-\")?.[2] || \"summary\"}\r\n                                        openModal={openModal}\r\n                                        setOpenModal={setOpenModal}\r\n                                        daterange={fetchDataAux.daterange}\r\n                                        setView={setView}\r\n                                        row={row!!}\r\n                                        handlerSearchGraphic={handlerSearchGraphic}\r\n                                        FiltersElement={(\r\n                                            <>\r\n                                                {!allFilters ? null : allFilters.map(filtro => (\r\n                                                    (filtro.values[0].multiselect ?\r\n                                                        <FieldMultiSelect\r\n                                                            valueDefault={allParameters[filtro.values[0].parameterName]}\r\n                                                            limitTags={1}\r\n                                                            label={t('report_' + row?.origin + '_filter_' + filtro.values[0].label || '')}\r\n                                                            className={classes.filterComponent}\r\n                                                            key={filtro.values[0].filter}\r\n                                                            onChange={(value) => setValue(filtro.values[0].parameterName, value ? value.map((o: Dictionary) => o[filtro.values[0].optionValue]).join() : '')}\r\n                                                            variant=\"outlined\"\r\n                                                            data={multiData[multiData.findIndex(x => x.key === filtro.values[0].filter)].data}\r\n                                                            optionDesc={filtro.values[0].optionDesc}\r\n                                                            optionValue={filtro.values[0].optionValue}\r\n                                                        />\r\n                                                        :\r\n                                                        <FieldSelect\r\n                                                            valueDefault={allParameters[filtro.values[0].parameterName]}\r\n                                                            label={t('report_' + row?.origin + '_filter_' + filtro.values[0].label || '')}\r\n                                                            className={classes.filterComponent}\r\n                                                            key={filtro.values[0].filter}\r\n                                                            variant=\"outlined\"\r\n                                                            onChange={(value) => setValue(filtro.values[0].parameterName, value ? value[filtro.values[0].optionValue] : '')}\r\n                                                            data={multiData[multiData.findIndex(x => x.key === filtro.values[0].filter)].data}\r\n                                                            optionDesc={filtro.values[0].optionDesc}\r\n                                                            optionValue={filtro.values[0].optionValue}\r\n                                                        />\r\n                                                    )\r\n                                                ))}\r\n                                            </>\r\n                                        )}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </>\r\n                :\r\n                <SkeletonReport />\r\n            }\r\n            <SummaryGraphic\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                setView={setView}\r\n                row={row}\r\n                daterange={fetchDataAux.daterange}\r\n                filters={fetchDataAux.filters}\r\n                columns={reportColumns.map(x => x.proargnames)}\r\n                columnsprefix={'report_' + row?.origin + '_'}\r\n                allParameters={allParameters}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\ninterface SummaryGraphicProps {\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => void;\r\n    setView: (value: string) => void;\r\n    row: Dictionary | null;\r\n    daterange: any;\r\n    filters: Dictionary;\r\n    columns: string[];\r\n    columnsprefix: string;\r\n    allParameters?: any;\r\n}\r\n\r\nconst SummaryGraphic: React.FC<SummaryGraphicProps> = ({ openModal, setOpenModal, setView, row, daterange, filters, columns, columnsprefix, allParameters = {} }) => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm<any>({\r\n        defaultValues: {\r\n            graphictype: 'BAR',\r\n            column: ''\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        register('graphictype', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n        register('column', { validate: (value: any) => (value && value.length) || t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    const handleCancelModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n    const handleAcceptModal = handleSubmit((data) => {\r\n        triggerGraphic(data);\r\n    });\r\n\r\n    const triggerGraphic = (data: any) => {\r\n        setView(`CHART-${data.graphictype}-${data.column}`);\r\n        setOpenModal(false);\r\n        dispatch(getMainGraphic(getReportGraphic(\r\n            row?.methodgraphic || '',\r\n            row?.origin || '',\r\n            {\r\n                filters,\r\n                sorts: {},\r\n                startdate: daterange?.startDate!,\r\n                enddate: daterange?.endDate!,\r\n                column: data.column,\r\n                summarization: 'COUNT',\r\n                ...allParameters\r\n            }\r\n        )));\r\n    }\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.graphic_configuration)}\r\n            button1Type=\"button\"\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton1={handleCancelModal}\r\n            button2Type=\"button\"\r\n            buttonText2={t(langKeys.accept)}\r\n            handleClickButton2={handleAcceptModal}\r\n        >\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_type)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('graphictype')}\r\n                    error={errors?.graphictype?.message}\r\n                    onChange={(value) => setValue('graphictype', value?.key)}\r\n                    data={[{ key: 'BAR', value: 'BAR' }, { key: 'PIE', value: 'PIE' }]}\r\n                    uset={true}\r\n                    prefixTranslation=\"graphic_\"\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                />\r\n            </div>\r\n            <div className=\"row-zyx\">\r\n                <FieldSelect\r\n                    label={t(langKeys.graphic_view_by)}\r\n                    className=\"col-12\"\r\n                    valueDefault={getValues('column')}\r\n                    error={errors?.column?.message}\r\n                    onChange={(value) => setValue('column', value?.key)}\r\n                    data={columns.map(x => ({ key: x, value: x }))}\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                    uset={true}\r\n                    prefixTranslation={columnsprefix}\r\n                />\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nconst initialRange = {\r\n    startDate: new Date(new Date().setDate(1)),\r\n    endDate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n    key: 'selection'\r\n}\r\n\r\nconst ReportConversationWhatsapp: FC = () => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const [gridData, setGridData] = useState<any[]>([]);\r\n\r\n    const classes = useStyles()\r\n    const [openDateRangeCreateDateModal, setOpenDateRangeCreateDateModal] = useState(false);\r\n    const [dateRangeCreateDate, setDateRangeCreateDate] = useState<Range>(initialRange);\r\n\r\n    const search = () => {\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getMultiCollection([\r\n            getConversationsWhatsapp(\r\n                {\r\n                    startdate: dateRangeCreateDate.startDate,\r\n                    enddate: dateRangeCreateDate.endDate\r\n                }\r\n            )\r\n        ]))\r\n    }\r\n    useEffect(() => {\r\n        dispatch(setViewChange(\"report_conversationwhatsapp\"))\r\n        return () => {\r\n            dispatch(cleanViewChange());\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(resetMultiMain());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!multiData.loading){\r\n            dispatch(showBackdrop(false));\r\n            setGridData((multiData.data[0]?.data || []).map(d => ({\r\n                ...d,\r\n                conversationstart: d.conversationstart ? new Date(d.conversationstart).toLocaleString() : '',\r\n                conversationend: d.conversationend ? new Date(d.conversationend).toLocaleString() : ''\r\n            })))\r\n        }\r\n    }, [multiData])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.personIdentifier),\r\n                accessor: 'personcommunicationchannel',\r\n            },\r\n            {\r\n                Header: t(langKeys.phone),\r\n                accessor: 'personcommunicationchannelowner',\r\n            },\r\n            {\r\n                Header: t(langKeys.ticket_number),\r\n                accessor: 'ticketnum',\r\n            },\r\n            {\r\n                Header: \"Iniciado por\",\r\n                accessor: 'initiatedby',\r\n            },\r\n            {\r\n                Header: \"Fecha de inicio\",\r\n                accessor: 'conversationstart',\r\n                // Cell: (props: any) => {\r\n                //     const { conversationstart } = props.cell.row.original;\r\n                //     return (\r\n                //         <div>{conversationstart ? new Date(conversationstart).toLocaleString() : ''}</div>\r\n                //     )\r\n                // }\r\n            },\r\n            {\r\n                Header: \"Fecha de fin\",\r\n                accessor: 'conversationend',\r\n                // Cell: (props: any) => {\r\n                //     const { conversationend } = props.cell.row.original;\r\n                //     return (\r\n                //         <div>{conversationend ? new Date(conversationend).toLocaleString() : ''}</div>\r\n                //     )\r\n                // }\r\n            },\r\n            {\r\n                Header: t(langKeys.countrycode),\r\n                accessor: 'country',\r\n            },\r\n            {\r\n                Header: t(langKeys.amount),\r\n                accessor: 'cost',\r\n                type: 'number'\r\n            },\r\n            {\r\n                Header: t(langKeys.paymentmethod),\r\n                accessor: 'paymenttype',\r\n                Cell: (props: any) => {\r\n                    const { paymenttype } = props.cell.row.original;\r\n                    return (t(`${paymenttype}`.toLowerCase()) || \"\").toUpperCase()\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ height: 10 }}></div>\r\n            <TableZyx\r\n                columns={columns}\r\n                data={gridData}\r\n                ButtonsElement={() => (\r\n                    <div className={classes.containerHeader} style={{display: 'flex', gap: 8, flexWrap: 'wrap', justifyContent: 'space-between'}}>\r\n                        <div style={{display: 'flex', gap: 8}}>\r\n                            <DateRangePicker\r\n                                open={openDateRangeCreateDateModal}\r\n                                setOpen={setOpenDateRangeCreateDateModal}\r\n                                range={dateRangeCreateDate}\r\n                                onSelect={setDateRangeCreateDate}\r\n                            >\r\n                                <Button\r\n                                    className={classes.itemDate}\r\n                                    startIcon={<CalendarIcon />}\r\n                                    onClick={() => setOpenDateRangeCreateDateModal(!openDateRangeCreateDateModal)}\r\n                                >\r\n                                    {getDateCleaned(dateRangeCreateDate.startDate!) + \" - \" + getDateCleaned(dateRangeCreateDate.endDate!)}\r\n                                </Button>\r\n                            </DateRangePicker>\r\n                            {/* <FieldSelect\r\n                                onChange={(value) => setshippingtype(value?.domainvalue||\"\")}\r\n                                label={t(langKeys.shippingtype)}\r\n                                loading={multiDataAux.loading}\r\n                                variant=\"outlined\"\r\n                                valueDefault={shippingtype}\r\n                                style={{width: \"170px\"}}\r\n                                data={shippingTypesData}\r\n                                optionValue=\"domainvalue\"\r\n                                optionDesc=\"domainvalue\"\r\n                                uset={true}\r\n                                prefixTranslation='type_shippingtype_'\r\n                            /> */}\r\n                            <div>\r\n                                <Button\r\n                                    disabled={multiData.loading}\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                    style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                    onClick={() => search()}\r\n                                >{t(langKeys.search)}\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                download={true}\r\n                filterGeneral={false}\r\n                loading={multiData.loading}\r\n                register={false}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nconst Reports: FC = () => {\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const reportsResult = useSelector(state => state.main);\r\n    const [rowSelected, setRowSelected] = useState<Dictionary>([]);\r\n    const [searchValue, setSearchValue] = useState('');\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [customReport, setCustomReport] = useState(false);\r\n    const [rowReportSelected, setRowReportSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const executeRes = useSelector(state => state.main.execute);\r\n    const [allReports, setAllReports] = useState<Dictionary[]>([]);\r\n    const [allReportsToShow, setallReportsToShow] = useState<Dictionary[]>([]);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n    const superadmin = user?.roledesc === \"SUPERADMIN\"\r\n\r\n    const fetchData = () => {\r\n        dispatch(getCollection(getReportSel('')))\r\n        dispatch(getCollectionAux(getReportTemplateSel()))\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!reportsResult.mainData.loading && !reportsResult.mainData.error && !reportsResult.mainAux.loading && !reportsResult.mainAux.error && reportsResult.mainAux.key === \"UFN_REPORTTEMPLATE_SEL\") {\r\n            if (searchValue === null || searchValue.trim().length === 0) {\r\n                if (allReports.length === 0 || !waitSave) {\r\n                    const rr = [\r\n                        ...reportsResult.mainData.data.map(x => ({\r\n                            ...x,\r\n                            reporttype: \"default\"\r\n                        })),\r\n                        ...reportsResult.mainAux.data.map(x => ({\r\n                            ...x,\r\n                            columns: x.columnjson ? JSON.parse(x.columnjson) : [],\r\n                            filters: x.filterjson ? JSON.parse(x.filterjson) : [],\r\n                            summaries: x.summaryjson ? JSON.parse(x.summaryjson) : [],\r\n                            reporttype: \"custom\"\r\n                        }))\r\n                    ].filter((y:any) => superadmin ? true : !['invoice'].includes(y?.origin));\r\n                    setAllReports(rr);\r\n                    setallReportsToShow(rr);\r\n                }\r\n            }\r\n        }\r\n\r\n    }, [reportsResult.mainAux, reportsResult.mainData, waitSave])\r\n\r\n    useEffect(() => {\r\n        if (searchValue.length >= 3 || searchValue.length === 0) {\r\n            let temparray = allReports.filter((el: any) => {\r\n                if(el.reporttype === \"default\")\r\n                    return (t((langKeys as any)[`report_${el.origin}`]) + \"\").toLowerCase().includes(searchValue.toLowerCase())\r\n                return el.description.toLowerCase().includes(searchValue.toLowerCase())\r\n                })\r\n            setallReportsToShow(temparray)\r\n        }\r\n    }, [searchValue]);\r\n\r\n    useEffect(() => {\r\n        setallReportsToShow(allReports);\r\n    }, [viewSelected])\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n        dispatch(getMultiCollectionAux([\r\n            getValuesFromDomain(\"ESTADOGENERICO\"),\r\n            getTableOrigin(),\r\n        ]));\r\n\r\n        return () => {\r\n            dispatch(resetMainAux());\r\n            dispatch(resetCollectionPaginated());\r\n            dispatch(resetMultiMain());\r\n            dispatch(resetMain());\r\n        };\r\n\r\n    }, []);\r\n\r\n    const handleFiend = (valor: string) => {\r\n        setSearchValue(valor);\r\n    }\r\n\r\n    const handleSelected = (row: Dictionary, allFilters: Dictionary[]) => {\r\n        dispatch(resetCollectionPaginated());\r\n        dispatch(resetMultiMain());\r\n        setRowSelected(row);\r\n\r\n        let allRequestBody: IRequestBody[] = [];\r\n\r\n        allRequestBody.push(getReportColumnSel(row?.methodcollection || \"\"));\r\n\r\n        if (allFilters) {\r\n            allFilters.sort((a, b) => a.order - b.order);\r\n            allFilters.forEach(x => {\r\n                allRequestBody.push(getReportFilterSel(\r\n                    String(x.values[0].filter),\r\n                    x.values[0].isListDomains ? String(x.values[0].filter) + \"_\" + x.values[0].domainname : String(x.values[0].filter),\r\n                    x.values[0].isListDomains ? x.values[0].domainname : \"\"\r\n                ))\r\n            });\r\n        }\r\n\r\n        dispatch(getMultiCollection(allRequestBody));\r\n        setViewSelected(\"view-2\");\r\n        setCustomReport(row.reportname === 'PRODUCTIVITY' ? true : false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_delete) }))\r\n                fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.organization_plural).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    const handleDelete = (row: Dictionary | null) => {\r\n        setAnchorEl(null)\r\n        if (!row)\r\n            return null;\r\n        const callback = () => {\r\n            dispatch(execute(insertReportTemplate({ ...row!!, operation: 'DELETE', status: 'ELIMINADO', id: row!!.reporttemplateid })));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_delete),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    const handleSelectedString = (key: string) => {\r\n        setViewSelected(key);\r\n    }\r\n\r\n    const reportSwitch = (report: any, index: number) => {\r\n        switch (report.reportname) {\r\n            case 'HEATMAP':\r\n                return (\r\n                    <Grid item key={\"heatmap\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"heatmap\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image={'https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/01mapadecalor.png'}\r\n                                    title={t(langKeys.heatmap)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t(langKeys.heatmap)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            case 'RECORDHSMREPORT':\r\n                return (\r\n                    <Grid item key={\"recordhsmreport\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"recordhsmreport\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image=\"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/02reportehsm.png\"\r\n                                    title={t(langKeys.recordhsmreport)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t(langKeys.recordhsmreport)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            case 'HYSTORYHSM':\r\n                return (\r\n                    <Grid item key={\"hsmhistory\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"hsmhistory\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image=\"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/PROCESOSYCONSULTORIA/5740f300-9107-4c2f-b7eb-eee27652acab/Historial%20HSM.png\"\r\n                                    title={t(langKeys.hsmhistory)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t(langKeys.hsmhistory)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            case 'CONVERSATIONWHATSAPP':\r\n                return (\r\n                    <Grid item key={\"reportconversationwhatsapp\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"reportconversationwhatsapp\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image={'https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/whatsapp_PNG95151.png'}\r\n                                    title={t(langKeys.conversation_plural) + \" Whatsapp\"}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t(langKeys.conversation_plural) + \" Whatsapp\"}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            case 'INVOICE':\r\n                return (\r\n                    superadmin && <Grid item key={\"invoice\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"reportinvoice\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image={'https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/03reportepersonalizado.png'}\r\n                                    title={t(langKeys.invoice)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t(langKeys.invoice)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            case 'KPIOPERATIVO':\r\n                return (\r\n                    <Grid item key={\"kpioperativo\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"kpioperativo\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image={'https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/CLARO/72fd542f-719c-4226-89f9-b29c6a46a4d7/reporteKPI.svg'}\r\n                                    title={t(langKeys.kpimanager)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t(langKeys.kpimanager)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            case 'TICKETVSADVISER':\r\n                return (\r\n                    <Grid item key={\"report_ticketvsasesor\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"report_ticketvsasesor\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image={'https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/PROCESOSYCONSULTORIA/ad0b89eb-6ed6-409d-b2e7-ddc9ea6c6f28/asesorvstickets.png'}\r\n                                    title={t(langKeys.report_ticketvsasesor)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\"  style={{fontSize: \"130%\"}}>\r\n                                        {t(langKeys.report_ticketvsasesor)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            case 'CAMPAIGN':\r\n                return (\r\n                    <Grid item key={\"campaign\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"campaign\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image=\"https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/PROCESOSYCONSULTORIA/8f5f232b-4fe6-414d-883b-e90f402becf5/campa%C3%B1as.png\"\r\n                                    title={t(langKeys.campaign)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t(langKeys.campaign)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            case 'UNIQUECONTACTS':\r\n                if(user?.roledesc === \"SUPERADMIN\"){\r\n                    return (\r\n                        <Grid item key={\"uniquecontactsreport\"} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                            <Card >\r\n                                <CardActionArea onClick={() => handleSelectedString(\"uniquecontactsreport\")}>\r\n                                    <CardMedia\r\n                                        component=\"img\"\r\n                                        height=\"140\"\r\n                                        className={classes.media}\r\n                                        image={reportsImage.find(x => x.name === report.image)?.image || 'no_data.png'}\r\n                                        title={t(langKeys.uniquecontactsreport)}\r\n                                    />\r\n                                    <CardContent>\r\n                                        <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                            {t(langKeys.uniquecontactsreport)}\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </CardActionArea>\r\n                            </Card>\r\n                        </Grid>\r\n                    )\r\n                }else{\r\n                    return (<></>)\r\n                }\r\n            case 'VOICECALL':\r\n                return (\r\n                    <Grid item key={\"report_\" + report.reportid + \"_\" + index} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelectedString(\"voicecallreport\")}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image={reportsImage.find(x => x.name === report.image)?.image || 'no_data.png'}\r\n                                    title={t('report_' + report?.origin)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t('report_' + report?.origin)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n            default:\r\n                return (\r\n                    <Grid item key={\"report_\" + report.reportid + \"_\" + index} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                        <Card >\r\n                            <CardActionArea onClick={() => handleSelected(report, report.filters)}>\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"140\"\r\n                                    className={classes.media}\r\n                                    image={reportsImage.find(x => x.name === report.image)?.image || 'no_data.png'}\r\n                                    title={t('report_' + report?.origin)}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                        {t('report_' + report?.origin)}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid>\r\n                )\r\n        }\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <div className={classes.container}>\r\n                {(!reportsResult.mainData.loading && !reportsResult.mainAux.loading) && \r\n                    <>\r\n                        <Box className={classes.containerFilterGeneral}>\r\n                            <span></span>\r\n                            <div className={classes.containerSearch}>\r\n                                <div style={{ flex: 1 }}>\r\n                                    <SearchField\r\n                                        colorPlaceHolder='#FFF'\r\n                                        handleChangeOther={handleFiend}\r\n                                        lazy\r\n                                    />\r\n                                </div>\r\n                                <Button\r\n                                    // className={classes.button}\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    // disabled={loading}\r\n                                    startIcon={<AddIcon color=\"secondary\" />}\r\n                                    onClick={() => {\r\n                                        setViewSelected(\"view-3\");\r\n                                        setRowReportSelected({ row: null, edit: true });\r\n                                    }}\r\n                                    style={{ backgroundColor: \"#55BD84\" }}\r\n                                >{t(langKeys.create_custom_report)}\r\n                                </Button>\r\n                            </div>\r\n                        </Box>\r\n                    </>\r\n                }\r\n                <Box className={classes.containerHeader} justifyContent=\"space-between\" alignItems=\"center\" style={{ marginBottom: 8 }}>\r\n                    <span className={classes.title}>\r\n                        {t(langKeys.defaultreports)} ({allReportsToShow.filter(x=>x.reporttype === \"default\").length})\r\n                    </span>\r\n                </Box>\r\n                {(reportsResult.mainData.loading || reportsResult.mainAux.loading) ? (\r\n                    <SkeletonReportCard />\r\n                ) : (\r\n                    <>\r\n                        <div className={classes.containerDetails}>\r\n                            <Grid container spacing={3} >\r\n                                {allReportsToShow.filter(x=>x.reporttype === \"default\").filter(x => !!x.image).map((report, index) => (\r\n                                    reportSwitch(report, index)\r\n                                ))}\r\n                                {allReportsToShow.filter(x=>x.reporttype === \"default\").filter(x => !x.image).map((report, index) => (\r\n                                    <Grid item key={\"report_\" + report.reporttemplateid + \"_\" + index} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                                        <Card style={{ position: 'relative' }}>\r\n                                            <CardActionArea\r\n                                                onClick={() => {\r\n                                                    setViewSelected(\"view-4\");\r\n                                                    setRowReportSelected({ row: report, edit: true });\r\n                                                }}\r\n                                            >\r\n                                                <CardMedia\r\n                                                    component=\"img\"\r\n                                                    height=\"140\"\r\n                                                    className={classes.media}\r\n                                                    image='https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/03reportepersonalizado.png'\r\n                                                    title={report.description}\r\n                                                />\r\n\r\n                                                <CardContent>\r\n                                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                                        {report.description}\r\n                                                    </Typography>\r\n                                                </CardContent>\r\n                                            </CardActionArea>\r\n                                            <IconButton\r\n                                                aria-label=\"settings\"\r\n                                                aria-describedby={`${report?.reporttemplateid}reporttemplate`}\r\n                                                aria-haspopup=\"true\"\r\n                                                style={{ position: 'absolute', right: 0, top: 0 }}\r\n                                                onClick={(e) => {\r\n                                                    setRowReportSelected({ row: report, edit: true });\r\n                                                    setAnchorEl(e.currentTarget)\r\n                                                }}\r\n                                            >\r\n                                                <MoreVertIcon />\r\n                                            </IconButton>\r\n                                        </Card>\r\n                                    </Grid>\r\n                                ))}\r\n                                <Menu\r\n                                    anchorEl={anchorEl}\r\n                                    getContentAnchorEl={null}\r\n                                    anchorOrigin={{\r\n                                        vertical: 'bottom',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    transformOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    open={Boolean(anchorEl)}\r\n                                    onClose={() => setAnchorEl(null)}\r\n                                >\r\n                                    <MenuItem\r\n                                        onClick={() => {\r\n                                            setAnchorEl(null)\r\n                                            setViewSelected(\"view-3\");\r\n                                        }}\r\n                                    >\r\n                                        {t(langKeys.edit)}\r\n                                    </MenuItem>\r\n                                    <MenuItem\r\n                                        onClick={() => {\r\n                                            setAnchorEl(null)\r\n                                            setViewSelected(\"view-5\");\r\n                                        }}\r\n                                    >\r\n                                        {t(langKeys.duplicate)}\r\n                                    </MenuItem>\r\n                                    <MenuItem\r\n                                        onClick={() => handleDelete(rowReportSelected?.row)}>\r\n                                        {t(langKeys.delete)}\r\n                                    </MenuItem>\r\n                                </Menu>\r\n                            </Grid>\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                <Box className={classes.containerHeader} justifyContent=\"space-between\" alignItems=\"center\" style={{ marginBottom: 8, marginTop: 16 }}>\r\n                    <span className={classes.title}>\r\n                        {t(langKeys.customreports)} ({allReportsToShow.filter(x=>x.reporttype !== \"default\").length})\r\n                    </span>\r\n                </Box>\r\n                {(reportsResult.mainData.loading || reportsResult.mainAux.loading) ? (\r\n                    <SkeletonReportCard />\r\n                ) : (\r\n                    <>\r\n                        <div className={classes.containerDetails}>\r\n                            <Grid container spacing={3} >\r\n                                {allReportsToShow.filter(x=>x.reporttype !== \"default\").filter(x => !!x.image).map((report, index) => (\r\n                                    reportSwitch(report, index)\r\n                                ))}\r\n                                {allReportsToShow.filter(x=>x.reporttype !== \"default\").filter(x => !x.image).map((report, index) => (\r\n                                    <Grid item key={\"report_\" + report.reporttemplateid + \"_\" + index} xs={12} md={4} lg={2} style={{ minWidth: 330 }}>\r\n                                        <Card style={{ position: 'relative' }}>\r\n                                            <CardActionArea\r\n                                                onClick={() => {\r\n                                                    setViewSelected(\"view-4\");\r\n                                                    setRowReportSelected({ row: report, edit: true });\r\n                                                }}\r\n                                            >\r\n                                                <CardMedia\r\n                                                    component=\"img\"\r\n                                                    height=\"140\"\r\n                                                    className={classes.media}\r\n                                                    image='https://staticfileszyxme.s3.us-east.cloud-object-storage.appdomain.cloud/03reportepersonalizado.png'\r\n                                                    title={report.description}\r\n                                                />\r\n\r\n                                                <CardContent>\r\n                                                    <Typography gutterBottom variant=\"h6\" component=\"div\" style={{fontSize: \"130%\"}}>\r\n                                                        {report.description}\r\n                                                    </Typography>\r\n                                                </CardContent>\r\n                                            </CardActionArea>\r\n                                            <IconButton\r\n                                                aria-label=\"settings\"\r\n                                                aria-describedby={`${report?.reporttemplateid}reporttemplate`}\r\n                                                aria-haspopup=\"true\"\r\n                                                style={{ position: 'absolute', right: 0, top: 0 }}\r\n                                                onClick={(e) => {\r\n                                                    setRowReportSelected({ row: report, edit: true });\r\n                                                    setAnchorEl(e.currentTarget)\r\n                                                }}\r\n                                            >\r\n                                                <MoreVertIcon />\r\n                                            </IconButton>\r\n                                        </Card>\r\n                                    </Grid>\r\n                                ))}\r\n                                <Menu\r\n                                    anchorEl={anchorEl}\r\n                                    getContentAnchorEl={null}\r\n                                    anchorOrigin={{\r\n                                        vertical: 'bottom',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    transformOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    open={Boolean(anchorEl)}\r\n                                    onClose={() => setAnchorEl(null)}\r\n                                >\r\n                                    <MenuItem\r\n                                        onClick={() => {\r\n                                            setAnchorEl(null)\r\n                                            setViewSelected(\"view-3\");\r\n                                        }}\r\n                                    >\r\n                                        {t(langKeys.edit)}\r\n                                    </MenuItem>\r\n                                    <MenuItem\r\n                                        onClick={() => {\r\n                                            setAnchorEl(null)\r\n                                            setViewSelected(\"view-5\");\r\n                                        }}\r\n                                    >\r\n                                        {t(langKeys.duplicate)}\r\n                                    </MenuItem>\r\n                                    <MenuItem\r\n                                        onClick={() => handleDelete(rowReportSelected?.row)}>\r\n                                        {t(langKeys.delete)}\r\n                                    </MenuItem>\r\n                                </Menu>\r\n                            </Grid>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        );\r\n    } else if (viewSelected === \"view-3\") {\r\n        return (\r\n            <DetailReportDesigner\r\n                data={rowReportSelected}\r\n                setViewSelected={setViewSelected}\r\n                fetchData={fetchData}\r\n            />\r\n        )\r\n    } else if (viewSelected === \"view-5\") { //duplicate\r\n        return (\r\n            <DetailReportDesigner\r\n                data={{ ...rowReportSelected, row: { ...rowReportSelected?.row, reporttemplateid: 0, description: rowReportSelected?.row?.description + \"-v1\" } }}\r\n                setViewSelected={setViewSelected}\r\n                fetchData={fetchData}\r\n            />\r\n        )\r\n    } else if (viewSelected === \"view-4\") {\r\n        return (\r\n            <ReportPersonalized\r\n                item={rowReportSelected.row!! as IReport}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        )\r\n    } else if (viewSelected === \"heatmap\") {\r\n        return (\r\n\r\n            <Fragment>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('report_heatmap'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <Heatmap />\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    } else if (viewSelected === \"recordhsmreport\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('report_recordhsmreport'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <RecordHSMRecord />\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (viewSelected === \"uniquecontactsreport\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('report_uniquecontactsreport'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <UniqueContactsReport />\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (viewSelected === \"voicecallreport\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('report_voicecall'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <VoiceChannelReport />\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (viewSelected === \"hsmhistory\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('hsmhistory'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <HSMHistoryReport />\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (viewSelected === \"reportconversationwhatsapp\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t(langKeys.conversation_plural) + \" Whatsapp\", t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <ReportConversationWhatsapp />\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (viewSelected === \"reportinvoice\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('report_invoice'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <ReportInvoice />\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (viewSelected === \"kpioperativo\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('report_kpioperativo'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <ReportKpiOperativo />\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (viewSelected === \"report_ticketvsasesor\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('report_ticketvsasesor'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <TicketvsAdviser />\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (viewSelected === \"campaign\") {\r\n        return (\r\n            <>\r\n                <div style={{ width: '100%' }}>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={getArrayBread(t('report_campaign'), t(langKeys.report_plural))}\r\n                        handleClick={handleSelectedString}\r\n                    />\r\n                    <CampaignReport\r\n                        externalUse={true}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <ReportItem\r\n                setViewSelected={setViewSelected}\r\n                row={rowSelected}\r\n                multiData={reportsResult.multiData.data}\r\n                allFilters={rowSelected.filters}\r\n                customReport={customReport}\r\n                setSearchValue={setSearchValue}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default Reports;","export { default } from './FormControl';\nexport { default as useFormControl } from './useFormControl';","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport Button from '@material-ui/core/Button';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { exportExcel, getLocaleDateString, localesLaraigo } from 'common/helpers';\r\nimport { setMemoryTable } from 'store/main/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n    FirstPage,\r\n    LastPage,\r\n    NavigateNext,\r\n    NavigateBefore,\r\n    MoreVert as MoreVertIcon,\r\n    Refresh as RefreshIcon,\r\n    Add as AddIcon\r\n} from '@material-ui/icons';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport Box from '@material-ui/core/Box';\r\nimport Input from '@material-ui/core/Input';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport { Dictionary, TableConfig } from '@types'\r\nimport { SearchField } from 'components';\r\nimport { DownloadIcon } from 'icons';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {\r\n    useTable,\r\n    useFilters,\r\n    useGlobalFilter,\r\n    useSortBy,\r\n    usePagination,\r\n    useRowSelect\r\n} from 'react-table'\r\nimport { Trans, useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport { FixedSizeList } from 'react-window';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\r\nimport {\r\n    MuiPickersUtilsProvider,\r\n    KeyboardTimePicker,\r\n    KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport { TableFooter } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    footerTable: {\r\n        display: 'block',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n            justifyContent: \"space-between\",\r\n        },\r\n        '& > div': {\r\n            display: 'block',\r\n            textAlign: 'center',\r\n            [theme.breakpoints.up('sm')]: {\r\n                display: 'flex',\r\n                alignItems: \"center\",\r\n            },\r\n        }\r\n    },\r\n    trdynamic: {\r\n        '&:hover': {\r\n            boxShadow: '0 11px 6px -9px rgb(84 84 84 / 78%)',\r\n            \"& $containerfloat\": {\r\n                visibility: 'visible'\r\n            }\r\n        },\r\n    },\r\n    containerSearch: {\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '50%',\r\n        },\r\n    },\r\n    containerFilterGeneral: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        backgroundColor: '#FFF',\r\n        padding: `${theme.spacing(1)}px`,\r\n    },\r\n    containerfloat: {\r\n        borderBottom: 'none',\r\n        backgroundColor: 'white',\r\n        marginTop: '1px',\r\n        position: 'absolute',\r\n        zIndex: 9999,\r\n        left: 0,\r\n        visibility: 'hidden'\r\n    },\r\n    iconOrder: {\r\n        width: 20,\r\n        height: 20,\r\n        color: theme.palette.text.primary,\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    title: {\r\n        fontSize: '22px',\r\n        fontWeight: 'bold',\r\n        color: theme.palette.text.primary,\r\n    },\r\n    containerButtons: {\r\n        gridGap: theme.spacing(1),\r\n        display: 'grid',\r\n        gridAutoFlow: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    containerHeader: {\r\n        display: 'block',\r\n        flexWrap: 'wrap',\r\n        gap: 8,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n    containerHeaderColumn: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    iconHelpText: {\r\n        width: 15,\r\n        height: 15,\r\n        cursor: 'pointer',\r\n    }\r\n}));\r\n\r\ndeclare module \"react-table\" {\r\n    // eslint-disable-next-line\r\n    interface UseTableColumnProps<D extends object> {\r\n        listSelectFilter: Dictionary;\r\n        helpText?: string;\r\n    }\r\n}\r\n\r\nexport const stringOptionsMenu = [\r\n    { key: 'equals', value: 'equals' },\r\n    { key: 'notequals', value: 'notequals' },\r\n    { key: 'contains', value: 'contains' },\r\n    { key: 'notcontains', value: 'notcontains' },\r\n    { key: 'isempty', value: 'isempty' },\r\n    { key: 'isnotempty', value: 'isnotempty' },\r\n    // { key: 'isnull', value: 'isnull' },\r\n    // { key: 'isnotnull', value: 'isnotnull' },\r\n];\r\n\r\nexport const numberOptionsMenu = [\r\n    { key: 'equals', value: 'equals' },\r\n    { key: 'notequals', value: 'notequals' },\r\n    { key: 'greater', value: 'greater' },\r\n    { key: 'greaterorequals', value: 'greaterorequals' },\r\n    { key: 'less', value: 'less' },\r\n    { key: 'lessorequals', value: 'lessorequals' },\r\n    { key: 'isempty', value: 'isempty' },\r\n    { key: 'isnotempty', value: 'isnotempty' },\r\n    // { key: 'isnull', value: 'isnull' },\r\n    // { key: 'isnotnull', value: 'isnotnull' },\r\n];\r\n\r\nexport const dateOptionsMenu = [\r\n    { key: 'equals', value: 'equals' },\r\n    { key: 'notequals', value: 'notequals' },\r\n    { key: 'after', value: 'after' },\r\n    { key: 'afterequals', value: 'afterequals' },\r\n    { key: 'before', value: 'before' },\r\n    { key: 'beforeequals', value: 'beforeequals' },\r\n    // { key: 'isnull', value: 'isnull' },\r\n    // { key: 'isnotnull', value: 'isnotnull' },\r\n];\r\n\r\nexport const booleanOptionsMenu = [\r\n    { key: 'all', value: 'all' },\r\n    { key: 'istrue', value: 'istrue' },\r\n    { key: 'isfalse', value: 'isfalse' },\r\n    { key: 'isnull', value: 'isnull' },\r\n    { key: 'isnotnull', value: 'isnotnull' },\r\n];\r\n\r\nexport const BooleanOptionsMenuComponent: React.FC<{ value: any; handleClickItemMenu: (key: any) => void }> = ({ value, handleClickItemMenu }) => {\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <Select\r\n            value={value || 'all'}\r\n            onChange={(e) => handleClickItemMenu(e.target.value)}\r\n        >\r\n            {booleanOptionsMenu.map((option) => (\r\n                <MenuItem key={option.key} value={option.key}>\r\n                    {t(option.value)}\r\n                </MenuItem>\r\n            ))}\r\n        </Select>\r\n    )\r\n}\r\n\r\nexport const SelectFilterTmp: React.FC<{ value: any; data: any[]; handleClickItemMenu: (key: any) => void }> = ({ value, data, handleClickItemMenu }) => {\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Select\r\n            value={value || '_ALL'}\r\n            onChange={(e) => handleClickItemMenu(e.target.value)}\r\n        >\r\n            <MenuItem value='_ALL'>\r\n                {t(langKeys.all)}\r\n            </MenuItem>\r\n            {data.map((option) => (\r\n                <MenuItem key={option.value} value={option.value}>\r\n                    {t(option.key)}\r\n                </MenuItem>\r\n            ))}\r\n        </Select>\r\n    )\r\n}\r\n\r\nexport const DateOptionsMenuComponent = (value: any, handleClickItemMenu: (key: any) => void) => {\r\n    const { t } = useTranslation();\r\n    const [value2, setvalue2] = useState(null)\r\n\r\n    useEffect(() => {\r\n        if (value === 'isnull' || value === 'isnotnull') {\r\n            setvalue2(null)\r\n        }\r\n    }, [value])\r\n\r\n    return (\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils} locale={(localesLaraigo() as any)[navigator.language.split('-')[0]]}>\r\n            <KeyboardDatePicker\r\n                invalidDateMessage={t(langKeys.invalid_date_format)}\r\n                format={getLocaleDateString()}\r\n                value={value2}\r\n                onChange={(e: any) => {\r\n                    handleClickItemMenu(e);\r\n                    setvalue2(e)\r\n                }}\r\n                style={{ minWidth: '150px' }}\r\n            />\r\n        </MuiPickersUtilsProvider>\r\n    )\r\n}\r\n\r\nexport const TimeOptionsMenuComponent = (value: any, handleClickItemMenu: (key: any) => void) => {\r\n    return (\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils} locale={(localesLaraigo())[navigator.language.split('-')[0]]}>\r\n            <KeyboardTimePicker\r\n                ampm={false}\r\n                views={['hours', 'minutes', 'seconds']}\r\n                format=\"HH:mm:ss\"\r\n                error={false}\r\n                helperText={''}\r\n                value={value === '' ? null : value}\r\n                onChange={(e: any) => handleClickItemMenu(e)}\r\n                style={{ minWidth: '150px' }}\r\n            />\r\n        </MuiPickersUtilsProvider>\r\n\r\n    )\r\n}\r\n\r\nexport const OptionsMenuComponent = (type: string, operator: string, handleClickItemMenu: (key: any) => void) => {\r\n    const { t } = useTranslation();\r\n    switch (type) {\r\n        case \"number\": case \"number-centered\":\r\n            return (\r\n                numberOptionsMenu.map((option) => (\r\n                    <MenuItem key={option.key} selected={option.key === operator} onClick={() => handleClickItemMenu(option.key)}>\r\n                        {t(option.value)}\r\n                    </MenuItem>\r\n                ))\r\n            )\r\n        case \"date\": case \"datetime-local\": case \"time\":\r\n            return (\r\n                dateOptionsMenu.map((option) => (\r\n                    <MenuItem key={option.key} selected={option.key === operator} onClick={() => handleClickItemMenu(option.key)}>\r\n                        {t(option.value)}\r\n                    </MenuItem>\r\n                ))\r\n            )\r\n        case \"string\": case \"color\":\r\n        default:\r\n            return (\r\n                stringOptionsMenu.map((option) => (\r\n                    <MenuItem key={option.key} selected={option.key === operator} onClick={() => handleClickItemMenu(option.key)}>\r\n                        {t(option.value)}\r\n                    </MenuItem>\r\n                ))\r\n            )\r\n    }\r\n}\r\n\r\nconst TableZyx = React.memo(({\r\n    titlemodule,\r\n    columns,\r\n    data,\r\n    fetchData,\r\n    download = true,\r\n    register,\r\n    handleRegister,\r\n    calculate = false,\r\n    handleCalculate,\r\n    HeadComponent,\r\n    ButtonsElement,\r\n    triggerExportPersonalized,\r\n    exportPersonalized,\r\n    pageSizeDefault = 20,\r\n    importCSV,\r\n    handleTemplate,\r\n    filterGeneral = true,\r\n    loading = false,\r\n    useSelection,\r\n    selectionKey,\r\n    initialSelectedRows,\r\n    setSelectedRows,\r\n    allRowsSelected,\r\n    setAllRowsSelected,\r\n    onClickRow,\r\n    toolsFooter = true,\r\n    initialPageIndex = 0,\r\n    helperText = \"\",\r\n    initialStateFilter,\r\n    registertext,\r\n    setDataFiltered,\r\n    useFooter = false,\r\n    heightWithCheck = 43,\r\n    checkHistoryCenter = false\r\n}: TableConfig) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const [initial, setInitial] = useState(true);\r\n\r\n    const DefaultColumnFilter = ({\r\n        column: { id: header, setFilter: $setFilter, listSelectFilter = [], type = \"string\" },\r\n    }: any) => {\r\n        const iSF = initialStateFilter?.filter(x => x.id === header)[0];\r\n        const [value, setValue] = useState(iSF?.value.value || '');\r\n        const [anchorEl, setAnchorEl] = useState(null);\r\n        const open = Boolean(anchorEl);\r\n        const [operator, setoperator] = useState(iSF?.value.operator || \"contains\");\r\n\r\n        const setFilter = (filter: any) => {\r\n            $setFilter(filter);\r\n\r\n            dispatch(setMemoryTable({\r\n                filter: {\r\n                    [header]: {\r\n                        value: filter.value,\r\n                        operator: filter.operator,\r\n                        type: filter.type\r\n                    }\r\n                }\r\n            }));\r\n        }\r\n\r\n        const handleCloseMenu = () => {\r\n            setAnchorEl(null);\r\n        };\r\n        const handleClickItemMenu = (op: any) => {\r\n            setAnchorEl(null);\r\n            if (type === 'boolean') {\r\n                setoperator(op)\r\n                setValue(op);\r\n                setFilter({ value: op, operator: op, type });\r\n            } else if (type === \"select\") {\r\n                setValue(op);\r\n                setFilter({ value: op, operator: op, type });\r\n            } else {\r\n                if (['isempty', 'isnotempty', 'isnull', 'isnotnull'].includes(op) || !!value) {\r\n                    setFilter({ value, operator: op, type });\r\n                }\r\n                setoperator(op)\r\n            }\r\n        };\r\n        const handleClickMenu = (event: any) => {\r\n            setAnchorEl(event.currentTarget);\r\n        };\r\n        const keyPress = React.useCallback((e) => {\r\n            if (e.keyCode === 13) {\r\n                setFilter({ value, operator, type });\r\n            }\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        }, [value, operator])\r\n        const handleDate = (date: Date) => {\r\n            if (date === null || (date instanceof Date && !isNaN(date.valueOf()))) {\r\n                setValue(date?.toISOString() || '');\r\n                setFilter({\r\n                    value: date?.toISOString().split('T')[0] || '',\r\n                    operator,\r\n                    type\r\n                })\r\n            }\r\n        }\r\n        const handleTime = (date: Date) => {\r\n            if (date === null || (date instanceof Date && !isNaN(date.valueOf()))) {\r\n                setValue(date?.toISOString() || '');\r\n                setFilter({\r\n                    value: date?.toLocaleTimeString(),\r\n                    operator,\r\n                    type\r\n                })\r\n            }\r\n        }\r\n\r\n        useEffect(() => {\r\n            if (!initialStateFilter?.filter(x => x.id === header)[0]) {\r\n                switch (type) {\r\n                    case \"number\": case \"number-centered\":\r\n                    case \"date\":\r\n                    case \"datetime-local\":\r\n                    case \"time\":\r\n                    case \"select\":\r\n                        setoperator(\"equals\");\r\n                        break;\r\n                    case \"boolean\":\r\n                        setoperator(\"all\");\r\n                        break;\r\n                    case \"string\": case \"color\":\r\n                    default:\r\n                        setoperator(\"contains\");\r\n                        break;\r\n                }\r\n            }\r\n        }, [type]);\r\n\r\n        return (\r\n            <div style={{ display: 'flex', flexDirection: 'row' }}>\r\n                {type === 'boolean' ? (\r\n                    <BooleanOptionsMenuComponent\r\n                        value={value}\r\n                        handleClickItemMenu={handleClickItemMenu}\r\n                    />)\r\n                    : (type === \"select\" ?\r\n                        <SelectFilterTmp\r\n                            value={value}\r\n                            handleClickItemMenu={handleClickItemMenu}\r\n                            data={listSelectFilter}\r\n                        /> :\r\n                        <React.Fragment>\r\n                            {type === 'date' && DateOptionsMenuComponent(value, handleDate)}\r\n                            {type === 'time' && TimeOptionsMenuComponent(value, handleTime)}\r\n                            {!['date', 'time'].includes(type) &&\r\n                                <Input\r\n                                    // disabled={loading}\r\n                                    type={type}\r\n                                    style={{ fontSize: '15px', minWidth: '100px' }}\r\n                                    fullWidth\r\n                                    value={value}\r\n                                    onKeyDown={keyPress}\r\n                                    onChange={e => {\r\n                                        setValue(e.target.value || '');\r\n                                        if (['date'].includes(type)) {\r\n                                            setFilter({ value: e.target.value, operator, type });\r\n                                        }\r\n                                    }}\r\n                                />}\r\n                            <IconButton\r\n                                onClick={handleClickMenu}\r\n                                size=\"small\"\r\n                            >\r\n                                <MoreVertIcon\r\n                                    style={{ cursor: 'pointer' }}\r\n                                    aria-label=\"more\"\r\n                                    aria-controls=\"long-menu\"\r\n                                    aria-haspopup=\"true\"\r\n                                    color=\"action\"\r\n                                    fontSize=\"small\"\r\n                                />\r\n                            </IconButton>\r\n                            <Menu\r\n                                id=\"long-menu\"\r\n                                anchorEl={anchorEl}\r\n                                open={open}\r\n                                onClose={handleCloseMenu}\r\n                                PaperProps={{\r\n                                    style: {\r\n                                        maxHeight: 48 * 4.5,\r\n                                        width: '20ch',\r\n                                    },\r\n                                }}\r\n                            >\r\n                                {OptionsMenuComponent(type, operator, handleClickItemMenu)}\r\n                            </Menu>\r\n                        </React.Fragment>)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const filterCellValue = React.useCallback((rows, id, filterValue) => {\r\n        const { value, operator, type } = filterValue;\r\n        return rows.filter((row: any) => {\r\n            const cellvalue = row.values[id] === null || row.values[id] === undefined ? \"\" : row.values[id];\r\n            // if (cellvalue === undefined)\r\n            //     return false;\r\n\r\n            // if (!(['isempty', 'isnotempty', 'isnull', 'isnotnull'].includes(operator) || type === 'boolean') && (value || '') === '')\r\n            //     return true;\r\n\r\n            if (value === '' && !['isempty', 'isnotempty', 'isnull', 'isnotnull'].includes(operator))\r\n                return true;\r\n\r\n            switch (type) {\r\n                case \"number\": case \"number-centered\":\r\n                    switch (operator) {\r\n                        case 'greater':\r\n                            return cellvalue > Number(value);\r\n                        case 'greaterorequals':\r\n                            return cellvalue >= Number(value);\r\n                        case 'less':\r\n                            return cellvalue < Number(value);\r\n                        case 'lessorequals':\r\n                            return cellvalue <= Number(value);\r\n                        case 'isnull':\r\n                            return cellvalue === \"\";\r\n                        case 'isnotnull':\r\n                            return cellvalue !== \"\";\r\n                        case 'notequals':\r\n                            return cellvalue !== Number(value);\r\n                        case 'equals':\r\n                        default:\r\n                            return cellvalue === Number(value);\r\n                    }\r\n                case \"date\": case \"datetime-local\": case \"time\":\r\n                    switch (operator) {\r\n                        case 'after':\r\n                            return cellvalue > value;\r\n                        case 'afterequals':\r\n                            return cellvalue >= value;\r\n                        case 'before':\r\n                            return cellvalue < value;\r\n                        case 'beforeequals':\r\n                            return cellvalue <= value;\r\n                        case 'isnull':\r\n                            return cellvalue === \"\";\r\n                        case 'isnotnull':\r\n                            return cellvalue !== \"\";\r\n                        case 'notequals':\r\n                            return cellvalue !== value;\r\n                        case 'equals':\r\n                        default:\r\n                            return cellvalue === value;\r\n                    }\r\n                case \"boolean\":\r\n                    switch (operator) {\r\n                        case 'istrue':\r\n                            return typeof (cellvalue) === 'string' ? cellvalue === 'true' : cellvalue === true;\r\n                        case 'isfalse':\r\n                            return typeof (cellvalue) === 'string' ? cellvalue === 'false' : cellvalue === false;\r\n                        case 'isnull':\r\n                            return cellvalue === \"\";\r\n                        case 'isnotnull':\r\n                            return cellvalue !== \"\";\r\n                        case 'all':\r\n                        default:\r\n                            return true;\r\n                    }\r\n                case \"select\":\r\n                    switch (operator) {\r\n                        default:\r\n                            return value === '_ALL' ? true : cellvalue === value;\r\n                    }\r\n                case \"string\":\r\n                default:\r\n                    switch (operator) {\r\n                        case 'equals':\r\n                            return cellvalue === value;\r\n                        case 'notequals':\r\n                            return cellvalue !== value;\r\n                        case 'isempty':\r\n                            return cellvalue === '';\r\n                        case 'isnotempty':\r\n                            return cellvalue !== '';\r\n                        case 'isnull':\r\n                            return cellvalue == null;\r\n                        case 'isnotnull':\r\n                            return cellvalue != null;\r\n                        case 'notcontains':\r\n                            return !(cellvalue + \"\").toLowerCase().includes(value.toLowerCase());\r\n                        case 'contains':\r\n                        default:\r\n                            return (cellvalue + \"\").toLowerCase().includes(value.toLowerCase());\r\n                    }\r\n            }\r\n        });\r\n    }, []);\r\n\r\n    const defaultColumn = React.useMemo(\r\n        () => ({\r\n            // Let's set up our default Filter UI\r\n            Filter: (props: any) => DefaultColumnFilter({ ...props, data }),\r\n            filter: filterCellValue,\r\n        }),\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        []\r\n    );\r\n\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        footerGroups,\r\n        prepareRow,\r\n        page, // Instead of using 'rows', we'll use page,\r\n        canPreviousPage,\r\n        canNextPage,\r\n        pageOptions,\r\n        pageCount,\r\n        gotoPage,\r\n        nextPage,\r\n        previousPage,\r\n        setPageSize,\r\n        globalFilteredRows,\r\n        setGlobalFilter,\r\n        state: { pageIndex, pageSize, selectedRowIds },\r\n        toggleAllRowsSelected\r\n    } = useTable({\r\n        columns,\r\n        data,\r\n        initialState: { pageSize: pageSizeDefault, selectedRowIds: initialSelectedRows || {}, filters: initialStateFilter || [] },\r\n        defaultColumn,\r\n        getRowId: (row, relativeIndex: any, parent: any) => selectionKey\r\n            ? (parent ? [row[selectionKey], parent].join('.') : row[selectionKey])\r\n            : (parent ? [parent.id, relativeIndex].join('.') : relativeIndex),\r\n    },\r\n        useFilters,\r\n        useGlobalFilter,\r\n        useSortBy,\r\n        usePagination,\r\n        useRowSelect,\r\n        hooks => {\r\n            useSelection && hooks.visibleColumns.push(columns => [\r\n                {\r\n                    id: 'selection',\r\n                    width: 80,\r\n                    Header: ({ getToggleAllPageRowsSelectedProps }: any) => (\r\n                        <div>\r\n                            <Checkbox\r\n                                color=\"primary\"\r\n                                style={{ padding: '0 24px 0 16px' }}\r\n                                {...getToggleAllPageRowsSelectedProps()}\r\n                            />\r\n                        </div>\r\n                    ),\r\n                    Cell: ({ row }: any) => (\r\n\r\n                        <div>\r\n                            {checkHistoryCenter === true ? <Checkbox\r\n                                color=\"primary\"\r\n                                style={{ padding: '0 24px 0 16px', height: 68 }}\r\n                                checked={row.isSelected}\r\n                                onChange={(e) => row.toggleRowSelected()}\r\n                            /> :\r\n                                <Checkbox\r\n                                    color=\"primary\"\r\n                                    style={{ padding: '0 24px 0 16px' }}\r\n                                    checked={row.isSelected}\r\n                                    onChange={(e) => row.toggleRowSelected()}\r\n                                />}\r\n                        </div>\r\n                    ),\r\n                    NoFilter: true,\r\n                } as any,\r\n                ...columns,\r\n            ])\r\n        }\r\n    )\r\n\r\n    useEffect(() => {\r\n        setDataFiltered && setDataFiltered(globalFilteredRows.map(x => x.original));\r\n    }, [globalFilteredRows])\r\n\r\n\r\n    useEffect(() => {\r\n        if (initialStateFilter) {\r\n            if (initial) {\r\n                gotoPage(initialPageIndex);\r\n                setInitial(false)\r\n            } else {\r\n                dispatch(setMemoryTable({\r\n                    page: 0\r\n                }));\r\n            }\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        let next = true;\r\n        if (fetchData && next) {\r\n            fetchData();\r\n        }\r\n    }, [fetchData])\r\n\r\n    useEffect(() => {\r\n        setSelectedRows && setSelectedRows(selectedRowIds)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [selectedRowIds]);\r\n\r\n    useEffect(() => {\r\n        if (allRowsSelected) {\r\n            toggleAllRowsSelected(true);\r\n            setAllRowsSelected && setAllRowsSelected(false);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [allRowsSelected])\r\n\r\n    const RenderRow = React.useCallback(\r\n        ({ index, style }) => {\r\n            style = { ...style, display: 'flex', alignItems: 'flex-end', cursor: onClickRow ? 'pointer' : 'default' }\r\n            const row = page[index]\r\n            prepareRow(row);\r\n            return (\r\n                <TableRow\r\n                    {...row.getRowProps({ style })}\r\n                    hover\r\n                >\r\n                    {row.cells.map((cell, _) =>\r\n                        <TableCell\r\n                            {...cell.getCellProps({\r\n                                style: {\r\n                                    ...(cell.column.width === 'auto' ? {\r\n                                        flex: 1,\r\n                                    } : {\r\n                                        minWidth: cell.column.minWidth,\r\n                                        width: cell.column.width,\r\n                                        maxWidth: cell.column.maxWidth,\r\n                                    }),\r\n                                    overflow: 'hidden',\r\n                                    textOverflow: 'ellipsis',\r\n                                    whiteSpace: 'nowrap',\r\n                                    textAlign: cell.column.type === \"number\" ? \"right\" : (cell.column.type?.includes('centered') ? \"center\" : \"left\"),\r\n                                },\r\n                            })}\r\n                            onClick={() => cell.column.id !== \"selection\" ? onClickRow && onClickRow(row.original, cell?.column?.id) : null}\r\n                        >\r\n                            {cell.render('Cell')}\r\n                        </TableCell>\r\n                    )}\r\n                </TableRow>\r\n            )\r\n        },\r\n        [headerGroups, prepareRow, page]\r\n    )\r\n\r\n    return (\r\n        <Box width={1} >\r\n            <Box className={classes.containerHeader} justifyContent=\"space-between\" alignItems=\"center\" mb={1}>\r\n                {titlemodule ? <span className={classes.title}>\r\n                    {titlemodule}\r\n                    {helperText !== \"\" ? <Tooltip title={<div style={{ fontSize: 12 }}>{helperText}</div>} arrow placement=\"top\" >\r\n                        <InfoRoundedIcon color=\"action\" className={classes.iconHelpText} />\r\n                    </Tooltip> : \"\"}\r\n                </span> : (<div style={{ flexGrow: 1 }}>\r\n                    {ButtonsElement && <ButtonsElement />}\r\n                </div>)}\r\n                <span className={classes.containerButtons}>\r\n                    {fetchData && (\r\n                        <Tooltip title=\"Refresh\">\r\n                            <Fab\r\n                                size=\"small\"\r\n                                aria-label=\"add\"\r\n                                color=\"primary\"\r\n                                disabled={loading}\r\n                                style={{ marginLeft: '1rem' }}\r\n                                onClick={() => fetchData && fetchData({})}\r\n                            >\r\n                                <RefreshIcon />\r\n                            </Fab>\r\n                        </Tooltip>\r\n                    )}\r\n                    {(ButtonsElement && !!titlemodule) && <ButtonsElement />}\r\n                    {importCSV && (\r\n                        <>\r\n                            <input\r\n                                name=\"file\"\r\n                                accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.csv\"\r\n                                id=\"laraigo-upload-csv-file\"\r\n                                type=\"file\"\r\n                                style={{ display: 'none' }}\r\n                                onChange={(e) => importCSV(e.target.files)}\r\n                            />\r\n                            <label htmlFor=\"laraigo-upload-csv-file\">\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    variant=\"contained\"\r\n                                    component=\"span\"\r\n                                    color=\"primary\"\r\n                                    disabled={loading}\r\n                                    startIcon={<BackupIcon color=\"secondary\" />}\r\n                                    style={{ backgroundColor: \"#55BD84\" }}\r\n                                ><Trans i18nKey={langKeys.import} />\r\n                                </Button>\r\n                            </label>\r\n                            {\r\n                                handleTemplate &&\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    variant=\"contained\"\r\n                                    component=\"span\"\r\n                                    color=\"primary\"\r\n                                    disabled={loading}\r\n                                    startIcon={<ListAltIcon color=\"secondary\" />}\r\n                                    onClick={handleTemplate}\r\n                                    style={{ backgroundColor: \"#55BD84\" }}\r\n                                ><Trans i18nKey={langKeys.template} />\r\n                                </Button>\r\n                            }\r\n                        </>\r\n                    )}\r\n                    {register && (\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={loading}\r\n                            startIcon={<AddIcon color=\"secondary\" />}\r\n                            onClick={handleRegister}\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                        ><Trans i18nKey={registertext || langKeys.register} />\r\n                        </Button>\r\n                    )}\r\n                    {calculate && (\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={loading}\r\n                            startIcon={<RefreshIcon color=\"secondary\" />}\r\n                            onClick={handleCalculate}\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                        ><Trans i18nKey={langKeys.calculate} />\r\n                        </Button>\r\n                    )}\r\n                    {download && (\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={loading}\r\n                            onClick={() => triggerExportPersonalized ? exportPersonalized && exportPersonalized() : exportExcel(String(titlemodule || '') + \"Report\", globalFilteredRows.map(x => x.original), columns.filter((x: any) => (!x.isComponent && !x.activeOnHover)))}\r\n                            startIcon={<DownloadIcon />}\r\n                        ><Trans i18nKey={langKeys.download} />\r\n                        </Button>\r\n                    )}\r\n                </span>\r\n            </Box>\r\n            {filterGeneral && (\r\n                <Box className={classes.containerFilterGeneral}>\r\n                    <span></span>\r\n                    <div className={classes.containerSearch}>\r\n                        <SearchField\r\n                            disabled={loading}\r\n                            colorPlaceHolder='#FFF'\r\n                            handleChangeOther={setGlobalFilter}\r\n                            lazy\r\n                        />\r\n                    </div>\r\n                </Box>\r\n            )}\r\n\r\n            {HeadComponent && <HeadComponent />}\r\n\r\n            <TableContainer style={{ position: \"relative\" }}>\r\n                <Box overflow=\"auto\" >\r\n                    <Table size=\"small\" {...getTableProps()} aria-label=\"enhanced table\" aria-labelledby=\"tableTitle\">\r\n                        <TableHead style={{ display: 'table-header-group' }}>\r\n                            {headerGroups.map((headerGroup) => (\r\n                                <TableRow  {...headerGroup.getHeaderGroupProps()} style={useSelection ? { display: 'flex' } : {}}>\r\n                                    {headerGroup.headers.map((column, ii) => (\r\n                                        column.activeOnHover ?\r\n                                            <th style={{ width: \"0px\" }} key=\"header-floating\"></th> :\r\n                                            <TableCell key={ii} style={useSelection ? {\r\n                                                ...(column.width === 'auto' ? {\r\n                                                    flex: 1,\r\n                                                } : {\r\n                                                    minWidth: column.minWidth,\r\n                                                    width: column.width,\r\n                                                    maxWidth: column.maxWidth,\r\n                                                })\r\n                                            } : {}}>\r\n                                                {column.isComponent ?\r\n                                                    column.render('Header') :\r\n                                                    (<>\r\n                                                        <div className={classes.containerHeaderColumn}>\r\n                                                            <Box\r\n\r\n                                                                {...column.getHeaderProps(column.getSortByToggleProps({ title: 'ordenar' }))}\r\n                                                                style={{\r\n                                                                    whiteSpace: 'nowrap',\r\n                                                                    wordWrap: 'break-word',\r\n                                                                    display: 'flex',\r\n                                                                    cursor: 'pointer',\r\n                                                                    alignItems: 'center',\r\n                                                                }}\r\n                                                            >\r\n                                                                {column.render('Header')}\r\n                                                                {column.isSorted && (\r\n                                                                    column.isSortedDesc ?\r\n                                                                        <ArrowDownwardIcon className={classes.iconOrder} color=\"action\" />\r\n                                                                        :\r\n                                                                        <ArrowUpwardIcon className={classes.iconOrder} color=\"action\" />\r\n                                                                )}\r\n                                                            </Box>\r\n                                                            {!!column.helpText && (\r\n                                                                <Tooltip title={<div style={{ fontSize: 12 }}>{column.helpText}</div>} arrow placement=\"top\" >\r\n                                                                    <InfoRoundedIcon color=\"action\" className={classes.iconHelpText} />\r\n                                                                </Tooltip>\r\n                                                            )}\r\n                                                        </div>\r\n                                                        <div>{!column.NoFilter && column.render('Filter')}</div>\r\n                                                    </>)\r\n                                                }\r\n                                            </TableCell>\r\n                                    ))}\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableHead>\r\n                        <TableBody\r\n                            {...getTableBodyProps()}\r\n                            style={{ backgroundColor: 'white' }}\r\n                        >\r\n                            {loading ?\r\n                                <LoadingSkeleton columns={headerGroups[0].headers.length} /> :\r\n                                useSelection ?\r\n                                    <FixedSizeList\r\n                                        style={{ overflowX: 'hidden' }}\r\n                                        direction=\"vertical\"\r\n                                        width=\"auto\"\r\n                                        height={window.innerHeight - 470}\r\n                                        itemCount={page.length}\r\n                                        itemSize={heightWithCheck}\r\n                                    >\r\n                                        {RenderRow}\r\n                                    </FixedSizeList>\r\n                                    :\r\n                                    page.map(row => {\r\n                                        prepareRow(row);\r\n                                        return (\r\n                                            <TableRow\r\n                                                {...row.getRowProps()}\r\n                                                hover\r\n                                                style={{ cursor: onClickRow ? 'pointer' : 'default' }}\r\n                                            >\r\n                                                {row.cells.map((cell, i) =>\r\n                                                    <TableCell\r\n                                                        {...cell.getCellProps({\r\n                                                            style: {\r\n                                                                minWidth: cell.column.minWidth,\r\n                                                                width: cell.column.width,\r\n                                                                maxWidth: cell.column.maxWidth,\r\n                                                                overflow: 'hidden',\r\n                                                                textOverflow: 'ellipsis',\r\n                                                                whiteSpace: 'nowrap',\r\n                                                                ...(toolsFooter ? {} : { padding: '0px' }),\r\n                                                                textAlign: cell.column.type === \"number\" ? \"right\" : (cell.column.type?.includes('centered') ? \"center\" : \"left\"),\r\n                                                            },\r\n                                                        })}\r\n                                                        onClick={() => cell.column.id !== \"selection\" ? onClickRow && onClickRow(row.original, cell?.column?.id) : null}\r\n                                                    >\r\n                                                        {cell.render('Cell')}\r\n                                                    </TableCell>\r\n                                                )}\r\n                                            </TableRow>\r\n                                        )\r\n                                    })\r\n                            }\r\n                        </TableBody>\r\n                        {useFooter && <TableFooter>\r\n                            {footerGroups.map(group => (\r\n                                <TableRow {...group.getFooterGroupProps()}>\r\n                                    {group.headers.map(column => (\r\n                                        <TableCell {...column.getFooterProps({\r\n                                            style: {\r\n                                                fontWeight: \"bold\",\r\n                                                color: \"black\",\r\n                                                textAlign: column.type === \"number\" ? \"right\" : (column.type?.includes('centered') ? \"center\" : \"left\"),\r\n                                            }\r\n                                        })}>\r\n                                            {column.render('Footer')}\r\n                                        </TableCell>\r\n                                    ))}\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableFooter>}\r\n                    </Table>\r\n                </Box>\r\n                {toolsFooter && (\r\n                    <Box className={classes.footerTable}>\r\n                        <Box>\r\n                            <IconButton\r\n                                onClick={() => {\r\n                                    gotoPage(0);\r\n                                    dispatch(setMemoryTable({\r\n                                        page: 0\r\n                                    }));\r\n                                }}\r\n                                disabled={!canPreviousPage || loading}\r\n                            >\r\n                                <FirstPage />\r\n                            </IconButton>\r\n                            <IconButton\r\n                                onClick={() => {\r\n                                    previousPage();\r\n                                    dispatch(setMemoryTable({\r\n                                        page: pageIndex - 1\r\n                                    }));\r\n                                }}\r\n                                disabled={!canPreviousPage || loading}\r\n                            >\r\n                                <NavigateBefore />\r\n                            </IconButton>\r\n                            <IconButton\r\n                                onClick={() => {\r\n                                    nextPage();\r\n                                    dispatch(setMemoryTable({\r\n                                        page: pageIndex + 1\r\n                                    }));\r\n                                }}\r\n                                disabled={!canNextPage || loading}\r\n                            >\r\n                                <NavigateNext />\r\n                            </IconButton>\r\n                            <IconButton\r\n                                onClick={() => {\r\n                                    gotoPage(pageCount - 1);\r\n                                    dispatch(setMemoryTable({\r\n                                        page: pageCount - 1\r\n                                    }));\r\n                                }}\r\n                                disabled={!canNextPage || loading}\r\n                            >\r\n                                <LastPage />\r\n                            </IconButton>\r\n                            <Box component=\"span\" fontSize={14}>\r\n                                <Trans\r\n                                    i18nKey={langKeys.tablePageOf}\r\n                                    values={{ currentPage: (pageOptions.length === 0 ? 0 : pageIndex + 1), totalPages: pageOptions.length }}\r\n                                    components={[<Box fontWeight=\"700\" component=\"span\"></Box>, <Box fontWeight=\"700\" component=\"span\"></Box>]}\r\n                                />\r\n                            </Box>\r\n                        </Box>\r\n                        <Box>\r\n                            <Trans\r\n                                i18nKey={(globalFilteredRows || []).length === 100000 ? langKeys.tableShowingRecordOfMore : langKeys.tableShowingRecordOf}\r\n                                values={{ itemCount: page.length, totalItems: globalFilteredRows.length }}\r\n                            />\r\n                        </Box>\r\n                        <Box>\r\n                            <Select\r\n                                disableUnderline\r\n                                style={{ display: 'inline-flex' }}\r\n                                value={pageSize}\r\n                                disabled={loading}\r\n                                onChange={e => {\r\n                                    setPageSize(Number(e.target.value));\r\n                                    dispatch(setMemoryTable({\r\n                                        pageSize: Number(e.target.value)\r\n                                    }));\r\n                                }}\r\n                            >\r\n                                {[5, 10, 20, 50, 100].map(pageSize => (\r\n                                    <MenuItem key={pageSize} value={pageSize}>\r\n                                        {pageSize}\r\n                                    </MenuItem >\r\n                                ))}\r\n                            </Select>\r\n                            <Box fontSize={14} display=\"inline\" style={{ marginRight: '1rem' }}>\r\n                                <Trans i18nKey={langKeys.recordPerPage} count={pageSize} />\r\n                            </Box>\r\n                        </Box>\r\n                    </Box>\r\n                )}\r\n            </TableContainer>\r\n        </Box>\r\n    )\r\n});\r\n\r\nexport default TableZyx;\r\n\r\nconst LoadingSkeleton: React.FC<{ columns: number }> = ({ columns }) => {\r\n    const items: React.ReactNode[] = [];\r\n    for (let i = 0; i < columns; i++) {\r\n        items.push(<TableCell key={`table-simple-skeleton-${i}`}><Skeleton /></TableCell>);\r\n    }\r\n    return (\r\n        <>\r\n            <TableRow key=\"1aux1\">\r\n                {items}\r\n            </TableRow>\r\n            <TableRow key=\"2aux2\">\r\n                {items}\r\n            </TableRow>\r\n        </>\r\n    );\r\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import React, { useState, useEffect, useMemo } from 'react';\r\nimport MaUTable from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Box from '@material-ui/core/Box';\r\nimport Input from '@material-ui/core/Input';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { TableConfig, Pagination, Dictionary, ITablePaginatedFilter } from '@types'\r\nimport { Trans } from 'react-i18next';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Button from '@material-ui/core/Button';\r\nimport { langKeys } from 'lang/keys';\r\nimport { DownloadIcon, CalendarIcon } from 'icons';\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport clsx from 'clsx';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport {\r\n    FirstPage,\r\n    LastPage,\r\n    NavigateNext,\r\n    NavigateBefore,\r\n    Search as SearchIcon,\r\n    Add as AddIcon,\r\n    ArrowDownward as ArrowDownwardIcon,\r\n    ArrowUpward as ArrowUpwardIcon,\r\n    MoreVert as MoreVertIcon,\r\n} from '@material-ui/icons';\r\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\r\nimport Menu from '@material-ui/core/Menu';\r\n\r\nimport {\r\n    useTable,\r\n    useFilters,\r\n    useGlobalFilter,\r\n    usePagination,\r\n    useRowSelect,\r\n} from 'react-table'\r\nimport { Range } from 'react-date-range';\r\nimport { DateRangePicker } from 'components';\r\nimport { Checkbox } from '@material-ui/core';\r\nimport { BooleanOptionsMenuComponent, DateOptionsMenuComponent, SelectFilterTmp, OptionsMenuComponent, TimeOptionsMenuComponent } from './table-simple';\r\nimport { getDateToday, getFirstDayMonth, getLastDayMonth, getDateCleaned } from 'common/helpers';\r\n\r\ndeclare module \"react-table\" {\r\n    // eslint-disable-next-line\r\n    interface UseTableColumnProps<D extends object> {\r\n        listSelectFilter: Dictionary;\r\n        helpText?: string;\r\n    }\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    footerTable: {\r\n        display: 'block',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n            justifyContent: \"space-between\",\r\n        },\r\n        '& > div': {\r\n            display: 'block',\r\n            textAlign: 'center',\r\n            [theme.breakpoints.up('sm')]: {\r\n                display: 'flex',\r\n                alignItems: \"center\",\r\n            },\r\n        }\r\n    },\r\n    trdynamic: {\r\n        '&:hover': {\r\n            boxShadow: '0 11px 6px -9px rgb(84 84 84 / 78%)',\r\n            \"& $containerfloat\": {\r\n                visibility: 'visible'\r\n            }\r\n        },\r\n    },\r\n    containerfloat: {\r\n        borderBottom: 'none',\r\n        padding: '4px 24px 4px 16px',\r\n        backgroundColor: 'white',\r\n        marginTop: '1px',\r\n        position: 'absolute',\r\n        zIndex: 9999,\r\n        left: 0,\r\n        visibility: 'hidden'\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    title: {\r\n        fontSize: '22px',\r\n        fontWeight: 'bold',\r\n        color: theme.palette.text.primary,\r\n    },\r\n    containerButtons: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        gap: 8\r\n    },\r\n    containerButtonsNoFilters: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'end',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        gap: 8\r\n    },\r\n    iconOrder: {\r\n        width: 20,\r\n        height: 20,\r\n        color: theme.palette.text.primary,\r\n    },\r\n    containerHeader: {\r\n        display: 'block',\r\n        backgroundColor: '#FFF',\r\n        padding: theme.spacing(1),\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        },\r\n    },\r\n    containerHeaderColumn: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    iconHelpText: {\r\n        width: 15,\r\n        height: 15,\r\n        cursor: 'pointer',\r\n    }\r\n}));\r\n\r\n\r\nconst DefaultColumnFilter = ({ header, type, setFilters, filters, listSelectFilter }: any) => {\r\n    const [value, setValue] = useState('');\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const [operator, setoperator] = useState(\"contains\");\r\n\r\n    useEffect(() => {\r\n        switch (type) {\r\n            case \"number\": case \"number-centered\": case \"date\": case \"datetime-local\": case \"time\": case \"select\":\r\n                setoperator(\"equals\");\r\n                break;\r\n            case \"boolean\":\r\n                setoperator(\"all\");\r\n                break;\r\n            case \"string\": case \"color\":\r\n            default:\r\n                setoperator(\"contains\");\r\n                break;\r\n        }\r\n    }, [type])\r\n\r\n    useEffect(() => {\r\n        if (['number', 'number-centered'].includes(type))\r\n            setoperator(\"equals\");\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [type])\r\n\r\n    const keyPress = (e: any) => {\r\n        if (e.keyCode === 13) {\r\n            if (value || operator === \"noempty\" || operator === \"empty\")\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value,\r\n                        operator\r\n                    },\r\n                }, 0)\r\n            else\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: undefined,\r\n                }, 0)\r\n        }\r\n    }\r\n\r\n    const handleCloseMenu = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handleClickItemMenu = (op: any) => {\r\n        setAnchorEl(null);\r\n        setoperator(op)\r\n        if (type === 'boolean') {\r\n            setValue(op);\r\n            setFilters({\r\n                ...filters,\r\n                [header]: {\r\n                    value: op,\r\n                    operator: op\r\n                },\r\n            }, 0)\r\n        } else if (type === \"select\") {\r\n            setValue(op);\r\n            setFilters({\r\n                ...filters,\r\n                [header]: op === \"_ALL\" ? undefined : {\r\n                    value: op,\r\n                    operator: \"equals\"\r\n                },\r\n            }, 0)\r\n        } else if (type === \"text\" || !type) {\r\n            if (op === 'isempty' ||\r\n                op === 'isnotempty' ||\r\n                op === 'isnull' ||\r\n                op === 'isnotnull') {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value: '',\r\n                        operator: op\r\n                    },\r\n                }, 0)\r\n            } else if (value) {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value: value,\r\n                        operator: op\r\n                    },\r\n                }, 0)\r\n            }\r\n        } else if (['number', 'number-centered'].includes(type)) {\r\n            if (op === 'isempty' ||\r\n                op === 'isnotempty' ||\r\n                op === 'isnull' ||\r\n                op === 'isnotnull') {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value: '',\r\n                        operator: op\r\n                    },\r\n                }, 0)\r\n            } else if (value) {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value: value,\r\n                        operator: op\r\n                    },\r\n                }, 0)\r\n            }\r\n        } else {\r\n            if (op === 'isempty' ||\r\n                op === 'isnotempty' ||\r\n                op === 'isnull' ||\r\n                op === 'isnotnull') {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value: '',\r\n                        operator: op\r\n                    },\r\n                }, 0)\r\n            } else if (value !== '') {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value: value,\r\n                        operator: op\r\n                    },\r\n                }, 0)\r\n            }\r\n        }\r\n    };\r\n    const handleClickMenu = (event: any) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleDate = (date: Date) => {\r\n        if (date === null || (date instanceof Date && !isNaN(date.valueOf()))) {\r\n            setValue(date?.toISOString() || '');\r\n            if (!!date || ['isnull', 'isnotnull'].includes(operator)) {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value: date?.toISOString().split('T')[0] || '',\r\n                        operator\r\n                    },\r\n                }, 0)\r\n            }\r\n            else {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: undefined,\r\n                }, 0)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleTime = (date: Date) => {\r\n        if (date === null || (date instanceof Date && !isNaN(date.valueOf()))) {\r\n            setValue(date?.toISOString() || '');\r\n            if (!!date || ['isnull', 'isnotnull'].includes(operator)) {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: {\r\n                        value: date?.toLocaleTimeString(),\r\n                        operator\r\n                    },\r\n                }, 0)\r\n            }\r\n            else {\r\n                setFilters({\r\n                    ...filters,\r\n                    [header]: undefined,\r\n                }, 0)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (Object.keys(filters).length === 0) setValue('');\r\n        else if (header in filters) {\r\n            setValue(filters?.[header]?.value || '');\r\n            if (filters?.[header]) setoperator(filters[header].operator);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [filters]);\r\n\r\n    return (\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n            {type === 'boolean' ?\r\n                <BooleanOptionsMenuComponent\r\n                    value={value}\r\n                    handleClickItemMenu={handleClickItemMenu}\r\n                />\r\n                :\r\n                (type === \"select\" ?\r\n                    <SelectFilterTmp\r\n                        value={value}\r\n                        handleClickItemMenu={handleClickItemMenu}\r\n                        data={listSelectFilter || []}\r\n                    /> :\r\n\r\n                    <React.Fragment>\r\n                        {type === 'date' && DateOptionsMenuComponent(value, handleDate)}\r\n                        {type === 'time' && TimeOptionsMenuComponent(value, handleTime)}\r\n                        {!['date', 'time'].includes(type) &&\r\n                            <Input\r\n                                style={{ fontSize: '15px', minWidth: '100px' }}\r\n                                type={['number', 'number-centered'].includes(type) ? \"number\" : \"text\"}\r\n                                fullWidth\r\n                                value={value}\r\n                                onKeyDown={keyPress}\r\n                                onChange={e => setValue(e.target.value)}\r\n                            />}\r\n                        <IconButton\r\n                            onClick={handleClickMenu}\r\n                            size=\"small\"\r\n                        >\r\n                            <MoreVertIcon\r\n                                style={{ cursor: 'pointer' }}\r\n                                aria-label=\"more\"\r\n                                aria-controls=\"long-menu\"\r\n                                aria-haspopup=\"true\"\r\n                                color=\"action\"\r\n                                fontSize=\"small\"\r\n                            />\r\n                        </IconButton>\r\n                        <Menu\r\n                            id=\"long-menu\"\r\n                            anchorEl={anchorEl}\r\n                            open={open}\r\n                            onClose={handleCloseMenu}\r\n                            PaperProps={{\r\n                                style: {\r\n                                    maxHeight: 48 * 4.5,\r\n                                    width: '20ch',\r\n                                },\r\n                            }}\r\n                        >\r\n                            {OptionsMenuComponent(type || 'string', operator, handleClickItemMenu)}\r\n                        </Menu>\r\n                    </React.Fragment>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TableZyx = React.memo(({\r\n    titlemodule,\r\n    columns,\r\n    data,\r\n    fetchData,\r\n    filterrange,\r\n    totalrow,\r\n    pageCount: controlledPageCount,\r\n    download,\r\n    register,\r\n    handleRegister,\r\n    HeadComponent,\r\n    ButtonsElement,\r\n    exportPersonalized,\r\n    loading,\r\n    importCSV,\r\n    autotrigger = false,\r\n    autoRefresh,\r\n    useSelection,\r\n    selectionKey,\r\n    selectionFilter,\r\n    initialSelectedRows,\r\n    cleanSelection,\r\n    setCleanSelection,\r\n    setSelectedRows,\r\n    onClickRow,\r\n    FiltersElement,\r\n    filterRangeDate = \"month\",\r\n    onFilterChange,\r\n    initialEndDate = null,\r\n    initialStartDate = null,\r\n    initialFilters = {},\r\n    initialPageIndex = 0,\r\n}: TableConfig) => {\r\n    const classes = useStyles();\r\n    const [pagination, setPagination] = useState<Pagination>({ sorts: {}, filters: initialFilters, pageIndex: initialPageIndex });\r\n    const [openDateRangeModal, setOpenDateRangeModal] = useState(false);\r\n    const [triggerSearch, setTriggerSearch] = useState(autotrigger);\r\n    const [tFilters, setTFilters] = useState<ITablePaginatedFilter>({\r\n        startDate: initialStartDate,\r\n        endDate: initialEndDate,\r\n        page: initialPageIndex,\r\n        filters: initialFilters,\r\n    });\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        prepareRow,\r\n        page, // Instead of using 'rows', we'll use page,\r\n        canPreviousPage,\r\n        canNextPage,\r\n        pageOptions,\r\n        pageCount,\r\n        setPageSize,\r\n        toggleAllRowsSelected,\r\n        state: { pageIndex, pageSize, selectedRowIds },\r\n    } = useTable(\r\n        {\r\n            columns,\r\n            data,\r\n            initialState: { pageIndex: initialPageIndex, pageSize: 20, selectedRowIds: initialSelectedRows || {} },\r\n            manualPagination: true, // Tell the usePagination\r\n            pageCount: controlledPageCount,\r\n            useControlledState: (state: any) => {\r\n                return useMemo(() => ({\r\n                    ...state,\r\n                    pageIndex: pagination.pageIndex,\r\n                    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n                }), [state, pagination.pageIndex])\r\n            },\r\n            autoResetSelectedRows: false,\r\n            getRowId: (row, relativeIndex: any, parent: any) => selectionKey\r\n                ? (parent ? [row[selectionKey], parent].join('.') : row[selectionKey])\r\n                : (parent ? [parent.id, relativeIndex].join('.') : relativeIndex),\r\n            stateReducer: (newState, action) => {\r\n                switch (action.type) {\r\n                    case 'toggleAllRowsSelected':\r\n                        return {\r\n                            ...newState,\r\n                            selectedRowIds: {},\r\n                        };\r\n                    default:\r\n                        return newState;\r\n                }\r\n            }\r\n        },\r\n        useFilters,\r\n        useGlobalFilter,\r\n        usePagination,\r\n        useRowSelect,\r\n        hooks => {\r\n            useSelection && hooks.visibleColumns.push(columns => [\r\n                {\r\n                    id: 'selection',\r\n                    width: 80,\r\n                    Header: ({ getToggleAllPageRowsSelectedProps, filteredRows }: any) => (\r\n                        !selectionFilter\r\n                            ?\r\n                            <div style={{ textAlign: 'right' }}>\r\n                                <Checkbox\r\n                                    color=\"primary\"\r\n                                    style={{ padding: 0 }}\r\n                                    {...getToggleAllPageRowsSelectedProps()}\r\n                                />\r\n                            </div>\r\n                            :\r\n                            <div style={{ textAlign: 'right' }}>\r\n                                <Checkbox\r\n                                    color=\"primary\"\r\n                                    style={{ padding: 0 }}\r\n                                    checked={filteredRows\r\n                                        .filter((p: any) => p.original[selectionFilter?.key] === selectionFilter?.value)\r\n                                        .every((p: any) => p.isSelected)\r\n                                    }\r\n                                    onChange={() => {\r\n                                        filteredRows\r\n                                            .filter((p: any) => p.original[selectionFilter?.key] === selectionFilter?.value)\r\n                                            .forEach((p: any) => {\r\n                                                p.toggleRowSelected();\r\n                                            })\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                    ),\r\n                    Cell: ({ row }: any) => (\r\n                        !selectionFilter || row.original[selectionFilter?.key] === selectionFilter?.value\r\n                            ? <div style={{ textAlign: 'right' }}>\r\n                                <Checkbox\r\n                                    color=\"primary\"\r\n                                    style={{ padding: 0 }}\r\n                                    checked={row.isSelected}\r\n                                    onChange={(e) => row.toggleRowSelected()}\r\n                                />\r\n                            </div>\r\n                            : null\r\n                    ),\r\n                    NoFilter: true,\r\n                    isComponent: true\r\n                } as any,\r\n                ...columns,\r\n            ])\r\n        }\r\n    )\r\n\r\n    const setFilters = (filters: any, page: number) => {\r\n        setPagination(prev => {\r\n            // const pageIndex = !page ? prev.pageIndex : page;\r\n            return { ...prev, filters, pageIndex: 0, trigger: true }\r\n        });\r\n    };\r\n    const setPageIndex = (page: number) => {\r\n        setPagination(prev => ({ ...prev, pageIndex: page, trigger: true }));\r\n        setTFilters(prev => ({ ...prev, page }));\r\n    }\r\n    const handleClickSort = (column: string) => {\r\n        let newsorts: any = {};\r\n        if (Object.keys(pagination.sorts).includes(column)) {\r\n            newsorts = {\r\n                ...pagination.sorts\r\n            }\r\n        }\r\n\r\n        if (newsorts[column] === \"desc\") {\r\n            delete newsorts[column]\r\n        }\r\n        else {\r\n            if (newsorts[column] === \"asc\") {\r\n                newsorts[column] = \"desc\";\r\n            }\r\n            else {\r\n                newsorts[column] = \"asc\";\r\n            }\r\n        }\r\n\r\n        setPagination(prev => ({ ...prev, sorts: newsorts, trigger: true }))\r\n    }\r\n\r\n    const [dateRange, setdateRange] = useState<Range>({\r\n        startDate: initialStartDate ? new Date(initialStartDate) : filterRangeDate === \"month\" ? getFirstDayMonth() : getDateToday(),\r\n        endDate: initialEndDate ? new Date(initialEndDate) : filterRangeDate === \"month\" ? getLastDayMonth() : getDateToday(),\r\n        key: 'selection'\r\n    });\r\n\r\n    const triggertmp = (fromButton: boolean = false) => {\r\n        if (fromButton)\r\n            setPagination(prev => ({ ...prev, pageIndex: initialPageIndex, trigger: false }));\r\n\r\n        if (!fetchData) return;\r\n        fetchData({\r\n            ...pagination,\r\n            pageSize,\r\n            pageIndex: fromButton ? initialPageIndex : pagination.pageIndex,\r\n            daterange: {\r\n                startDate: dateRange.startDate ? new Date(dateRange.startDate.setHours(10)).toISOString().substring(0, 10) : null,\r\n                endDate: dateRange.endDate ? new Date(dateRange.endDate.setHours(10)).toISOString().substring(0, 10) : null,\r\n            }\r\n        });\r\n        setTFilters(prev => ({\r\n            ...prev,\r\n            page: fromButton ? initialPageIndex : pagination.pageIndex,\r\n            startDate: dateRange.startDate ? (new Date(dateRange.startDate.setHours(10))).getTime() : null,\r\n            endDate: dateRange.endDate ? (new Date(dateRange.endDate.setHours(10))).getTime() : null,\r\n        }));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (cleanSelection) {\r\n            toggleAllRowsSelected(false)\r\n            setSelectedRows && setSelectedRows({})\r\n            setCleanSelection && setCleanSelection(false)\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [cleanSelection])\r\n\r\n    useEffect(() => {\r\n        if (pagination?.trigger) {\r\n            triggertmp()\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [pagination, triggerSearch])\r\n\r\n    useEffect(() => {\r\n        if (triggerSearch) {\r\n            triggertmp()\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [pageSize])\r\n\r\n    useEffect(() => {\r\n        if (triggerSearch) {\r\n            triggerSearch && triggertmp(true);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [triggerSearch])\r\n\r\n    useEffect(() => {\r\n        if (autoRefresh?.value) {\r\n            triggertmp();\r\n            autoRefresh?.callback(false);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [autoRefresh])\r\n\r\n    useEffect(() => {\r\n        setSelectedRows && setSelectedRows(selectedRowIds)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [selectedRowIds]);\r\n\r\n    useEffect(() => {\r\n        onFilterChange?.(tFilters);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [tFilters]);\r\n\r\n    const exportData = () => {\r\n        exportPersonalized && exportPersonalized({\r\n            ...pagination,\r\n            daterange: {\r\n                startDate: dateRange.startDate ? new Date(dateRange.startDate.setHours(10)).toISOString().substring(0, 10) : null,\r\n                endDate: dateRange.endDate ? new Date(dateRange.endDate.setHours(10)).toISOString().substring(0, 10) : null\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Box width={1}>\r\n            {titlemodule && <div className={classes.title}>{titlemodule}</div>}\r\n            <Box className={classes.containerHeader} justifyContent=\"space-between\" alignItems=\"center\">\r\n                <div className={clsx({\r\n                    [classes.containerButtons]: !!FiltersElement,\r\n                    [classes.containerButtonsNoFilters]: !FiltersElement\r\n                })}>\r\n                    {filterrange && (\r\n                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\r\n                            <DateRangePicker\r\n                                open={openDateRangeModal}\r\n                                setOpen={setOpenDateRangeModal}\r\n                                range={dateRange}\r\n                                onSelect={setdateRange}\r\n                            >\r\n                                <Button\r\n                                    disabled={loading}\r\n                                    style={{ border: '1px solid #bfbfc0', borderRadius: 4, color: 'rgb(143, 146, 161)' }}\r\n                                    startIcon={<CalendarIcon />}\r\n                                    onClick={() => setOpenDateRangeModal(!openDateRangeModal)}\r\n                                >\r\n                                    {getDateCleaned(dateRange.startDate!) + \" - \" + getDateCleaned(dateRange.endDate!)}\r\n                                </Button>\r\n                            </DateRangePicker>\r\n                            {FiltersElement && FiltersElement}\r\n                            <Button\r\n                                disabled={loading}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                style={{ backgroundColor: '#55BD84', width: 120 }}\r\n                                onClick={() => {\r\n                                    if (triggerSearch)\r\n                                        triggertmp(true)\r\n                                    setTriggerSearch(true)\r\n                                }}\r\n                            >\r\n                                <Trans i18nKey={langKeys.search} />\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\r\n                        {ButtonsElement && <ButtonsElement />}\r\n                        {importCSV && (\r\n                            <>\r\n                                <input\r\n                                    name=\"file\"\r\n                                    accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n                                    id=\"laraigo-upload-csv-file\"\r\n                                    type=\"file\"\r\n                                    style={{ display: 'none' }}\r\n                                    onChange={(e) => importCSV(e.target.files)}\r\n                                />\r\n                                <label htmlFor=\"laraigo-upload-csv-file\">\r\n                                    <Button\r\n                                        className={classes.button}\r\n                                        variant=\"contained\"\r\n                                        component=\"span\"\r\n                                        color=\"primary\"\r\n                                        disabled={loading}\r\n                                        startIcon={<BackupIcon color=\"secondary\" />}\r\n                                        style={{ backgroundColor: \"#55BD84\" }}\r\n                                    ><Trans i18nKey={langKeys.import} />\r\n                                    </Button>\r\n                                </label>\r\n                            </>\r\n                        )}\r\n                        {register && (\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={loading}\r\n                                startIcon={<AddIcon color=\"secondary\" />}\r\n                                onClick={handleRegister}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            ><Trans i18nKey={langKeys.register} />\r\n                            </Button>\r\n                        )}\r\n                        {download && (\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={loading}\r\n                                onClick={exportData}\r\n                                // exportPersonalized\r\n                                startIcon={<DownloadIcon />}\r\n                            ><Trans i18nKey={langKeys.download} />\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </Box>\r\n\r\n            {HeadComponent && <HeadComponent />}\r\n\r\n            <TableContainer style={{ position: \"relative\" }}>\r\n                <Box overflow=\"auto\">\r\n                    <MaUTable {...getTableProps()} aria-label=\"enhanced table\" size=\"small\" aria-labelledby=\"tableTitle\">\r\n                        <TableHead>\r\n                            {headerGroups.map((headerGroup) => (\r\n                                <TableRow {...headerGroup.getHeaderGroupProps()}>\r\n                                    {headerGroup.headers.map((column, ii) => (\r\n                                        column.activeOnHover ?\r\n                                            <th style={{ width: \"0px\" }} key=\"header-floating\"></th> :\r\n                                            <TableCell\r\n                                                key={ii}\r\n                                            >\r\n                                                {column.isComponent ?\r\n                                                    column.render('Header')\r\n                                                    :\r\n                                                    (<>\r\n                                                        <div className={classes.containerHeaderColumn}>\r\n                                                            <Box\r\n                                                                component=\"div\"\r\n                                                                {...column.getHeaderProps()}\r\n                                                                onClick={() => !column.NoSort && handleClickSort(column.id)}\r\n                                                                style={{\r\n                                                                    whiteSpace: 'nowrap',\r\n                                                                    wordWrap: 'break-word',\r\n                                                                    display: 'flex',\r\n                                                                    cursor: 'pointer',\r\n                                                                    alignItems: 'center',\r\n                                                                }}\r\n                                                            >\r\n                                                                {column.render('Header')}\r\n                                                                {pagination.sorts[column.id] && (pagination.sorts[column.id] === \"asc\" ?\r\n                                                                    <ArrowUpwardIcon className={classes.iconOrder} color=\"action\" />\r\n                                                                    : <ArrowDownwardIcon className={classes.iconOrder} color=\"action\" />)\r\n                                                                }\r\n                                                            </Box>\r\n                                                            {!!column.helpText && (\r\n                                                                <Tooltip title={<div style={{ fontSize: 12, whiteSpace: 'break-spaces' }}>{column.helpText}</div>} arrow placement=\"top\" >\r\n                                                                    <InfoRoundedIcon color=\"action\" className={classes.iconHelpText} />\r\n                                                                </Tooltip>\r\n                                                            )}\r\n                                                        </div>\r\n                                                        {!column.NoFilter &&\r\n                                                            <DefaultColumnFilter\r\n                                                                header={column.id}\r\n                                                                listSelectFilter={column.listSelectFilter || []}\r\n                                                                type={column.type}\r\n                                                                filters={pagination.filters}\r\n                                                                setFilters={(filters: any, page: number) => {\r\n                                                                    setFilters(filters, page);\r\n                                                                    setTFilters(prev => ({\r\n                                                                        ...prev,\r\n                                                                        filters,\r\n                                                                        page,\r\n                                                                    }));\r\n                                                                }}\r\n                                                            />\r\n                                                        }\r\n                                                    </>)\r\n                                                }\r\n                                            </TableCell>\r\n                                    ))}\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableHead>\r\n                        <TableBody {...getTableBodyProps()} style={{ backgroundColor: 'white' }}>\r\n                            {loading ?\r\n                                <LoadingSkeleton columns={headerGroups[0].headers.length} /> :\r\n                                page.map((row: any) => {\r\n                                    prepareRow(row);\r\n                                    return (\r\n                                        <TableRow\r\n                                            {...row.getRowProps()}\r\n                                            hover\r\n                                            style={{ cursor: onClickRow ? 'pointer' : 'default' }}\r\n                                        >\r\n                                            {row.cells.map((cell: any, i: number) =>\r\n                                                <TableCell\r\n                                                    {...cell.getCellProps({\r\n                                                        style: {\r\n                                                            minWidth: cell.column.minWidth,\r\n                                                            width: cell.column.width,\r\n                                                            overflow: 'hidden',\r\n                                                            textOverflow: 'ellipsis',\r\n                                                            whiteSpace: 'nowrap',\r\n                                                            textAlign: cell.column.type === \"number\" ? \"right\" : (cell.column.type?.includes('centered') ? \"center\" : \"left\"),\r\n                                                        },\r\n                                                    })}\r\n                                                    onClick={() => cell.column.id !== \"selection\" ? onClickRow && onClickRow(row.original) : null}\r\n                                                >\r\n                                                    {cell.render('Cell')}\r\n                                                </TableCell>\r\n                                            )}\r\n                                        </TableRow>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </TableBody>\r\n                    </MaUTable>\r\n\r\n                </Box>\r\n                <Box className={classes.footerTable}>\r\n                    <Box>\r\n                        <IconButton onClick={() => setPageIndex(0)} disabled={!canPreviousPage} >\r\n                            <FirstPage />\r\n                        </IconButton>\r\n                        <IconButton onClick={() => setPageIndex(pagination.pageIndex - 1)} disabled={!canPreviousPage} >\r\n                            <NavigateBefore />\r\n                        </IconButton>\r\n                        <IconButton onClick={() => setPageIndex(pagination.pageIndex + 1)} disabled={!canNextPage} >\r\n                            <NavigateNext />\r\n                        </IconButton>\r\n                        <IconButton onClick={() => setPageIndex(pageCount - 1)} disabled={!canNextPage} >\r\n                            <LastPage />\r\n                        </IconButton>\r\n                        <Box component=\"span\" fontSize={14}>\r\n                            <Trans\r\n                                i18nKey={langKeys.tablePageOf}\r\n                                values={{ currentPage: pageOptions.length === 0 ? 0 : pageIndex + 1, totalPages: pageOptions.length }}\r\n                                components={[<Box fontWeight=\"700\" component=\"span\"></Box>, <Box fontWeight=\"700\" component=\"span\"></Box>]}\r\n                            />\r\n                        </Box >\r\n\r\n                    </Box>\r\n                    <Box>\r\n                        <Trans\r\n                            i18nKey={(totalrow || 0) === 100000 ? langKeys.tableShowingRecordOfMore : langKeys.tableShowingRecordOf}\r\n                            values={{ itemCount: page.length, totalItems: totalrow }}\r\n                        />\r\n                    </Box>\r\n                    <Box>\r\n                        <Select\r\n                            disableUnderline\r\n                            style={{ display: 'inline-flex' }}\r\n                            value={pageSize}\r\n                            onChange={e => {\r\n                                setPageSize(Number(e.target.value))\r\n                            }}\r\n                        >\r\n                            {[5, 10, 20, 50, 100].map(pageSize => (\r\n                                <MenuItem key={pageSize} value={pageSize}>\r\n                                    {pageSize}\r\n                                </MenuItem >\r\n                            ))}\r\n                        </Select>\r\n                        <Box fontSize={14} display=\"inline\" style={{ marginRight: '1rem' }}>\r\n                            <Trans i18nKey={langKeys.recordPerPage} count={pageSize} />\r\n                        </Box>\r\n                    </Box>\r\n                </Box>\r\n            </TableContainer>\r\n        </Box>\r\n    )\r\n})\r\n\r\nexport default TableZyx;\r\n\r\nconst LoadingSkeleton: React.FC<{ columns: number }> = ({ columns }) => {\r\n    const items: React.ReactNode[] = [];\r\n    for (let i = 0; i < columns; i++) {\r\n        items.push(<TableCell key={`table-simple-skeleton-${i}`}><Skeleton /></TableCell>);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <TableRow key=\"1aux1\">\r\n                {items}\r\n            </TableRow>\r\n            <TableRow key=\"2aux2\">\r\n                {items}\r\n            </TableRow>\r\n        </>\r\n    );\r\n};\r\n\r\ninterface IQueryMap {\r\n    [key: string]: {\r\n        value: string;\r\n        operator: string;\r\n    }\r\n}\r\n\r\ninterface IFilters {\r\n    startDate: number;\r\n    endDate: number;\r\n    page: number;\r\n    filters: IQueryMap;\r\n}\r\n\r\ninterface IOptions {\r\n    ignore?: string[];\r\n}\r\n\r\nexport function useQueryParams(query: URLSearchParams, options: IOptions = { ignore: [] }) {\r\n    return useMemo(() => {\r\n        const map: IFilters = {\r\n            endDate: Number(query.get('endDate')),\r\n            startDate: Number(query.get('startDate')),\r\n            page: Number(query.get('page')),\r\n            filters: {},\r\n        };\r\n        const { ignore } = options;\r\n\r\n        query.forEach((value, key) => {\r\n            if (key === \"endDate\" ||\r\n                key === \"startDate\" ||\r\n                key === \"page\" ||\r\n                key.includes('-operator') ||\r\n                (ignore || []).includes(key)) {\r\n                return;\r\n            }\r\n\r\n            const name = `${key}-operator`;\r\n            map.filters[key] = { value, operator: query.get(name)! };\r\n        });\r\n\r\n        return map;\r\n    }, [options, query]);\r\n}\r\n\r\nexport function buildQueryFilters(\r\n    filters: ITablePaginatedFilter,\r\n    init?: string | string[][] | Record<string, string>,\r\n) {\r\n    const params = new URLSearchParams(init);\r\n\r\n    for (const key in filters) {\r\n        const value = (filters as any)[key];\r\n        if (key === 'filters' || value === undefined || value === null) continue;\r\n        params.set(key, String(value));\r\n    }\r\n\r\n    const colFilters = filters.filters;\r\n    for (const key in colFilters) {\r\n        if (typeof colFilters[key] === 'object' && 'value' in colFilters[key] && 'operator' in colFilters[key]) {\r\n            params.set(key, String(colFilters[key].value));\r\n            params.set(`${key}-operator`, String(colFilters[key].operator));\r\n        }\r\n    }\r\n\r\n    return params;\r\n}\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","/* eslint-disable jsx-a11y/iframe-has-title */\r\nimport React, { useState } from 'react'\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { IInteraction, IGroupInteraction, Dictionary } from \"@types\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { BotIcon, AgentIcon, DownloadIcon2, InteractiveListIcon, SeenIcon, DocIcon, FileIcon1 as FileIcon, PdfIcon, PptIcon, TxtIcon, XlsIcon, ZipIcon } from 'icons';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport clsx from 'clsx';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { useSelector } from 'hooks';\r\nimport { manageLightBox } from 'store/popus/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { convertLocalDate, validateIsUrl } from 'common/helpers';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\r\n\r\nconst useStylesInteraction = makeStyles((theme) => ({\r\n    containerCarousel: {\r\n        width: 230,\r\n        backgroundColor: '#f0f2f5',\r\n        borderRadius: 18,\r\n        position: 'relative',\r\n    },\r\n    imageCardCarousel: {\r\n        width: '100%',\r\n        objectFit: 'cover',\r\n        height: '100%'\r\n    },\r\n    buttonCarousel: {\r\n        backgroundColor: '#e4e6eb',\r\n        textAlign: 'center',\r\n        borderRadius: 6,\r\n        height: 36,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        fontWeight: 600,\r\n        cursor: 'pointer',\r\n    },\r\n    buttonLeft: {\r\n        position: 'absolute',\r\n        top: '45%',\r\n        left: -20,\r\n        backgroundColor: 'white'\r\n    },\r\n    buttonRight: {\r\n        position: 'absolute',\r\n        top: '45%',\r\n        right: -20,\r\n        backgroundColor: 'white'\r\n    },\r\n    containerTime: {\r\n        visibility: 'hidden',\r\n        fontSize: 12,\r\n        float: 'right',\r\n        marginLeft: 4,\r\n        paddingRight: 6,\r\n        lineHeight: 1,\r\n        width: 50\r\n    },\r\n    timeSeen: {\r\n        color: '#4fc3f7'\r\n    },\r\n    timeInteraction: {\r\n        position: 'absolute',\r\n        bottom: 1.5,\r\n        height: 16,\r\n        right: 0,\r\n        visibility: 'visible',\r\n        color: '#757377',\r\n        padding: 'inherit',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: 4\r\n    },\r\n    timeInteractionWithBackground: {\r\n        position: 'absolute',\r\n        bottom: 3,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        height: 13,\r\n        right: 0,\r\n        visibility: 'visible',\r\n        backgroundColor: '#00000059',\r\n        color: '#fff',\r\n        padding: '3px 2px 3px 3px',\r\n        borderRadius: 4,\r\n        marginRight: 4,\r\n        gap: 4\r\n    }\r\n}));\r\n\r\nconst ShoppingCart: React.FC<{ onlyTime?: string, interactiontext: string, createdate: string, classes: any, userType: string }> = ({ interactiontext, createdate, classes, userType, onlyTime }) => {\r\n    const [open, setOpen] = React.useState(false);\r\n    const { t } = useTranslation();\r\n\r\n    const handleClickOpen = () => setOpen(true);\r\n\r\n    const handleClose = () => setOpen(false);\r\n\r\n    const jsonIntt = JSON.parse(interactiontext);\r\n\r\n    // const firstimage = jsonIntt.SectionList?.[0]?.ProductList?.[0]?.ImageReference || \"\";\r\n    // const totalitems = jsonIntt.SectionList.reduce((a: number, i: Dictionary) => a + i.ProductList.length, 0)\r\n    if ((jsonIntt.Product_items?.length || 0) === 0)\r\n        return <div></div>\r\n\r\n    return (\r\n        <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n            [classes.interactionTextAgent]: userType !== 'client',\r\n        })}>\r\n            <div style={{ width: 300 }}>\r\n                <div style={{ display: 'flex', backgroundColor: \"#f5f6f6\" }}>\r\n                    <img width=\"70px\" height=\"70px\" alt=\"reference\" src={jsonIntt.Product_items[0].ImageReference} />\r\n                    <div style={{ display: 'flex', alignItems: 'center', paddingLeft: 8 }}>\r\n                        <div>\r\n                            <div style={{ fontWeight: 'bold' }}>{jsonIntt.Product_items.length} {t(langKeys.elements)}</div>\r\n                            <div style={{ fontWeight: 'bold' }}>{jsonIntt.Product_items.reduce((acc: number, item: Dictionary) => acc + parseFloat(item.Item_price) * parseFloat(item.Quantity), 0).toFixed(2)} {jsonIntt.Product_items[0].Currency}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    {jsonIntt.Text}\r\n                </div>\r\n                <div style={{ height: 2, borderTop: '1px solid rgb(235, 234, 237)', marginTop: 4 }}></div>\r\n                <div\r\n                    style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#00a5f4', cursor: 'pointer' }}\r\n                    onClick={handleClickOpen}\r\n                >{t(langKeys.show_shopping_cart)}</div>\r\n                <TimerInteraction interactiontype=\"interactivelist\" createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n            </div>\r\n            <SwipeableDrawer\r\n                anchor='right'\r\n                open={open}\r\n                onClose={handleClose}\r\n                onOpen={handleClickOpen}\r\n            >\r\n                <div style={{ width: 400, padding: 16 }}>\r\n                    <h4 >{t(langKeys.cart_sent)}</h4>\r\n                    <div>\r\n                        <div style={{ fontWeight: 500 }}>{jsonIntt.Product_items.length} {t(langKeys.elements)}</div>\r\n                        <div style={{ color: '#8696a0' }}>{jsonIntt.Product_items.reduce((acc: number, item: Dictionary) => acc + parseFloat(item.Item_price) * parseFloat(item.Quantity), 0).toFixed(2)} {jsonIntt.Product_items[0].Currency}</div>\r\n                        <div style={{ marginTop: 16 }}>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        {jsonIntt.Product_items.map((item: Dictionary, index: number) => (\r\n                            <div key={index}>\r\n                                <div style={{ display: 'flex', gap: 16, marginBottom: 8 }}>\r\n                                    <img width=\"80px\" alt=\"reference\" height=\"80px\" src={item.ImageReference} />\r\n                                    <div style={{ display: 'flex', alignItems: 'center', width: '75%', borderTop: '1px solid #ebebeb' }}>\r\n                                        <div style={{ width: '100%' }}>\r\n                                            <div style={{ fontWeight: 500 }}>{item.Title}</div>\r\n                                            <div style={{ color: '#8696a0' }}>{item.Currency} {parseFloat(item.Item_price).toFixed(2)} • {t(langKeys.quantity)}: {item.Quantity}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </SwipeableDrawer>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CatalogProduct: React.FC<{ onlyTime?: string, interactiontext: string, createdate: string, classes: any, userType: string }> = ({ interactiontext, createdate, classes, userType, onlyTime }) => {\r\n    const [open, setOpen] = React.useState(false);\r\n    const { t } = useTranslation();\r\n    const handleClickOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    const jsonIntt = JSON.parse(interactiontext);\r\n\r\n    if (jsonIntt.Type === \"product_list\" || jsonIntt.Type === \"dynamic\") {\r\n        const firstimage = jsonIntt.SectionList?.[0]?.ProductList?.[0]?.ImageReference || \"\";\r\n        const totalitems = jsonIntt.SectionList.reduce((a: number, i: Dictionary) => a + i.ProductList.length, 0)\r\n\r\n        return (\r\n            <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                [classes.interactionTextAgent]: userType !== 'client',\r\n            })}>\r\n                <div style={{ display: 'flex', gap: '4px', backgroundColor: \"#f5f6f6\" }}>\r\n                    {firstimage && <img width=\"70px\" height=\"70px\" src={firstimage} alt=\"fist\" />}\r\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <div>\r\n                            <div style={{ fontWeight: 500 }}>{jsonIntt.Header}</div>\r\n                            <div style={{ color: '#8696a0' }}>{totalitems} {t(langKeys.elements)}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{ padding: 8 }}>\r\n                    <div style={{ fontWeight: 500 }}>{jsonIntt.Body}</div>\r\n                    <div style={{ color: '#8696a0' }}>{jsonIntt.Footer}</div>\r\n                </div>\r\n                <div style={{ height: 2, borderTop: '1px solid rgb(235, 234, 237)', marginTop: 4 }}></div>\r\n                <div\r\n                    style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#00a5f4', cursor: 'pointer' }}\r\n                    onClick={handleClickOpen}\r\n                >\r\n                    <InteractiveListIcon /> {t(langKeys.show_items)}\r\n                </div>\r\n                <TimerInteraction interactiontype=\"interactivelist\" createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n                <SwipeableDrawer\r\n                    anchor='right'\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    onOpen={handleClickOpen}\r\n                >\r\n                    <div style={{ width: 400, padding: 16 }}>\r\n                        <div style={{ marginBottom: 16 }}>{jsonIntt.Body}</div>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: 16, }}>\r\n                            {jsonIntt.SectionList.map((item: Dictionary, index11: number) => (\r\n                                <div key={index11} style={{ cursor: 'pointer' }}>\r\n                                    <div style={{ color: \"#008069\", marginBottom: 16 }}>{item.Title}</div>\r\n                                    {item.ProductList.map((itemProduct: Dictionary, index22: number) => (\r\n                                        <div key={index22}>\r\n                                            <div style={{ display: 'flex', gap: 16, marginBottom: 8 }}>\r\n                                                <img width=\"80px\" alt=\"reference\" height=\"80px\" src={itemProduct.ImageReference} />\r\n                                                <div style={{ display: 'flex', alignItems: 'center', width: '75%', borderTop: '1px solid #ebebeb' }}>\r\n                                                    <div style={{ width: '100%' }}>\r\n                                                        <div style={{ fontWeight: 500 }}>{itemProduct.Title}</div>\r\n                                                        <div style={{ color: '#8696a0', overflow: \"hidden\", wordBreak: \"break-word\", fontWeight: 500, whiteSpace: \"nowrap\", textOverflow: \"ellipsis\" }}>{itemProduct.Description}</div>\r\n                                                        <div style={{ color: '#8696a0' }}>{itemProduct.Currency} {itemProduct.Price || 10.0}</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </SwipeableDrawer>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                [classes.interactionTextAgent]: userType !== 'client',\r\n            })}>\r\n                <div style={{ width: 300, display: 'flex', flexDirection: 'column' }}>\r\n                    <img width=\"100%\" src={jsonIntt?.Product?.ImageReference} height=\"320px\" alt=\"reference\" />\r\n                    <div style={{ backgroundColor: \"#f5f6f6\", padding: 8 }}>\r\n                        <div>{jsonIntt?.Product?.Title}</div>\r\n                        <div style={{ color: '#dff3cc' }}>{jsonIntt?.Product?.Price} {jsonIntt?.Product?.Currency}</div>\r\n                    </div>\r\n                    <div style={{ padding: 8 }}>\r\n                        <div style={{ fontWeight: 'bold' }}>{jsonIntt?.Body}</div>\r\n                        <div style={{ color: '#8696a0' }}>{jsonIntt?.Footer}</div>\r\n                    </div>\r\n                </div>\r\n                <TimerInteraction interactiontype=\"interactivelist\" createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst InteractiveList: React.FC<{ onlyTime?: string, interactiontext: string, createdate: string, classes: any, userType: string }> = ({ interactiontext, createdate, classes, userType, onlyTime }) => {\r\n    const [open, setOpen] = React.useState(false);\r\n    const { t } = useTranslation();\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const jsonIntt = JSON.parse(interactiontext);\r\n\r\n    if (jsonIntt.sections.length === 0) {\r\n        return <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n            [classes.interactionTextAgent]: userType !== 'client',\r\n        })}>\r\n            INTERACTIVE LIST WITHOUT OPTIONS\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n            [classes.interactionTextAgent]: userType !== 'client',\r\n        })}>\r\n            {(jsonIntt.headertype === \"text\" || !jsonIntt.headertype) ? (\r\n                <div style={{ fontWeight: 500 }}>{jsonIntt.header}</div>\r\n            ) : jsonIntt.header}\r\n            <div>\r\n                {jsonIntt.body}\r\n            </div>\r\n            {jsonIntt.footer && (\r\n                <div style={{ color: 'rgb(0,0,0,0.45)', fontSize: 12 }}>{jsonIntt.footer}</div>\r\n            )}\r\n            <div style={{ height: 2, borderTop: '1px solid rgb(235, 234, 237)', marginTop: 4 }}></div>\r\n            <div\r\n                style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#00a5f4', cursor: 'pointer' }}\r\n                onClick={handleClickOpen}\r\n            >\r\n                <InteractiveListIcon />{t(langKeys.options)}\r\n            </div>\r\n            <TimerInteraction interactiontype=\"interactivelist\" createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n            <Dialog\r\n                onClose={handleClose}\r\n                aria-labelledby=\"simple-dialog-title\"\r\n                open={open}\r\n                fullWidth\r\n                maxWidth=\"xs\"\r\n            >\r\n                <DialogTitle>{t(langKeys.options)}</DialogTitle>\r\n                <DialogContent>\r\n                    {jsonIntt.sections[0].buttons.map((button: any, i: number) => (\r\n                        <div\r\n                            key={i}\r\n                            style={{\r\n                                background: '#FFF',\r\n                                borderRadius: 4,\r\n                                padding: '12px 8px',\r\n                                textTransform: 'uppercase',\r\n                                display: 'flex',\r\n                                justifyContent: 'space-between'\r\n                            }}>\r\n                            {button.title}\r\n                            <RadioButtonUncheckedIcon />\r\n                        </div>\r\n                    ))}\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\nconst Carousel: React.FC<{ carousel: Dictionary[] }> = ({ carousel }) => {\r\n    const classes = useStylesInteraction();\r\n    const [pageSelected, setPageSelected] = useState(0);\r\n\r\n    if (carousel.length === 0) return null;\r\n    return (\r\n        <div className={classes.containerCarousel}>\r\n            <div style={{ height: 157 }}>\r\n                <img\r\n                    src={carousel[pageSelected].mediaUrl}\r\n                    className={classes.imageCardCarousel}\r\n                    alt=\"logocarousel\"\r\n                    crossOrigin={carousel[pageSelected].mediaUrl.includes('cloud-object-storage') ? 'anonymous' : undefined}\r\n                />\r\n            </div>\r\n            <div style={{ padding: '12px', wordBreak: 'break-word' }}>\r\n                <div>\r\n                    <div style={{ fontWeight: 600 }}>{carousel[pageSelected].title}</div>\r\n                    <div>{carousel[pageSelected].description}</div>\r\n                </div>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '8px', marginTop: 8 }}>\r\n                    {(carousel[pageSelected].actions as Dictionary[]).map((action: Dictionary, index: number) => {\r\n                        return <div className={classes.buttonCarousel} key={index}>{action.text}</div>\r\n                    })}\r\n                </div>\r\n            </div>\r\n            {pageSelected > 0 &&\r\n                <Fab\r\n                    className={classes.buttonLeft}\r\n                    size=\"small\"\r\n                    onClick={() => setPageSelected(pageSelected - 1)}\r\n                >\r\n                    <NavigateBeforeIcon style={{ color: '#2E2C34' }} />\r\n                </Fab>\r\n            }\r\n            {pageSelected < carousel.length - 1 &&\r\n                <Fab\r\n                    className={classes.buttonRight}\r\n                    onClick={() => setPageSelected(pageSelected + 1)}\r\n                    size=\"small\"\r\n                >\r\n                    <NavigateNextIcon style={{ color: '#2E2C34' }} />\r\n                </Fab>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nconst TimerInteraction: React.FC<{ interactiontype: string, time: string, createdate: string, background?: boolean, userType?: string }> = ({ time, background, userType, createdate, interactiontype }) => {\r\n    const classes = useStylesInteraction();\r\n    const ticketSelected = useSelector(state => state.inbox.ticketSelected);\r\n    const [isSeen, setIsSeen] = useState(false)\r\n\r\n    React.useEffect(() => {\r\n        if (ticketSelected?.lastseendate && interactiontype !== \"LOG\") {\r\n            const lastSeenDate = new Date(ticketSelected?.lastseendate);\r\n            const interactionDate = new Date(createdate!!);\r\n\r\n            setIsSeen(interactionDate <= lastSeenDate);\r\n        }\r\n    }, [createdate, interactiontype, ticketSelected?.lastseendate])\r\n\r\n    return (\r\n        <span className={classes.containerTime}>\r\n            {time}\r\n            {!background ?\r\n                <div className={classes.timeInteraction}>\r\n                    {time}\r\n                    {userType !== \"client\" && <SeenIcon className={clsx({\r\n                        [classes.timeSeen]: isSeen,\r\n                    })} />}\r\n                </div> :\r\n                <div className={classes.timeInteractionWithBackground}>\r\n                    {time}\r\n                    {userType !== \"client\" && <SeenIcon className={clsx({\r\n                        [classes.timeSeen]: isSeen,\r\n                    })} />}\r\n                </div>\r\n            }\r\n        </span>\r\n    )\r\n}\r\n\r\nconst PickerInteraction: React.FC<{ userType: string, fill?: string }> = ({ userType, fill = '#FFF' }) => {\r\n    if (userType === 'client')\r\n        return (\r\n            <svg viewBox=\"0 0 11 20\" width=\"11\" height=\"20\" style={{ position: 'absolute', bottom: -1, left: -9, fill }}>\r\n                <svg id=\"message-tail-filled\" viewBox=\"0 0 11 20\"><g transform=\"translate(9 -14)\" fill=\"inherit\" fillRule=\"evenodd\"><path d=\"M-6 16h6v17c-.193-2.84-.876-5.767-2.05-8.782-.904-2.325-2.446-4.485-4.625-6.48A1 1 0 01-6 16z\" transform=\"matrix(1 0 0 -1 0 49)\" id=\"corner-fill\" fill=\"inherit\"></path></g></svg>\r\n\r\n            </svg>\r\n        )\r\n    else\r\n        return (\r\n            <svg viewBox=\"0 0 11 20\" width=\"11\" height=\"20\" style={{ position: 'absolute', bottom: 0, right: -9, transform: 'translateY(1px) scaleX(-1)', fill }}>\r\n                <svg id=\"message-tail-filled\" viewBox=\"0 0 11 20\"><g transform=\"translate(9 -14)\" fill=\"inherit\" fillRule=\"evenodd\"><path d=\"M-6 16h6v17c-.193-2.84-.876-5.767-2.05-8.782-.904-2.325-2.446-4.485-4.625-6.48A1 1 0 01-6 16z\" transform=\"matrix(1 0 0 -1 0 49)\" id=\"corner-fill\" fill=\"inherit\"></path></g></svg>\r\n            </svg>\r\n        )\r\n}\r\n\r\nconst ItemInteraction: React.FC<{ classes: any, interaction: IInteraction, userType: string }> = ({ interaction: { interactionid, interactiontype, interactiontext, listImage, indexImage, createdate, onlyTime }, classes, userType }) => {\r\n    const ref = React.useRef<HTMLIFrameElement>(null);\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const [showfulltext, setshowfulltext] = useState(interactiontext.length <= 450)\r\n    const { isLoaded } = useJsApiLoader({\r\n        googleMapsApiKey: \"AIzaSyAqrFCH95Tbqwo6opvVPcdtrVd-1fnBLr4\" /*\"AIzaSyCBij6DbsB8SQC_RRKm3-X07RLmvQEnP9w\"*/,\r\n    });\r\n\r\n    const [height, setHeight] = React.useState(\"0px\");\r\n    const onLoad = () => {\r\n        setHeight(((ref as any)?.current.contentWindow.document.body.scrollHeight + 20) + \"px\");\r\n    };\r\n\r\n    if (!interactiontext.trim() || interactiontype === \"typing\")\r\n        return null;\r\n    if (interactiontype === \"text\")\r\n        return (\r\n            <div\r\n                title={convertLocalDate(createdate).toLocaleString()}\r\n                className={clsx(classes.interactionText, {\r\n                    [classes.interactionTextAgent]: userType !== 'client',\r\n                })}\r\n            >\r\n                <span dangerouslySetInnerHTML={{ __html: validateIsUrl(showfulltext ? interactiontext : interactiontext.substring(0, 450) + \"... \") }}></span>\r\n                {!showfulltext && (\r\n                    <div style={{ color: \"#53bdeb\", display: \"contents\", cursor: \"pointer\" }} onClick={() => setshowfulltext(true)}>{t(langKeys.showmore)}</div>\r\n                )\r\n                }\r\n                <PickerInteraction userType={userType!!} fill={userType === \"client\" ? \"#FFF\" : \"#eeffde\"} />\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n            </div>\r\n        );\r\n    else if (interactiontype === \"html\")\r\n        return (\r\n            <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                [classes.interactionTextAgent]: userType !== 'client',\r\n            })}>\r\n                <iframe\r\n                    ref={ref}\r\n                    srcDoc={interactiontext}\r\n                    id={`frame-${interactionid}`}\r\n                    width=\"100%\"\r\n                    height={height}\r\n                    title=\"frame1\"\r\n                    onLoad={onLoad}\r\n                    style={{ border: 'none' }}\r\n                >\r\n                </iframe>\r\n                <PickerInteraction userType={userType!!} fill={userType === \"client\" ? \"#FFF\" : \"#eeffde\"} />\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n            </div>\r\n        );\r\n    else if (interactiontype === \"email\") {\r\n        try {\r\n            const [subject, body, files] = interactiontext.split(\"&%MAIL%&\")\r\n            return (\r\n                <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                    [classes.interactionTextAgent]: userType !== 'client',\r\n                })} >\r\n                    <div>RE-LARAIGO: {subject}</div>\r\n                    <iframe\r\n                        ref={ref}\r\n                        srcDoc={body}\r\n                        id={`frame-${interactionid}`}\r\n                        width=\"100%\"\r\n                        title=\"frame2\"\r\n                        height={height}\r\n                        onLoad={onLoad}\r\n                        style={{ border: 'none' }}\r\n                    >\r\n                    </iframe>\r\n                    {(files && files !== \"{}\") &&\r\n                        Object.keys(JSON.parse(files)).map((file: any) => {\r\n                            let hreffile = JSON.parse(files)[file]\r\n                            let extension = file.split('.').pop()\r\n                            return (\r\n                                <a key={file} download rel=\"noreferrer\" target=\"_blank\" href={hreffile} style={{ textDecoration: 'none', display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 4, maxWidth: 200, border: \"1px solid #e1e1e1\", borderRadius: 5, marginBottom: 5, paddingRight: 5 }}>\r\n                                    {extension === \"pdf\" ? (\r\n                                        <PdfIcon width=\"30\" height=\"30\" />\r\n                                    ) : (extension === \"doc\" || extension === \"docx\") ? (\r\n                                        <DocIcon width=\"30\" height=\"30\" />\r\n                                    ) : (extension === \"xls\" || extension === \"xlsx\" || extension === \"csv\") ? (\r\n                                        <XlsIcon width=\"30\" height=\"30\" />\r\n                                    ) : (extension === \"ppt\" || extension === \"pptx\") ? (\r\n                                        <PptIcon width=\"30\" height=\"30\" />\r\n                                    ) : (extension === \"text\" || extension === \"txt\") ? (\r\n                                        <TxtIcon width=\"30\" height=\"30\" />\r\n                                    ) : (extension === \"zip\" || extension === \"rar\") ? (\r\n                                        <ZipIcon width=\"30\" height=\"30\" />\r\n                                    ) : <FileIcon width=\"30\" height=\"30\" />\r\n                                    }\r\n                                    <div style={{ color: '#171717', textOverflow: 'ellipsis', overflowX: 'hidden', flex: 1, whiteSpace: 'nowrap' }}>{decodeURI(file)}</div>\r\n                                    <DownloadIcon2 width=\"20\" height=\"20\" color=\"primary\" />\r\n                                </a>)\r\n                        })\r\n                    }\r\n                    <PickerInteraction userType={userType!!} fill={userType === \"client\" ? \"#FFF\" : \"#eeffde\"} />\r\n                    <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n                </div>\r\n            );\r\n        } catch (error) {\r\n            return null\r\n        }\r\n    } else if (interactiontype === \"image\" || interactiontype === \"comment-image\")\r\n        return (\r\n            <div title={convertLocalDate(createdate).toLocaleString()} className={classes.interactionImage}>\r\n                <img\r\n                    className={classes.imageCard}\r\n                    src={interactiontext}\r\n                    alt=\"\"\r\n                    crossOrigin={interactiontext.includes('cloud-object-storage') ? 'anonymous' : undefined}\r\n                    onClick={() => {\r\n                        dispatch(manageLightBox({ visible: true, images: listImage!!, index: indexImage!! }))\r\n                    }}\r\n                />\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} background={true} />\r\n            </div>\r\n        );\r\n    else if (interactiontype === \"quickreply\") {\r\n        try {\r\n            let text, json;\r\n\r\n            if (interactiontext.substring(0, 1) === \"{\") {\r\n                const jj = JSON.parse(interactiontext);\r\n                return (\r\n                    <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                        [classes.interactionTextAgent]: userType !== 'client',\r\n                    })}>\r\n                        {jj.stringsmooch}\r\n                        <PickerInteraction userType={userType!!} fill={userType === \"client\" ? \"#FFF\" : \"#eeffde\"} />\r\n                        <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n                    </div>\r\n                );\r\n            } else {\r\n                text = interactiontext.split(\"&&&\")[0];\r\n                json = interactiontext.split(\"&&&\")[1]\r\n            }\r\n            const listButtons: Dictionary[] = JSON.parse(`[${json}]`);\r\n            return (\r\n                <div className={clsx(classes.interactionText, {\r\n                    [classes.interactionTextAgent]: userType !== 'client',\r\n                })} style={{ display: 'inline-block' }}>\r\n                    {text}\r\n                    <div className={classes.containerQuickreply} style={{ justifyContent: 'space-evenly', display: \"flex\" }}>\r\n                        {listButtons.map((item: Dictionary, index: number) => {\r\n                            return <div key={index} className={classes.buttonQuickreply}>{item.text || item.title}\r\n                            </div>\r\n                        })}\r\n                    </div>\r\n                    <PickerInteraction userType={userType!!} fill={userType === \"client\" ? \"#FFF\" : \"#eeffde\"} />\r\n                    <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n                </div>\r\n            )\r\n        } catch (error) {\r\n            return null\r\n        }\r\n    } else if (interactiontype === \"postback\") {\r\n        try {\r\n            const [text, json] = interactiontext.split(\"&&&\");\r\n            const listButtons: Dictionary[] = JSON.parse(`[${json}]`);\r\n            return (\r\n                <div className={classes.containerPostback} style={{ backgroundColor: 'white' }}>\r\n                    <div className={classes.headerPostback}>\r\n                        {text}\r\n                    </div>\r\n                    <div >\r\n                        {listButtons.map((item: Dictionary, index: number) => {\r\n                            return <div key={index} className={classes.buttonPostback}>{item.text}\r\n                            </div>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )\r\n        } catch (error) {\r\n            return null\r\n        }\r\n    } else if (interactiontype === \"LOG\") {\r\n        return (\r\n            <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                [classes.interactionTextAgent]: userType !== 'client',\r\n            })} style={{ backgroundColor: '#84818A', color: 'white' }}>\r\n                {showfulltext ? interactiontext : interactiontext.substring(0, 450) + \"... \"}\r\n                {!showfulltext && (\r\n                    <div style={{ color: \"#53bdeb\", display: \"contents\", cursor: \"pointer\" }} onClick={() => setshowfulltext(true)}>{t(langKeys.showmore)}</div>\r\n                )\r\n                }\r\n                <PickerInteraction userType={userType!!} fill=\"#84818A\" />\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} background={true} time={onlyTime || \"\"} />\r\n            </div>\r\n        );\r\n    } else if (interactiontype === \"carousel\") {\r\n        try {\r\n            const listItems: Dictionary[] = JSON.parse(`[${interactiontext}]`);\r\n            return (<Carousel carousel={listItems} />)\r\n        } catch (error) {\r\n            return null\r\n        }\r\n    } else if (interactiontype === \"audio\" || (interactiontype === \"video\" && interactiontext.includes(\".oga\"))) {\r\n        return (\r\n            <div className={classes.interactionImage} style={{ borderRadius: 0, height: 50, backgroundColor: 'transparent' }}>\r\n                <audio controls src={interactiontext} className={classes.imageCard} style={{}}></audio>\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} background={true} time={onlyTime || \"\"} />\r\n            </div>\r\n        )\r\n    } else if (interactiontype === \"video\") {\r\n        return (\r\n            <div className={classes.interactionImage}>\r\n                <video className={classes.imageCard} width=\"200\" controls src={interactiontext} />\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} background={true} />\r\n            </div>\r\n        )\r\n    } else if (interactiontype === \"file\") {\r\n        const filename = interactiontext.split(\"/\").pop() || \"\";\r\n        const extension = (filename || \"\").split(\".\").pop();\r\n\r\n        return (\r\n            <div style={{ width: 200, backgroundColor: 'white', padding: '12px 13px', borderRadius: 4, position: 'relative' }}>\r\n                <a download rel=\"noreferrer\" target=\"_blank\" href={interactiontext} style={{ textDecoration: 'none', display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 4 }}>\r\n                    {extension === \"pdf\" ? (\r\n                        <PdfIcon width=\"30\" height=\"30\" />\r\n                    ) : (extension === \"doc\" || extension === \"docx\") ? (\r\n                        <DocIcon width=\"30\" height=\"30\" />\r\n                    ) : (extension === \"xls\" || extension === \"xlsx\" || extension === \"csv\") ? (\r\n                        <XlsIcon width=\"30\" height=\"30\" />\r\n                    ) : (extension === \"ppt\" || extension === \"pptx\") ? (\r\n                        <PptIcon width=\"30\" height=\"30\" />\r\n                    ) : (extension === \"text\" || extension === \"txt\") ? (\r\n                        <TxtIcon width=\"30\" height=\"30\" />\r\n                    ) : (extension === \"zip\" || extension === \"rar\") ? (\r\n                        <ZipIcon width=\"30\" height=\"30\" />\r\n                    ) : <FileIcon width=\"30\" height=\"30\" />\r\n                    }\r\n                    <div style={{ color: '#171717', textOverflow: 'ellipsis', overflowX: 'hidden', flex: 1, whiteSpace: 'nowrap' }}>{filename}</div>\r\n                    <DownloadIcon2 width=\"20\" height=\"20\" color=\"primary\" />\r\n                </a>\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} background={true} time={onlyTime || \"\"} />\r\n            </div>\r\n        )\r\n    } else if (interactiontype === \"interactivebutton\") {\r\n        try {\r\n            const jsonIntt = JSON.parse(interactiontext);\r\n            jsonIntt.headertype = jsonIntt.headertype || \"text\";\r\n            return (\r\n                <div style={{ display: 'flex', gap: 4, flexDirection: 'column' }}>\r\n                    <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                        [classes.interactionTextAgent]: userType !== 'client',\r\n                    })}>\r\n                        {jsonIntt.headertype === \"text\" ? (\r\n                            <div style={{ fontWeight: 500 }}>{jsonIntt.header}</div>\r\n                        ) : jsonIntt.header}\r\n                        {jsonIntt.body}\r\n                        {jsonIntt.footer && (\r\n                            <div style={{ color: 'rgb(0,0,0,0.45)', fontSize: 12 }}>{jsonIntt.footer}</div>\r\n                        )}\r\n                        <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n                    </div>\r\n                    {jsonIntt.buttons.map((button: any, i: number) => (\r\n                        <div key={i} style={{ background: '#FFF', color: '#00a5f4', borderRadius: 4, padding: '6px 8px', textAlign: 'center', textTransform: 'uppercase' }}>\r\n                            {button.title}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )\r\n        } catch (error) {\r\n            return null\r\n        }\r\n    } else if (interactiontype === \"reply-text\") {\r\n        const textres = interactiontext.split(\"###\")[1];\r\n        return (\r\n            <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                [classes.interactionTextAgent]: userType !== 'client',\r\n            })}>\r\n                {textres}\r\n                <PickerInteraction userType={userType!!} fill={userType === \"client\" ? \"#FFF\" : \"#eeffde\"} />\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n            </div>\r\n        );\r\n    } else if (interactiontype === \"interactivelist\") {\r\n        try {\r\n            return (\r\n                <InteractiveList\r\n                    interactiontext={interactiontext}\r\n                    createdate={createdate}\r\n                    classes={classes}\r\n                    userType={userType}\r\n                    onlyTime={onlyTime}\r\n                />\r\n            )\r\n        } catch (error) {\r\n            return null\r\n        }\r\n    } else if (interactiontype === \"post-image\") {\r\n        return (\r\n            <div title={convertLocalDate(createdate).toLocaleString()} className={classes.interactionImage} style={{ marginLeft: 'auto', marginRight: 'auto' }}>\r\n                <img\r\n                    className={classes.imageCard}\r\n                    src={interactiontext} alt=\"\"\r\n                    onClick={() => {\r\n                        dispatch(manageLightBox({ visible: true, images: listImage!!, index: indexImage!! }))\r\n                    }}\r\n                />\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} background={true} />\r\n            </div>\r\n        );\r\n    } else if (interactiontype === \"post-text\") {\r\n\r\n        const ishtml = interactiontext.includes(\"###HTML###\");\r\n        const text = ishtml ? interactiontext.split(\"###HTML###\")[1] : interactiontext;\r\n\r\n        if (ishtml) {\r\n            return (\r\n                <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                    [classes.interactionTextAgent]: userType !== 'client',\r\n                })} style={{ marginLeft: 'auto', marginRight: 'auto' }} dangerouslySetInnerHTML={{ __html: text }}>\r\n\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div title={convertLocalDate(createdate).toLocaleString()} className={clsx(classes.interactionText, {\r\n                    [classes.interactionTextAgent]: userType !== 'client',\r\n                })} style={{ marginLeft: 'auto', marginRight: 'auto' }}>\r\n                    {text}\r\n                </div>\r\n            );\r\n        }\r\n    } else if (interactiontype === \"whatsappcatalog\") {\r\n        return (\r\n            <CatalogProduct\r\n                interactiontext={interactiontext}\r\n                createdate={createdate}\r\n                classes={classes}\r\n                userType={userType}\r\n                onlyTime={onlyTime}\r\n            />\r\n        )\r\n    } else if (interactiontype === \"shoppingcart\") {\r\n        return (\r\n            <ShoppingCart\r\n                interactiontext={interactiontext}\r\n                createdate={createdate}\r\n                classes={classes}\r\n                userType={userType}\r\n                onlyTime={onlyTime}\r\n            />\r\n        )\r\n    } else if (interactiontype === \"location\") {\r\n\r\n        const coordinates = interactiontext.split(\"=\").pop()?.split(\",\") || [\"\", \"\"];\r\n\r\n        return isLoaded ? (\r\n            <div\r\n                title={convertLocalDate(createdate).toLocaleString()}\r\n                className={clsx(classes.interactionText, {\r\n                    [classes.interactionTextAgent]: userType !== 'client',\r\n                })}\r\n            >\r\n                <div style={{ width: \"300px\" }} className=\"interaction-gmap\">\r\n                    <GoogleMap\r\n                        mapContainerStyle={{\r\n                            width: '100%',\r\n                            height: \"200px\"\r\n                        }}\r\n                        center={{ lat: parseFloat(coordinates[0]), lng: parseFloat(coordinates[1]) }}\r\n                        zoom={10}\r\n                    >\r\n                        <Marker\r\n                            position={{ lat: parseFloat(coordinates[0]), lng: parseFloat(coordinates[1]) }}\r\n                        />\r\n                    </GoogleMap>\r\n                </div>\r\n                <div style={{ display: \"none\" }} className=\"interaction-gmap-text\">\r\n                    {interactiontext}\r\n                </div>\r\n                <PickerInteraction userType={userType!!} fill={userType === \"client\" ? \"#FFF\" : \"#eeffde\"} />\r\n                <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n            </div>\r\n        ) : null\r\n    }\r\n    return (\r\n        <div className={clsx(classes.interactionText, {\r\n            [classes.interactionTextAgent]: userType !== 'client',\r\n        })}>\r\n            {interactiontext}\r\n            <PickerInteraction userType={userType!!} fill={userType === \"client\" ? \"#FFF\" : \"#eeffde\"} />\r\n            <TimerInteraction interactiontype={interactiontype} createdate={createdate} userType={userType} time={onlyTime || \"\"} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst ItemGroupInteraction: React.FC<{ classes: any, groupInteraction: IGroupInteraction, clientName: string, imageClient: string | null }> = ({ classes, groupInteraction: { usertype, interactions } }) => {\r\n\r\n    const ticketSelected = useSelector(state => state.inbox.ticketSelected);\r\n\r\n    return (\r\n        <div style={{ display: 'flex', gap: 8 }}>\r\n            <div style={{ flex: 1 }}>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                    {interactions.map((item: IInteraction, index: number) => (\r\n                        <div key={index} id={`interaction-${item.interactionid}`} className={clsx({\r\n                            [classes.interactionAgent]: usertype !== \"client\",\r\n                            [classes.interactionFromPost]: ticketSelected?.communicationchanneltype === \"FBWA\"\r\n                        })}>\r\n                            {!item.interactiontype.includes(\"post-\") && ticketSelected?.communicationchanneltype === \"FBWA\" && usertype === \"client\" && (\r\n                                <Avatar src={item.avatar + \"\" || undefined} />\r\n                            )}\r\n                            <ItemInteraction interaction={item} classes={classes} userType={usertype!!} />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            {usertype === \"agent\" ?\r\n                <div style={{ marginTop: 'auto' }}><AgentIcon style={{ width: 40, height: 40 }} /></div> :\r\n                (usertype === \"BOT\" && <div style={{ marginTop: 'auto' }}><BotIcon style={{ width: 40, height: 40 }} /></div>)\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemGroupInteraction;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');\n\nexports.default = _default;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react'\r\nimport { DialogZyx, SkeletonInteraction } from 'components'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getInteractions } from 'store/inbox/actions'\r\nimport { Dictionary, IGroupInteraction } from '@types';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport ItemGroupInteraction from './Interaction';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Trans } from 'react-i18next';\r\nimport { DownloadIcon } from 'icons';\r\nimport DomToImage from 'dom-to-image';\r\nimport IOSSwitch from \"components/fields/IOSSwitch\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerPanel: {\r\n        flex: '1',\r\n        display: 'flex'\r\n    },\r\n    titleTicketChat: {\r\n        fontWeight: 'bold',\r\n        fontSize: 15,\r\n        // '&:hover': {\r\n        //     cursor: 'pointer',\r\n        //     borderBottom: '1px solid #2E2C34'\r\n        // }\r\n    },\r\n    interactionAgent: {\r\n        marginLeft: 'auto'\r\n    },\r\n    groupInteractionAgent: {\r\n        marginLeft: 'auto',\r\n        display: 'flex'\r\n    },\r\n    containerTickets: {\r\n        flex: '0 0 300px',\r\n        maxWidth: 300,\r\n        backgroundColor: '#FFF',\r\n        flexDirection: 'column',\r\n        display: 'flex',\r\n        borderRight: '1px solid #84818a1a'\r\n    },\r\n    headChat: {\r\n        backgroundColor: '#FFF',\r\n        padding: theme.spacing(1),\r\n        borderBottom: '1px solid #84818a1a',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        cursor: 'pointer'\r\n    },\r\n    containerInteractions: {\r\n        padding: theme.spacing(2),\r\n        flex: 1,\r\n        // overflowY: 'auto',\r\n        // backgroundColor: '#e0e0e0',\r\n        background: 'linear-gradient(90deg, rgba(119,33,173,0.7203256302521008) 35%, rgba(189,240,249,1) 100%)'\r\n    },\r\n    containerQuickreply: {\r\n        whiteSpace: 'break-spaces',\r\n        flexWrap: 'wrap',\r\n        fontStyle: 'normal',\r\n        fontWeight: 'normal',\r\n        display: 'flex',\r\n        gap: theme.spacing(1),\r\n    },\r\n    containerPostback: {\r\n        width: 200,\r\n        padding: 0,\r\n        fontStyle: 'normal',\r\n        fontWeight: 'normal',\r\n        fontSize: '14px',\r\n        lineHeight: 2,\r\n        borderRadius: 25\r\n    },\r\n    headerPostback: {\r\n        textAlign: 'center',\r\n        backgroundColor: 'rgb(132 129 138 / 0.4);',\r\n        borderTopLeftRadius: 25,\r\n        borderTopRightRadius: 25,\r\n    },\r\n    itemSelected: {\r\n        backgroundColor: 'rgb(235, 234, 237, 0.50)'\r\n    },\r\n    buttonPostback: {\r\n        color: theme.palette.primary.main,\r\n        cursor: 'pointer',\r\n        textAlign: 'center',\r\n        borderTop: '1px solid #EBEAED',\r\n        '&:hover': {\r\n            color: theme.palette.primary.dark,\r\n        }\r\n    },\r\n    buttonQuickreply: {\r\n        padding: `0 ${theme.spacing(1)}px`,\r\n        backgroundColor: theme.palette.primary.main,\r\n        borderRadius: '6px',\r\n        color: '#FFF',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.primary.dark,\r\n        }\r\n    },\r\n    interactionText: {\r\n        whiteSpace: 'break-spaces',\r\n        fontStyle: 'normal',\r\n        fontWeight: 'normal',\r\n        fontSize: '14px',\r\n        lineHeight: 2,\r\n        color: '#2E2C34',\r\n        wordBreak: 'break-word',\r\n        width: 'fit-content',\r\n        borderRadius: 12,\r\n        borderBottomLeftRadius: 0,\r\n        padding: `${theme.spacing(.5)}px ${theme.spacing(1)}px ${theme.spacing(.7)}px ${theme.spacing(1)}px`,\r\n        position: 'relative',\r\n        maxWidth: 480,\r\n        backgroundColor: '#FFF',\r\n        border: '1px solid #EBEAED',\r\n        // boxShadow: '0 1px 2px 0 rgb(16 35 47 / 15%)'\r\n    },\r\n    interactionTextAgent: {\r\n        borderBottomLeftRadius: 12,\r\n        borderBottomRightRadius: 0,\r\n        backgroundColor: \"#eeffde\",\r\n    },\r\n    interactionImage: {\r\n        borderRadius: theme.spacing(1.5),\r\n        backgroundColor: '#FFF',\r\n        position: 'relative',\r\n        width: '328px',\r\n        height: '340px',\r\n    },\r\n    imageCard: {\r\n        width: '100%',\r\n        maxWidth: '100%',\r\n        cursor: 'pointer',\r\n        objectFit: 'cover',\r\n        height: '100%',\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        borderRadius: 'inherit'\r\n    },\r\n    timeInteraction: {\r\n        color: '#84818A',\r\n        fontSize: 13,\r\n        fontStyle: 'normal',\r\n        fontWeight: 'normal',\r\n        lineHeight: 2,\r\n    },\r\n    containerResponse: {\r\n        padding: theme.spacing(2),\r\n        background: '#FFF',\r\n        position: 'relative',\r\n        borderTop: '1px solid #84818a1a'\r\n    },\r\n    containerChat: {\r\n        flex: '1',\r\n        flexDirection: 'column',\r\n        display: 'flex',\r\n\r\n    },\r\n    collapseInfo: {\r\n        position: 'absolute',\r\n        top: 'calc(50% - 20px)'\r\n    },\r\n    infoOpen: {\r\n        right: -20,\r\n    },\r\n    infoClose: {\r\n        right: 0,\r\n    },\r\n    containerProfile: {\r\n        flex: '0 0 300px',\r\n        display: 'none'\r\n    },\r\n    iconResponse: {\r\n        cursor: 'pointer',\r\n        poisition: 'relative',\r\n        color: '#2E2C34',\r\n        '&:hover': {\r\n            // color: theme.palette.primary.main,\r\n            backgroundColor: '#EBEAED',\r\n            borderRadius: 4\r\n        }\r\n    },\r\n    iconSend: {\r\n        background: \"#5542F6\",\r\n        width: 32,\r\n        height: 32,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        borderRadius: 4,\r\n        cursor: 'pointer',\r\n    },\r\n    iconSendDisabled: {\r\n        backgroundColor: \"#EBEAED\",\r\n        cursor: 'not-allowed',\r\n    },\r\n    containerButtonsChat: {\r\n        display: 'flex',\r\n    },\r\n    buttonCloseticket: {\r\n        background: '#F9F9FA',\r\n        border: '1px solid #EBEAED',\r\n        boxSizing: 'border-box',\r\n        borderRadius: '4px',\r\n        width: '150px',\r\n        height: '42px',\r\n        fontFamily: 'Manrope',\r\n        fontStyle: 'normal',\r\n        fontWeight: 600,\r\n        fontSize: '14px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: '#ececec'\r\n        }\r\n    },\r\n    interactionFromPost: {\r\n        display: 'flex',\r\n        gap: 8\r\n    },\r\n    buttonIcon: {\r\n        width: 48,\r\n        height: 42,\r\n        border: '1px solid #EBEAED',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        borderRadius: 4,\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: '#ececec'\r\n        }\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        gap: theme.spacing(2),\r\n        width: '100%'\r\n    },\r\n    containerItemTicket: {\r\n        display: 'flex',\r\n        gap: theme.spacing(1),\r\n        alignItems: 'center',\r\n        padding: theme.spacing(1),\r\n        borderBottom: '1px solid #EBEAED',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: 'rgb(235, 234, 237, 0.18)'\r\n        }\r\n    },\r\n    containerNewMessages: {\r\n        minWidth: '22px',\r\n        padding: '0px 4px',\r\n        borderRadius: 12,\r\n        backgroundColor: theme.palette.primary.main,\r\n        color: 'white',\r\n        textAlign: 'center'\r\n    },\r\n    name: {\r\n        flex: 1,\r\n        fontWeight: 500,\r\n        fontSize: '16px',\r\n        lineHeight: '22px',\r\n        wordBreak: 'break-word',\r\n\r\n        overflow: 'hidden',\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis',\r\n        maxWidth: 200\r\n    },\r\n    containerQuickReply: {\r\n        boxShadow: '0px 3px 6px rgb(0 0 0 / 10%)',\r\n        backgroundColor: '#FFF',\r\n        width: 250,\r\n    },\r\n    headerQuickReply: {\r\n        fontSize: 13,\r\n        fontWeight: 500,\r\n        padding: theme.spacing(1.5),\r\n        borderBottom: '1px solid #EBEAED'\r\n    },\r\n    itemQuickReply: {\r\n        fontSize: 13,\r\n        paddingTop: theme.spacing(.7),\r\n        paddingBottom: theme.spacing(.7),\r\n        paddingLeft: theme.spacing(1.5),\r\n        paddingRight: theme.spacing(1.5),\r\n        '&:hover': {\r\n            backgroundColor: '#EBEAED',\r\n            cursor: 'pointer'\r\n        }\r\n    }\r\n}));\r\n\r\nconst DialogInteractions: React.FC<{ ticket: Dictionary | null, openModal: boolean, setOpenModal: (param: any) => void }> = ({ ticket, openModal, setOpenModal }) => {\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const [showAllInteraction, setShowAllInteraction] = React.useState(false)\r\n    const interactionExtraList = useSelector(state => state.inbox.interactionExtraList);\r\n    const [interactionsToShow, setinteractionsToShow] = React.useState<IGroupInteraction[]>([])\r\n    const el = React.useRef<null | HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (ticket && openModal)\r\n            dispatch(getInteractions(ticket?.conversationid, false, 0));\r\n    }, [ticket])\r\n\r\n    const GenericPdfDownloader: React.FC<{ downloadFileName: string }> = ({ downloadFileName }) => {\r\n        const downloadPdfDocument = () => {\r\n            import('jspdf').then(jsPDF => {\r\n                if (el.current) {\r\n                    const gg = document.createElement('div');\r\n                    gg.style.display = 'flex';\r\n                    gg.style.flexDirection = 'column';\r\n                    gg.style.gap = '8px';\r\n                    gg.style.width = '190mm';\r\n                    gg.id = \"newexportcontainer\"\r\n\r\n                    gg.innerHTML = el.current.innerHTML;\r\n\r\n                    gg.querySelectorAll(\".interaction-gmap\").forEach(x => x.remove())\r\n                    gg.querySelectorAll(\".interaction-gmap-text\").forEach(x => (x as HTMLDivElement).style.display = \"\")\r\n\r\n                    document.body.appendChild(gg);\r\n                    const pdf = new jsPDF.jsPDF('p', 'mm');\r\n                    if (pdf) {\r\n                        DomToImage.toPng(gg)\r\n                            .then(imgData => {\r\n                                var imgWidth = 200;\r\n                                var pageHeight = 297;\r\n                                var imgHeight = Math.ceil(gg.scrollHeight * 0.2645833333);\r\n                                var heightLeft = imgHeight;\r\n                                var doc = new jsPDF.jsPDF('p', 'mm');\r\n                                var topPadding = 10;\r\n                                var position = topPadding; // give some top padding to first page\r\n\r\n                                doc.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);\r\n                                heightLeft -= pageHeight;\r\n\r\n                                while (heightLeft >= 0) {\r\n                                    position = heightLeft - imgHeight + topPadding; // top padding for other pages\r\n                                    doc.addPage();\r\n                                    doc.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);\r\n                                    heightLeft -= pageHeight;\r\n                                }\r\n                                doc.save(`ticket${ticket?.ticketnum}.pdf`);\r\n                                document.getElementById('newexportcontainer')?.remove();\r\n                            });\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n        return (\r\n            <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={downloadPdfDocument}\r\n                startIcon={<DownloadIcon />}\r\n                style={{ position: 'absolute', right: 16, top: 16 }}\r\n            ><Trans i18nKey={langKeys.download} />\r\n            </Button>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (showAllInteraction) {\r\n            setinteractionsToShow(interactionExtraList.data)\r\n        } else {\r\n            setinteractionsToShow(interactionExtraList.data.map(x => ({\r\n                ...x,\r\n                interactions: x.interactions.filter(y => !y.isHide)\r\n            })))\r\n        }\r\n    }, [showAllInteraction, interactionExtraList.loading])\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={ticket?.displayname + \" - \" + ticket?.ticketnum}\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton1={() => setOpenModal(false)}\r\n        >\r\n            <GenericPdfDownloader\r\n                downloadFileName={`ticket-` + ticket?.ticketnum}\r\n            />\r\n            <div style={{ position: 'absolute', left: 16, bottom: 16 }}>\r\n                <Tooltip title={t(langKeys.show_all) || \"\"} arrow >\r\n                    <div>\r\n                        <IOSSwitch checked={showAllInteraction} onChange={(e) => setShowAllInteraction(e.target.checked)} name=\"checkedB\" />\r\n                    </div>\r\n                </Tooltip>\r\n            </div>\r\n            {interactionExtraList.loading ? <SkeletonInteraction /> :\r\n                <div ref={el} className=\"scroll-style-go\" style={{ display: 'flex', flexDirection: 'column', gap: 8, height: '60vh' }}>\r\n                    {interactionsToShow.map((groupInteraction) => (\r\n                        <ItemGroupInteraction\r\n                            imageClient={ticket?.imageurldef}\r\n                            clientName={ticket?.displayname}\r\n                            classes={classes}\r\n                            groupInteraction={groupInteraction}\r\n                            key={groupInteraction.interactionid} />\r\n                    ))}\r\n                </div>\r\n            }\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nexport default DialogInteractions;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, ReactElement, Fragment, useEffect, useState } from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { useSelector } from 'hooks';\r\nimport { Dictionary } from \"@types\";\r\nimport { getDateCleaned } from 'common/helpers';\r\nimport TableZyx from 'components/fields/table-simple';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Range } from 'react-date-range';\r\nimport { CalendarIcon } from 'icons';\r\nimport { DateRangePicker } from 'components';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { XAxis, YAxis, ResponsiveContainer, Tooltip as ChartTooltip, BarChart, Bar, PieChart, Pie, Cell, CartesianGrid, LabelList } from 'recharts';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '100%'\r\n    },\r\n    containerDetails: {\r\n        marginTop: theme.spacing(3)\r\n    },\r\n    media: {\r\n        objectFit: \"contain\"\r\n    },\r\n    containerSearch: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        gap: theme.spacing(1),\r\n        alignItems: 'center',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '50%',\r\n        },\r\n    },\r\n    containerFilter: {\r\n        width: '100%',\r\n        marginBottom: theme.spacing(2),\r\n        display: 'flex',\r\n        gap: 16,\r\n        flexWrap: 'wrap'\r\n    },\r\n    filterComponent: {\r\n        minWidth: '220px',\r\n        maxWidth: '260px'\r\n    },\r\n    containerFilterGeneral: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        backgroundColor: '#FFF',\r\n        padding: theme.spacing(1),\r\n    },\r\n    title: {\r\n        fontSize: '22px',\r\n        fontWeight: 'bold',\r\n        color: theme.palette.text.primary,\r\n    },\r\n    containerHeader: {\r\n        display: 'block',\r\n        marginBottom: 0,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        },\r\n    },\r\n    mb2: {\r\n        marginBottom: theme.spacing(4),\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    containerHeaderItem: {\r\n        backgroundColor: '#FFF',\r\n        padding: 8,\r\n        display: 'block',\r\n        flexWrap: 'wrap',\r\n        gap: 8,\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n        }\r\n    },\r\n}));\r\n\r\nvar randomColor = () => Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');\r\ninterface IGraphic {\r\n    graphicType: string;\r\n    column: string;\r\n    FiltersElement?: ReactElement;\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => void;\r\n    setView: (value: string) => void;\r\n    daterange: any;\r\n    handlerSearchGraphic: (value: any, value1: any) => void;\r\n    row?: Dictionary;\r\n    withFilters?: boolean;\r\n    withButtons?: boolean;\r\n    data?: Dictionary[];\r\n    loading?: boolean;\r\n    columnDesc?: string;\r\n}\r\n\r\nconst RADIAN = Math.PI / 180;\r\nexport const RenderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, summary, ...rest }: Dictionary) => {\r\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n    return (\r\n        <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n            {summary}\r\n        </text>\r\n    );\r\n};\r\n\r\nconst TableResume: FC<{ row?: Dictionary; column: string; graphicType: string; data: Dictionary[]; columnDesc?: string }> = ({ row, column, data, graphicType, columnDesc }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: !!columnDesc ? columnDesc : t('report_' + row?.origin + '_' + column),\r\n                accessor: 'columnname',\r\n                NoFilter: true,\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n\r\n                    if (graphicType === \"BAR\")\r\n                        return row?.columnname;\r\n                    return (\r\n                        <div style={{ display: 'flex', gap: 4 }}>\r\n                            <div style={{ width: 15, height: 15, backgroundColor: row.color }}></div>\r\n                            {row?.columnname}\r\n                        </div>\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.quantity),\r\n                accessor: 'summary',\r\n                NoFilter: true,\r\n                type: 'number'\r\n            },\r\n            {\r\n                Header: t(langKeys.percentage),\r\n                accessor: 'percentage',\r\n                NoFilter: true,\r\n                type: 'number',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return row.percentage + \"%\";\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <TableZyx\r\n                columns={columns}\r\n                data={data}\r\n                download={false}\r\n                pageSizeDefault={100}\r\n                filterGeneral={false}\r\n                toolsFooter={false}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Graphic: FC<IGraphic> = ({ graphicType, column, setOpenModal, setView, FiltersElement, row, daterange, handlerSearchGraphic, withFilters = true, withButtons = true, data, loading, columnDesc }) => {\r\n    const classes = useStyles();\r\n    const { t } = useTranslation();\r\n    const [openDateRangeModal, setOpenDateRangeModal] = useState(false);\r\n    const [dataGraphic, setDataGraphic] = useState<Dictionary[]>([])\r\n\r\n    const [dateRange, setdateRange] = useState<Range>({\r\n        startDate: new Date(`${daterange.startDate} 10:00:00`),\r\n        endDate: new Date(`${daterange.endDate} 10:00:00`),\r\n        key: 'selection'\r\n    });\r\n    const mainGraphicRes = useSelector(state => state.main.mainGraphic);\r\n    useEffect(() => {\r\n        if (data) {\r\n            if (!loading) {\r\n                const objectItems = data.reduce((acc, item) => ({\r\n                    ...acc,\r\n                    [item[column] || \"\"]: (acc[item[column] || \"\"] || 0) + 1\r\n                }), {})\r\n    \r\n                const dataReady = Object.entries(objectItems).map(([key, value]) => ({\r\n                    columnname: key,\r\n                    summary: value,\r\n                }));\r\n    \r\n                const total = dataReady.reduce((acc, item) => acc + parseInt(item.summary), 0)\r\n                setDataGraphic(dataReady.sort((a, b) => parseInt(a.summary) < parseInt(b.summary) ? 1 : -1).map(x => ({\r\n                    ...x,\r\n                    columnname: x.columnname?.startsWith('report_') ? t((langKeys as any)[x.columnname]) : (x.columnname === '' ? `(${t(langKeys.in_white)})` : x.columnname),\r\n                    summary: parseInt(x.summary),\r\n                    percentage: parseFloat(((parseInt(x.summary) / total) * 100).toFixed(2)),\r\n                    color: `#${randomColor()}`\r\n                })));\r\n            }\r\n        } else {\r\n            if (!mainGraphicRes.loading && !mainGraphicRes.error) {\r\n                const total = mainGraphicRes.data.reduce((acc, item) => acc + parseInt(item.summary), 0)\r\n                setDataGraphic(mainGraphicRes.data.sort((a, b) => parseInt(a.summary) < parseInt(b.summary) ? 1 : -1).map(x => ({\r\n                    ...x,\r\n                    columnname: x.columnname?.startsWith('report_') ? t((langKeys as any)[x.columnname]) : (x.columnname === '' ? `(${t(langKeys.in_white)})` : x.columnname),\r\n                    summary: parseInt(x.summary),\r\n                    percentage: parseFloat(((parseInt(x.summary) / total) * 100).toFixed(2)),\r\n                    color: `#${randomColor()}`\r\n                })));\r\n            }\r\n        }\r\n    }, [mainGraphicRes, data, loading])\r\n\r\n    return (\r\n        <>\r\n            {(withFilters || withButtons) && (\r\n                <Box className={classes.containerHeaderItem} justifyContent=\"space-between\" alignItems=\"center\" >\r\n                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\r\n                        {withFilters &&\r\n                            (\r\n                                <>\r\n                                    <DateRangePicker\r\n                                        open={openDateRangeModal}\r\n                                        setOpen={setOpenDateRangeModal}\r\n                                        range={dateRange}\r\n                                        onSelect={setdateRange}\r\n                                    >\r\n                                        <Button\r\n                                            disabled={mainGraphicRes.loading}\r\n                                            style={{ border: '1px solid #bfbfc0', borderRadius: 4, color: 'rgb(143, 146, 161)' }}\r\n                                            startIcon={<CalendarIcon />}\r\n                                            onClick={() => setOpenDateRangeModal(!openDateRangeModal)}\r\n                                        >\r\n                                            {getDateCleaned(dateRange.startDate!) + \" - \" + getDateCleaned(dateRange.endDate!)}\r\n                                        </Button>\r\n                                    </DateRangePicker>\r\n                                    {FiltersElement && FiltersElement}\r\n                                    <Button\r\n                                        disabled={mainGraphicRes.loading}\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                        style={{ backgroundColor: '#55BD84', width: 120 }}\r\n                                        onClick={() => handlerSearchGraphic(dateRange, column)}\r\n                                    >\r\n                                        {t(langKeys.search)}\r\n                                    </Button>\r\n                                </>\r\n\r\n                            )}\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: 8 }}>\r\n                        {withButtons && (\r\n                            <>\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick={() => setOpenModal(true)}\r\n                                    startIcon={<SettingsIcon />}\r\n                                >\r\n                                    {t(langKeys.configuration)}\r\n                                </Button>\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick={() => setView('GRID')}\r\n                                    startIcon={<ListIcon />}\r\n                                >\r\n                                    {t(langKeys.grid_view)}\r\n                                </Button>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </Box>\r\n            )}\r\n            {!data && (\r\n                <div style={{ fontWeight: 500, padding: 16 }}>\r\n                    {t(langKeys.graphic_report_of, { report: t('report_' + row?.origin), column: t('report_' + row?.origin + '_' + column) })}\r\n                </div>\r\n            )}\r\n            {(loading || mainGraphicRes.loading) ? (\r\n                <div style={{ flex: 1, height: '400px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <CircularProgress />\r\n                </div>\r\n            ) : (graphicType === \"BAR\" ? (\r\n                <div style={{ display: 'flex' }}>\r\n                    <div style={{ flex: '0 0 70%', height: 500 }}>\r\n                        <ResponsiveContainer aspect={4.0 / 2}>\r\n                            <BarChart\r\n                                data={dataGraphic}\r\n                                margin={{\r\n                                    top: 20,\r\n                                    right: 30,\r\n                                    left: 20,\r\n                                    bottom: 5,\r\n                                }}\r\n                            >\r\n                                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                <XAxis dataKey=\"columnname\" style={{ fontSize: \"0.8em\" }} angle={315} interval={0} textAnchor=\"end\" height={160} dy={5} dx={-5} />\r\n\r\n                                <YAxis />\r\n                                <ChartTooltip formatter={(value:any, name:any)=> [value,t(name)]} />\r\n                                <Bar dataKey=\"summary\" fill=\"#8884d8\" textAnchor=\"end\" stackId=\"a\" type=\"monotone\" >\r\n                                    <LabelList dataKey=\"summary\" position=\"top\" />\r\n                                </Bar>\r\n                            </BarChart>\r\n                        </ResponsiveContainer>\r\n                    </div>\r\n                    <div style={{ overflowX: 'auto' }}>\r\n                        <TableResume\r\n                            row={row}\r\n                            column={column}\r\n                            graphicType={graphicType}\r\n                            data={dataGraphic}\r\n                            columnDesc={columnDesc}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div style={{ display: 'flex' }}>\r\n                    <div style={{ flex: '0 0 65%', height: 500 }}>\r\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                            <PieChart>\r\n                                <ChartTooltip />\r\n                                <Pie\r\n                                    data={dataGraphic}\r\n                                    dataKey=\"summary\"\r\n                                    labelLine={false}\r\n                                    label={RenderCustomizedLabel}\r\n                                    nameKey=\"columnname\"\r\n                                    cx=\"50%\"\r\n                                    cy=\"50%\"\r\n                                    innerRadius={40}\r\n                                    fill=\"#8884d8\"\r\n                                >\r\n                                    {dataGraphic.map((item, i) => (\r\n                                        <Cell\r\n                                            key={item.columnname}\r\n                                            fill={item.color}\r\n                                        />\r\n                                    ))}\r\n                                </Pie>\r\n                            </PieChart>\r\n                        </ResponsiveContainer>\r\n                    </div>\r\n                    <div style={{ overflowX: 'auto' }}>\r\n                        <TableResume\r\n                            row={row}\r\n                            column={column}\r\n                            graphicType={graphicType}\r\n                            columnDesc={columnDesc}\r\n                            data={dataGraphic}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Graphic;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\"\n}), 'List');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"\n}), 'Assessment');\n\nexports.default = _default;","import { createElement, PureComponent } from 'react';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n// Check `document` and `window` in case of server-side rendering\nvar windowObject = void 0;\nif (typeof window !== 'undefined') {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== 'undefined') {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\n\nvar cancelFrame = null;\nvar requestFrame = null;\n\nvar TIMEOUT_DURATION = 20;\n\nvar clearTimeoutFn = windowObject.clearTimeout;\nvar setTimeoutFn = windowObject.setTimeout;\n\nvar cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\n\nvar requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\n\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame(_ref) {\n    var _ref2 = slicedToArray(_ref, 2),\n        animationFrameID = _ref2[0],\n        timeoutID = _ref2[1];\n\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    var animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n\n    var timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n\n    return [animationFrameID, timeoutID];\n  };\n}\n\nfunction createDetectElementResize(nonce) {\n  var animationKeyframes = void 0;\n  var animationName = void 0;\n  var animationStartEvent = void 0;\n  var animationStyle = void 0;\n  var checkTriggers = void 0;\n  var resetTriggers = void 0;\n  var scrollListener = void 0;\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n\n    scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false;\n    var keyframeprefix = '';\n    animationStartEvent = 'animationstart';\n    var domPrefixes = 'Webkit Moz O ms'.split(' ');\n    var startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n    var pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    animationName = 'resizeanim';\n    animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style)\n        },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = capitalize;\n\nvar _utils = require(\"@material-ui/utils\");\n\n// It should to be noted that this function isn't equivalent to `text-transform: capitalize`.\n//\n// A strict capitalization should uppercase the first letter of each word a the sentence.\n// We only handle the first word.\nfunction capitalize(string) {\n  if (typeof string !== 'string') {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: capitalize(string) expects a string argument.\" : (0, _utils.formatMuiErrorMessage)(7));\n  }\n\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 5v14l11-7z\"\n}), 'PlayArrow');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport { convertLocalDate, dictToArrayKV, getCampaignReportExport, getCampaignReportPaginated, getCampaignReportProactiveExport, getDateCleaned } from 'common/helpers';\r\nimport { Dictionary, IFetchData } from \"@types\";\r\nimport { exportData, getCollectionAux, getCollectionPaginated, resetCollectionPaginated, resetMainAux } from 'store/main/actions';\r\nimport { showBackdrop, showSnackbar } from 'store/popus/actions';\r\nimport { TemplateBreadcrumbs, TitleDetail, DialogZyx, FieldSelect, DateRangePicker } from 'components';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { Button } from '@material-ui/core';\r\nimport TablePaginated from 'components/fields/table-paginated';\r\nimport TableZyx from 'components/fields/table-simple';\r\nimport { Range } from 'react-date-range';\r\nimport { CalendarIcon } from 'icons';\r\nimport { Search as SearchIcon } from '@material-ui/icons';\r\n\r\ninterface DetailProps {\r\n    setViewSelected?: (view: string) => void;\r\n    externalUse?: boolean;\r\n}\r\n\r\nconst arrayBread = [\r\n    { id: \"view-1\", name: \"Campaign\" },\r\n    { id: \"view-2\", name: \"Campaign report\" }\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    select: {\r\n        width: '200px'\r\n    },\r\n    flexgrow1: {\r\n        flexGrow: 1\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n}));\r\n\r\nconst dataReportType = {\r\n    default: 'default',\r\n    proactive: 'proactive'\r\n}\r\n\r\nconst selectionKey = 'id';\r\n\r\nconst initialRange = {\r\n    startDate: new Date(new Date().setDate(1)),\r\n    endDate: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n    key: 'selection'\r\n}\r\n\r\nexport const CampaignReport: React.FC<DetailProps> = ({ setViewSelected, externalUse }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n    const mainPaginated = useSelector(state => state.main.mainPaginated);\r\n    const resExportData = useSelector(state => state.main.exportData);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [totalrow, settotalrow] = useState(0);\r\n    const [fetchDataAux, setfetchDataAux] = useState<IFetchData>({ pageSize: 20, pageIndex: 0, filters: {}, sorts: {}, daterange: null })\r\n    const [waitExport, setWaitExport] = useState(false);\r\n\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [selectedRow, setSelectedRow] = useState<Dictionary | undefined>({});\r\n    \r\n    const [selectedRows, setSelectedRows] = useState<any>({});\r\n    const [reportType, setReportType] = useState<string>('default');\r\n\r\n    const [openDateRangeCreateDateModal, setOpenDateRangeCreateDateModal] = useState(false);\r\n    const [dateRangeCreateDate, setDateRangeCreateDate] = useState<Range>(initialRange);\r\n    \r\n    const cell = (props: any) => {\r\n        const column = props.cell.column;\r\n        const row = props.cell.row.original;\r\n        return (\r\n            <div onClick={() => {\r\n                setSelectedRow(row);\r\n                setOpenModal(true);\r\n            }}>\r\n                {column.sortType === \"datetime\" && !!row[column.id]\r\n                ? convertLocalDate(row[column.id]).toLocaleString(undefined, {\r\n                    year: \"numeric\",\r\n                    month: \"2-digit\",\r\n                    day: \"2-digit\",\r\n                    hour: \"numeric\",\r\n                    minute: \"numeric\",\r\n                    second: \"numeric\"\r\n                })\r\n                : row[column.id]}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.campaign),\r\n                accessor: 'title',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.description),\r\n                accessor: 'description',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.templatetype),\r\n                accessor: 'templatetype',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.templatename),\r\n                accessor: 'templatename',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.channel),\r\n                accessor: 'channel',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.rundate),\r\n                accessor: 'rundate',\r\n                type: 'date',\r\n                sortType: 'datetime',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.total),\r\n                accessor: 'total',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.success),\r\n                accessor: 'success',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.success_percent),\r\n                accessor: 'successp',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.failed),\r\n                accessor: 'fail',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.failed_percent),\r\n                accessor: 'failp',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.attended),\r\n                accessor: 'attended',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.locked),\r\n                accessor: 'locked',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: cell\r\n            },\r\n            {\r\n                Header: t(langKeys.blacklisted),\r\n                accessor: 'blacklisted',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: cell\r\n            }\r\n        ],\r\n        []\r\n    );\r\n\r\n    const fetchData = ({ pageSize, pageIndex, filters, sorts }: IFetchData) => {\r\n        dispatch(showBackdrop(true))\r\n        setfetchDataAux({...fetchDataAux, ...{ pageSize, pageIndex, filters, sorts }});\r\n        dispatch(getCollectionPaginated(getCampaignReportPaginated(\r\n            {\r\n                startdate: dateRangeCreateDate.startDate,\r\n                enddate: dateRangeCreateDate.endDate,\r\n                sorts: sorts,\r\n                filters: filters,\r\n                take: pageSize,\r\n                skip: pageIndex * pageSize,\r\n            }\r\n        )));\r\n    };\r\n\r\n    const triggerExportData = () => {\r\n        if (Object.keys(selectedRows).length === 0) {\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.no_record_selected)}));\r\n            return null;\r\n        }\r\n        if (!reportType) {\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.no_type_selected)}));\r\n            return null;\r\n        }\r\n        if (reportType === dataReportType.default) {\r\n            dispatch(exportData(getCampaignReportExport(\r\n                Object.keys(selectedRows).reduce((ad: any[], d: any) => {\r\n                    ad.push({\r\n                        campaignid: d.split('_')[0],\r\n                        rundate: d.split('_')[1]\r\n                    })\r\n                    return ad;\r\n                }, [])),\r\n                `${t(langKeys.report)}`,\r\n                'excel',\r\n                true,\r\n                [\r\n                    {key: 'templatetype', alias: t(langKeys.templatetype)},\r\n                    {key: 'date', alias: t(langKeys.date)},\r\n                    {key: 'campaign', alias: t(langKeys.campaign)},\r\n                    {key: 'description', alias: t(langKeys.description)},\r\n                    {key: 'ticketnum', alias: t(langKeys.ticket)},\r\n                    {key: 'group', alias: t(langKeys.group)},\r\n                    {key: 'userid', alias: t(langKeys.userid)},\r\n                    {key: 'agent', alias: t(langKeys.agent)},\r\n                    {key: 'contact', alias: t(langKeys.contact)},\r\n                    {key: 'template', alias: t(langKeys.templatename)},\r\n                    {key: 'rundate', alias: t(langKeys.rundate)},\r\n                    {key: 'runtime', alias: t(langKeys.runtime)},\r\n                    {key: 'firstreplydate', alias: t(langKeys.firstreplydate)},\r\n                    {key: 'firstreplytime', alias: t(langKeys.firstreplytime)},\r\n                    {key: 'finishdate', alias: t(langKeys.finishconversationdate)},\r\n                    {key: 'finishtime', alias: t(langKeys.finishconversationtime)},\r\n                    {key: 'realduration', alias: t(langKeys.realduration)},\r\n                    {key: 'classification', alias: t(langKeys.classification)},\r\n                    {key: 'conversationid', alias: t(langKeys.conversationid)},\r\n                    {key: 'status', alias: t(langKeys.status)},\r\n                    {key: 'log', alias: t(langKeys.log)},\r\n                ]\r\n            ));\r\n            dispatch(showBackdrop(true));\r\n            setWaitExport(true);\r\n        }\r\n        else if (reportType === dataReportType.proactive) {\r\n            dispatch(exportData(getCampaignReportProactiveExport(\r\n                Object.keys(selectedRows).reduce((ad: any[], d: any) => {\r\n                    ad.push({\r\n                        campaignid: d.split('_')[0],\r\n                        rundate: d.split('_')[1]\r\n                    })\r\n                    return ad;\r\n                }, [])),\r\n                `${t(langKeys.report)}`,\r\n                'excel',\r\n                true,\r\n                [\r\n                    {key: 'templatetype', alias: t(langKeys.templatetype)},\r\n                    {key: 'campaign', alias: t(langKeys.campaign)},\r\n                    {key: 'description', alias: t(langKeys.description)},\r\n                    {key: 'template', alias: t(langKeys.template)},\r\n                    {key: 'ticketnum', alias: t(langKeys.ticket)},\r\n                    {key: 'year', alias: t(langKeys.year)},\r\n                    {key: 'month', alias: t(langKeys.month)},\r\n                    {key: 'ticketdate', alias: t(langKeys.ticketdate)},\r\n                    {key: 'tickettime', alias: t(langKeys.tickettime)},\r\n                    {key: 'contact', alias: t(langKeys.contact)},\r\n                    {key: 'client', alias: t(langKeys.client)},\r\n                    {key: 'channel', alias: t(langKeys.channel)},\r\n                    {key: 'group', alias: t(langKeys.group)},\r\n                    {key: 'firstagent', alias: t(langKeys.firstagent)},\r\n                    {key: 'message', alias: t(langKeys.message)},\r\n                    {key: 'classification', alias: t(langKeys.classification)},\r\n                    {key: 'lastagent', alias: t(langKeys.lastagent)},\r\n                    {key: 'status', alias: t(langKeys.status)},\r\n                    {key: 'log', alias: t(langKeys.log)},\r\n                ]\r\n            ));\r\n            dispatch(showBackdrop(true));\r\n            setWaitExport(true);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(resetCollectionPaginated());\r\n        fetchData(fetchDataAux);\r\n        return () => {\r\n            dispatch(resetCollectionPaginated());\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (waitExport) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n                resExportData.url?.split(\",\").forEach(x => window.open(x, '_blank'))\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.blacklist).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitExport]);\r\n\r\n    useEffect(() => {\r\n        if (!mainPaginated.loading && !mainPaginated.error) {\r\n            setPageCount(Math.ceil(mainPaginated.count / fetchDataAux.pageSize));\r\n            settotalrow(mainPaginated.count);\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [mainPaginated]);\r\n\r\n    const ButtonsElement = () => {\r\n        return (\r\n            <div style={{display: 'flex', gap: '8px'}}>\r\n                <DateRangePicker\r\n                    open={openDateRangeCreateDateModal}\r\n                    setOpen={setOpenDateRangeCreateDateModal}\r\n                    range={dateRangeCreateDate}\r\n                    onSelect={setDateRangeCreateDate}\r\n                >\r\n                    <Button\r\n                        className={classes.itemDate}\r\n                        startIcon={<CalendarIcon />}\r\n                        onClick={() => setOpenDateRangeCreateDateModal(!openDateRangeCreateDateModal)}\r\n                    >\r\n                        {getDateCleaned(dateRangeCreateDate.startDate!) + \" - \" + getDateCleaned(dateRangeCreateDate.endDate!)}\r\n                    </Button>\r\n                </DateRangePicker>\r\n                <Button\r\n                    disabled={mainPaginated.loading}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                    style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                    onClick={() => fetchData(fetchDataAux)}\r\n                >{t(langKeys.search)}\r\n                </Button>\r\n                <FieldSelect\r\n                    uset={true}\r\n                    variant=\"outlined\"\r\n                    label={t(langKeys.reporttype)}\r\n                    className={classes.select}\r\n                    valueDefault={reportType}\r\n                    onChange={(value) => setReportType(value?.key)}\r\n                    data={dictToArrayKV(dataReportType)}\r\n                    optionDesc=\"value\"\r\n                    optionValue=\"key\"\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            {!externalUse && <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <div>\r\n                    <TemplateBreadcrumbs\r\n                        breadcrumbs={arrayBread}\r\n                        handleClick={setViewSelected}\r\n                    />\r\n                    <TitleDetail\r\n                        title={t(langKeys.report)}\r\n                    />\r\n                </div>\r\n                <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        type=\"button\"\r\n                        color=\"primary\"\r\n                        style={{ backgroundColor: \"#FB5F5F\" }}\r\n                        onClick={() => setViewSelected && setViewSelected(\"view-1\")}\r\n                    >{t(langKeys.back)}</Button>\r\n                </div>\r\n            </div>}\r\n            {externalUse && <div style={{ height: 10 }}></div>}\r\n            <div className={externalUse ? '' : classes.containerDetail}>\r\n                <TablePaginated\r\n                    columns={columns}\r\n                    data={mainPaginated.data}\r\n                    totalrow={totalrow}\r\n                    loading={mainPaginated.loading}\r\n                    pageCount={pageCount}\r\n                    download={true}\r\n                    fetchData={fetchData}\r\n                    ButtonsElement={ButtonsElement}\r\n                    exportPersonalized={triggerExportData}\r\n                    useSelection={true}\r\n                    selectionKey={selectionKey}\r\n                    setSelectedRows={setSelectedRows}\r\n                />\r\n            </div>\r\n            {openModal && <ModalReport\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                row={selectedRow}\r\n            />}\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface ModalProps {\r\n    openModal: boolean;\r\n    setOpenModal: (value: boolean) => any;\r\n    row: any;\r\n}\r\n\r\nconst ModalReport: React.FC<ModalProps> = ({ openModal, setOpenModal, row }) => {\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n\r\n    const mainAux = useSelector(state => state.main.mainAux);\r\n    const [waitView, setWaitView] = useState(false);\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.contact),\r\n                accessor: 'contact',\r\n            },\r\n            {\r\n                Header: t(langKeys.status),\r\n                accessor: 'status',\r\n            },\r\n            {\r\n                Header: t(langKeys.log),\r\n                accessor: 'log',\r\n            }\r\n        ],\r\n        []\r\n    );\r\n\r\n    const handleCancelModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (row !== null) {\r\n            dispatch(getCollectionAux(getCampaignReportExport(\r\n                [{\r\n                    campaignid: row.id.split('_')[0],\r\n                    rundate: row.id.split('_')[1],\r\n                }]\r\n            )))\r\n            setWaitView(true);\r\n            return () => {\r\n                dispatch(resetMainAux());\r\n            };\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (waitView) {\r\n            if (!mainAux.loading && !mainAux.error) {\r\n                setWaitView(false);\r\n            }\r\n        }\r\n    }, [mainAux, waitView]);\r\n\r\n    return (\r\n        <DialogZyx\r\n            maxWidth=\"md\"\r\n            open={openModal}\r\n            title={`${row.title} ${convertLocalDate(row.rundate).toLocaleString()}`}\r\n            button1Type=\"button\"\r\n            buttonText1={t(langKeys.close)}\r\n            handleClickButton1={handleCancelModal}\r\n        >\r\n            <div className=\"row-zyx\">\r\n                <TableZyx\r\n                    columns={columns}\r\n                    data={mainAux.data}\r\n                    loading={mainAux.loading}\r\n                    filterGeneral={false}\r\n                    download={false}\r\n                />\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}"],"sourceRoot":""}