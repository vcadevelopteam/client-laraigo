(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[35],{1234:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),l=(0,a(n(62)).default)(i.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=l},1235:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),l=(0,a(n(62)).default)(i.createElement("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.default=l},1409:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a),i=n(39),l=n(1),o=n(26),c=n(20),s=n(0),u=n.n(s),d=n(786),b=n.n(d),j=n(824),f=n.n(j),v=n(94),p=n(1234),m=n.n(p),g=n(778),O=n.n(g),h=n(447),x=n(197),E=n(858),y=n.n(E),T=n(1235),C=n.n(T),A=n(780),_=n.n(A),N=n(779),k=n(51),S=n(257),L=n(241),M=n(171),P=n(923),w=n(850),D=n(895),I=n(7),F=n(83),R=n(48),H=n(8),U=n(169),z=n(44),G=n(811),q=n(40),B=n(205),V=n(25),K=n(122),W=n(781),Z=n(2),Y=u.a.lazy((function(){return Promise.all([n.e(12),n.e(111)]).then(n.bind(null,1355))})),Q=Object(U.a)((function(e){return{btnButton:{flexGrow:0,flexBasis:0,minHeight:"30px",minWidth:"max-content"},button:{fontSize:"14px",fontWeight:500,padding:12,textTransform:"initial"},buttonTitle:{marginRight:"0.25rem",width:"auto"},containerDetail:{background:"#fff",marginTop:e.spacing(2),padding:e.spacing(2)},headerText:{flexBasis:"200px",flexGrow:1},headerType:{flexBasis:"130px",flexGrow:0,marginRight:"10px"},mb1:{marginBottom:"0.25rem"},mediabutton:{margin:e.spacing(1),flexBasis:0,flexGrow:1,minHeight:"30px",opacity:.8,padding:0,"&:hover":{opacity:1}}}})),J="IDMESSAGETEMPLATE",$=function(e){var t,a,d,j,p,g,E,T,A,N,L,M,P,w,D,U,J,$,X=e.data,te=X.row,ne=X.edit,ae=e.setViewSelected,re=e.multiData,ie=e.fetchData,le=Object(q.c)(),oe=Object(K.a)().t,ce=Q(),se=re[0]&&re[0].success?re[0].data:[],ue=re[1]&&re[1].success?re[1].data:[],de=re[2]&&re[2].success?re[2].data.filter((function(e){return"WHAG"!==e.type})):[],be=Object(V.b)((function(e){return e.channel.requestAddTemplate})),je=Object(V.b)((function(e){return e.main.execute})),fe=Object(V.b)((function(e){return e.main.uploadFile})),ve=Object(s.useState)(void 0),pe=Object(c.a)(ve,2),me=pe[0],ge=pe[1],Oe=Object(s.useState)((null===te||void 0===te?void 0:te.body)||""),he=Object(c.a)(Oe,2),xe=he[0],Ee=he[1],ye=Object(s.useState)(""),Te=Object(c.a)(ye,2),Ce=Te[0],Ae=Te[1],_e=Object(s.useState)((null===te||void 0===te?void 0:te.bodyobject)||[{type:"paragraph",children:[{text:(null===te||void 0===te?void 0:te.body)||""}]}]),Ne=Object(c.a)(_e,2),ke=Ne[0],Se=Ne[1],Le=Object(s.useState)(null),Me=Object(c.a)(Le,2),Pe=Me[0],we=Me[1],De=Object(s.useState)(null),Ie=Object(c.a)(De,2),Fe=Ie[0],Re=Ie[1],He=Object(s.useState)(!1),Ue=Object(c.a)(He,2),ze=Ue[0],Ge=Ue[1],qe=Object(s.useState)(!(null===te||void 0===te?void 0:te.id)),Be=Object(c.a)(qe,2),Ve=Be[0],Ke=(Be[1],Object(s.useState)(!!(null===te||void 0===te?void 0:te.fromprovider))),We=Object(c.a)(Ke,2),Ze=We[0],Ye=We[1],Qe=Object(s.useState)(!1),Je=Object(c.a)(Qe,2),$e=Je[0],Xe=Je[1],et=Object(s.useState)(!1),tt=Object(c.a)(et,2),nt=tt[0],at=tt[1],rt=Object(s.useState)(!1),it=Object(c.a)(rt,2),lt=it[0],ot=it[1],ct=Object(s.useState)(!1),st=Object(c.a)(ct,2),ut=st[0],dt=st[1],bt=Object(s.useState)(!1),jt=Object(c.a)(bt,2),ft=jt[0],vt=jt[1],pt=[{value:"ACCOUNT_UPDATE",description:oe(H.a.TEMPLATE_ACCOUNT_UPDATE)},{value:"PAYMENT_UPDATE",description:oe(H.a.TEMPLATE_PAYMENT_UPDATE)},{value:"PERSONAL_FINANCE_UPDATE",description:oe(H.a.TEMPLATE_PERSONAL_FINANCE_UPDATE)},{value:"SHIPPING_UPDATE",description:oe(H.a.TEMPLATE_SHIPPING_UPDATE)},{value:"RESERVATION_UPDATE",description:oe(H.a.TEMPLATE_RESERVATION_UPDATE)},{value:"ISSUE_RESOLUTION",description:oe(H.a.TEMPLATE_ISSUE_RESOLUTION)},{value:"APPOINTMENT_UPDATE",description:oe(H.a.TEMPLATE_APPOINTMENT_UPDATE)},{value:"TRANSPORTATION_UPDATE",description:oe(H.a.TEMPLATE_TRANSPORTATION_UPDATE)},{value:"TICKET_UPDATE",description:oe(H.a.TEMPLATE_TICKET_UPDATE)},{value:"ALERT_UPDATE",description:oe(H.a.TEMPLATE_ALERT_UPDATE)},{value:"AUTO_REPLY",description:oe(H.a.TEMPLATE_AUTO_REPLY)},{value:"TRANSACTIONAL",description:oe(H.a.TEMPLATE_TRANSACTIONAL)},{value:"MARKETING",description:oe(H.a.TEMPLATE_MARKETING)},{value:"OTP",description:oe(H.a.TEMPLATE_OTP)}],mt=[{value:"APPROVED",description:oe(H.a.TEMPLATE_APPROVED)},{value:"IN_APPEAL",description:oe(H.a.TEMPLATE_IN_APPEAL)},{value:"PENDING",description:oe(H.a.TEMPLATE_PENDING)},{value:"REJECTED",description:oe(H.a.TEMPLATE_REJECTED)},{value:"PENDING_DELETION",description:oe(H.a.TEMPLATE_PENDING_DELETION)},{value:"DELETED",description:oe(H.a.TEMPLATE_DELETED)},{value:"DISABLED",description:oe(H.a.TEMPLATE_DISABLED)},{value:"LOCKED",description:oe(H.a.TEMPLATE_LOCKED)},{value:"PAUSED",description:oe(H.a.TEMPLATE_PAUSED)},{value:"SUBMITTED",description:oe(H.a.TEMPLATE_SUBMITTED)},{value:"NONE",description:(oe(H.a.NONE)||"").toUpperCase()}],gt=[{description:oe(H.a.TEMPLATE_AF),value:"AF"},{description:oe(H.a.TEMPLATE_SQ),value:"SQ"},{description:oe(H.a.TEMPLATE_AR),value:"AR"},{description:oe(H.a.TEMPLATE_AZ),value:"AZ"},{description:oe(H.a.TEMPLATE_BN),value:"BN"},{description:oe(H.a.TEMPLATE_BG),value:"BG"},{description:oe(H.a.TEMPLATE_CA),value:"CA"},{description:oe(H.a.TEMPLATE_ZH_CN),value:"ZH_CN"},{description:oe(H.a.TEMPLATE_ZH_HK),value:"ZH_HK"},{description:oe(H.a.TEMPLATE_ZH_TW),value:"ZH_TW"},{description:oe(H.a.TEMPLATE_HR),value:"HR"},{description:oe(H.a.TEMPLATE_CS),value:"CS"},{description:oe(H.a.TEMPLATE_DA),value:"DA"},{description:oe(H.a.TEMPLATE_NL),value:"NL"},{description:oe(H.a.TEMPLATE_EN),value:"EN"},{description:oe(H.a.TEMPLATE_EN_GB),value:"EN_GB"},{description:oe(H.a.TEMPLATE_EN_US),value:"EN_US"},{description:oe(H.a.TEMPLATE_ET),value:"ET"},{description:oe(H.a.TEMPLATE_FIL),value:"FIL"},{description:oe(H.a.TEMPLATE_FI),value:"FI"},{description:oe(H.a.TEMPLATE_FR),value:"FR"},{description:oe(H.a.TEMPLATE_KA),value:"KA"},{description:oe(H.a.TEMPLATE_DE),value:"DE"},{description:oe(H.a.TEMPLATE_EL),value:"EL"},{description:oe(H.a.TEMPLATE_GU),value:"GU"},{description:oe(H.a.TEMPLATE_HA),value:"HA"},{description:oe(H.a.TEMPLATE_HE),value:"HE"},{description:oe(H.a.TEMPLATE_HI),value:"HI"},{description:oe(H.a.TEMPLATE_HU),value:"HU"},{description:oe(H.a.TEMPLATE_ID),value:"ID"},{description:oe(H.a.TEMPLATE_GA),value:"GA"},{description:oe(H.a.TEMPLATE_IT),value:"IT"},{description:oe(H.a.TEMPLATE_JA),value:"JA"},{description:oe(H.a.TEMPLATE_KN),value:"KN"},{description:oe(H.a.TEMPLATE_KK),value:"KK"},{description:oe(H.a.TEMPLATE_RW_RW),value:"RW_RW"},{description:oe(H.a.TEMPLATE_KO),value:"KO"},{description:oe(H.a.TEMPLATE_KY_KG),value:"KY_KG"},{description:oe(H.a.TEMPLATE_LO),value:"LO"},{description:oe(H.a.TEMPLATE_LV),value:"LV"},{description:oe(H.a.TEMPLATE_LT),value:"LT"},{description:oe(H.a.TEMPLATE_MK),value:"MK"},{description:oe(H.a.TEMPLATE_MS),value:"MS"},{description:oe(H.a.TEMPLATE_ML),value:"ML"},{description:oe(H.a.TEMPLATE_MR),value:"MR"},{description:oe(H.a.TEMPLATE_NB),value:"NB"},{description:oe(H.a.TEMPLATE_FA),value:"FA"},{description:oe(H.a.TEMPLATE_PL),value:"PL"},{description:oe(H.a.TEMPLATE_PT_BR),value:"PT_BR"},{description:oe(H.a.TEMPLATE_PT_PT),value:"PT_PT"},{description:oe(H.a.TEMPLATE_PA),value:"PA"},{description:oe(H.a.TEMPLATE_RO),value:"RO"},{description:oe(H.a.TEMPLATE_RU),value:"RU"},{description:oe(H.a.TEMPLATE_SR),value:"SR"},{description:oe(H.a.TEMPLATE_SK),value:"SK"},{description:oe(H.a.TEMPLATE_SL),value:"SL"},{description:oe(H.a.TEMPLATE_ES),value:"ES"},{description:oe(H.a.TEMPLATE_ES_AR),value:"ES_AR"},{description:oe(H.a.TEMPLATE_ES_ES),value:"ES_ES"},{description:oe(H.a.TEMPLATE_ES_MX),value:"ES_MX"},{description:oe(H.a.TEMPLATE_SW),value:"SW"},{description:oe(H.a.TEMPLATE_SV),value:"SV"},{description:oe(H.a.TEMPLATE_TA),value:"TA"},{description:oe(H.a.TEMPLATE_TE),value:"TE"},{description:oe(H.a.TEMPLATE_TH),value:"TH"},{description:oe(H.a.TEMPLATE_TR),value:"TR"},{description:oe(H.a.TEMPLATE_UK),value:"UK"},{description:oe(H.a.TEMPLATE_UR),value:"UR"},{description:oe(H.a.TEMPLATE_UZ),value:"UZ"},{description:oe(H.a.TEMPLATE_VI),value:"VI"},{description:oe(H.a.TEMPLATE_ZU),value:"ZU"}],Ot=[{value:"SMS",text:oe(H.a.messagetemplate_sms)},{value:"HSM",text:oe(H.a.messagetemplate_hsm)},{value:"MAIL",text:oe(H.a.messagetemplate_mail)},{value:"HTML",text:oe(H.a.messagetemplate_html)}],ht=[{value:"STANDARD",text:oe(H.a.messagetemplate_standard)},{value:"MULTIMEDIA",text:oe(H.a.messagetemplate_multimedia)}],xt=[{value:"text",text:oe(H.a.messagetemplate_text)},{value:"image",text:oe(H.a.messagetemplate_image)},{value:"document",text:oe(H.a.messagetemplate_document)},{value:"video",text:oe(H.a.messagetemplate_video)}],Et=[{value:"url",text:oe(H.a.messagetemplate_url)},{value:"quick_reply",text:oe(H.a.messagetemplate_quickreply)},{value:"phone_number",text:oe(H.a.messagetemplate_phonenumber)}],yt=[{value:1,text:oe(H.a.messagetemplate_low)},{value:2,text:oe(H.a.messagetemplate_medium)},{value:3,text:oe(H.a.messagetemplate_high)}],Tt=Object(B.d)({defaultValues:{attachment:(null===te||void 0===te?void 0:te.attachment)||"",body:(null===te||void 0===te?void 0:te.body)||"",buttons:te&&te.buttons||[],buttonsenabled:![null,void 0].includes(null===te||void 0===te?void 0:te.buttonsenabled)&&(null===te||void 0===te?void 0:te.buttonsenabled),category:(null===te||void 0===te?void 0:te.category)||"",description:(null===te||void 0===te?void 0:te.description)||"",footer:(null===te||void 0===te?void 0:te.footer)||"",footerenabled:![null,void 0].includes(null===te||void 0===te?void 0:te.footerenabled)&&(null===te||void 0===te?void 0:te.footerenabled),header:(null===te||void 0===te?void 0:te.header)||"",headerenabled:![null,void 0].includes(null===te||void 0===te?void 0:te.headerenabled)&&(null===te||void 0===te?void 0:te.headerenabled),headertype:(null===te||void 0===te?void 0:te.headertype)||"text",id:te?te.id:0,language:(null===te||void 0===te?void 0:te.language)||"",name:(null===te||void 0===te?void 0:te.name)||"",namespace:(null===te||void 0===te?void 0:te.namespace)||"",operation:te?"EDIT":"INSERT",priority:(null===te||void 0===te?void 0:te.priority)||2,status:(null===te||void 0===te?void 0:te.status)||"ACTIVO",templatetype:(null===te||void 0===te?void 0:te.templatetype)||"STANDARD",type:(null===te||void 0===te?void 0:te.type)||"HSM",typeattachment:(null===te||void 0===te?void 0:te.typeattachment)||"",fromprovider:(null===te||void 0===te?void 0:te.fromprovider)||!1,externalid:(null===te||void 0===te?void 0:te.externalid)||"",externalstatus:(null===te||void 0===te?void 0:te.externalstatus)||"NONE",communicationchannelid:(null===te||void 0===te?void 0:te.communicationchannelid)||0,communicationchanneltype:(null===te||void 0===te?void 0:te.communicationchanneltype)||"",servicecredentials:(null===te||void 0===te?void 0:te.communicationchannelservicecredentials)||"",integrationid:(null===te||void 0===te?void 0:te.communicationchannelintegrationid)||"",exampleparameters:(null===te||void 0===te?void 0:te.exampleparameters)||""}}),Ct=Tt.control,At=Tt.register,_t=Tt.handleSubmit,Nt=Tt.setValue,kt=Tt.getValues,St=Tt.unregister,Lt=Tt.trigger,Mt=Tt.formState.errors,Pt=Object(s.useState)(["SMS","MAIL"].includes(kt("type"))),wt=Object(c.a)(Pt,2),Dt=wt[0],It=wt[1];Object(B.c)({control:Ct,name:"buttons"}).fields;u.a.useEffect((function(){At("body",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("category",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("language",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("name",{validate:function(e){return e&&null!==(e||"").match("^[a-z0-9_]+$")||oe(H.a.nametemplate_validation)}}),At("namespace",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("templatetype",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("type",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("typeattachment"),At("fromprovider"),At("externalid"),At("externalstatus"),At("communicationchannelid"),At("communicationchanneltype"),At("servicecredentials"),At("integrationid"),At("exampleparameters")}),[ne,At]),Object(s.useEffect)((function(){Promise.all([n.e(12),n.e(101)]).then(n.bind(null,1356)).then((function(e){ge([e.html({matchClosingTags:!0})])}))}),[]),Object(s.useEffect)((function(){!Ve&&Ze&&Xe(!0)}),[Ve,Ze]),Object(s.useEffect)((function(){if(ut)if(be.loading||be.error){if(be.error){var e=oe(be.code||"error_unexpected_error",{module:oe(H.a.messagetemplate).toLocaleLowerCase()});le(Object(z.e)({show:!0,severity:"error",message:e})),le(Object(z.d)(!1)),dt(!1)}}else le(Object(z.e)({show:!0,severity:"success",message:oe(te?H.a.successful_edit:H.a.successful_register)})),ie(),le(Object(z.d)(!1)),ae("view-1")}),[be,ut]),Object(s.useEffect)((function(){if(lt)if(je.loading||je.error){if(je.error){var e=oe(je.code||"error_unexpected_error",{module:oe(H.a.messagetemplate).toLocaleLowerCase()});le(Object(z.e)({show:!0,severity:"error",message:e})),le(Object(z.d)(!1)),ot(!1)}}else le(Object(z.e)({show:!0,severity:"success",message:oe(te?H.a.successful_edit:H.a.successful_register)})),ie(),le(Object(z.d)(!1)),ae("view-1")}),[je,lt]),Object(s.useEffect)((function(){ft&&(fe.loading||fe.error?fe.error&&vt(!1):(Nt("attachment",(kt("attachment")?[kt("attachment"),(null===fe||void 0===fe?void 0:fe.url)||""]:[(null===fe||void 0===fe?void 0:fe.url)||""]).join(",")),vt(!1)))}),[ft,fe]);var Ft=_t((function(e){if("MAIL"===e.type){if(e.body=Object(G.b)(Object(G.c)(ke)),'<div data-reactroot=""><p><span></span></p></div>'===e.body)return void Ae(oe(H.a.field_required));Ae("")}if("HTML"===e.type){if(!e.body)return void Ae(oe(H.a.field_required));Ae("")}if(Ve&&Ze){le(Object(z.a)({visible:!0,question:oe(H.a.confirmation_save),callback:function(){if("MAIL"===e.type){if(e.body=Object(G.b)(Object(G.c)(ke)),'<div data-reactroot=""><p><span></span></p></div>'===e.body)return void Ae(oe(H.a.field_required));Ae("")}if("HTML"===e.type){if(!e.body)return void Ae(oe(H.a.field_required));Ae("")}le(Object(W.b)(Object(l.a)(Object(l.a)({},e),{},{bodyobject:ke}))),le(Object(z.d)(!0)),dt(!0)}}))}else{le(Object(z.a)({visible:!0,question:oe(H.a.confirmation_save),callback:function(){if("MAIL"===e.type){if(e.body=Object(G.b)(Object(G.c)(ke)),'<div data-reactroot=""><p><span></span></p></div>'===e.body)return void Ae(oe(H.a.field_required));Ae("")}if("HTML"===e.type){if(!e.body)return void Ae(oe(H.a.field_required));Ae("")}le(Object(F.c)(Object(I.cg)(Object(l.a)(Object(l.a)({},e),{},{bodyobject:ke})))),le(Object(z.d)(!0)),ot(!0)}}))}}));Object(s.useEffect)((function(){if(te){te.fromprovider&&te.communicationchanneltype?at("WHAT"!==te.communicationchanneltype):at(!1);var e=(null===te||void 0===te?void 0:te.type)||"HSM";"HSM"===e?(At("name",{validate:function(e){return e&&null!==(e||"").match("^[a-z0-9_]+$")||oe(H.a.nametemplate_validation)}}),At("namespace",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("body",{validate:function(e){return e&&(e||"").length<=1024||""+oe(H.a.validationchar)}}),At("header",{validate:function(e){return!0}}),At("footer",{validate:function(e){return!0}}),(null===te||void 0===te?void 0:te.headerenabled)&&At("header",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),(null===te||void 0===te?void 0:te.footerenabled)&&At("footer",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),Rt()):(At("name",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("namespace",{validate:function(e){return!0}}),"SMS"===e?(At("header",{validate:function(e){return!0}}),At("body",{validate:function(e){return e&&(e||"").length<=160||""+oe(H.a.validationchar)}}),At("footer",{validate:function(e){return!0}})):(At("header",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("body",{validate:function(e){return!0}}),At("footer",{validate:function(e){return!0}})))}}),[te]);var Rt=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kt("headerenabled")?At("header",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}):At("header",{validate:function(e){return!0}}),kt("footerenabled")?At("footer",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}):At("footer",{validate:function(e){return!0}}),e.next=4,Lt("header");case 4:return e.next=6,Lt("footer");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nt("templatetype",(null===t||void 0===t?void 0:t.value)||""),e.next=3,Lt("templatetype");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.value,Nt("headerenabled",n||!kt("headerenabled")),e.next=4,Lt("headerenabled");case 4:return e.next=6,Lt("header");case 6:return e.next=8,Rt();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zt=function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.value,Nt("footerenabled",n||!kt("footerenabled")),e.next=4,Lt("footerenabled");case 4:return e.next=6,Lt("footer");case 6:return e.next=8,Rt();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.value,Nt("buttonsenabled",n||!kt("buttonsenabled")),e.next=4,Lt("buttonsenabled");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nt("headertype",(null===t||void 0===t?void 0:t.value)||""),e.next=3,Lt("headertype");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(e,t,n){Nt("buttons.".concat(e,".").concat(t),n)},Vt=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kt("buttons")&&kt("buttons").length<3&&Nt("buttons",[].concat(Object(o.a)(kt("buttons")),[{title:"",type:"",payload:""}])),e.next=3,Lt("buttons");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=kt("buttons"))&&t.length>0&&(St("buttons.".concat(t.length-1)),Nt("buttons",t.filter((function(e,n){return n!==t.length-1})))),e.next=4,Lt("buttons");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wt=Object(s.useCallback)((function(){document.getElementById("attachmentInput").click()}),[]),Zt=Object(s.useCallback)((function(e){var t=null===e||void 0===e?void 0:e.item(0);if(t){we(t);var n=new FormData;n.append("file",t,t.name),le(Object(F.I)(n)),vt(!0)}}),[]);Object(s.useEffect)((function(){if(Fe){var e=new FileReader;e.readAsText(Fe),e.onload=function(e){var t=e.target.result.toString();Nt("body",t),Ee(t)}}}),[Fe]);var Yt,Qt,Jt=Object(s.useCallback)((function(e){var t=null===e||void 0===e?void 0:e.item(0);t&&Re(t)}),[]),$t=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=document.getElementById("attachmentInput"))&&(n.value=""),we(null),Nt("attachment",kt("attachment").split(",").filter((function(e){return e!==t})).join(",")),e.next=6,Lt("attachment");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&Ze||Nt("category",""),t?(Ye(!0),Nt("fromprovider",!0),Nt("externalid",""),Nt("externalstatus","PENDING"),Nt("communicationchannelid",t.communicationchannelid),Nt("communicationchanneltype",t.type),Nt("exampleparameters",""),Nt("servicecredentials",t.servicecredentials),Nt("integrationid",t.integrationid),Nt("fromprovider",!0),"WHAT"===t.type?at(!1):(at(!0),Nt("namespace","-"))):(Ye(!1),Nt("fromprovider",!1),Nt("externalid",""),Nt("externalstatus","NONE"),Nt("communicationchannelid",0),Nt("communicationchanneltype",""),Nt("exampleparameters",""),Nt("servicecredentials",""),Nt("integrationid",""),Nt("fromprovider",!1),at(!1)),Lt("fromprovider"),Lt("externalid"),Lt("externalstatus"),Lt("communicationchannelid"),Lt("communicationchanneltype"),Lt("exampleparameters"),Lt("servicecredentials"),Lt("integrationid"),Lt("fromprovider");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Z.jsx)("div",{style:{width:"100%"},children:Object(Z.jsxs)("form",{onSubmit:Ft,children:[Object(Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)(R.L,{breadcrumbs:(Yt=oe(H.a.messagetemplate),Qt=oe(H.a.messagetemplatedetail),[{id:"view-1",name:Yt},{id:"view-2",name:Qt}]),handleClick:ae}),Object(Z.jsx)(R.R,{title:te?"".concat(te.name):oe(H.a.newmessagetemplate)})]}),Object(Z.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(Z.jsx)(v.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(Z.jsx)(O.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return ae("view-1")},children:oe(H.a.back)}),Object(Z.jsx)(v.a,{className:ce.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(Z.jsx)(_.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},disabled:ft,children:oe(H.a.save)})]})]}),Object(Z.jsxs)("div",{className:ce.containerDetail,children:[(null===te||void 0===te?void 0:te.showid)&&Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsx)(R.v,{label:oe(H.a.messagetemplateid),value:te&&te.id||"",className:"col-12"})}),Object(Z.jsxs)("div",{className:"row-zyx",children:[Object(Z.jsx)(R.u,{className:"col-6",data:Ot,error:null===Mt||void 0===Mt||null===(t=Mt.type)||void 0===t?void 0:t.message,label:oe(H.a.messagetype),onChange:function(e){switch("MAIL"===kt("type")&&"MAIL"!==((null===e||void 0===e?void 0:e.value)||"")&&Nt("body",Object(I.Og)(ke)),Ye(!1),Nt("fromprovider",!1),Nt("externalid",""),Nt("externalstatus",""),Nt("communicationchannelid",0),Nt("communicationchanneltype",""),Nt("exampleparameters",""),Nt("servicecredentials",""),Nt("integrationid",""),Nt("fromprovider",!1),Lt("fromprovider"),Lt("externalid"),Lt("externalstatus"),Lt("communicationchannelid"),Lt("communicationchanneltype"),Lt("exampleparameters"),Lt("servicecredentials"),Lt("integrationid"),Lt("fromprovider"),Nt("type",(null===e||void 0===e?void 0:e.value)||""),Lt("type"),(null===e||void 0===e?void 0:e.value)||"HSM"){case"HSM":Nt("body",""),At("name",{validate:function(e){return e&&null!==(e||"").match("^[a-z0-9_]+$")||oe(H.a.nametemplate_validation)}}),At("namespace",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("body",{validate:function(e){return e&&(e||"").length<=1024||""+oe(H.a.validationchar)}}),At("header",{validate:function(e){return!0}}),At("footer",{validate:function(e){return!0}}),kt("headerenabled")&&At("header",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),kt("footerenabled")&&At("footer",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),It(!1),Rt();break;case"MAIL":case"HTML":Nt("body",""),Nt("namespace",""),At("name",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("namespace",{validate:function(e){return!0}}),At("header",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("body",{validate:function(e){return!0}}),At("footer",{validate:function(e){return!0}}),Ht({value:"STANDARD"}),It(!0);break;case"SMS":Nt("body",""),Nt("namespace",""),At("name",{validate:function(e){return e&&e.length||oe(H.a.field_required)}}),At("namespace",{validate:function(e){return!0}}),At("header",{validate:function(e){return!0}}),At("body",{validate:function(e){return e&&(e||"").length<=160||""+oe(H.a.validationchar)}}),At("footer",{validate:function(e){return!0}}),Ht({value:"STANDARD"}),It(!0)}},optionDesc:"text",optionValue:"value",valueDefault:kt("type"),disabled:$e}),Object(Z.jsx)(R.l,{className:"col-6",error:null===Mt||void 0===Mt||null===(a=Mt.name)||void 0===a?void 0:a.message,label:oe(H.a.name),onChange:function(e){return Nt("name",e)},valueDefault:kt("name"),disabled:$e})]}),Object(Z.jsxs)("div",{className:"row-zyx",children:[Ze&&Object(Z.jsxs)(Z.Fragment,{children:[Ve&&Object(Z.jsx)(R.u,{className:"col-6",data:pt,error:null===Mt||void 0===Mt||null===(d=Mt.category)||void 0===d?void 0:d.message,label:oe(H.a.category),onChange:function(e){return Nt("category",null===e||void 0===e?void 0:e.value)},optionDesc:"description",optionValue:"value",valueDefault:kt("category"),disabled:$e}),!Ve&&Object(Z.jsx)(R.v,{className:"col-6",label:oe(H.a.category),value:te?oe("TEMPLATE_".concat(te.category)):""})]}),!Ze&&Object(Z.jsx)(R.u,{className:"col-6",data:se,error:null===Mt||void 0===Mt||null===(j=Mt.category)||void 0===j?void 0:j.message,label:oe(H.a.category),onChange:function(e){return Nt("category",null===e||void 0===e?void 0:e.domainvalue)},optionDesc:"domaindesc",optionValue:"domainvalue",valueDefault:kt("category"),disabled:$e}),Ze&&Object(Z.jsx)(R.u,{className:"col-6",data:gt,error:null===Mt||void 0===Mt||null===(p=Mt.language)||void 0===p?void 0:p.message,label:oe(H.a.language),onChange:function(e){return Nt("language",null===e||void 0===e?void 0:e.value)},optionDesc:"description",optionValue:"value",valueDefault:kt("language"),disabled:$e}),!Ze&&Object(Z.jsx)(R.u,{className:"col-6",data:ue,error:null===Mt||void 0===Mt||null===(g=Mt.language)||void 0===g?void 0:g.message,label:oe(H.a.language),onChange:function(e){return Nt("language",null===e||void 0===e?void 0:e.domainvalue)},optionDesc:"domaindesc",optionValue:"domainvalue",uset:!0,valueDefault:kt("language"),disabled:$e})]}),"HSM"===kt("type")&&Object(Z.jsxs)("div",{className:"row-zyx",children:[Object(Z.jsx)(R.u,{className:"col-6",data:de,error:null===Mt||void 0===Mt||null===(E=Mt.communicationchannelid)||void 0===E?void 0:E.message,label:oe(H.a.messagetemplate_fromprovider),onChange:function(e){return Xt(e)},optionDesc:"communicationchanneldesc",optionValue:"communicationchannelid",valueDefault:kt("communicationchannelid"),disabled:!Ve||$e}),Object(Z.jsx)(R.u,{className:"col-6",data:mt,error:null===Mt||void 0===Mt||null===(T=Mt.externalstatus)||void 0===T?void 0:T.message,label:oe(H.a.messagetemplate_externalstatus),optionDesc:"description",optionValue:"value",valueDefault:kt("externalstatus"),disabled:!0})]}),"HSM"===kt("type")&&Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsx)(R.l,{className:"col-12",error:null===Mt||void 0===Mt||null===(A=Mt.namespace)||void 0===A?void 0:A.message,label:oe(H.a.namespace),onChange:function(e){return Nt("namespace",e)},valueDefault:kt("namespace"),disabled:nt})}),Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsx)(R.u,{className:"col-12",data:ht,disabled:Dt||$e,error:null===Mt||void 0===Mt||null===(N=Mt.templatetype)||void 0===N?void 0:N.message,label:oe(H.a.templatetype),onChange:Ht,optionDesc:"text",optionValue:"value",valueDefault:kt("templatetype")})}),"MULTIMEDIA"===kt("templatetype")&&"HSM"===kt("type")&&Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsxs)(u.a.Fragment,{children:[Object(Z.jsx)(v.a,{className:ce.mediabutton,onClick:function(){return Ut()},startIcon:Object(Z.jsx)(m.a,{htmlColor:"#FFFFFF"}),style:{backgroundColor:kt("headerenabled")?"#000000":"#AAAAAA",color:"#FFFFFF"},type:"button",variant:"contained",disabled:$e,children:oe(H.a.header)}),Object(Z.jsx)(v.a,{className:ce.mediabutton,startIcon:Object(Z.jsx)(m.a,{htmlColor:"#FFFFFF"}),style:{backgroundColor:"#000000",color:"#FFFFFF"},type:"button",variant:"contained",disabled:$e,children:oe(H.a.body)}),Object(Z.jsx)(v.a,{className:ce.mediabutton,onClick:function(){return zt()},startIcon:Object(Z.jsx)(m.a,{htmlColor:"#FFFFFF"}),style:{backgroundColor:kt("footerenabled")?"#000000":"#AAAAAA",color:"#FFFFFF"},type:"button",variant:"contained",disabled:$e,children:oe(H.a.footer)}),Object(Z.jsx)(v.a,{className:ce.mediabutton,onClick:function(){return Gt()},startIcon:Object(Z.jsx)(m.a,{htmlColor:"#FFFFFF"}),style:{backgroundColor:kt("buttonsenabled")?"#000000":"#AAAAAA",color:"#FFFFFF"},type:"button",variant:"contained",disabled:$e,children:oe(H.a.buttons)})]})}),"MULTIMEDIA"===kt("templatetype")&&kt("headerenabled")&&"HSM"===kt("type")&&Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsxs)(u.a.Fragment,{children:[Object(Z.jsx)(R.u,{className:ce.headerType,data:xt,label:oe(H.a.headertype),onChange:qt,optionDesc:"text",optionValue:"value",disabled:$e,valueDefault:kt("headertype")}),Object(Z.jsx)(R.l,{className:ce.headerText,error:null===Mt||void 0===Mt||null===(L=Mt.header)||void 0===L?void 0:L.message,label:oe(H.a.header),onChange:function(e){return Nt("header",e)},valueDefault:kt("header"),disabled:$e&&"text"===kt("header")})]})}),("SMS"===kt("type")||"HSM"===kt("type"))&&Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsx)(R.o,{className:"col-12",error:null===Mt||void 0===Mt||null===(M=Mt.body)||void 0===M?void 0:M.message,label:oe(H.a.body),maxLength:"SMS"===kt("type")?160:1024,onChange:function(e){return Nt("body",e)},valueDefault:kt("body"),disabled:$e})}),"MULTIMEDIA"===kt("templatetype")&&kt("footerenabled")&&"HSM"===kt("type")&&Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsx)(R.o,{className:"col-12",error:null===Mt||void 0===Mt||null===(P=Mt.footer)||void 0===P?void 0:P.message,label:oe(H.a.footer),maxLength:60,onChange:function(e){return Nt("footer",e)},rows:2,valueDefault:kt("footer"),disabled:$e})}),"MULTIMEDIA"===kt("templatetype")&&kt("buttonsenabled")&&"HSM"===kt("type")&&Object(Z.jsxs)("div",{className:"row-zyx",style:{alignItems:"flex-end"},children:[Object(Z.jsx)(R.v,{className:ce.buttonTitle,label:oe(H.a.buttons)}),(null===(w=kt("buttons"))||void 0===w?void 0:w.length)<3&&Object(Z.jsx)(v.a,{className:ce.btnButton,color:"primary",onClick:function(){return Vt()},startIcon:Object(Z.jsx)(b.a,{color:"primary"}),style:{margin:"10px"},type:"button",variant:"outlined",disabled:$e,children:oe(H.a.addbutton)}),(null===(D=kt("buttons"))||void 0===D?void 0:D.length)>0&&Object(Z.jsx)(v.a,{className:ce.btnButton,color:"primary",onClick:function(){return Kt()},startIcon:Object(Z.jsx)(C.a,{color:"primary"}),style:{margin:"10px"},type:"button",variant:"outlined",disabled:$e,children:oe(H.a.removebutton)})]}),"MULTIMEDIA"===kt("templatetype")&&kt("buttonsenabled")&&"HSM"===kt("type")&&Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsx)(u.a.Fragment,{children:null===(U=kt("buttons"))||void 0===U?void 0:U.map((function(e,t){var n,a,r,i,o,c,s,u,d;return Object(Z.jsxs)("div",{className:"col-4",children:[Object(Z.jsx)(R.l,{className:ce.mb1,error:null===Mt||void 0===Mt||null===(n=Mt.buttons)||void 0===n||null===(a=n[t])||void 0===a||null===(r=a.title)||void 0===r?void 0:r.message,fregister:Object(l.a)({},At("buttons.".concat(t,".title"),{validate:function(e){return e&&e.length||oe(H.a.field_required)}})),label:oe(H.a.title),onChange:function(e){return Bt(t,"title",e)},valueDefault:(null===e||void 0===e?void 0:e.title)||"",disabled:$e}),Object(Z.jsx)(R.u,{className:ce.mb1,data:Et,error:null===Mt||void 0===Mt||null===(i=Mt.buttons)||void 0===i||null===(o=i[t])||void 0===o||null===(c=o.type)||void 0===c?void 0:c.message,fregister:Object(l.a)({},At("buttons.".concat(t,".type"),{validate:function(e){return e&&e.length||oe(H.a.field_required)}})),label:oe(H.a.type),onChange:function(e){return Bt(t,"type",null===e||void 0===e?void 0:e.value)},optionDesc:"text",optionValue:"value",valueDefault:(null===e||void 0===e?void 0:e.type)||"",disabled:$e}),Object(Z.jsx)(R.l,{className:ce.mb1,error:null===Mt||void 0===Mt||null===(s=Mt.buttons)||void 0===s||null===(u=s[t])||void 0===u||null===(d=u.payload)||void 0===d?void 0:d.message,fregister:Object(l.a)({},At("buttons.".concat(t,".payload"),{validate:function(e){return e&&e.length||oe(H.a.field_required)}})),label:oe(H.a.payload),onChange:function(e){return Bt(t,"payload",e)},valueDefault:(null===e||void 0===e?void 0:e.payload)||"",disabled:$e})]},"btn-".concat(t))}))})}),("MAIL"===kt("type")||"HTML"===kt("type"))&&Object(Z.jsxs)("div",{className:"row-zyx",children:[Object(Z.jsx)(R.l,{className:"col-6",error:null===Mt||void 0===Mt||null===(J=Mt.header)||void 0===J?void 0:J.message,label:oe(H.a.subject),onChange:function(e){return Nt("header",e)},valueDefault:kt("header"),disabled:$e}),Object(Z.jsx)(R.u,{className:"col-6",data:yt,error:null===Mt||void 0===Mt||null===($=Mt.priority)||void 0===$?void 0:$.message,label:oe(H.a.priority),onChange:function(e){return Nt("priority",null===e||void 0===e?void 0:e.value)},optionDesc:"text",optionValue:"value",valueDefault:kt("priority"),disabled:$e})]}),"MAIL"===kt("type")&&Object(Z.jsx)("div",{className:"row-zyx",children:Object(Z.jsxs)(u.a.Fragment,{children:[Object(Z.jsx)(k.a,{fontWeight:500,lineHeight:"18px",fontSize:14,mb:1,color:"textPrimary",children:oe(H.a.body)}),Object(Z.jsx)(G.a,{onChange:function(e){Se(e)},spellCheck:!0,style:{borderStyle:"solid",borderWidth:"1px",borderColor:"#762AA9",borderRadius:"4px",padding:"10px"},value:ke}),Object(Z.jsx)(R.l,{className:ce.headerText,disabled:!0,error:Ce,label:""})]})}),"HTML"===kt("type")&&Object(Z.jsxs)("div",{className:"row-zyx",children:[Object(Z.jsx)(v.a,{component:"label",variant:"contained",disabled:$e,children:Object(Z.jsx)("input",{accept:".html",onChange:function(e){return Jt(e.target.files)},type:"file"})}),Object(Z.jsx)(R.l,{className:ce.headerText,disabled:!0,error:Ce,label:""})]}),"HTML"===kt("type")&&Object(Z.jsx)("div",{className:"row-zyx",children:xe&&Object(Z.jsxs)(u.a.Fragment,{children:[Object(Z.jsxs)(x.a,{onClick:function(){return Ge(!ze)},disabled:$e,children:[Object(Z.jsx)(h.a,{color:"inherit",children:Object(Z.jsx)(y.a,{style:{width:16,color:"#7721AD"},fontSize:"small"})}),Object(Z.jsx)("div",{style:{fontSize:16},children:oe(ze?H.a.messagetemplate_changetoview:H.a.messagetemplate_changetoeditor)})]}),ze?Object(Z.jsx)(s.Suspense,{fallback:Object(Z.jsx)("div",{children:"Loading..."}),children:Object(Z.jsx)(Y,{value:kt("body"),height:"600px",onChange:function(e){Nt("body",e||""),Ee(e||"")},extensions:me})}):Object(Z.jsx)("div",{style:{borderStyle:"solid",borderWidth:"1px",borderColor:"#762AA9",borderRadius:"4px",padding:"20px"},dangerouslySetInnerHTML:{__html:xe}})]})}),("MAIL"===kt("type")||"HTML"===kt("type"))&&Object(Z.jsxs)("div",{className:"row-zyx",children:[Object(Z.jsx)(R.v,{label:oe(H.a.messagetemplate_attachment)}),Object(Z.jsxs)(u.a.Fragment,{children:[Object(Z.jsx)("input",{accept:"file/*",id:"attachmentInput",onChange:function(e){return Zt(e.target.files)},style:{display:"none"},type:"file",disabled:$e}),Object(Z.jsx)(S.a,{disabled:ft||$e,onClick:Wt,style:{borderRadius:"0px"},children:Object(Z.jsx)(f.a,{color:"primary"})}),!!kt("attachment")&&kt("attachment").split(",").map((function(e,t){return Object(Z.jsx)(ee,{src:e,onClose:function(e){return $t(e)}},"attachment-".concat(t))})),ft&&Pe&&Object(Z.jsx)(ee,{src:Pe},"attachment-x")]})]})]})]})})},X=Object(U.a)((function(e){return{btnContainer:{color:"lightgrey",display:"flex",flexDirection:"column",justifyContent:"center"},infoContainer:{display:"flex",flexDirection:"column",height:"100%"},root:{alignItems:"center",backgroundColor:"white",borderRadius:4,display:"flex",flexDirection:"row",margin:e.spacing(1),maxHeight:80,maxWidth:300,overflow:"hidden",padding:e.spacing(1),width:"fit-content"}}})),ee=function(e){var t=e.src,n=e.onClose,a=X(),r=Object(s.useCallback)((function(){return"string"===typeof t&&t.includes("http")}),[t]),i=Object(s.useCallback)((function(){if(r()){var e=t.match(/.*\/(.+?)\./);return e&&e.length>1?e[1]:""}return t.name}),[r,t]),l=Object(s.useCallback)((function(){var e,n,a;return r()?(null===(a=t.split(".").pop())||void 0===a?void 0:a.toUpperCase())||"-":(null===(e=t.name)||void 0===e||null===(n=e.split(".").pop())||void 0===n?void 0:n.toUpperCase())||"-"}),[r,t]);return Object(Z.jsxs)(L.a,{className:a.root,elevation:2,children:[Object(Z.jsx)(P.a,{}),Object(Z.jsx)("div",{style:{width:"0.5em"}}),Object(Z.jsx)("div",{className:a.infoContainer,children:Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{style:{fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",maxWidth:190,whiteSpace:"nowrap"},children:i()}),l()]})}),Object(Z.jsx)("div",{style:{width:"0.5em"}}),!r()&&!n&&Object(Z.jsx)(M.a,{color:"primary"}),Object(Z.jsxs)("div",{className:a.btnContainer,children:[n&&Object(Z.jsx)(S.a,{size:"small",onClick:function(){return n(t)},children:Object(Z.jsx)(w.a,{})}),r()&&Object(Z.jsx)("div",{style:{height:"10%"}}),r()&&Object(Z.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",download:"".concat(i(),".").concat(l()),children:Object(Z.jsx)(S.a,{size:"small",children:Object(Z.jsx)(D.a,{})})})]})]})};t.default=function(){var e=Object(q.c)(),t=Object(K.a)().t,n=Object(V.b)((function(e){return e.main.execute})),a=Object(V.b)((function(e){return e.main})),r=Object(V.b)((function(e){return e.main.memoryTable})),i=Object(V.b)((function(e){return e.channel.requestSynchronizeTemplate})),d=Object(V.b)((function(e){return e.channel.requestDeleteTemplate})),b=Object(s.useState)([]),j=Object(c.a)(b,2),f=j[0],p=j[1],m=Object(s.useState)(null),g=Object(c.a)(m,2),O=g[0],h=g[1],x=Object(s.useState)({row:null,edit:!1}),E=Object(c.a)(x,2),T=E[0],C=E[1],A=Object(s.useState)(!1),_=Object(c.a)(A,2),k=_[0],S=_[1],L=Object(s.useState)("view-1"),M=Object(c.a)(L,2),P=M[0],w=M[1],D=Object(s.useState)(!1),U=Object(c.a)(D,2),G=U[0],B=U[1],Y=Object(s.useState)(!1),Q=Object(c.a)(Y,2),X=Q[0],ee=Q[1],te=Object(s.useState)(!1),ne=Object(c.a)(te,2),ae=ne[0],re=ne[1],ie=u.a.useMemo((function(){return[{accessor:"id",isComponent:!0,minWidth:60,NoFilter:!0,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(Z.jsx)(R.M,{viewFunction:function(){return oe(t)},deleteFunction:function(){return se(t)},editFunction:function(){return ce(t)}})}},{accessor:"createdate",Header:t(H.a.creationdate),NoFilter:!0,Cell:function(e){var t=e.cell.row.original;return Object(Z.jsx)("div",{children:Object(I.Q)(t.createdate)})}}].concat(Object(o.a)(k?[{accessor:"templateid",Header:t(H.a.messagetemplateid),NoFilter:!0,Cell:function(e){var t=e.cell.row.original;return t.showid?t.id:null}}]:[]),[{accessor:"type",Header:t(H.a.type),prefixTranslation:"messagetemplate_",NoFilter:!0},{accessor:"templatetype",Header:t(H.a.templatetype),prefixTranslation:"messagetemplate_",NoFilter:!0},{accessor:"name",Header:t(H.a.name),NoFilter:!0},{accessor:"namespace",Header:t(H.a.namespace),NoFilter:!0},{accessor:"status",Header:t(H.a.status),prefixTranslation:"status_",NoFilter:!0,Cell:function(e){var n=e.cell.row.original.status;return(t("status_".concat(n).toLowerCase())||"").toUpperCase()}},{accessor:"fromprovider",Header:t(H.a.messagetemplate_fromprovider),NoFilter:!0,Cell:function(e){var n=e.cell.row.original.fromprovider;return t(n?H.a.yes:H.a.no).toUpperCase()}},{accessor:"externalstatus",Header:t(H.a.messagetemplate_externalstatus),NoFilter:!0,Cell:function(e){var n=e.cell.row.original.externalstatus;return t(n?"TEMPLATE_".concat(n):H.a.none).toUpperCase()}}])}),[k]),le=function(){return e(Object(F.g)(Object(I.ud)(0)))};Object(s.useEffect)((function(){return le(),e(Object(F.G)({id:J})),e(Object(F.p)([Object(I.Ke)("MESSAGETEMPLATECATEGORY"),Object(I.Ke)("LANGUAGE"),Object(I.Vg)()])),function(){e(Object(F.t)()),e(Object(F.a)())}}),[]),Object(s.useEffect)((function(){if(G)if(n.loading||n.error){if(n.error){var a=t(n.code||"error_unexpected_error",{module:t(H.a.messagetemplate).toLocaleLowerCase()});e(Object(z.e)({show:!0,severity:"error",message:a})),e(Object(z.d)(!1)),B(!1)}}else e(Object(z.e)({show:!0,severity:"success",message:t(H.a.successful_delete)})),le(),e(Object(z.d)(!1)),B(!1)}),[n,G]),Object(s.useEffect)((function(){if(ae)if(d.loading||d.error){if(d.error){var n=t(d.code||"error_unexpected_error",{module:t(H.a.messagetemplate).toLocaleLowerCase()});e(Object(z.e)({show:!0,severity:"error",message:n})),e(Object(z.d)(!1)),re(!1)}}else e(Object(z.e)({show:!0,severity:"success",message:t(H.a.successful_delete)})),le(),e(Object(z.d)(!1)),re(!1)}),[d,ae]),Object(s.useEffect)((function(){var e;a.mainData.data.length>0&&S(null===(e=a.mainData.data[0])||void 0===e?void 0:e.showid)}),[a.mainData.data]),Object(s.useEffect)((function(){a.multiData.data.length>0&&a.multiData.data[2]&&a.multiData.data[2].success&&p(a.multiData.data[2].data||[])}),[a.multiData.data]),Object(s.useEffect)((function(){X&&(i.loading||i.error?i.error&&(e(Object(z.e)({show:!0,severity:"error",message:t(i.code||"error_unexpected_error")})),e(Object(z.d)(!1)),le(),ee(!1)):(e(Object(z.e)({show:!0,severity:"success",message:t(i.code||"success")})),e(Object(z.d)(!1)),le(),ee(!1)))}),[i,X]);var oe=function(e){w("view-2"),C({row:e,edit:!1})},ce=function(e){w("view-2"),C({row:e,edit:!0})},se=function(n){if(null===n||void 0===n?void 0:n.fromprovider){e(Object(z.a)({visible:!0,question:t(H.a.confirmation_delete),callback:function(){e(Object(W.e)(Object(l.a)(Object(l.a)({},n),{},{operation:"DELETE",status:"ELIMINADO",id:n.id}))),e(Object(z.d)(!0)),re(!0)}}))}else{e(Object(z.a)({visible:!0,question:t(H.a.confirmation_delete),callback:function(){e(Object(F.c)(Object(I.cg)(Object(l.a)(Object(l.a)({},n),{},{operation:"DELETE",status:"ELIMINADO",id:n.id})))),e(Object(z.d)(!0)),B(!0)}}))}};return"view-1"===P?a.mainData.error?Object(Z.jsx)("h1",{children:"ERROR"}):Object(Z.jsx)(N.f,{onClickRow:ce,ButtonsElement:function(){return Object(Z.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(Z.jsx)(R.u,{label:t(H.a.communicationchannel),style:{width:300},valueDefault:null===O||void 0===O?void 0:O.communicationchannelid,variant:"outlined",optionDesc:"communicationchanneldesc",optionValue:"communicationchannelid",data:f,onChange:function(e){h(e)}}),Object(Z.jsx)(v.a,{disabled:!O,variant:"contained",color:"primary",style:{width:140,backgroundColor:"#55BD84"},startIcon:Object(Z.jsx)(y.a,{style:{color:"white"}}),onClick:function(){var n;n=O,e(Object(z.a)({visible:!0,question:t(H.a.messagetemplate_synchronize_alert01)+"".concat(n.communicationchanneldesc," (").concat(n.phone,")")+t(H.a.messagetemplate_synchronize_alert02),callback:function(){e(Object(W.u)(n)),e(Object(z.d)(!0)),ee(!0)}}))},children:t(H.a.messagetemplate_synchronize)})]})},columns:ie,titlemodule:t(H.a.messagetemplate_plural,{count:2}),data:a.mainData.data,download:!0,loading:a.mainData.loading,register:!0,handleRegister:function(){w("view-2"),C({row:null,edit:!0})},pageSizeDefault:J===r.id?-1===r.pageSize?20:r.pageSize:20,initialPageIndex:J===r.id?-1===r.page?0:r.page:0,initialStateFilter:J===r.id?Object.entries(r.filters).map((function(e){var t=Object(c.a)(e,2);return{id:t[0],value:t[1]}})):void 0}):Object(Z.jsx)($,{data:T,setViewSelected:w,multiData:a.multiData.data,fetchData:le})}},781:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"m",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"n",(function(){return j})),n.d(t,"t",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"o",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"p",(function(){return g})),n.d(t,"k",(function(){return O})),n.d(t,"s",(function(){return h})),n.d(t,"j",(function(){return x})),n.d(t,"r",(function(){return E})),n.d(t,"i",(function(){return y})),n.d(t,"q",(function(){return T})),n.d(t,"u",(function(){return C})),n.d(t,"b",(function(){return A})),n.d(t,"e",(function(){return _})),n.d(t,"l",(function(){return N}));var a=n(24),r=n.n(a),i=n(39),l=n(28),o=n(30),c=function(e,t){return{callAPI:function(){return l.d.getPagelist(e,t)},types:{loading:o.a.CHANNELS,success:o.a.CHANNELS_SUCCESS,failure:o.a.CHANNELS_FAILURE},type:null}},s=function(e){return{callAPI:function(){return l.d.insertchnl(e)},types:{loading:o.a.CHANNELS,success:o.a.CHANNELS_INSERTSUCCESS,failure:o.a.CHANNELS_FAILURE},type:null}},u=function(e){return{callAPI:function(){return l.d.activateChannel(e)},types:{loading:o.a.ACTIVATECHANNEL,success:o.a.ACTIVATECHANNEL_SUCCESS,failure:o.a.ACTIVATECHANNEL_FAILURE},type:null}},d=function(e){return{callAPI:function(){return l.d.deletechnl(e)},types:{loading:o.a.CHANNELS,success:o.a.CHANNELS_INSERTSUCCESS,failure:o.a.CHANNELS_FAILURE},type:null}},b=function(e){return{callAPI:function(){return l.d.checkPaymentPlan(e)},types:{loading:o.a.CHECK_PAYMENTPLAN,success:o.a.CHECK_PAYMENTPLAN_SUCCESS,failure:o.a.CHECK_PAYMENTPLAN_FAILURE},type:null}},j=function(e){return{callAPI:function(){var t=Object(i.a)(r.a.mark((function t(){var n,a,i,o,c,s,u,d,b,j,f,v;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.service.interface.iconbutton,a=e.service.interface.iconheader,i=e.service.interface.iconbot,o=e.service.bubble.iconbubble,c="",s="",u="",d="",!n){t.next=14;break}return(b=new FormData).append("file",n,n.name),t.next=13,l.e.uploadFile(b);case 13:c=t.sent.data.url;case 14:if(!a){t.next=20;break}return(j=new FormData).append("file",a,a.name),t.next=19,l.e.uploadFile(j);case 19:s=t.sent.data.url;case 20:if(!i){t.next=26;break}return(f=new FormData).append("file",i,i.name),t.next=25,l.e.uploadFile(f);case 25:u=t.sent.data.url;case 26:if(!o){t.next=32;break}return(v=new FormData).append("file",o,o.name),t.next=31,l.e.uploadFile(v);case 31:d=t.sent.data.url;case 32:return e.service.interface.iconbutton=c,e.service.interface.iconheader=s,e.service.interface.iconbot=u,e.service.bubble.iconbubble=d,t.abrupt("return",l.d.insertchnl(e));case 37:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),types:{loading:o.a.INSERT_CHANNEL,failure:o.a.INSERT_CHANNEL_FAILURE,success:o.a.INSERT_CHANNEL_SUCCESS},type:null}},f=function(){return{type:o.a.INSERT_CHANNEL_RESET}},v=function(e,t){return{callAPI:function(){var n=Object(i.a)(r.a.mark((function n(){var a,i,o,c,s,u,d,b,j;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("CHAZ"!==t&&"SMOOCHANDROID"!==t){n.next=35;break}if(a=e.service,i=a.interface.iconbutton,o=a.interface.iconheader,c=a.interface.iconbot,s=a.bubble.iconbubble,!i||"object"!==typeof i){n.next=12;break}return(u=new FormData).append("file",i,i.name),n.next=11,l.e.uploadFile(u);case 11:i=n.sent.data.url;case 12:if(!o||"object"!==typeof o){n.next=18;break}return(d=new FormData).append("file",o,o.name),n.next=17,l.e.uploadFile(d);case 17:o=n.sent.data.url;case 18:if(!c||"object"!==typeof c){n.next=24;break}return(b=new FormData).append("file",c,c.name),n.next=23,l.e.uploadFile(b);case 23:c=n.sent.data.url;case 24:if(!s||"object"!==typeof s){n.next=30;break}return(j=new FormData).append("file",s,s.name),n.next=29,l.e.uploadFile(j);case 29:s=n.sent.data.url;case 30:return e.service.interface.iconbutton=i,e.service.interface.iconheader=o,e.service.interface.iconbot=c,e.service.bubble.iconbubble=s,n.abrupt("return",l.d.editchnl(e));case 35:return n.abrupt("return",l.e.main(e));case 36:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),types:{loading:o.a.EDIT_CHANNEL,failure:o.a.EDIT_CHANNEL_FAILURE,success:o.a.EDIT_CHANNEL_SUCCESS},type:null}},p=function(){return{type:o.a.EDIT_CHANNEL_RESET}},m=function(e,t){return{callAPI:function(){return l.d.getPagelistSub(e,t)},types:{loading:o.a.FACEBOOK_PAGES,success:o.a.FACEBOOK_PAGES_SUCCESS,failure:o.a.FACEBOOK_PAGES_FAILURE},type:null}},g=function(){return{type:o.a.FACEBOOK_PAGES_RESET}},O=function(e,t){return{callAPI:function(){return l.d.getPagelistSub(e,t)},types:{loading:o.a.MESSENGER_PAGES,success:o.a.MESSENGER_PAGES_SUCCESS,failure:o.a.MESSENGER_PAGES_FAILURE},type:null}},h=function(){return{type:o.a.MESSENGER_PAGES_RESET}},x=function(e,t){return{callAPI:function(){return l.d.getPagelistSub(e,t)},types:{loading:o.a.INSTAGRAM_PAGES,success:o.a.INSTAGRAM_PAGES_SUCCESS,failure:o.a.INSTAGRAM_PAGES_FAILURE},type:null}},E=function(){return{type:o.a.INSTAGRAM_PAGES_RESET}},y=function(e,t){return{callAPI:function(){return l.d.getPagelistSub(e,t)},types:{loading:o.a.INSTAGRAMDM_PAGES,success:o.a.INSTAGRAMDM_PAGES_SUCCESS,failure:o.a.INSTAGRAMDM_PAGES_FAILURE},type:null}},T=function(){return{type:o.a.INSTAGRAMDM_PAGES_RESET}},C=function(e){return{callAPI:function(){return l.d.synchronizeTemplate(e)},types:{failure:o.a.SYNCHRONIZE_TEMPLATE_FAILURE,loading:o.a.SYNCHRONIZE_TEMPLATE,success:o.a.SYNCHRONIZE_TEMPLATE_SUCCESS},type:null}},A=function(e){return{callAPI:function(){return l.d.addTemplate(e)},types:{failure:o.a.ADD_TEMPLATE_FAILURE,loading:o.a.ADD_TEMPLATE,success:o.a.ADD_TEMPLATE_SUCCESS},type:null}},_=function(e){return{callAPI:function(){return l.d.deleteTemplate(e)},types:{failure:o.a.DELETE_TEMPLATE_FAILURE,loading:o.a.DELETE_TEMPLATE,success:o.a.DELETE_TEMPLATE_SUCCESS},type:null}},N=function(e){return{callAPI:function(){return l.d.getPhoneList(e)},types:{loading:o.a.PHONE_LIST,success:o.a.PHONE_LIST_SUCCESS,failure:o.a.PHONE_LIST_FAILURE},type:null}}},786:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),l=(0,a(n(62)).default)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=l},811:function(e,t,n){"use strict";n.d(t,"b",(function(){return Oe})),n.d(t,"c",(function(){return he})),n.d(t,"a",(function(){return _e}));var a=n(52),r=n(20),i=n(123),l=n(3),o=n(1),c=n(169),s=n(316),u=n(170),d=n(257),b=n(101),j=n(378),f=n(245),v=n(51),p=n(771),m=n(171),g=n(203),O=n(472),h=n(721),x=n(197),E=n(167),y=n(94),T=(n(776),n(1369)),C=n(1370),A=n(1371),_=n(1372),N=n(1373),k=n(1374),S=n(1375),L=n(1376),M=n(1377),P=n(1378),w=n(1379),D=n(1380),I=n(1381),F=n(1382),R=n(1383),H=n(1384),U=n(1385),z=n(850),G=n(1050),q=n(795),B=n(0),V=n.n(B),K=n(845),W=n(868),Z=n(869),Y=n(122),Q=n(718),J=n(8),$=n(857),X=n.n($),ee=(n(48),n(9)),te=n(25),ne=n(83),ae=n(40),re=n(44),ie=n(16),le=n(333),oe=n(763),ce=n(314),se=n(710),ue=n(2),de=["value","refresh","onChange","placeholder","image","spellCheck","error","positionEditable","children","onlyurl","endinput","emojiNoShow","emojiFavorite","emoji","quickReplies"],be=["tooltip","children","onClick"],je=["tooltip","children","onClick"],fe=["tooltip","children","onClick"],ve=["tooltip","children","onClick"],pe=["tooltip","format","children","onClick"],me=["tooltip","format","children","onClick"],ge=q.a.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},t.emojihex,t))}),{}),Oe=function(e){return X.a.renderToString(e)},he=function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){var t=e.children;return Object(ue.jsx)("div",{children:t})},r=[],l=Object(i.a)(t);try{for(l.s();!(n=l.n()).done;){var o=n.value;if(o.hasOwnProperty("type")&&o.hasOwnProperty("children"))!function(){var t=o;r.push(e(t.children,(function(e){var n=e.children;return Ne({element:t,children:n,isStatic:!0,attributes:{key:t}})})))}();else{var c=o;r.push(ke({leaf:c,text:c,children:c.text,attributes:{key:c}}))}}}catch(s){l.e(s)}finally{l.f()}return a({children:r})},xe=["bulleted-list","numbered-list"],Ee=Object(c.a)((function(e){return{toolbar:{padding:0,width:"100%"},editable:{height:200,overflowY:"scroll",overflowX:"hidden",width:"100%",direction:"ltr"},littleboxes:{cursor:"pointer",marginRight:1,width:16,height:16}}})),ye=Object(c.a)((function(e){return{iconResponse:{color:"#2E2C34"},containerQuickReply:{boxShadow:"0px 3px 6px rgb(0 0 0 / 10%)",backgroundColor:"#FFF",width:250},headerQuickReply:{fontSize:14,fontWeight:500,padding:e.spacing(1),paddingLeft:e.spacing(1.5),display:"flex",justifyContent:"space-between",alignItems:"center"}}})),Te=function(e){var t=e.quickReplies,n=e.editor,a=ye(),i=V.a.useState(!1),l=Object(r.a)(i,2),o=l[0],c=l[1],v=Object(B.useState)([]),p=Object(r.a)(v,2),m=p[0],g=p[1],O=Object(B.useState)(!1),h=Object(r.a)(O,2),x=h[0],E=h[1],y=Object(B.useState)(""),T=Object(r.a)(y,2),C=T[0],A=T[1],_=Object(Y.a)().t,N=Object(te.b)((function(e){return e.inbox.ticketSelected})),k=Object(te.b)((function(e){return e.login.validateToken.user}));Object(B.useEffect)((function(){g(""===C?t.filter((function(e){return!!e.favorite})):t.filter((function(e){return e.description.toLowerCase().includes(C.toLowerCase())})))}),[C,t]);return Object(ue.jsx)(s.a,{onClickAway:function(){return c(!1)},children:Object(ue.jsxs)("span",{children:[Object(ue.jsx)(u.a,{title:_(J.a.send_quickreply)+"",arrow:!0,placement:"top",children:Object(ue.jsx)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(){return c((function(e){return!e}))},children:Object(ue.jsx)(ie.Ob,{className:a.iconResponse})})}),o&&Object(ue.jsx)("div",{style:{position:"absolute",bottom:60},children:Object(ue.jsxs)("div",{className:a.containerQuickReply,children:[Object(ue.jsx)("div",{children:x?Object(ue.jsx)(b.a,{color:"primary",fullWidth:!0,autoFocus:!0,placeholder:"Search quickreplies",style:{padding:"6px 6px 6px 12px"},onBlur:function(){return!C&&E(!1)},onChange:function(e){return A(e.target.value)},InputProps:{endAdornment:Object(ue.jsx)(j.a,{position:"end",children:Object(ue.jsx)(d.a,{size:"small",children:Object(ue.jsx)(ie.Ub,{})})})}}):Object(ue.jsxs)("div",{className:a.headerQuickReply,children:[Object(ue.jsx)("div",{children:"User Quick Response"}),Object(ue.jsx)(d.a,{size:"small",onClick:function(){return E(!0)},edge:"end",children:Object(ue.jsx)(ie.Ub,{})})]})}),Object(ue.jsx)(f.a,{}),Object(ue.jsx)(oe.a,{component:"nav",disablePadding:!0,style:{maxHeight:200,overflowY:"overlay"},children:m.map((function(e){return Object(ue.jsx)(ce.a,{button:!0,onClick:function(){return function(e){c(!1),n.insertText(e.quickreply.replace("{{numticket}}",null===N||void 0===N?void 0:N.ticketnum).replace("{{client_name}}",null===N||void 0===N?void 0:N.displayname).replace("{{agent_name}}",(null===k||void 0===k?void 0:k.firstname)+" "+(null===k||void 0===k?void 0:k.lastname)))}(e)},children:Object(ue.jsx)(u.a,{title:e.quickreply,arrow:!0,placement:"top",children:Object(ue.jsx)(se.a,{primary:e.description})})},e.quickreplyid)}))})]})})]})})},Ce=function(e){e.emojisIndexed;var t=e.emojisNoShow,n=void 0===t?[]:t,a=e.emojiFavorite,i=void 0===a?[]:a,l=e.onSelect,o=e.icon,c=V.a.useState(!1),b=Object(r.a)(c,2),j=b[0],f=b[1],v=function(){return f((function(e){return!e}))},p=Object(Y.a)().t;return Object(ue.jsx)(s.a,{onClickAway:function(){return f(!1)},children:Object(ue.jsxs)("span",{children:[(null===o||void 0===o?void 0:o(v))||Object(ue.jsx)(u.a,{title:p(J.a.send_emoji)+"",arrow:!0,placement:"top",children:Object(ue.jsx)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:v,children:Object(ue.jsx)(T.a,{})})}),j&&Object(ue.jsx)("div",{style:{position:"absolute",bottom:100},children:Object(ue.jsx)(le.a,{onSelect:function(e){f(!1),l(e)},native:!0,sheetSize:32,i18n:{search:p(J.a.search),categories:{search:p(J.a.search_result),recent:p(J.a.favorites),people:p(J.a.emoticons),nature:p(J.a.animals),foods:p(J.a.food),activity:p(J.a.activities),places:p(J.a.travel),objects:p(J.a.objects),symbols:p(J.a.symbols),flags:p(J.a.flags)}},recent:i.length>0?null===i||void 0===i?void 0:i.map((function(e){var t;return(null===ge||void 0===ge||null===(t=ge[e||""])||void 0===t?void 0:t.id)||""})):void 0,emojisToShowFilter:n&&n.length>0?function(e){return-1===n.map((function(e){return e.toUpperCase()})).indexOf(e.unified.toUpperCase())}:void 0})})]})})},Ae=["left","center","right","justify"],_e=function(e){var t=e.value,n=e.refresh,r=void 0===n?0:n,i=e.onChange,l=e.placeholder,c=e.image,s=void 0===c||c,u=e.spellCheck,d=e.error,b=e.positionEditable,j=void 0===b?"bottom":b,f=e.children,O=e.onlyurl,h=void 0!==O&&O,x=e.endinput,E=e.emojiNoShow,y=e.emojiFavorite,T=e.emoji,D=void 0!==T&&T,I=e.quickReplies,F=void 0===I?[]:I,R=Object(a.a)(e,de),H=Ee(),U=Object(B.useMemo)((function(){return Ke(Object(Z.a)(Object(W.h)(Object(K.i)())))}),[]),z=Object(te.b)((function(e){return e.main.uploadFile}));return Object(B.useEffect)((function(){(null===U||void 0===U?void 0:U.children)&&(U.selection={anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}},U.children=t)}),[r]),Object(ue.jsxs)(v.a,Object(o.a)(Object(o.a)({},R),{},{children:[Object(ue.jsxs)(W.c,{editor:U,value:t,onChange:i,children:["top"===j&&Object(ue.jsx)("div",{className:H.editable,children:Object(ue.jsx)(W.a,{placeholder:l,renderElement:Ne,renderLeaf:ke,spellCheck:u})}),Object(ue.jsxs)(p.a,{className:H.toolbar,children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{style:{display:"inline-block"},children:f}),Object(ue.jsx)(Se,{tooltip:"font"}),Object(ue.jsx)(Le,{tooltip:"size"}),F.length>0&&Object(ue.jsx)(Te,{quickReplies:F,editor:U}),D&&Object(ue.jsx)(Ce,{emojisIndexed:ge,onSelect:function(e){return U.insertText(e.native)},emojisNoShow:E,emojiFavorite:y}),Object(ue.jsx)(Fe,{format:"bold",tooltip:"bold",children:Object(ue.jsx)(C.a,{})}),Object(ue.jsx)(Fe,{format:"italic",tooltip:"italic",children:Object(ue.jsx)(A.a,{})}),Object(ue.jsx)(Fe,{format:"underline",tooltip:"underline",children:Object(ue.jsx)(_.a,{})}),Object(ue.jsx)(we,{tooltip:"size"}),Object(ue.jsx)(Me,{tooltip:"alignment"}),Object(ue.jsx)(Re,{format:"numbered-list",tooltip:"numbered_list",children:Object(ue.jsx)(N.a,{})}),Object(ue.jsx)(Re,{format:"bulleted-list",tooltip:"bulleted_list",children:Object(ue.jsx)(k.a,{})}),Object(ue.jsx)(Fe,{format:"code",tooltip:"code",children:Object(ue.jsx)(S.a,{})}),Object(ue.jsx)(Re,{format:"heading-one",tooltip:"heading_one",children:Object(ue.jsx)(L.a,{})}),Object(ue.jsx)(Re,{format:"heading-two",tooltip:"heading_two",children:Object(ue.jsx)(M.a,{})}),Object(ue.jsx)(Re,{format:"block-quote",tooltip:"block_quote",children:Object(ue.jsx)(P.a,{})}),s&&h&&Object(ue.jsx)(Ue,{children:Object(ue.jsx)(w.a,{})}),z.loading&&Object(ue.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:8},children:[Object(ue.jsx)(m.a,{size:24}),Object(ue.jsx)("span",{children:Object(ue.jsxs)("strong",{children:[Object(ue.jsx)(Q.a,{i18nKey:J.a.loadingImage}),"..."]})})]})]}),Object(ue.jsx)("div",{style:{marginLeft:"auto",marginRight:0},children:x})]}),"top"!==j&&Object(ue.jsx)(W.a,{placeholder:l,renderElement:Ne,renderLeaf:ke,spellCheck:u,style:{borderTop:"1.5px dotted #949494"}})]}),d&&""!==d&&Object(ue.jsx)(g.a,{error:!0,children:d})]}))},Ne=function(e){var t=e.attributes,n=void 0===t?{}:t,a=e.children,r=e.element,i=e.isStatic,l=void 0!==i&&i,c={textAlign:r.align};switch(r.type){case"block-quote":return Object(ue.jsx)("blockquote",Object(o.a)(Object(o.a)({style:c},n),{},{children:a}));case"bulleted-list":return Object(ue.jsx)("ul",Object(o.a)(Object(o.a)({style:c},n),{},{children:a}));case"heading-one":return Object(ue.jsx)("h1",Object(o.a)(Object(o.a)({style:c},n),{},{children:a}));case"heading-two":return Object(ue.jsx)("h2",Object(o.a)(Object(o.a)({style:c},n),{},{children:a}));case"list-item":return Object(ue.jsx)("li",Object(o.a)(Object(o.a)({style:c},n),{},{children:a}));case"numbered-list":return Object(ue.jsx)("ol",Object(o.a)(Object(o.a)({style:c},n),{},{children:a}));case"image-src":return!0===l?Object(ue.jsx)(Ve,{element:r,children:a}):Object(ue.jsx)(Be,{element:r,attributes:n,children:a});default:return Object(ue.jsx)("p",Object(o.a)(Object(o.a)({style:c},n),{},{children:a}))}},ke=function(e){var t=e.attributes,n=void 0===t?{}:t,a=e.children,r=e.leaf;return!0===r.bold&&(a=Object(ue.jsx)("strong",{children:a})),!0===r.code&&(a=Object(ue.jsx)("code",{children:a})),!0===r.italic&&(a=Object(ue.jsx)("em",{children:a})),!0===r.underline&&(a=Object(ue.jsx)("u",{children:a})),r.fontfamily&&(a=Object(ue.jsx)("span",{style:{fontFamily:r.fontfamily},children:a})),r.fontsize&&(a=Object(ue.jsx)("span",{style:{fontSize:r.fontsize},children:a})),r.color&&(a=Object(ue.jsx)("span",{style:{color:r.color},children:a})),r.backgroundcolor&&(a=Object(ue.jsx)("span",{style:{backgroundColor:r.backgroundcolor},children:a})),Object(ue.jsx)("span",Object(o.a)(Object(o.a)({},n),{},{children:a}))},Se=function(e){e.tooltip,e.children,e.onClick,Object(a.a)(e,be);var t=Object(W.f)(),n=K.a.marks(t),r=(null===n||void 0===n?void 0:n.fontfamily)||"inherit",i=Object(Y.a)().t;return Object(ue.jsx)(O.a,{children:Object(ue.jsx)(u.a,{title:i(J.a.font)||"font","aria-label":"add",children:Object(ue.jsxs)(h.a,{labelId:"font-family-select-label",value:r,style:{width:150,marginLeft:10},onChange:function(e){e.preventDefault(),function(e,t){"inherit"===t?K.a.removeMark(e,"fontfamily"):K.a.addMark(e,"fontfamily",t)}(t,e.target.value)},children:[Object(ue.jsx)(x.a,{style:{fontFamily:"inherit"},value:"inherit",children:i(J.a.default)}),Object(ue.jsx)(x.a,{style:{fontFamily:"serif"},value:"serif",children:"Serif"}),Object(ue.jsx)(x.a,{style:{fontFamily:"sans-serif"},value:"sans-serif",children:"Sans-serif"}),Object(ue.jsx)(x.a,{style:{fontFamily:"monospace"},value:"monospace",children:"Monospace"}),Object(ue.jsx)(x.a,{style:{fontFamily:"cursive"},value:"cursive",children:"Cursive"}),Object(ue.jsx)(x.a,{style:{fontFamily:"fantasy"},value:"fantasy",children:"Fantasy"})]})})})},Le=function(e){e.tooltip,e.children,e.onClick,Object(a.a)(e,je);var t=Object(W.f)(),n=K.a.marks(t),i=(null===n||void 0===n?void 0:n.fontsize)||"small",l=Object(Y.a)().t,o=V.a.useState(null),c=Object(r.a)(o,2),s=c[0],b=c[1],j=Boolean(s),f=function(e){!function(e,t){"small"===t?K.a.removeMark(e,"fontsize"):K.a.addMark(e,"fontsize",t)}(t,e),b(null)};return Object(ue.jsx)(O.a,{children:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{title:l(J.a.size)||"size","aria-label":"add",children:Object(ue.jsxs)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},children:[Object(ue.jsx)(D.a,{}),Object(ue.jsx)(ie.f,{})]})}),Object(ue.jsxs)(E.a,{id:"long-menu",anchorEl:s,keepMounted:!0,open:j,onClose:f,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(ue.jsxs)(x.a,{onClick:function(){return f("x-small")},style:{paddingLeft:0,fontSize:"x-small"},value:"x-small",children:["x-small"===i&&Object(ue.jsx)(I.a,{style:{marginRight:10,marginLeft:10,width:20,height:20}}),Object(ue.jsxs)("div",{style:{marginLeft:"x-small"!==i?40:0},children:[l(J.a.small)," "]})]}),Object(ue.jsxs)(x.a,{onClick:function(){return f("small")},style:{paddingLeft:0,fontSize:"small"},value:"small",children:["small"===i&&Object(ue.jsx)(I.a,{style:{marginRight:10,marginLeft:10,width:20,height:20}}),Object(ue.jsxs)("div",{style:{marginLeft:"small"!==i?40:0},children:[l(J.a.normal)," "]})]}),Object(ue.jsxs)(x.a,{onClick:function(){return f("large")},style:{paddingLeft:0,fontSize:"large"},value:"large",children:["large"===i&&Object(ue.jsx)(I.a,{style:{marginRight:10,marginLeft:10,width:20,height:20}}),Object(ue.jsxs)("div",{style:{marginLeft:"large"!==i?40:0},children:[l(J.a.large)," "]})]}),Object(ue.jsxs)(x.a,{onClick:function(){return f("xx-large")},style:{paddingLeft:0,fontSize:"xx-large"},value:"xx-large",children:["xx-large"===i&&Object(ue.jsx)(I.a,{style:{marginRight:10,marginLeft:10,width:20,height:20}}),Object(ue.jsxs)("div",{style:{marginLeft:"xx-large"!==i?40:0},children:[l(J.a.huge)," "]})]})]})]})})},Me=function(e){e.tooltip,e.children,e.onClick,Object(a.a)(e,fe);var t=Object(W.f)(),n=K.a.marks(t),i=(null===n||void 0===n?void 0:n.textalign)||"left",l=Object(Y.a)().t,o=V.a.useState(null),c=Object(r.a)(o,2),s=c[0],b=c[1],j=Boolean(s),f=function(e){!function(e,t){var n;n={align:Ie(e,"paragraph","align")?void 0:t},K.h.setNodes(e,n),"left"===t?K.a.removeMark(e,"textalign"):K.a.addMark(e,"textalign",t)}(t,e),b(null)};return Object(ue.jsx)(O.a,{children:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{title:l(J.a.align)||"align","aria-label":"add",children:Object(ue.jsxs)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},children:["right"!==i&&"center"!==i&&Object(ue.jsx)(F.a,{}),"right"===i&&Object(ue.jsx)(R.a,{}),"center"===i&&Object(ue.jsx)(H.a,{}),Object(ue.jsx)(ie.f,{})]})}),Object(ue.jsxs)(E.a,{id:"long-menu",anchorEl:s,keepMounted:!0,open:j,onClose:f,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(ue.jsx)(x.a,{onClick:function(){return f("left")},value:"left",children:Object(ue.jsx)("div",{children:Object(ue.jsx)(F.a,{})})}),Object(ue.jsx)(x.a,{onClick:function(){return f("center")},value:"center",children:Object(ue.jsx)("div",{children:Object(ue.jsx)(H.a,{})})}),Object(ue.jsx)(x.a,{onClick:function(){return f("right")},value:"right",children:Object(ue.jsx)("div",{children:Object(ue.jsx)(R.a,{})})})]})]})})},Pe=function(e){var t=e.other,n=e.tooltip,a=Object(W.f)(),r=Ee(),i=function(e){"background"===n?function(e,t){"transparent"===t?K.a.removeMark(e,"backgroundcolor"):K.a.addMark(e,"backgroundcolor",t)}(a,e):function(e,t){"black"===t?K.a.removeMark(e,"color"):K.a.addMark(e,"color",t)}(a,e),null===t||void 0===t||t()};return Object(ue.jsxs)("div",{children:[Object(ue.jsxs)("div",{style:{display:"flex",marginTop:10},children:[Object(ue.jsx)("div",{onClick:function(){return i("rgb(0,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(0,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(68,68,68)")},className:r.littleboxes,style:{backgroundColor:"rgb(68,68,68)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(102,102,102)")},className:r.littleboxes,style:{backgroundColor:"rgb(102,102,102)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(153,153,153)")},className:r.littleboxes,style:{backgroundColor:"rgb(153,153,153)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(204,204,204)")},className:r.littleboxes,style:{backgroundColor:"rgb(204,204,204)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(238,238,238)")},className:r.littleboxes,style:{backgroundColor:"rgb(238,238,238)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(243,243,243)")},className:r.littleboxes,style:{backgroundColor:"rgb(243,243,243)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(255,255,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,255,255)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginTop:5,marginBottom:5},children:[Object(ue.jsx)("div",{onClick:function(){return i("rgb(255,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(255,153,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,153,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(255,255,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,255,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(0,255,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(0,255,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(0,255,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(0,255,255)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(0,0,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(0,0,255)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(153,0,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(153,0,255)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(255,0,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,0,255)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return i("rgb(244,204,204)")},className:r.littleboxes,style:{backgroundColor:"rgb(244,204,204)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(252,229,205)")},className:r.littleboxes,style:{backgroundColor:"rgb(252,229,205)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(255,242,204)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,242,204)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(217,234,211)")},className:r.littleboxes,style:{backgroundColor:"rgb(217,234,211)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(208,224,227)")},className:r.littleboxes,style:{backgroundColor:"rgb(208,224,227)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(207,226,243)")},className:r.littleboxes,style:{backgroundColor:"rgb(207,226,243)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(217,210,233)")},className:r.littleboxes,style:{backgroundColor:"rgb(217,210,233)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(234,209,220)")},className:r.littleboxes,style:{backgroundColor:"rgb(234,209,220)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return i("rgb(234,153,153)")},className:r.littleboxes,style:{backgroundColor:"rgb(234,153,153)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(249,203,156)")},className:r.littleboxes,style:{backgroundColor:"rgb(249,203,156)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(255,229,153)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,229,153)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(182,215,168)")},className:r.littleboxes,style:{backgroundColor:"rgb(182,215,168)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(162,196,201)")},className:r.littleboxes,style:{backgroundColor:"rgb(162,196,201)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(159,197,232)")},className:r.littleboxes,style:{backgroundColor:"rgb(159,197,232)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(180,167,214)")},className:r.littleboxes,style:{backgroundColor:"rgb(180,167,214)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(213,166,189)")},className:r.littleboxes,style:{backgroundColor:"rgb(213,166,189)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return i("rgb(224,102,102)")},className:r.littleboxes,style:{backgroundColor:"rgb(224,102,102)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(246,178,107)")},className:r.littleboxes,style:{backgroundColor:"rgb(246,178,107)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(255,217,102)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,217,102)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(147,196,125)")},className:r.littleboxes,style:{backgroundColor:"rgb(147,196,125)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(118,165,175)")},className:r.littleboxes,style:{backgroundColor:"rgb(118,165,175)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(111,168,220)")},className:r.littleboxes,style:{backgroundColor:"rgb(111,168,220)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(142,124,195)")},className:r.littleboxes,style:{backgroundColor:"rgb(142,124,195)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(194,123,160)")},className:r.littleboxes,style:{backgroundColor:"rgb(194,123,160)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return i("rgb(204,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(204,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(230,145,56)")},className:r.littleboxes,style:{backgroundColor:"rgb(230,145,56)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(241,194,50)")},className:r.littleboxes,style:{backgroundColor:"rgb(241,194,50)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(106,168,79)")},className:r.littleboxes,style:{backgroundColor:"rgb(106,168,79)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(69,129,142)")},className:r.littleboxes,style:{backgroundColor:"rgb(69,129,142)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(61,133,198)")},className:r.littleboxes,style:{backgroundColor:"rgb(61,133,198)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(103,78,167)")},className:r.littleboxes,style:{backgroundColor:"rgb(103,78,167)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(166,77,121)")},className:r.littleboxes,style:{backgroundColor:"rgb(166,77,121)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return i("rgb(153,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(153,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(180,95,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(180,95,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(191,144,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(191,144,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(56,118,29)")},className:r.littleboxes,style:{backgroundColor:"rgb(56,118,29)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(19,79,92)")},className:r.littleboxes,style:{backgroundColor:"rgb(19,79,92)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(11,83,148)")},className:r.littleboxes,style:{backgroundColor:"rgb(11,83,148)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(53,28,117)")},className:r.littleboxes,style:{backgroundColor:"rgb(53,28,117)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(116,27,71)")},className:r.littleboxes,style:{backgroundColor:"rgb(116,27,71)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return i("rgb(102,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(102,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(120,63,4)")},className:r.littleboxes,style:{backgroundColor:"rgb(120,63,4)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(127,96,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(127,96,0)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(39,78,19)")},className:r.littleboxes,style:{backgroundColor:"rgb(39,78,19)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(12,52,61)")},className:r.littleboxes,style:{backgroundColor:"rgb(12,52,61)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(7,55,99)")},className:r.littleboxes,style:{backgroundColor:"rgb(7,55,99)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(32,18,77)")},className:r.littleboxes,style:{backgroundColor:"rgb(32,18,77)"}}),Object(ue.jsx)("div",{onClick:function(){return i("rgb(76,17,48)")},className:r.littleboxes,style:{backgroundColor:"rgb(76,17,48)"}})]})]})},we=function(e){e.tooltip,e.children,e.onClick,Object(a.a)(e,ve);var t=Object(Y.a)().t,n=V.a.useState(null),i=Object(r.a)(n,2),l=i[0],o=i[1],c=Boolean(l),s=function(){o(null)};return Object(ue.jsx)(O.a,{children:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{title:t(J.a.textcolor)||"textcolor","aria-label":"add",children:Object(ue.jsxs)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},children:[Object(ue.jsx)(U.a,{}),Object(ue.jsx)(ie.f,{})]})}),Object(ue.jsx)(E.a,{anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:120,horizontal:"center"},id:"long-menu",anchorEl:l,keepMounted:!0,open:c,onClose:s,children:Object(ue.jsxs)("div",{style:{display:"flex",marginRight:10},children:[Object(ue.jsxs)("div",{style:{marginLeft:10,marginRight:10},children:[Object(ue.jsx)("div",{children:t(J.a.backgroundColor)}),Object(ue.jsx)(Pe,{tooltip:"background",other:function(){return s()}})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{children:t(J.a.textcolor)}),Object(ue.jsx)(Pe,{tooltip:"textcolor",other:function(){return s()}})]})]})})]})})},De=function(e,t){var n=K.a.marks(e);return!!n&&!0===n[t]},Ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type",a=e.selection;if(!a)return!1;var i=Array.from(K.a.nodes(e,{at:K.a.unhangRange(e,a),match:function(e){return!K.a.isEditor(e)&&K.b.isElement(e)&&e[n]===t}})),l=Object(r.a)(i,1),o=l[0];return!!o},Fe=function(e){var t=e.tooltip,n=void 0===t?"":t,r=e.format,i=e.children,l=e.onClick,c=Object(a.a)(e,pe),s=Object(W.f)(),b=De(s,r),j=Object(Y.a)().t;return Object(ue.jsx)(u.a,{title:j(J.a[n])||"",children:Object(ue.jsx)(d.a,Object(o.a)(Object(o.a)({},c),{},{onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),function(e,t){De(e,t)?K.a.removeMark(e,t):K.a.addMark(e,t,!0)}(s,r),null===l||void 0===l||l(e)})),color:b?"primary":"default",children:i}))})},Re=function(e){var t=e.tooltip,n=void 0===t?"":t,r=e.format,i=e.children,l=e.onClick,c=Object(a.a)(e,me),s=Object(W.f)(),b=Ie(s,r),j=Object(Y.a)().t;return Object(ue.jsx)(u.a,{title:j(J.a[n])||"",children:Object(ue.jsx)(d.a,Object(o.a)(Object(o.a)({},c),{},{onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),function(e,t){var n=Ie(e,t,Ae.includes(t)?"align":"type"),a=xe.includes(t);K.h.unwrapNodes(e,{match:function(e){return!K.a.isEditor(e)&&K.b.isElement(e)&&xe.includes(e.type)},split:!0});var r={type:n?"paragraph":a?"list-item":t};if(K.h.setNodes(e,r),!n&&a){var i={type:t,children:[],align:"left"};K.h.wrapNodes(e,i)}}(s,r),null===l||void 0===l||l(e)})),color:b?"primary":"default",children:i}))})},He=Object(c.a)((function(e){return{rootPopup:{width:280,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),justifyContent:"stretch"},rootTab:{padding:e.spacing(2),display:"flex",flexDirection:"column",gap:12},hidden:{display:"none"},attachTab:{display:"flex",flexDirection:"row",gap:8}}})),Ue=function(e){var t=e.children,n=Object(W.g)(),a=Object(ae.c)(),i=Object(Y.a)().t,l=He(),o=Object(B.useState)(null),c=Object(r.a)(o,2),s=c[0],f=c[1],v=Object(B.useState)(""),p=Object(r.a)(v,2),m=p[0],g=p[1],O=Object(B.useState)(!1),h=Object(r.a)(O,2),x=h[0],T=h[1],C=Object(te.b)((function(e){return e.main.uploadFile})),A=Boolean(s);Object(B.useEffect)((function(){return function(){a(Object(ne.F)())}}),[a]),Object(B.useEffect)((function(){if(x){if(C.loading)return;if(C.error){var e=i(C.code||"error_unexpected_error",{module:i(J.a.user).toLocaleLowerCase()});a(Object(re.e)({message:e,show:!0,severity:"error"})),T(!1)}else C.url&&C.url.length>0&&(Ge(n,C.url),a(Object(ne.F)()),T(!1))}}),[x,C,n,i,a]);var _=Object(B.useCallback)((function(){return g("")}),[]),N=Object(B.useCallback)((function(){m.length>0&&ze(m)&&(Ge(n,m),_())}),[m,n,_]);return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{title:i(J.a.image)||"",children:Object(ue.jsx)(d.a,{"aria-controls":"insert-image-button-rich-text-popup","aria-haspopup":"true","aria-expanded":A?"true":void 0,onMouseDown:function(e){e.preventDefault(),function(e){f(e.currentTarget)}(e)},children:t})}),Object(ue.jsx)(E.a,{id:"insert-image-button-rich-text-popup",anchorEl:s,open:A,onClose:function(){f(null)},variant:"menu",MenuListProps:{"aria-labelledby":"basic-button"},children:Object(ue.jsx)("div",{className:l.rootPopup,children:Object(ue.jsxs)("div",{role:"tabpanel",className:Object(ee.default)(l.rootTab),children:[Object(ue.jsx)(b.a,{placeholder:i(J.a.enterTheUrl),value:m,onChange:function(e){return g(e.target.value)},autoFocus:!0,disabled:x||C.loading,InputProps:{endAdornment:Object(ue.jsx)(j.a,{position:"end",children:Object(ue.jsx)(d.a,{size:"small",onClick:_,children:Object(ue.jsx)(z.a,{})})})}}),Object(ue.jsx)(y.a,{type:"button",color:"primary",variant:"contained",size:"small",disabled:x||C.loading,onClick:N,children:Object(ue.jsx)(Q.a,{i18nKey:J.a.accept})})]})})})]})},ze=function(e){return"string"===typeof e&&e.length>0&&e.includes("http")},Ge=function(e,t){var n={type:"image-src",url:t,children:[{text:""}],align:"left"};if(K.h.insertNodes(e,n),!K.a.next(e)){var a={type:"paragraph",url:void 0,children:[{text:""}],align:"left"};K.h.insertNodes(e,a)}},qe=Object(c.a)((function(e){return{root:{position:"relative"},img:{display:"block",maxWidth:"100%",maxHeight:"20em"},btn:{position:"absolute",left:0,top:0}}})),Be=function(e){var t=e.children,n=e.element,a=e.attributes,r=qe(),i=Object(W.g)(),l=W.b.findPath(i,n),c=Object(W.e)(),s=Object(W.d)();return Object(ue.jsxs)("div",Object(o.a)(Object(o.a)({},a),{},{children:[t,Object(ue.jsxs)("div",{contentEditable:!1,className:r.root,children:[Object(ue.jsx)("img",{src:n.url||"",alt:"Imagen",className:r.img,style:{boxShadow:c&&s?"0 0 0 3px #B4D5FF":"none"}}),Object(ue.jsx)(d.a,{onClick:function(){return K.h.setNodes(i,{type:"paragraph",url:void 0},{at:l})},color:"default",className:r.btn,children:Object(ue.jsx)(G.a,{})})]})]}))},Ve=function(e){var t=e.children,n=e.element,a=qe();return Object(ue.jsxs)("div",{children:[t,Object(ue.jsx)("div",{contentEditable:!1,className:a.root,children:Object(ue.jsx)("img",{src:n.url||"",alt:"Imagen",className:a.img})})]})},Ke=function(e){var t=e.insertData,n=e.isVoid;return e.isVoid=function(e){return"image-src"===e.type||n(e)},e.insertData=function(n){var a=n.getData("text/plain"),i=n.files;if(i&&i.length>0)for(var l=function(){var t=c[o],n=new FileReader,a=t.type.split("/");"image"===Object(r.a)(a,1)[0]&&(n.addEventListener("load",(function(){var t=n.result;Ge(e,t)})),n.readAsDataURL(t))},o=0,c=Array.from(i);o<c.length;o++)l();else ze(a)&&/(apng|avif|gif|jpg|jpeg|jfif|png|svg)$/i.test(a)?Ge(e,a):t(n)},e}},824:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),l=(0,a(n(62)).default)(i.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.default=l},858:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),l=(0,a(n(62)).default)(i.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=l},895:function(e,t,n){"use strict";var a=n(0),r=n(43);t.a=Object(r.a)(a.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp")},923:function(e,t,n){"use strict";var a=n(0),r=n(43);t.a=Object(r.a)(a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy")}}]);
//# sourceMappingURL=35.27abdd14.chunk.js.map