(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[77],{1394:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a(24),c=a.n(n),r=a(39),o=a(1),s=a(26),l=a(20),u=a(0),d=a.n(u),f=a(25),b=a(40),j=a(94),O=a(48),v=a(7),p=a(779),m=a(169),w=a(780),h=a.n(w),g=a(122),x=a(8),y=a(205),C=a(83),N=a(44),D=a(778),_=a.n(D),I=a(46),S=a(10),k=a(2),E=Object(m.a)((function(e){return{containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"}}})),F=function(e){var t,a,i,n,c=e.data,r=c.row,o=c.edit,p=e.setViewSelected,m=e.multiData,w=e.fetchData,D=e.arrayBread,I=E(),S=Object(u.useState)(!1),F=Object(l.a)(S,2),T=F[0],L=F[1],V=Object(f.b)((function(e){return e.main.execute})),R=Object(b.c)(),z=Object(g.a)().t,A=m[1]&&m[1].success?m[1].data:[],M=m[2]&&m[2].success?m[2].data:[],U=Object(y.d)({defaultValues:{type:"NINGUNO",id:(null===r||void 0===r?void 0:r.inappropriatewordsid)||0,classification:(null===r||void 0===r?void 0:r.classificationdata)||"",description:(null===r||void 0===r?void 0:r.description)||"",defaultanswer:(null===r||void 0===r?void 0:r.defaultanswer)||"",status:(null===r||void 0===r?void 0:r.status)||"ACTIVO",operation:r?"EDIT":"INSERT"}}),B=U.register,G=U.handleSubmit,H=U.setValue,W=U.formState.errors;d.a.useEffect((function(){B("type"),B("id"),B("defaultanswer"),B("description",{validate:function(e){return e&&e.length||z(x.a.field_required)}}),B("classification",{validate:function(e){return e&&e.length||z(x.a.field_required)}}),B("status",{validate:function(e){return e&&e.length||z(x.a.field_required)}})}),[o,B]),Object(u.useEffect)((function(){if(T)if(V.loading||V.error){if(V.error){var e=z(V.code||"error_unexpected_error",{module:z(x.a.inappropriatewords).toLocaleLowerCase()});R(Object(N.e)({show:!0,severity:"error",message:e})),L(!1),R(Object(N.d)(!1))}}else R(Object(N.e)({show:!0,severity:"success",message:z(r?x.a.successful_edit:x.a.successful_register)})),w&&w(),R(Object(N.d)(!1)),p("view-1")}),[V,T]);var q=G((function(e){R(Object(N.a)({visible:!0,question:z(x.a.confirmation_save),callback:function(){R(Object(C.c)(Object(v.Tf)(e))),R(Object(N.d)(!0)),L(!0)}}))}));return Object(k.jsx)("div",{style:{width:"100%"},children:Object(k.jsxs)("form",{onSubmit:q,children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(O.L,{breadcrumbs:[].concat(Object(s.a)(D),[{id:"view-2",name:"".concat(z(x.a.inappropriatewords)," ").concat(z(x.a.detail))}]),handleClick:p}),Object(k.jsx)(O.R,{title:r?"".concat(r.description):z(x.a.newinnapropiateword)})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(k.jsx)(j.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(k.jsx)(_.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return p("view-1")},children:z(x.a.back)}),o&&Object(k.jsx)(j.a,{className:I.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(k.jsx)(h.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:z(x.a.save)})]})]}),Object(k.jsxs)("div",{className:I.containerDetail,children:[Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(O.u,{label:z(x.a.classification),className:"col-12",valueDefault:(null===r||void 0===r?void 0:r.classificationdata)||"",onChange:function(e){return H("classification",(null===e||void 0===e?void 0:e.domainvalue)||"")},error:null===W||void 0===W||null===(t=W.classification)||void 0===t?void 0:t.message,uset:!0,data:M,optionDesc:"domaindesc",optionValue:"domainvalue"})}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(O.l,{label:z(x.a.forbiddenWord),className:"col-12",onChange:function(e){return H("description",e)},valueDefault:r&&r.description||"",error:null===W||void 0===W||null===(a=W.description)||void 0===a?void 0:a.message})}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(O.l,{label:z(x.a.defaultanswer),className:"col-12",onChange:function(e){return H("defaultanswer",e)},valueDefault:r&&r.defaultanswer||"",error:null===W||void 0===W||null===(i=W.defaultanswer)||void 0===i?void 0:i.message})}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(O.u,{label:z(x.a.status),className:"col-12",valueDefault:(null===r||void 0===r?void 0:r.status)||"ACTIVO",onChange:function(e){return H("status",e?e.domainvalue:"")},error:null===W||void 0===W||null===(n=W.status)||void 0===n?void 0:n.message,data:A,uset:!0,prefixTranslation:"status_",optionDesc:"domaindesc",optionValue:"domainvalue"})})]})]})})};t.default=function(){var e=Object(I.g)(),t=Object(b.c)(),a=Object(g.a)().t,n=Object(f.b)((function(e){return e.main})),s=Object(f.b)((function(e){return e.main.execute})),m=Object(u.useState)("view-1"),w=Object(l.a)(m,2),h=w[0],y=w[1],D=Object(u.useState)({row:null,edit:!1}),E=Object(l.a)(D,2),T=E[0],L=E[1],V=Object(u.useState)(!1),R=Object(l.a)(V,2),z=R[0],A=R[1],M=Object(u.useState)(!1),U=Object(l.a)(M,2),B=U[0],G=U[1],H=Object(u.useState)([]),W=Object(l.a)(H,2),q=W[0],K=W[1],P=[{id:"view-0",name:a(x.a.configuration_plural)},{id:"view-1",name:a(x.a.inappropriatewords)}];function J(t){"view-0"!==t?y(t):e.push(S.a.CONFIGURATION)}var Q=d.a.useMemo((function(){return[{accessor:"userid",NoFilter:!0,isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(k.jsx)(O.M,{viewFunction:function(){return Y(t)},deleteFunction:function(){return $(t)},editFunction:function(){return Z(t)}})}},{Header:a(x.a.classification),accessor:"classification",NoFilter:!0},{Header:a(x.a.forbiddenWord),accessor:"description",NoFilter:!0},{Header:a(x.a.defaultanswer),accessor:"defaultanswer",NoFilter:!0},{Header:a(x.a.status),accessor:"status",NoFilter:!0}]}),[a]),X=function(){return t(Object(C.g)(Object(v.Wc)(0)))};Object(u.useEffect)((function(){return X(),t(Object(C.p)([Object(v.Ke)("GRUPOS"),Object(v.Ke)("ESTADOGENERICO"),Object(v.Ke)("CLASSINNAWORDS")])),function(){t(Object(C.t)())}}),[]),Object(u.useEffect)((function(){if(z)if(s.loading||s.error){if(s.error){var e=a(s.code||"error_unexpected_error",{module:a(x.a.inappropriatewords).toLocaleLowerCase()});t(Object(N.e)({show:!0,severity:"error",message:e})),t(Object(N.d)(!1)),A(!1)}}else t(Object(N.e)({show:!0,severity:"success",message:a(x.a.successful_delete)})),X(),t(Object(N.d)(!1)),A(!1)}),[s,z]),Object(u.useEffect)((function(){if(B)if(s.loading||s.error){if(s.error){var e=a(s.code||"error_unexpected_error",{module:a(x.a.inappropriatewords).toLocaleLowerCase()});t(Object(N.e)({show:!0,severity:"error",message:e})),t(Object(N.d)(!1)),G(!1)}}else t(Object(N.e)({show:!0,severity:"success",message:a(x.a.successful_transaction)})),X(),t(Object(N.d)(!1)),G(!1)}),[s,B]);var Y=function(e){y("view-2"),L({row:e,edit:!1})},Z=function(e){y("view-2"),L({row:e,edit:!0})},$=function(e){t(Object(N.a)({visible:!0,question:a(x.a.confirmation_delete),callback:function(){t(Object(C.c)(Object(v.Tf)(Object(o.a)(Object(o.a)({},e),{},{operation:"DELETE",status:"ELIMINADO",id:e.inappropriatewordsid})))),t(Object(N.d)(!0)),A(!0)}}))},ee=function(){var e=Object(r.a)(c.a.mark((function e(a){var i,r,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=a[0])){e.next=6;break}return e.next=4,Object(v.rh)(i,void 0);case 4:(r=e.sent.filter((function(e){return!["",null,void 0].includes(e.description)&&n.multiData.data[2].data.filter((function(t){return t.domainvalue===e.classification})).length>0}))).length>0&&(s=Object.keys(r[0]).includes("description"),l=Object.keys(r[0]),t(Object(N.d)(!0)),t(Object(C.c)(Object(v.ng)(r.reduce((function(e,t){return e.push(Object(o.a)(Object(o.a)({},t),{},{id:t.id||0,description:(s?t.description:t[l[0]])||"",classification:(s?t.classification:t[l[1]])||"",defaultanswer:(s?t.defaultanswer:t[l[2]])||"",type:"NINGUNO",status:t.status||"ACTIVO",operation:t.operation||"INSERT"})),e}),[])))),G(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){K(n.mainData.data.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{classification:(a("".concat(e.classification).toLowerCase())||"").toUpperCase(),classificationdata:e.classification,statusdesc:(a("status_".concat(e.status).toLowerCase())||"").toUpperCase()})})))}),[n.mainData.data]),"view-1"===h?Object(k.jsxs)("div",{style:{width:"100%"},children:[Object(k.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(k.jsx)(O.L,{breadcrumbs:P,handleClick:J})}),Object(k.jsx)(p.f,{columns:Q,titlemodule:a(x.a.inappropriatewords,{count:2}),data:q,ButtonsElement:function(){return Object(k.jsx)(j.a,{disabled:n.mainData.loading,variant:"contained",type:"button",color:"primary",startIcon:Object(k.jsx)(_.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return e.push(S.a.CONFIGURATION)},children:a(x.a.back)})},download:!0,onClickRow:Z,loading:n.mainData.loading,register:!0,handleRegister:function(){y("view-2"),L({row:null,edit:!0})},importCSV:ee,handleTemplate:function(){var e=[n.multiData.data[2].data.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.domainvalue,a("".concat(t.domainvalue))))}),{}),{},{},n.multiData.data[1].data.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.domainvalue,a("".concat(t.domainvalue))))}),{})];Object(v.bb)("".concat(a(x.a.template)," ").concat(a(x.a.inappropriatewords)),Object(v.fh)(e,["classification","description","defaultanswer","status"]))}})]}):"view-2"===h?Object(k.jsx)(F,{data:T,setViewSelected:J,multiData:n.multiData.data,fetchData:X,arrayBread:P}):null}},778:function(e,t,a){"use strict";var i=a(45),n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,i(a(62)).default)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=r},780:function(e,t,a){"use strict";var i=a(45),n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,i(a(62)).default)(c.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=r}}]);
//# sourceMappingURL=77.d7e0c8ac.chunk.js.map