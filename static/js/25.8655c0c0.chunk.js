(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[25,1],{1090:function(e,t,n){"use strict";n.r(t),n.d(t,"LayoutItem",(function(){return q}));var a=n(1091),r=n(26),i=n(1),o=n(20),c=n(169),l=n(51),s=n(94),u=n(452),d=n(102),p=n(101),b=n(257),f=n(171),j=n(10),h=n(48),m=n(0),v=n(46),O=n(1007),y=n.n(O),g=n(122),x=n(718),w=n(8),k=n(1081),S=n(1082),C=n(1046),A=n(850),D=n(205),E=n(40),T=n(83),_=n(7),F=n(25),N=n(301),P=n(44),R=n(881),I=n(2),L=Object(O.WidthProvider)(y.a),B=Object(c.a)((function(e){return{root:{display:"flex",flexDirection:"column",width:"100%"},dragDropContextRow:{display:"flex",flexDirection:"row",minHeight:500},droppableColumn:{display:"flex",flexDirection:"column",height:"100%"},droppableContainer:{display:"flex",backgroundColor:"red",color:"white",flexDirection:"column",height:"inherit",width:250},item:{backgroundColor:"blue",color:"white"},layout:{backgroundColor:"inherit",width:"100%"},header:{display:"flex",flexDirection:"row",gap:"1em"}}})),z=Object(c.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"80%",maxHeight:"80%",width:"80%",backgroundColor:"white",padding:"16px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"1em"}}})),W=function(e){var t=e.open,n=e.loading,a=e.defaultDescription,r=void 0===a?"":a,i=e.onClose,c=e.onSubmit,b=z(),f=Object(g.a)().t,j=Object(m.useState)(r),h=Object(o.a)(j,2),v=h[0],O=h[1];return Object(I.jsx)(u.a,{open:t,onClose:function(e,t){n||i()},"aria-labelledby":"dashboard-submit-modal-title","aria-describedby":"dashboard-submit-modal-description",children:Object(I.jsxs)(l.a,{className:b.root,children:[Object(I.jsx)(d.a,{id:"dashboard-submit-modal-title",variant:"h6",component:"h2",children:Object(I.jsx)(x.a,{i18nKey:w.a.description})}),Object(I.jsx)(p.a,{id:"dashboard-submit-modal-description",placeholder:f(w.a.enterDashboardDescription),value:v,onChange:function(e){return O(e.target.value)},InputProps:{readOnly:n}}),Object(I.jsx)(s.a,{variant:"contained",color:"primary",disabled:n||0===v.length,onClick:function(){return c(v)},children:Object(I.jsx)(x.a,{i18nKey:w.a.save})})]})})},M=Object(c.a)((function(e){return{root:{width:"inherit",height:"inherit",padding:"1em",display:"flex",overflow:"hidden",justifyContent:"center",alignItems:"center",minWidth:"unset",minHeight:"unset"},addIcon:{width:42,height:42}}})),H=function(e){var t=e.onClick,n=M();return Object(I.jsx)(s.a,{className:n.root,onClick:t,children:Object(I.jsx)(C.a,{color:"primary",className:n.addIcon})})},K=Object(c.a)((function(e){return{root:{backgroundColor:"white",width:"inherit",height:"inherit",padding:"1em",display:"block",overflow:"auto",position:"relative"},deleteBtn:{position:"absolute",top:1,right:1},funnelLvlTitle:{display:"flex",justifyContent:"space-between"},field:{marginBottom:"0.65rem"}}})),q=function(e){var t,n,a,c,l,u,d,p,f,j,v,O,y,x,k,S,D,E,T=e.layoutKey,_=e.edit,F=e.loading,P=void 0!==F&&F,R=e.templates,L=void 0===R?[]:R,B=e.kpis,z=void 0===B?[]:B,W=e.tags,M=void 0===W?[]:W,H=e.errors,q=e.getValues,V=e.setValue,G=e.register,U=e.unregister,J=e.onDelete,X=K(),Y=Object(g.a)().t,$=Object(m.useState)(-1),Z=Object(o.a)($,2),Q=Z[0],ee=Z[1],te=Object(m.useState)(""),ne=Object(o.a)(te,2),ae=ne[0],re=ne[1],ie=Object(m.useState)(q("".concat(T,".tags"))||[]),oe=Object(o.a)(ie,2),ce=oe[0],le=oe[1],se=Object(m.useState)([]),ue=Object(o.a)(se,2),de=ue[0],pe=ue[1];Object(m.useEffect)((function(){if(!1!==_){var e=q("".concat(T,".reporttemplateid"));void 0===e&&null===e||ee(L.findIndex((function(t){return t.reporttemplateid===e})));var t=q("".concat(T,".contentType"));void 0===t&&null===t||re(t);q("".concat(T,".contentType"))}}),[_,q]),Object(m.useEffect)((function(){return G("".concat(T,".description"),{validate:he,value:q("".concat(T,".description"))||""}),G("".concat(T,".contentType"),{validate:je,value:q("".concat(T,".contentType"))||""}),function(){U(T)}}),[G,U,Y,T]),Object(m.useEffect)((function(){"report"===ae?(U("".concat(T,".kpiid")),G("".concat(T,".reporttemplateid"),{validate:be,value:q("".concat(T,".reporttemplateid"))||0}),G("".concat(T,".grouping"),{validate:he,value:q("".concat(T,".grouping"))||""}),G("".concat(T,".graph"),{validate:he,value:q("".concat(T,".graph"))||""}),G("".concat(T,".column"),{validate:fe,value:q("".concat(T,".column"))||""}),G("".concat(T,".summarizationfunction")),G("".concat(T,".interval"),{value:q("".concat(T,".interval"))})):"kpi"===ae?(U("".concat(T,".reporttemplateid")),U("".concat(T,".grouping")),U("".concat(T,".graph")),U("".concat(T,".column")),G("".concat(T,".kpiid"),{validate:me,value:q("".concat(T,".kpiid"))||0})):"funnel"===ae&&(U("".concat(T,".kpiid")),U("".concat(T,".grouping")),U("".concat(T,".graph")),G("".concat(T,".reporttemplateid"),{validate:be,value:q("".concat(T,".reporttemplateid"))||0}),G("".concat(T,".column"),{validate:fe,value:q("".concat(T,".column"))||""}),G("".concat(T,".tags")))}),[ae,de,L]),Object(m.useEffect)((function(){if(-1!==Q){var e=JSON.parse(L[Q].columnjson),t=JSON.parse(L[Q].summaryjson).map((function(t){var n;return{alias:"".concat(Y(w.a.summarization)," - ").concat(null===e||void 0===e||null===(n=e.find((function(e){return e.columnname===t.columnname})))||void 0===n?void 0:n.alias," (").concat(Y("function_"+t.function),")"),columnname:"".concat(t.columnname).concat(t.function),description:t.columnname,descriptionT:t.columnname,disabled:!1,join_alias:null,join_on:null,join_table:null,tablename:"",type:t.type,function:t.function}}));pe(t.concat(e))}else pe([])}),[Q,L]);var be=function(e){if(0===e||!L.some((function(t){return t.reporttemplateid===e})))return Y(w.a.field_required)},fe=function(e){if(!e||0===e.length||!de.some((function(t){return t.columnname===e})))return Y(w.a.field_required)},je=function(e){return e&&0!==e.length?"report"!==e&&"kpi"!==e&&"funnel"!==e?Y(w.a.invalidEntry):void 0:Y(w.a.field_required)},he=function(e){return e&&0!==e.length?void 0:Y(w.a.field_required)},me=function(e){return 0===e?Y(w.a.field_required):void 0};return Object(I.jsxs)("div",{className:X.root,children:[Object(I.jsx)(b.a,{className:X.deleteBtn,onClick:J,size:"small",children:Object(I.jsx)(A.a,{style:{width:18,height:18}})}),Object(I.jsx)(h.l,{className:X.field,valueDefault:q("".concat(T,".description")),label:Y(w.a.title),disabled:P,error:null===(t=H[T])||void 0===t||null===(n=t.description)||void 0===n?void 0:n.message,onChange:function(e){return V("".concat(T,".description"),e)}}),Object(I.jsx)(h.u,{className:X.field,label:Y(w.a.contentType),data:N.a,optionDesc:"key",optionValue:"key",valueDefault:q("".concat(T,".contentType")),onChange:function(e){var t=(null===e||void 0===e?void 0:e.key)||"";V("".concat(T,".contentType"),t),re(t)},error:null===(a=H[T])||void 0===a||null===(c=a.contentType)||void 0===c?void 0:c.message,disabled:P,uset:!0,prefixTranslation:"dashboard_contentType_"}),"kpi"===ae&&Object(I.jsx)(h.u,{className:X.field,label:"KPI",data:z,optionDesc:"kpiname",optionValue:"id",valueDefault:q("".concat(T,".kpiid")),onChange:function(e){return V("".concat(T,".kpiid"),(null===e||void 0===e?void 0:e.id)||0)},error:null===(l=H[T])||void 0===l||null===(u=l.kpiid)||void 0===u?void 0:u.message,disabled:P}),"report"===ae&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(h.u,{className:X.field,label:Y(w.a.report),data:L,optionDesc:"description",optionValue:"reporttemplateid",valueDefault:q("".concat(T,".reporttemplateid")),onChange:function(e){var t=(null===e||void 0===e?void 0:e.reporttemplateid)||0;V("".concat(T,".reporttemplateid"),t),0===t&&V("".concat(T,".column"),""),ee(e?L.findIndex((function(t){return t===e})):-1)},error:null===(d=H[T])||void 0===d||null===(p=d.reporttemplateid)||void 0===p?void 0:p.message,disabled:P}),Object(I.jsx)(h.u,{className:X.field,label:Y(w.a.groupment),data:N.c,optionDesc:"key",optionValue:"key",valueDefault:q("".concat(T,".grouping")),onChange:function(e){V("".concat(T,".grouping"),(null===e||void 0===e?void 0:e.key)||""),V("".concat(T,".interval"),"")},error:null===(f=H[T])||void 0===f||null===(j=f.grouping)||void 0===j?void 0:j.message,disabled:P,uset:!0,prefixTranslation:"dashboard_groupment_"}),Object(I.jsx)(h.u,{className:X.field,label:Y(w.a.chartType),data:N.b,optionDesc:"key",optionValue:"key",valueDefault:q("".concat(T,".graph")),onChange:function(e){V("".concat(T,".graph"),(null===e||void 0===e?void 0:e.key)||""),V("".concat(T,".interval"),"")},error:null===(v=H[T])||void 0===v||null===(O=v.graph)||void 0===O?void 0:O.message,disabled:P,uset:!0,prefixTranslation:"dashboard_chartType_"}),("bar"===q("".concat(T,".graph"))||"line"===q("".concat(T,".graph")))&&Object(I.jsx)(h.u,{className:X.field,label:Y(w.a.displayinterval),data:[{key:"day",desc:Y(w.a.day)},{key:"week",desc:Y(w.a.week)},{key:"month",desc:Y(w.a.month)}],optionDesc:"desc",optionValue:"key",valueDefault:q("".concat(T,".interval")),onChange:function(e){return V("".concat(T,".interval"),(null===e||void 0===e?void 0:e.key)||"")},disabled:P}),Object(I.jsx)(h.u,{className:X.field,label:Y(w.a.column),data:de,optionDesc:"alias",optionValue:"columnname",valueDefault:"".concat(q("".concat(T,".column"))).concat(q("".concat(T,".summarizationfunction"))||""),onChange:function(e){var t,n;(null===e||void 0===e?void 0:e.function)?V("".concat(T,".column"),null===e||void 0===e||null===(t=e.columnname)||void 0===t?void 0:t.slice(0,-((null===e||void 0===e||null===(n=e.function)||void 0===n?void 0:n.length)||0))):V("".concat(T,".column"),(null===e||void 0===e?void 0:e.columnname)||"");V("".concat(T,".summarizationfunction"),(null===e||void 0===e?void 0:e.function)||"")},error:null===(y=H[T])||void 0===y||null===(x=y.column)||void 0===x?void 0:x.message,disabled:P||0===de.length})]}),"funnel"===ae&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(h.u,{className:X.field,label:Y(w.a.report),data:L,optionDesc:"description",optionValue:"reporttemplateid",valueDefault:q("".concat(T,".reporttemplateid")),onChange:function(e){var t=(null===e||void 0===e?void 0:e.reporttemplateid)||0;V("".concat(T,".reporttemplateid"),t),0===t&&V("".concat(T,".column"),""),ee(e?L.findIndex((function(t){return t===e})):-1)},error:null===(k=H[T])||void 0===k||null===(S=k.reporttemplateid)||void 0===S?void 0:S.message,disabled:P}),Object(I.jsx)(h.u,{className:X.field,label:Y(w.a.column),data:de.filter((function(e){return e.columnname.includes("tag")})),optionDesc:"alias",optionValue:"columnname",valueDefault:"".concat(q("".concat(T,".column"))).concat(q("".concat(T,".summarizationfunction"))||""),onChange:function(e){var t,n;(null===e||void 0===e?void 0:e.function)?V("".concat(T,".column"),null===e||void 0===e||null===(t=e.columnname)||void 0===t?void 0:t.slice(0,-((null===e||void 0===e||null===(n=e.function)||void 0===n?void 0:n.length)||0))):V("".concat(T,".column"),(null===e||void 0===e?void 0:e.columnname)||"");V("".concat(T,".summarizationfunction"),(null===e||void 0===e?void 0:e.function)||"")},error:null===(D=H[T])||void 0===D||null===(E=D.column)||void 0===E?void 0:E.message,disabled:P||0===de.length}),Object(I.jsx)(I.Fragment,{children:ce.map((function(e,t){var n,a,r,o,c,l,s,u;return Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:X.funnelLvlTitle,children:[Object(I.jsxs)("p",{style:{fontSize:14,fontWeight:500},children:[Y(w.a.level)," ",t+1]}),Object(I.jsx)(b.a,{onClick:function(){return function(e){var t=ce.filter((function(t,n){return n!==e}));le(t),V("".concat(T,".tags"),t)}(t)},size:"small",style:{width:18,height:18,margin:14,marginRight:0},children:Object(I.jsx)(A.a,{style:{width:18,height:18}})})]}),Object(I.jsxs)("div",{style:{paddingLeft:40},children:[Object(I.jsx)(h.u,{fregister:Object(i.a)({},G("".concat(T,".tags[").concat(t,"].value"),{validate:function(e){return e&&e.length||Y(w.a.field_required)}})),className:X.field,label:Y(w.a.value),data:M,optionDesc:"tag",optionValue:"tag",valueDefault:q("".concat(T,".tags[").concat(t,"].value")),onChange:function(e){var n=q("".concat(T,".tags"))||[];n[t].value=(null===e||void 0===e?void 0:e.tag)||"";var a=ce;a[t].value=(null===e||void 0===e?void 0:e.tag)||"",le(a),V("".concat(T,".tags"),n)},error:null===(n=H[T])||void 0===n||null===(a=n.tags)||void 0===a||null===(r=a[t])||void 0===r||null===(o=r.value)||void 0===o?void 0:o.message}),Object(I.jsx)(h.l,{fregister:Object(i.a)({},G("".concat(T,".tags[").concat(t,"].title"),{validate:function(e){return e&&e.length||Y(w.a.field_required)}})),label:"".concat(Y(w.a.title)," ").concat(Y(w.a.level)," ").concat(t+1),valueDefault:q("".concat(T,".tags[").concat(t,"].title")),className:X.field,onChange:function(e){var n=q("".concat(T,".tags"))||[];n[t].title=e||"";var a=ce;a[t].title=e||"",le(a),V("".concat(T,".tags"),n)},error:null===(c=H[T])||void 0===c||null===(l=c.tags)||void 0===l||null===(s=l[t])||void 0===s||null===(u=s.title)||void 0===u?void 0:u.message})]})]},"tagdatalevel".concat(t+1))}))}),Object(I.jsxs)(s.a,{style:{float:"right"},onClick:function(){var e=q("".concat(T,".tags"))||[];le([].concat(Object(r.a)(e),[{value:"",title:""}])),V("".concat(T,".tags"),[].concat(Object(r.a)(e),[{value:"",title:""}]))},children:[Object(I.jsx)(C.a,{})," ",Y(w.a.add)," ",Y(w.a.level)]})]})]})},V=function(){return Object(I.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:Object(I.jsx)(f.a,{})})};t.default=function(e){var t=e.edit,n=void 0!==t&&t,c=Object(g.a)().t,u=Object(v.j)(),d=Object(v.h)(),p=B(),b=Object(E.c)(),f=Object(v.g)(),O=Date.now().toString(),y=Object(m.useState)(!1),C=Object(o.a)(y,2),A=C[0],N=C[1],z=Object(m.useState)([{i:"add-btn-layout",x:3,y:0,w:3,h:2,minW:2,minH:1,isResizable:!1,isDraggable:!1,static:!1},{i:O,x:0,y:0,w:3,h:2,minW:2,minH:1,static:!1}]),M=Object(o.a)(z,2),K=M[0],G=M[1],U=Object(F.b)((function(e){return e.main.multiData})),J=Object(F.b)((function(e){return e.dashboard.dashboardtemplateSave})),X=Object(F.b)((function(e){return e.dashboard.dashboardtemplate}));Object(m.useEffect)((function(){if(!0!==n||d.state)!0===n&&d.state?b(Object(R.i)(Object(i.a)(Object(i.a)({},d.state),{},{description:"".concat(d.state.description,"-v1"),dashboardtemplateid:0}))):!0!==n||d.state||Number(u.params.id)||f.push(j.a.DASHBOARD);else{var e=u.params.id;b(Object(R.c)(Object(_.Dc)(e)))}return b(Object(T.p)([Object(_.je)(),Object(_.id)(),Object(_.se)()])),function(){b(Object(T.y)()),b(Object(T.C)()),b(Object(R.g)())}}),[n,d.state,u.params.id,b]),Object(m.useEffect)((function(){if(!U.loading&&U.error){var e=c(U.code||"error_unexpected_error",{module:c(w.a.user).toLocaleLowerCase()});b(Object(P.e)({message:e,severity:"error",show:!0}))}}),[U,c,b]),Object(m.useEffect)((function(){if(!J.loading)if(J.error){var e=c(J.code||"error_unexpected_error",{module:c(w.a.dashboard).toLocaleLowerCase()});b(Object(P.e)({message:e,severity:"error",show:!0}))}else!0===J.success&&(b(Object(P.e)({message:"Se guard\xf3 el dashboard",severity:"success",show:!0})),f.push(j.a.DASHBOARD))}),[J,f,c,b]),Object(m.useEffect)((function(){if(!1!==n&&!X.loading)if(X.error){var e=c(X.code||"error_unexpected_error",{module:c(w.a.user).toLocaleLowerCase()});b(Object(P.e)({message:e,severity:"error",show:!0}))}else X.value&&(G((function(e){return[Object(i.a)(Object(i.a)({},e[0]),{},{x:3*(e.length-1)%12+3,y:1/0})].concat(Object(r.a)(JSON.parse(X.value.layoutjson)))})),ae(JSON.parse(X.value.detailjson)))}),[X,n,c,b]);var Y=Object(D.d)({defaultValues:{}}),$=Y.register,Z=Y.unregister,Q=Y.formState.errors,ee=Y.getValues,te=Y.setValue,ne=Y.handleSubmit,ae=Y.reset,re=function(){var e=Date.now().toString();G((function(t){var n=[].concat(Object(r.a)(t),[{i:e,x:3*(t.length-1)%12,y:1/0,w:3,h:2,minW:2,minH:1,static:!1}]),a="add-btn-layout"===n[0].i&&n[0];return a&&(n[0]=Object(i.a)(Object(i.a)({},a),{},{x:3*(t.length-1)%12+3,y:1/0})),n}))},ie=Object(m.useCallback)((function(e){if(!0!==n||X.value){var t=ee(),r=Object(a.a)(K).slice(1);b(Object(R.h)(Object(_.Cc)({id:n?X.value.dashboardtemplateid:0,description:e,detailjson:JSON.stringify(t),layoutjson:JSON.stringify(r),status:"ACTIVO",type:"NINGUNO",operation:n&&0!==X.value.dashboardtemplateid?"UPDATE":"INSERT"})))}}),[n,X,K,ee,b]);return!0!==n||!X.loading&&X.value?Object(I.jsxs)(l.a,{className:p.root,children:[Object(I.jsx)(h.L,{breadcrumbs:[{id:"view-1",name:"Dashboards"},{id:"view-2",name:c(n?w.a.edit_custom_dashboard:w.a.create_custom_dashboard)}],handleClick:function(e){return"view-1"===e&&f.push(j.a.DASHBOARD)}}),Object(I.jsxs)("div",{className:p.header,children:[Object(I.jsx)(h.R,{title:n?X.value.description:c(w.a.newDashboard)}),Object(I.jsx)("div",{style:{flexGrow:1}}),Object(I.jsx)(s.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(I.jsx)(k.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return f.push(j.a.DASHBOARD)},children:Object(I.jsx)(x.a,{i18nKey:w.a.back})}),Object(I.jsx)(s.a,{variant:"contained",color:"primary",onClick:function(){K.length<=1?b(Object(P.e)({message:c(w.a.empty_dashboard_form_error),severity:"error",show:!0})):ne((function(e){N(!0)}),(function(e){return console.warn("errores",e)}))()},disabled:X.loading,style:{backgroundColor:"#55BD84"},startIcon:Object(I.jsx)(S.a,{color:"secondary"}),children:Object(I.jsx)(x.a,{i18nKey:w.a.save})})]}),Object(I.jsx)("div",{style:{height:"1em"}}),function(){var e,t;return!U.loading&&"UFN_REPORTTEMPLATE_SEL"===(null===(e=U.data[0])||void 0===e?void 0:e.key)&&"UFN_KPI_LST"===(null===(t=U.data[1])||void 0===t?void 0:t.key)}()?Object(I.jsx)(L,{className:p.layout,layout:K,onLayoutChange:G,cols:12,rowHeight:140,children:K.map((function(e){return"add-btn-layout"===e.i?Object(I.jsx)("div",{children:Object(I.jsx)(H,{onClick:re})},e.i):Object(I.jsx)("div",{children:Object(I.jsx)(q,{edit:n,layoutKey:e.i,templates:U.data[0].data,kpis:U.data[1].data,tags:U.data[2].data,loading:U.loading,register:$,unregister:Z,getValues:ee,setValue:te,errors:Q,onDelete:function(){return t=e.i,void G((function(e){return e.filter((function(e){return e.i!==t}))}));var t}})},e.i)}))}):Object(I.jsx)(V,{}),Object(I.jsx)(W,{defaultDescription:!1===n?"":X.value.description,open:A,loading:J.loading,onClose:function(){return N(!1)},onSubmit:ie})]}):Object(I.jsx)(V,{})}},1267:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(875),r=n(939),i=n(934),o=n(935),c=n(862),l=Object(a.a)({chartName:"LineChart",GraphicalChild:r.a,axisComponents:[{axisType:"xAxis",AxisComp:i.a},{axisType:"yAxis",AxisComp:o.a}],formatAxisMap:c.b})},1278:function(e,t,n){var a=n(343),r=n(485),i=n(1279),o=n(345),c=n(217),l=n(1281),s=n(1282),u=n(487),d=s((function(e,t){var n={};if(null==e)return n;var s=!1;t=a(t,(function(t){return t=o(t,e),s||(s=t.length>1),t})),c(e,u(e),n),s&&(n=r(n,7,l));for(var d=t.length;d--;)i(n,t[d]);return n}));e.exports=d},1279:function(e,t,n){var a=n(345),r=n(1078),i=n(1280),o=n(216);e.exports=function(e,t){return t=a(t,e),null==(e=i(e,t))||delete e[o(r(t))]}},1280:function(e,t,n){var a=n(344),r=n(1061);e.exports=function(e,t){return t.length<2?e:a(e,r(t,0,-1))}},1281:function(e,t,n){var a=n(466);e.exports=function(e){return a(e)?void 0:e}},1282:function(e,t,n){var a=n(1283),r=n(1058),i=n(1059);e.exports=function(e){return i(r(e,void 0,a),e+"")}},1283:function(e,t,n){var a=n(970);e.exports=function(e){return(null==e?0:e.length)?a(e,1):[]}},1491:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(3),i=n(52),o=n(1),c=n(20),l=n(0),s=n.n(l),u=n(169),d=n(51),p=n(94),b=n(170),f=n(257),j=n(167),h=n(197),m=n(979),v=n(171),O=n(830),y=n(1081),g=n(1145),x=n(40),w=n(881),k=n(25),S=n(48),C=n(46),A=n(10),D=n(8),E=n(122),T=n(718),_=n(44),F=n(7),N=n(1007),P=n.n(N),R=n(1398),I=n(1399),L=n(934),B=n(935),z=n(1359),W=n(1077),M=n(864),H=n(933),K=n(1267),q=n(1404),V=n(939),G=n(875),U=n(851),J=n.n(U),X=n(466),Y=n.n(X),$=n(322),Z=n.n($),Q=n(1278),ee=n.n(Q),te=n(464),ne=n.n(te),ae=n(968),re=n.n(ae),ie=n(836),oe=n(141),ce=n.n(oe),le=n(800),se=n(782);function ue(e){return(ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=me(e);if(t){var r=me(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==ue(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e,t,n,a,r){var i,o=n-a;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+r),i+="L ".concat(e+n-o/2-a,",").concat(t+r),i+="L ".concat(e,",").concat(t," Z")},Oe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,a,r=je(i);function i(){var e;pe(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={totalLength:-1},e.node=void 0,e}return t=i,(n=[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var e=this.node.getTotalLength();e&&this.setState({totalLength:e})}catch(t){}}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,a=t.y,r=t.upperWidth,i=t.lowerWidth,o=t.height,c=t.className,l=this.state.totalLength,u=this.props,d=u.animationEasing,p=u.animationDuration,b=u.animationBegin,f=u.isUpdateAnimationActive;if(n!==+n||a!==+a||r!==+r||i!==+i||o!==+o||0===r&&0===i||0===o)return null;var j=ce()("recharts-trapezoid",c);return f?s.a.createElement(ie.a,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:o,x:n,y:a},to:{upperWidth:r,lowerWidth:i,height:o,x:n,y:a},duration:p,animationEasing:d,isActive:f},(function(t){var n=t.upperWidth,a=t.lowerWidth,r=t.height,i=t.x,o=t.y;return s.a.createElement(ie.a,{canBegin:l>0,from:"0px ".concat(-1===l?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:p,easing:d},s.a.createElement("path",de({},Object(se.c)(e.props,!0),{className:j,d:ve(i,o,n,a,r),ref:function(t){e.node=t}})))})):s.a.createElement("g",null,s.a.createElement("path",de({},Object(se.c)(this.props,!0),{className:j,d:ve(n,a,r,i,o)})))}}])&&be(t.prototype,n),a&&be(t,a),i}(l.PureComponent);Oe.defaultProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};var ye=n(818),ge=n(825),xe=n(785),we=n(822);function ke(e){return(ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(l){r=!0,i=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Ie(e);if(t){var r=Ie(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Re(this,n)}}function Re(e,t){return!t||"object"!==ke(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(i,e);var t,n,a,r=Pe(i);function i(){var e;_e(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={isAnimationFinished:!1},e.handleAnimationEnd=function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),Z()(t)&&t()},e.handleAnimationStart=function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),Z()(t)&&t()},e}return t=i,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curTrapezoids:e.trapezoids,prevTrapezoids:t.curTrapezoids}:e.trapezoids!==t.curTrapezoids?{curTrapezoids:e.trapezoids}:null}},{key:"renderTrapezoidItem",value:function(e,t){return s.a.isValidElement(e)?s.a.cloneElement(e,t):Z()(e)?e(t):Y()(e)?s.a.createElement(Oe,Ae({},t,e)):s.a.createElement(Oe,t)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"renderTrapezoidsStatically",value:function(e){var t=this,n=this.props.activeShape;return e.map((function(e,a){var r=t.isActiveIndex(a)?n:null,o=Ee(Ee({},e),{},{stroke:e.stroke});return s.a.createElement(le.a,Ae({className:"recharts-funnel-trapezoid"},Object(se.b)(t.props,e,a),{key:"trapezoid-".concat(a)}),i.renderTrapezoidItem(r,o))}))}},{key:"renderTrapezoidsWithAnimation",value:function(){var e=this,t=this.props,n=t.trapezoids,a=t.isAnimationActive,r=t.animationBegin,i=t.animationDuration,o=t.animationEasing,c=t.animationId,l=this.state.prevTrapezoids;return s.a.createElement(ie.a,{begin:r,duration:i,isActive:a,easing:o,from:{t:0},to:{t:1},key:"funnel-".concat(c),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var a=t.t,r=n.map((function(e,t){var n=l&&l[t];if(n){var r=Object(xe.f)(n.x,e.x),i=Object(xe.f)(n.y,e.y),o=Object(xe.f)(n.upperWidth,e.upperWidth),c=Object(xe.f)(n.lowerWidth,e.lowerWidth),s=Object(xe.f)(n.height,e.height);return Ee(Ee({},e),{},{x:r(a),y:i(a),upperWidth:o(a),lowerWidth:c(a),height:s(a)})}var u=Object(xe.f)(e.x+e.upperWidth/2,e.x),d=Object(xe.f)(e.y+e.height/2,e.y),p=Object(xe.f)(0,e.upperWidth),b=Object(xe.f)(0,e.lowerWidth),f=Object(xe.f)(0,e.height);return Ee(Ee({},e),{},{x:u(a),y:d(a),upperWidth:p(a),lowerWidth:b(a),height:f(a)})}));return s.a.createElement(le.a,null,e.renderTrapezoidsStatically(r))}))}},{key:"renderTrapezoids",value:function(){var e=this.props,t=e.trapezoids,n=e.isAnimationActive,a=this.state.prevTrapezoids;return!(n&&t&&t.length)||a&&J()(a,t)?this.renderTrapezoidsStatically(t):this.renderTrapezoidsWithAnimation()}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.trapezoids,a=e.className,r=e.isAnimationActive,i=this.state.isAnimationFinished;if(t||!n||!n.length)return null;var o=ce()("recharts-trapezoids",a);return s.a.createElement(le.a,{className:o},this.renderTrapezoids(),(!r||i)&&M.a.renderCallByParent(this.props,n))}}])&&Fe(t.prototype,n),a&&Fe(t,a),i}(l.PureComponent);Le.displayName="Funnel",Le.defaultProps={stroke:"#fff",fill:"#808080",legendType:"rect",labelLine:!0,hide:!1,isAnimationActive:!ge.a.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",lastShapeType:"triangle"},Le.getRealFunnelData=function(e){var t=e.props,n=t.data,a=t.children,r=Object(se.c)(e.props),i=Object(ye.a)(a,H.a.displayName);return n&&n.length?n.map((function(e,t){return Ee(Ee(Ee({payload:e},r),e),i&&i[t]&&i[t].props)})):i&&i.length?i.map((function(e){return Ee(Ee({},r),e.props)})):[]},Le.getRealWidthHeight=function(e,t){var n=e.props.width,a=t.width,r=t.height,i=t.left,o=t.right,c=t.top,l=t.bottom,s=r,u=a;return re()(n)?u=n:ne()(n)&&(u=u*parseFloat(n)/100),{realWidth:u-i-o-50,realHeight:s-l-c,offsetX:(a-u)/2,offsetY:(r-s)/2}},Le.getComposedData=function(e){var t=e.item,n=e.offset,a=Le.getRealFunnelData(t),r=t.props,i=r.dataKey,o=r.nameKey,c=r.tooltipType,l=r.lastShapeType,s=r.reversed,u=n.left,d=n.top,p=Le.getRealWidthHeight(t,n),b=p.realHeight,f=p.realWidth,j=p.offsetX,h=p.offsetY,m=Math.max.apply(null,a.map((function(e){return Object(we.w)(e,i,0)}))),v=a.length,O=b/v,y={x:n.left,y:n.top,width:n.width,height:n.height},g=a.map((function(e,t){var n,r=Object(we.w)(e,i,0),s=Object(we.w)(e,o,t),p=r;if(t!==v-1)(n=Object(we.w)(a[t+1],i,0))instanceof Array&&(n=Se(n,1)[0]);else if(r instanceof Array&&2===r.length){var b=Se(r,2);p=b[0],n=b[1]}else n="rectangle"===l?p:0;var g=(m-p)*f/(2*m)+d+25+j,x=O*t+u+h,w=p/m*f,k=n/m*f,S=[{name:s,value:p,payload:e,dataKey:i,type:c}],C={x:g+w/2,y:x+O/2};return Ee(Ee({x:g,y:x,width:Math.max(w,k),upperWidth:w,lowerWidth:k,height:O,name:s,val:p,tooltipPayload:S,tooltipPosition:C},ee()(e,"width")),{},{payload:e,parentViewBox:y,labelViewBox:{x:g+(w-k)/4,y:x,width:Math.abs(w-k)/2+Math.min(w,k),height:O}})}));return s&&(g=g.map((function(e,t){var n=e.y-t*O+(v-1-t)*O;return Ee(Ee({},e),{},{upperWidth:e.lowerWidth,lowerWidth:e.upperWidth,x:e.x-(e.lowerWidth-e.upperWidth)/2,y:e.y-t*O+(v-1-t)*O,tooltipPosition:Ee(Ee({},e.tooltipPosition),{},{y:n+O/2}),labelViewBox:Ee(Ee({},e.labelViewBox),{},{y:n})})}))),{trapezoids:g,data:a}};var Be=Object(G.a)({chartName:"FunnelChart",GraphicalChild:Le,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",axisComponents:[],defaultProps:{layout:"centric"}}),ze=n(1494),We=n(1219),Me=n(1131),He=n(1090),Ke=n(205),qe=n(83),Ve=n(16),Ge=n(779),Ue=n(1086),Je=n.n(Ue),Xe=n(9),Ye=n(860),$e=n(265),Ze=n.n($e),Qe=n(908),et=n.n(Qe),tt=n(866),nt=n.n(tt),at=n(376),rt=n.n(at),it=n(2),ot=["data","alldata","tickFormatter","tooltipFormatter","grouping"],ct=["data","alldata","tickFormatter","tooltipFormatter","grouping"],lt=["data","title"],st=["data","alldata","tooltipFormatter","tickFormatter"],ut=Object(N.WidthProvider)(P.a),dt=["ene","feb","mar","abr","may","jun","jul","ago","set","oct","nov","dic"],pt=["#0000ff","#ff0000","#ffff00","#ff0080","#00aae4","#00ffff","#76bd17","#ff00ff","#4c2882","#804000","#008f39","#ff8000"],bt=["#8884d8","#82ca9d","#d32248","#1dc1fa","#2b5ef4","#7be2aa","#c58725","#692f32","#8f97b8","#57be99"],ft=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",width:"100%"},header:{display:"flex",flexDirection:"row",gap:"1em"},layout:{backgroundColor:"inherit",width:"100%"},filtersContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",backgroundColor:"white",padding:e.spacing(1),gap:e.spacing(1)},styleicon:{width:"22px",height:"22px","&:hover":{cursor:"pointer"}},downloadiconcontainer:{width:"100%",display:"flex",justifyContent:"end"},label:{fontWeight:"bold",fontSize:16}}})),jt=function(e){return new Date(e.setHours(10)).toISOString().split("T")[0]},ht=Object(u.a)((function(e){return{rootLoading:{display:"flex",flexDirection:"column",height:"100%",width:"100%",backgroundColor:"white",alignItems:"center",justifyContent:"center"},root:{display:"flex",flexDirection:"column",overflow:"hidden",height:"inherit",width:"inherit",backgroundColor:"white",padding:e.spacing(1)},header:{display:"flex",flexDirection:"row",gap:e.spacing(1),alignItems:"center",paddingBottom:"1em"},label:{fontWeight:"bold",fontSize:16},reponsiveContainer:{width:"100%",overflow:"hidden",flexGrow:1},errorText:{textAlign:"center",fontWeight:"bold",fontSize:18,padding:"1em"}}})),mt=function(e){var t=e.title,n=e.data,a=e.type,r=e.layoutKey,i=(e.detail,e.columns),o=e.dateRange,s=e.dataorigin,u=e.groupment,d=e.error,p=e.errorcode,m=e.alldata,v=(e.onDetailChange,e.onModalOpenhasChanged),O=ht(),y=Object(E.a)().t,x=Object(l.useMemo)((function(){return!0!==d&&n?"funnel"===a?n:"kpi"!==a?Object.keys(n).map((function(e){return{label:e,quantity:n[e]}})):n:[]}),[n,a,d]),w=Object(l.useState)(!1),k=Object(c.a)(w,2),S=k[0],C=k[1],A=Object(l.useState)(null),_=Object(c.a)(A,2),F=_[0],N=_[1],P=Boolean(F),R=function(){N(null)},I=function(e,t){return"percentage"===u?"".concat(y(D.a.percentage),": ").concat(e.toFixed(2),"%"):"".concat(y(D.a.quantity),": ").concat(e,"\n").concat(y(D.a.percentage),": ").concat((100*e/t).toFixed(2),"%")},L=Object(l.useCallback)((function(){switch(a){case"bar":return Object(it.jsx)(vt,{data:x,tickFormatter:"percentage"===u?function(e){return"".concat(Number(e).toFixed(2),"%")}:void 0,tooltipFormatter:I,alldata:m,grouping:u});case"pie":return Object(it.jsx)(xt,{data:x,tooltipFormatter:I,tickFormatter:"percentage"===u?function(e){return"".concat(Number(e).toFixed(2),"%")}:void 0,alldata:m});case"line":return Object(it.jsx)(Ot,{data:x,tickFormatter:"percentage"===u?function(e){return"".concat(Number(e).toFixed(2),"%")}:void 0,tooltipFormatter:I,alldata:m,grouping:u});case"kpi":return Object(it.jsx)(wt,{data:x});case"funnel":return Object(it.jsx)(gt,{data:x,title:t});default:return null}}),[x,u,a]);return!0===d&&"REPORT_NOT_FOUND"===p?Object(it.jsx)("div",{className:Object(Xe.default)(O.rootLoading,O.errorText),children:Object(it.jsx)(T.a,{i18nKey:D.a.chart_dashboard_report_error})}):!0===d&&"COLUMN_NOT_FOUND"===p?Object(it.jsx)("div",{className:Object(Xe.default)(O.rootLoading,O.errorText),children:Object(it.jsx)(T.a,{i18nKey:D.a.chart_dashboard_column_error})}):!0===d?Object(it.jsx)("div",{className:Object(Xe.default)(O.rootLoading,O.errorText),children:Object(it.jsx)(T.a,{i18nKey:D.a.chart_dashboard_unexpected_error})}):n?Object(it.jsxs)("div",{className:O.root,children:["funnel"!==a&&Object(it.jsxs)("div",{className:O.header,children:[Object(it.jsx)("span",{className:O.label,children:t}),Object(it.jsx)("div",{style:{flexGrow:1}}),"kpi"!==a&&i&&s&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(b.a,{title:Object(it.jsx)(T.a,{i18nKey:D.a.moreOptions}),children:Object(it.jsx)(f.a,{id:"more-btn-".concat(r),onClick:function(e){N(e.currentTarget)},size:"small","aria-controls":"more-menu-".concat(r),children:Object(it.jsx)(g.a,{})})}),Object(it.jsx)(j.a,{id:"more-menu-".concat(r),anchorEl:F,open:P,onClose:R,MenuListProps:{"aria-labelledby":"more-btn-".concat(r)},children:Object(it.jsx)(h.a,{onClick:function(){C(!0),v(!0),R()},children:Object(it.jsx)(T.a,{i18nKey:D.a.seeMore})})})]})]}),Object(it.jsx)("div",{className:O.reponsiveContainer,children:L()}),"kpi"!==a&&"funnel"!==a&&Object(it.jsx)(kt,{title:t,open:S,onClose:function(){C(!1),v(!1)},rawColumns:i,dataorigin:s,dateRange:o})]}):Object(it.jsx)("div",{className:O.rootLoading,children:Object(it.jsx)(St,{})})},vt=function(e){var t=e.data,n=e.alldata,a=e.tickFormatter,r=e.tooltipFormatter,c=e.grouping,l=Object(i.a)(e,ot),s=Object(E.a)().t,u=null===n||void 0===n?void 0:n.total,d=t,p=[],b=!1;if(null===n||void 0===n?void 0:n.interval)b=!0,d=t.map((function(e){return Object.keys(e.quantity).forEach((function(e){p.includes(e)||p.push(e)})),"month"===(null===n||void 0===n?void 0:n.interval)?Object(o.a)(Object(o.a)({},Object(e.quantity)),{},{label:s("full"+dt[Number(e.label.split("-")[1])-1])+" "+e.label.split("-")[0].replace("month","")}):Object(o.a)(Object(o.a)({},Object(e.quantity)),{},{label:"".concat(s(null===n||void 0===n?void 0:n.interval)," ").concat(e.label.replace(null===n||void 0===n?void 0:n.interval,""))})}));else{var f=t.map((function(e){return e.label}))[0];f&&(f.includes("-")&&(b=!0,d=t.map((function(e){var t=e.label.replace("day",""),n=t.slice(0,t.indexOf("-"));return t=t.replace("".concat(n,"-"),"".concat(s(dt[Number(n)-1])," ")),Object(o.a)(Object(o.a)({},e),{},{label:t,color:pt[Number(n)-1]})}))),f.includes("week")&&(b=!0,d=t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{label:e.label.replace("month","".concat(s("month")," ")).replace("week","".concat(s("week")," "))})}))),f.includes("month")&&(b=!0,d=t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{label:s("full"+dt[Number(e.label.split("-")[1])-1])+" "+e.label.split("-")[0].replace("month","")})}))))}return Object(it.jsx)(R.a,Object(o.a)(Object(o.a)({width:"100%"},l),{},{children:Object(it.jsxs)(I.a,{data:d,margin:{top:20,right:10,bottom:5,left:10},children:[Object(it.jsx)(L.a,{reversed:b,dataKey:"label",style:{fontSize:"0.8em"},angle:-45,interval:0,textAnchor:"end",height:160,dy:5,dx:-5,domain:["",""]}),Object(it.jsx)(B.a,{tickFormatter:a,padding:{top:10}}),(null===n||void 0===n?void 0:n.interval)?Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(z.a,{content:function(e){var t=e.active,n=e.payload,a=e.label;if(t&&n&&n.length){var r=n.reduce((function(e,t){return e+Number(t.value)}),0);return Object(it.jsxs)(m.a,{style:{padding:"0.85em"},children:[a&&Object(it.jsx)("label",{children:a}),a&&Object(it.jsx)("br",{}),n.map((function(e){var t=e.payload[null===e||void 0===e?void 0:e.dataKey];if("percentage"===c){if(t)return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("span",{style:{color:e.color,whiteSpace:"break-spaces"},children:"".concat(e.dataKey,": ").concat(t,"%")},"".concat(a,"-").concat(e.dataKey,"-").concat(t)),Object(it.jsx)("br",{})]})}else if(t)return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("span",{style:{color:e.color,whiteSpace:"break-spaces"},children:"".concat(e.dataKey,": ").concat(t," / ").concat((100*t/r).toFixed(2),"%")},"".concat(a,"-").concat(e.dataKey,"-").concat(t)),Object(it.jsx)("br",{})]});return null})),"percentage"!==c&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("span",{style:{whiteSpace:"break-spaces"},children:"".concat(s(D.a.percentage),": ").concat((100*r/u).toFixed(2),"%")}),Object(it.jsx)("br",{})]})]},"".concat(a,"-").concat(n[0].value))}return null}}),p.map((function(e,t){return Object(it.jsx)(W.a,{isAnimationActive:!1,dataKey:e,fill:bt[t],textAnchor:"end",type:"monotone",children:Object(it.jsx)(M.a,{dataKey:e,position:"top",fill:"#000"})},e)}))]}):Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(z.a,{content:function(e){var t=e.active,n=e.payload,a=e.label;if(t&&n&&n.length){var i=n[0].value;return Object(it.jsxs)(m.a,{style:{padding:"0.85em"},children:[a&&Object(it.jsx)("label",{children:a}),a&&Object(it.jsx)("br",{}),Object(it.jsx)("span",{style:{color:"#8884d8",whiteSpace:"break-spaces"},children:(null===r||void 0===r?void 0:r(i,u))||"quantity: ".concat(i)})]},"".concat(a,"-").concat(i))}return null}}),Object(it.jsxs)(W.a,{isAnimationActive:!1,dataKey:"quantity",fill:"#8884d8",textAnchor:"end",type:"monotone",children:[d.map((function(e,t){return Object(it.jsx)(H.a,{fill:(null===e||void 0===e?void 0:e.color)||"#8884d8"},"cell-".concat(t))})),Object(it.jsx)(M.a,{dataKey:"quantity",position:"top",fill:"#000"})]})]})]})}))},Ot=function(e){var t=e.data,n=e.alldata,a=e.tickFormatter,c=e.tooltipFormatter,l=e.grouping,s=Object(i.a)(e,ct),u=Object(E.a)().t,d=null===n||void 0===n?void 0:n.total,p=t,b=[],f=!1;if(null===n||void 0===n?void 0:n.interval){f=!0,t.forEach((function(e){Object.keys(e.quantity).forEach((function(e){b.includes(e)||b.push(e)}))}));var j=b.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(r.a)({},t,0))}),{});p="month"===(null===n||void 0===n?void 0:n.interval)?t.map((function(e){return Object(o.a)(Object(o.a)(Object(o.a)({},j),Object(e.quantity)),{},{label:u("full"+dt[Number(e.label.split("-")[1])-1])+" "+e.label.split("-")[0].replace("month","")})})):t.map((function(e){return Object(o.a)(Object(o.a)(Object(o.a)({},j),Object(e.quantity)),{},{label:"".concat(u(null===n||void 0===n?void 0:n.interval)," ").concat(e.label.replace(null===n||void 0===n?void 0:n.interval,""))})}))}else{var h=t.map((function(e){return e.label}))[0];h&&(h.includes("-")&&(f=!0,p=t.map((function(e){var t=e.label.replace("day",""),n=t.slice(0,t.indexOf("-"));return t=t.replace("".concat(n,"-"),"".concat(u(dt[Number(n)-1])," ")),Object(o.a)(Object(o.a)({},e),{},{label:t,color:pt[Number(n)-1]})}))),h.includes("week")&&(f=!0,p=t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{label:e.label.replace("week","".concat(u("week")," "))})}))),h.includes("month")&&(f=!0,p=t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{label:u("full"+dt[Number(e.label.split("-")[1])-1])+" "+e.label.split("-")[0].replace("month","")})}))))}return Object(it.jsx)(R.a,Object(o.a)(Object(o.a)({},s),{},{children:Object(it.jsxs)(K.a,{data:p,margin:{top:20,right:10,bottom:5,left:10},children:[Object(it.jsx)(q.a,{stroke:"#ccc"}),Object(it.jsx)(L.a,{domain:["",""],reversed:f,dataKey:"label",style:{fontSize:"0.8em"},angle:-45,interval:0,textAnchor:"end",height:160,dy:5,dx:-5}),Object(it.jsx)(B.a,{tickFormatter:a}),(null===n||void 0===n?void 0:n.interval)?Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(z.a,{content:function(e){var t=e.active,n=e.payload,a=e.label;if(t&&n&&n.length){var r=n.reduce((function(e,t){return e+Number(t.value)}),0);return Object(it.jsxs)(m.a,{style:{padding:"0.85em"},children:[a&&Object(it.jsx)("label",{children:a}),a&&Object(it.jsx)("br",{}),n.map((function(e){var t=e.payload[null===e||void 0===e?void 0:e.dataKey];if("percentage"===l){if(t)return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("span",{style:{color:e.color,whiteSpace:"break-spaces"},children:"".concat(e.dataKey,": ").concat(t,"%")},"".concat(a,"-").concat(e.dataKey,"-").concat(t)),Object(it.jsx)("br",{})]})}else if(t)return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("span",{style:{color:e.color,whiteSpace:"break-spaces"},children:"".concat(e.dataKey,": ").concat(t," / ").concat((100*t/r).toFixed(2),"%")},"".concat(a,"-").concat(e.dataKey,"-").concat(t)),Object(it.jsx)("br",{})]});return null})),"percentage"!==l&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("span",{style:{whiteSpace:"break-spaces"},children:"".concat(u(D.a.percentage),": ").concat((100*r/d).toFixed(2),"%")}),Object(it.jsx)("br",{})]})]},"".concat(a,"-").concat(n[0].value))}return null}}),b.map((function(e,t){return Object(it.jsx)(V.a,{type:"monotone",dataKey:e,stroke:bt[t],children:Object(it.jsx)(M.a,{dataKey:e,position:"top",fill:"#000"})},e)}))]}):Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(z.a,{content:function(e){var t=e.active,n=e.payload,a=e.label;if(t&&n&&n.length){var r=n[0].value;return Object(it.jsxs)(m.a,{style:{padding:"0.85em"},children:[a&&Object(it.jsx)("label",{children:a}),a&&Object(it.jsx)("br",{}),Object(it.jsx)("span",{style:{color:"#8884d8",whiteSpace:"break-spaces"},children:(null===c||void 0===c?void 0:c(r,d))||"quantity: ".concat(r)})]},"".concat(a,"-").concat(r))}return null}}),Object(it.jsxs)(V.a,{isAnimationActive:!1,type:"monotone",dataKey:"quantity",stroke:"#8884d8",children:[p.map((function(e,t){return Object(it.jsx)(H.a,{stroke:(null===e||void 0===e?void 0:e.color)||"#8884d8"},"cell-".concat(t))})),Object(it.jsx)(M.a,{dataKey:"quantity",position:"top",fill:"#000"})]})]})]})}))},yt=["#22b66e","#b41a1a","#ffcd56","#D32F2F","#FBC02D","#757575","#00BCD4","#AFB42B","#8BC34A","#5D4037","#607D8B","#03A9F4","#303F9F","#009688","#388E3C","#E64A19","#212121"],gt=function(e){var t,r=e.data,c=e.title,l=Object(i.a)(e,lt),s=r.map((function(e,t){return{name:e.title,value:e.quantity,fill:yt[t]}})),u=r.map((function(e,t){return{name:e.title,value:r.length-t,fill:yt[t]}})),d=s[0].value,p=ft();return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)("div",{className:p.header,children:[Object(it.jsx)("span",{className:p.label,children:c}),Object(it.jsx)("div",{style:{flexGrow:1}}),0!==d&&Object(it.jsx)(nt.a,{onClick:function(){Promise.all([n.e(7),n.e(8)]).then(n.t.bind(null,738,7)).then((function(e){var t=s.map((function(e,t){return{Nombre:e.name,Cantidad:e.value,"% Representativo":(e.value/d*100).toFixed(0)}})),n={Sheets:{data:e.utils.json_to_sheet(t)},SheetNames:["data"]},a=e.write(n,{bookType:"xlsx",type:"array"}),r=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});rt.a.saveAs(r,c+".xlsx")}))},className:p.styleicon})]}),Object(it.jsx)(R.a,Object(o.a)(Object(o.a)({},l),{},{children:Object(it.jsxs)(Be,{margin:{top:10,right:5*(6+(null===(t=Math.max.apply(Math,Object(a.a)(s.map((function(e){return e.value})))))||void 0===t?void 0:t.toString().length)),bottom:5,left:10},children:[Object(it.jsx)(z.a,{formatter:function(e,t,n){var a,r;return["".concat(null===(a=s[s.length-parseInt(String(null===n||void 0===n?void 0:n.value))])||void 0===a?void 0:a.value," - ").concat(0!==d?(Number(null===(r=s[s.length-parseInt(String(null===n||void 0===n?void 0:n.value))])||void 0===r?void 0:r.value)/d*100).toFixed(1):100,"%"),t]}}),Object(it.jsxs)(Le,{isAnimationActive:!1,dataKey:"value",data:u,children:[Object(it.jsx)(M.a,{position:"right",fill:"#000",stroke:"none",dataKey:"name",content:function(e){var t,n=e.y,a=e.height,r=e.parentViewBox,i=r.x,o=r.width;return 0!==Number(u[e.index].value)?Object(it.jsx)("g",{children:Object(it.jsxs)("text",{x:i+o-5*(6+(null===(t=s[e.index].value)||void 0===t?void 0:t.toString().length)),y:n+a/2,children:[s[e.index].value," - ",0!==d?(Number(s[e.index].value)/d*100).toFixed(1):100,"%"]})}):Object(it.jsx)("g",{})}}),Object(it.jsx)(M.a,{position:"right",fill:"#000",stroke:"none",dataKey:"name",content:function(e){var t=e.value,n=e.y,a=e.height,r=e.parentViewBox,i=r.x,o=r.width;return 0!==Number(u[e.index].value)?Object(it.jsx)("g",{children:Object(it.jsx)("text",{x:i+o/2,y:n+a/2,textAnchor:"middle",dominantBaseline:"middle",children:t})}):Object(it.jsx)("g",{})}})]})]})}))]})},xt=function(e){var t=e.data,n=e.alldata,a=e.tooltipFormatter,r=(e.tickFormatter,Object(i.a)(e,st)),c=null===n||void 0===n?void 0:n.total;return Object(it.jsx)(R.a,Object(o.a)(Object(o.a)({},r),{},{children:Object(it.jsxs)(ze.a,{children:[Object(it.jsx)(z.a,{content:function(e){var t=e.active,n=e.payload;if(t&&n&&n.length){var r=n[0],i=r.name,o=r.value;return Object(it.jsxs)(m.a,{style:{padding:"0.85em"},children:[i&&Object(it.jsx)("label",{children:i}),i&&Object(it.jsx)("br",{}),Object(it.jsx)("span",{style:{color:"#8884d8",whiteSpace:"break-spaces"},children:(null===a||void 0===a?void 0:a(o,c))||"quantity: ".concat(o)})]},"".concat(i,"-").concat(o))}return null}}),Object(it.jsx)(We.a,{data:t,dataKey:"quantity",nameKey:"label",cx:"50%",cy:"50%",innerRadius:40,fill:"#8884d8",labelLine:!1,label:Ye.a,children:t.map((function(e,t){return Object(it.jsx)(H.a,{fill:yt[t%yt.length]},"cell-".concat(t))}))}),Object(it.jsx)(Me.a,{verticalAlign:"bottom"})]})}))},wt=function(e){var t=e.data,n=Object(l.useMemo)((function(){return t.target<=t.alertat?[t.cautionat/Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.alertat/10)),(t.alertat-t.cautionat)/Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.alertat/10)),(Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.alertat/10))-t.alertat)/Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.alertat/10))]:[t.alertat/Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.target/10)),(t.cautionat-t.alertat)/Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.target/10)),(Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.target/10))-t.cautionat)/Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.target/10))]}),[t]),a=Object(l.useMemo)((function(){return t.target<t.alertat?(null===t||void 0===t?void 0:t.currentvalue)/Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.alertat/10)):(null===t||void 0===t?void 0:t.currentvalue)/Math.max(null===t||void 0===t?void 0:t.currentvalue,10*Math.ceil(1.2*t.target/10))}),[t]),r=Object(l.useMemo)((function(){return t.target<t.alertat?["#5BE12C","#F5CD19","#EA4228"]:["#EA4228","#F5CD19","#5BE12C"]}),[t]),i=t.target<t.alertat;return Object(it.jsx)(R.a,{children:Object(it.jsxs)("div",{style:{height:"inherit",width:"inherit"},children:[Object(it.jsx)(Je.a,{arcsLength:n,colors:r,textColor:"black",animate:!1,percent:a,needleColor:"grey",formatTextValue:function(){return"".concat(null===t||void 0===t?void 0:t.currentvalue)}}),Object(it.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",gap:10,justifyContent:"center"},children:[Object(it.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(it.jsx)("div",{style:{width:10,height:10,backgroundColor:r[0],marginRight:4}}),Object(it.jsx)("span",{children:i?t.target:t.alertat})]}),Object(it.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(it.jsx)("div",{style:{width:10,height:10,backgroundColor:r[1],marginRight:4}}),Object(it.jsx)("span",{children:t.cautionat})]}),Object(it.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(it.jsx)("div",{style:{width:10,height:10,backgroundColor:r[2],marginRight:4}}),Object(it.jsx)("span",{children:i?t.alertat:t.target})]})]})]})})},kt=function(e){var t=e.title,n=e.open,a=e.rawColumns,r=e.dateRange,i=e.dataorigin,c=e.onClose,s=Object(x.c)(),u=Object(E.a)().t,d=Object(k.b)((function(e){return e.main.mainDynamic})),p=Object(l.useMemo)((function(){return a.map((function(e){return Object(o.a)({Header:e.alias,accessor:e.columnname.replace(".",""),type:"string"},"timestamp without time zone"===e.type?{Cell:function(t){var n=t.cell.row.original;return n[e.columnname.replace(".","")]?new Date(n[e.columnname.replace(".","")]).toLocaleString():""}}:{})}))}),[a]),b=Object(l.useCallback)((function(){return{columns:a,parameters:{offset:(new Date).getTimezoneOffset()/60*-1},summaries:[],filters:[{columnname:"".concat(i,".createdate"),type:"timestamp without time zone",description:"",join_alias:"",join_on:"",join_table:"",start:jt(r.startDate),end:jt(r.endDate)}]}}),[r,a]);return Object(l.useEffect)((function(){n&&s(Object(qe.j)(b()))}),[n,b,s]),Object(l.useEffect)((function(){if(n&&!d.loading&&d.error){var e=u(d.code||"error_unexpected_error",{module:u(D.a.user).toLocaleLowerCase()});s(Object(_.e)({message:e,severity:"error",show:!0}))}}),[d,n,u,s]),Object(it.jsx)(S.g,{open:n,title:t,buttonText2:u(D.a.cancel),handleClickButton2:c,maxWidth:"md",children:Object(it.jsx)(Ge.f,{columns:p,filterGeneral:!1,data:d.data,download:!1,loading:d.loading})})},St=function(){return Object(it.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:Object(it.jsx)(v.a,{})})};t.default=function(){var e=ft(),t=Object(E.a)().t,n=Object(C.g)(),a=Object(C.j)(),r=Object(x.c)(),i=Object(k.b)((function(e){return e.dashboard.dashboard})),s=Object(k.b)((function(e){return e.dashboard.dashboardtemplate})),u=Object(k.b)((function(e){return e.dashboard.dashboardtemplateSave})),b=Object(k.b)((function(e){return e.dashboard.dashboardtemplateDelete})),f=Object(k.b)((function(e){return e.main.mainData})),j=Object(l.useState)(!1),h=Object(c.a)(j,2),m=h[0],v=h[1],g=Object(l.useState)({layout:[],detail:{}}),N=Object(c.a)(g,2),P=N[0],R=N[1],I=Object(l.useState)({startDate:new Date((new Date).setDate(1)),endDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),key:"selection"}),L=Object(c.a)(I,2),B=L[0],z=L[1],W=Object(l.useRef)(null),M=Object(l.useRef)(!1),H=Object(Ke.d)(),K=H.register,q=H.unregister,V=H.formState.errors,G=H.getValues,U=H.setValue,J=H.reset;Object(l.useEffect)((function(){return r(Object(w.c)(Object(F.Dc)(a.params.id))),r(Object(qe.g)(Object(F.je)())),function(){r(Object(qe.y)()),r(Object(qe.B)()),r(Object(w.e)()),r(Object(w.f)()),r(Object(w.g)()),r(Object(w.d)())}}),[a.params.id,r]),Object(l.useEffect)((function(){r(Object(w.b)({dashboardtemplateid:a.params.id,startdate:jt(B.startDate),enddate:jt(B.endDate),offset:(new Date).getTimezoneOffset()/60*-1}))}),[B,a.params.id,r]),Object(l.useEffect)((function(){if(!s.loading)if(s.error){var e=t(s.code||"error_unexpected_error",{module:t(D.a.user).toLocaleLowerCase()});r(Object(_.e)({message:e,severity:"error",show:!0}))}else s.value&&R({layout:JSON.parse(s.value.layoutjson),detail:JSON.parse(s.value.detailjson)})}),[s,t,r]),Object(l.useEffect)((function(){if(!i.loading&&i.error){var e=t(i.code||"error_unexpected_error",{module:t(D.a.user).toLocaleLowerCase()});r(Object(_.e)({message:e,severity:"error",show:!0}))}}),[i,t,r]),Object(l.useEffect)((function(){if(!u.loading)if(u.error){var e=t(u.code||"error_unexpected_error",{module:t(D.a.user).toLocaleLowerCase()});r(Object(_.e)({message:e,severity:"error",show:!0}))}else!0===u.success&&(r(Object(_.e)({message:"Se guard\xf3 el dashboard",severity:"success",show:!0})),M.current&&(M.current=!1,r(Object(w.c)(Object(F.Dc)(a.params.id))),z((function(e){return Object(o.a)({},e)})),J()))}),[u,a.params.id,J,t,r]),Object(l.useEffect)((function(){if(!b.loading)if(b.error){var e=t(b.code||"error_unexpected_error",{module:t(D.a.user).toLocaleLowerCase()});r(Object(_.e)({message:e,severity:"error",show:!0}))}else b.success&&(r(Object(_.e)({message:"Se elimin\xf3 el dashboard",severity:"success",show:!0})),n.push(A.a.DASHBOARD))}),[b,n,t,r]),Object(l.useEffect)((function(){if(!f.loading&&f.error){var e=t(f.code||"error_unexpected_error",{module:t(D.a.user).toLocaleLowerCase()});r(Object(_.e)({message:e,severity:"error",show:!0}))}}),[f,t,r]);var X=Object(l.useCallback)((function(){s.value&&r(Object(_.a)({visible:!0,question:t(D.a.confirmation_delete),callback:function(){r(Object(w.a)(Object(F.Cc)(Object(o.a)(Object(o.a)({},s.value),{},{id:a.params.id,status:"ELIMINADO",operation:"DELETE"}))))}}))}),[s,a.params.id,r]),Y=Object(l.useCallback)((function(e,t,n){R((function(a){return{layout:"DELETE"===t?a.layout.filter((function(e){return e.i!==n})):a.layout,detail:e}}))}),[]),$=Object(l.useCallback)((function(e){R((function(t){return Object(o.a)(Object(o.a)({},t),{},{layout:t.layout.filter((function(t){return t.i!==e}))})}))}),[]),Z=function(e){var t,n,a,r;return(null===(t=P.detail)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.description)||(null===(a=i.value)||void 0===a||null===(r=a[e])||void 0===r?void 0:r.reportname)||"-"};if(s.loading||i.loading)return Object(it.jsx)(St,{});if(s.error||i.error||!s.value||!i.value)return Object(it.jsxs)(d.a,{className:e.root,children:[Object(it.jsx)(S.L,{breadcrumbs:[{id:"view-1",name:"Dashboards"},{id:"view-2",name:t(D.a.detail_custom_dashboard)}],handleClick:function(e){return"view-1"===e&&n.push(A.a.DASHBOARD)}}),Object(it.jsx)("div",{children:"ERROR"})]});var Q=s.value.description;return Object(it.jsxs)(d.a,{className:e.root,children:[Object(it.jsx)(S.L,{breadcrumbs:[{id:"view-1",name:"Dashboards"},{id:"view-2",name:Q}],handleClick:function(e){return"view-1"===e&&n.push(A.a.DASHBOARD)}}),Object(it.jsx)("div",{style:{height:"1em"}}),Object(it.jsxs)("div",{className:e.filtersContainer,children:[Object(it.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(it.jsx)(S.f,{open:m,setOpen:v,range:B,onSelect:function(e){return W.current=e},disabled:u.loading||s.loading||!s.value,children:Object(it.jsx)(p.a,{style:{border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},startIcon:Object(it.jsx)(Ve.n,{}),onClick:function(){return v((function(e){return!e}))},children:jt(B.startDate)+" - "+jt(B.endDate)})}),Object(it.jsx)(p.a,{disabled:u.loading||s.loading||!s.value,variant:"contained",color:"primary",startIcon:Object(it.jsx)(O.a,{style:{color:"white"}}),style:{backgroundColor:"#55BD84",width:120},onClick:function(){W.current&&z(Object(o.a)({},W.current))},children:Object(it.jsx)(T.a,{i18nKey:D.a.search})})]}),Object(it.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(it.jsx)(p.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(it.jsx)(y.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return n.push(A.a.DASHBOARD)},children:Object(it.jsx)(T.a,{i18nKey:D.a.back})}),Object(it.jsx)(p.a,{variant:"contained",color:"primary",startIcon:Object(it.jsx)(et.a,{color:"secondary"}),onClick:function(){if(s.value){var e=s.value.dashboardtemplateid;n.push(A.a.DASHBOARD_EDIT.resolve(e))}},disabled:u.loading||s.loading||!s.value,children:Object(it.jsx)(T.a,{i18nKey:D.a.edit})}),Object(it.jsx)(p.a,{variant:"contained",color:"primary",startIcon:Object(it.jsx)(Ze.a,{color:"secondary"}),onClick:X,disabled:u.loading||s.loading||!s.value,children:Object(it.jsx)(T.a,{i18nKey:D.a.delete})})]})]}),Object(it.jsx)("div",{style:{height:"0.5em"}}),Object(it.jsx)(ut,{className:e.layout,layout:P.layout,onLayoutChange:function(e){return R((function(t){return Object(o.a)(Object(o.a)({},t),{},{layout:e})}))},cols:12,rowHeight:140,isDraggable:!1,isResizable:!1,children:P.layout.map((function(e){var t,n,a,r,o,c,l,s,u,d,p,b,j,h,m,v;return Object(it.jsx)("div",{children:e.i in P.detail?Object(it.jsx)(mt,{layoutKey:e.i,title:Z(e.i),data:null===(t=i.value)||void 0===t||null===(n=t[e.i])||void 0===n?void 0:n.data,alldata:null===(a=i.value)||void 0===a?void 0:a[e.i],columns:null===(r=i.value)||void 0===r||null===(o=r[e.i])||void 0===o?void 0:o.columns,dataorigin:null===(c=i.value)||void 0===c||null===(l=c[e.i])||void 0===l?void 0:l.dataorigin,type:"report"===(null===(s=i.value)||void 0===s||null===(u=s[e.i])||void 0===u?void 0:u.contentType)?P.detail[e.i].graph:"funnel"===(null===(d=i.value)||void 0===d||null===(p=d[e.i])||void 0===p?void 0:p.contentType)?"funnel":"kpi",groupment:null===(b=P.detail[e.i])||void 0===b?void 0:b.grouping,detail:P.detail,onDetailChange:function(t,n){return Y(t,n,e.i)},dateRange:B,onModalOpenhasChanged:function(e){},error:null===(j=i.value)||void 0===j||null===(h=j[e.i])||void 0===h?void 0:h.error,errorcode:null===(m=i.value)||void 0===m||null===(v=m[e.i])||void 0===v?void 0:v.errorcode}):Object(it.jsx)(He.LayoutItem,{layoutKey:e.i,edit:!1,templates:f.data,kpis:[],tags:[],loading:f.loading,register:K,unregister:q,getValues:G,setValue:U,errors:V,onDelete:function(){return $(e.i)}})},e.i)}))})]})}},779:function(e,t,n){"use strict";n.d(t,"a",(function(){return de})),n.d(t,"d",(function(){return pe})),n.d(t,"b",(function(){return be})),n.d(t,"e",(function(){return fe})),n.d(t,"c",(function(){return je}));var a=n(26),r=n(1),i=n(20),o=n(3),c=n(0),l=n.n(c),s=n(1048),u=n(94),d=n(1049),p=n(1045),b=n(1047),f=n(1146),j=n(1044),h=n(167),m=n(7),v=n(83),O=n(40),y=n(1145),g=n(1366),x=n(1046),w=n(765),k=n(766),S=n(767),C=n(768),A=n(721),D=n(197),E=n(817),T=n.n(E),_=n(806),F=n.n(_),N=n(51),P=n(444),R=n(170),I=n(169),L=n(773),B=n(257),z=n(794),W=n.n(z),M=n(48),H=n(16),K=n(823),q=n.n(K),V=n(172),G=n(793),U=n(122),J=n(718),X=n(8),Y=n(315),$=n(269),Z=n(828),Q=n(323),ee=n.n(Q),te=n(856),ne=n(1365),ae=n(1505),re=n(1367),ie=n(2),oe=Object(I.a)((function(e){var t;return{footerTable:(t={display:"block"},Object(o.a)(t,e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),Object(o.a)(t,"& > div",Object(o.a)({display:"block",textAlign:"center"},e.breakpoints.up("sm"),{display:"flex",alignItems:"center"})),t),trdynamic:{"&:hover":{boxShadow:"0 11px 6px -9px rgb(84 84 84 / 78%)","& $containerfloat":{visibility:"visible"}}},containerSearch:Object(o.a)({width:"100%"},e.breakpoints.up("sm"),{width:"50%"}),containerFilterGeneral:{display:"flex",justifyContent:"space-between",backgroundColor:"#FFF",padding:"".concat(e.spacing(1),"px")},containerfloat:{borderBottom:"none",backgroundColor:"white",marginTop:"1px",position:"absolute",zIndex:9999,left:0,visibility:"hidden"},iconOrder:{width:20,height:20,color:e.palette.text.primary},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerButtons:{gridGap:e.spacing(1),display:"grid",gridAutoFlow:"column",alignItems:"center"},containerHeader:Object(o.a)({display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"}),containerHeaderColumn:{display:"flex",justifyContent:"space-between",alignItems:"center"},iconHelpText:{width:15,height:15,cursor:"pointer"}}})),ce=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"contains",value:"contains"},{key:"notcontains",value:"notcontains"},{key:"isempty",value:"isempty"},{key:"isnotempty",value:"isnotempty"}],le=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"greater",value:"greater"},{key:"greaterorequals",value:"greaterorequals"},{key:"less",value:"less"},{key:"lessorequals",value:"lessorequals"},{key:"isempty",value:"isempty"},{key:"isnotempty",value:"isnotempty"}],se=[{key:"equals",value:"equals"},{key:"notequals",value:"notequals"},{key:"after",value:"after"},{key:"afterequals",value:"afterequals"},{key:"before",value:"before"},{key:"beforeequals",value:"beforeequals"}],ue=[{key:"all",value:"all"},{key:"istrue",value:"istrue"},{key:"isfalse",value:"isfalse"},{key:"isnull",value:"isnull"},{key:"isnotnull",value:"isnotnull"}],de=function(e){var t=e.value,n=e.handleClickItemMenu,a=Object(U.a)().t;return Object(ie.jsx)(A.a,{value:t||"all",onChange:function(e){return n(e.target.value)},children:ue.map((function(e){return Object(ie.jsx)(D.a,{value:e.key,children:a(e.value)},e.key)}))})},pe=function(e){var t=e.value,n=e.data,a=e.handleClickItemMenu,r=Object(U.a)().t;return Object(ie.jsxs)(A.a,{value:t||"_ALL",onChange:function(e){return a(e.target.value)},children:[Object(ie.jsx)(D.a,{value:"_ALL",children:r(X.a.all)}),n.map((function(e){return Object(ie.jsx)(D.a,{value:e.value,children:r(e.key)},e.value)}))]})},be=function(e,t){var n=Object(U.a)().t,a=Object(c.useState)(null),r=Object(i.a)(a,2),o=r[0],l=r[1];return Object(c.useEffect)((function(){"isnull"!==e&&"isnotnull"!==e||l(null)}),[e]),Object(ie.jsx)(te.a,{utils:Z.a,locale:Object(m.Bg)()[navigator.language.split("-")[0]],children:Object(ie.jsx)(ne.a,{invalidDateMessage:n(X.a.invalid_date_format),format:Object(m.qd)(),value:o,onChange:function(e){t(e),l(e)},style:{minWidth:"150px"}})})},fe=function(e,t){return Object(ie.jsx)(te.a,{utils:Z.a,locale:Object(m.Bg)()[navigator.language.split("-")[0]],children:Object(ie.jsx)(ae.a,{ampm:!1,views:["hours","minutes","seconds"],format:"HH:mm:ss",error:!1,helperText:"",value:""===e?null:e,onChange:function(e){return t(e)},style:{minWidth:"150px"}})})},je=function(e,t,n){var a=Object(U.a)().t;switch(e){case"number":case"number-centered":return le.map((function(e){return Object(ie.jsx)(D.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:a(e.value)},e.key)}));case"date":case"datetime-local":case"time":return se.map((function(e){return Object(ie.jsx)(D.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:a(e.value)},e.key)}));case"string":case"color":default:return ce.map((function(e){return Object(ie.jsx)(D.a,{selected:e.key===t,onClick:function(){return n(e.key)},children:a(e.value)},e.key)}))}},he=l.a.memo((function(e){var t=e.titlemodule,n=e.columns,E=e.data,_=e.fetchData,I=e.download,z=void 0===I||I,K=e.register,U=e.handleRegister,Y=e.calculate,Z=void 0!==Y&&Y,Q=e.handleCalculate,te=e.HeadComponent,ne=e.ButtonsElement,ae=e.triggerExportPersonalized,ce=e.exportPersonalized,le=e.pageSizeDefault,se=void 0===le?20:le,ue=e.importCSV,he=e.handleTemplate,ve=e.filterGeneral,Oe=void 0===ve||ve,ye=e.loading,ge=void 0!==ye&&ye,xe=e.useSelection,we=e.selectionKey,ke=e.initialSelectedRows,Se=e.setSelectedRows,Ce=e.allRowsSelected,Ae=e.setAllRowsSelected,De=e.onClickRow,Ee=e.toolsFooter,Te=void 0===Ee||Ee,_e=e.initialPageIndex,Fe=void 0===_e?0:_e,Ne=e.helperText,Pe=void 0===Ne?"":Ne,Re=e.initialStateFilter,Ie=e.registertext,Le=e.setDataFiltered,Be=e.useFooter,ze=void 0!==Be&&Be,We=e.heightWithCheck,Me=void 0===We?43:We,He=e.checkHistoryCenter,Ke=void 0!==He&&He,qe=oe(),Ve=Object(O.c)(),Ge=Object(c.useState)(!0),Ue=Object(i.a)(Ge,2),Je=Ue[0],Xe=Ue[1],Ye=l.a.useCallback((function(e,t,n){var a=n.value,r=n.operator,i=n.type;return e.filter((function(e){var n=null===e.values[t]||void 0===e.values[t]?"":e.values[t];if(""===a&&!["isempty","isnotempty","isnull","isnotnull"].includes(r))return!0;switch(i){case"number":case"number-centered":switch(r){case"greater":return n>Number(a);case"greaterorequals":return n>=Number(a);case"less":return n<Number(a);case"lessorequals":return n<=Number(a);case"isnull":return""===n;case"isnotnull":return""!==n;case"notequals":return n!==Number(a);case"equals":default:return n===Number(a)}case"date":case"datetime-local":case"time":switch(r){case"after":return n>a;case"afterequals":return n>=a;case"before":return n<a;case"beforeequals":return n<=a;case"isnull":return""===n;case"isnotnull":return""!==n;case"notequals":return n!==a;case"equals":default:return n===a}case"boolean":switch(r){case"istrue":return"string"===typeof n?"true"===n:!0===n;case"isfalse":return"string"===typeof n?"false"===n:!1===n;case"isnull":return""===n;case"isnotnull":return""!==n;case"all":default:return!0}case"select":return"_ALL"===a||n===a;case"string":default:switch(r){case"equals":return n===a;case"notequals":return n!==a;case"isempty":return""===n;case"isnotempty":return""!==n;case"isnull":return null==n;case"isnotnull":return null!=n;case"notcontains":return!(n+"").toLowerCase().includes(a.toLowerCase());case"contains":default:return(n+"").toLowerCase().includes(a.toLowerCase())}}}))}),[]),$e=l.a.useMemo((function(){return{Filter:function(e){return function(e){var t=e.column,n=t.id,a=t.setFilter,r=t.listSelectFilter,s=void 0===r?[]:r,u=t.type,d=void 0===u?"string":u,p=null===Re||void 0===Re?void 0:Re.filter((function(e){return e.id===n}))[0],b=Object(c.useState)((null===p||void 0===p?void 0:p.value.value)||""),f=Object(i.a)(b,2),j=f[0],m=f[1],O=Object(c.useState)(null),g=Object(i.a)(O,2),x=g[0],w=g[1],k=Boolean(x),S=Object(c.useState)((null===p||void 0===p?void 0:p.value.operator)||"contains"),C=Object(i.a)(S,2),A=C[0],D=C[1],E=function(e){a(e),Ve(Object(v.G)({filter:Object(o.a)({},n,{value:e.value,operator:e.operator,type:e.type})}))},T=function(e){w(null),"boolean"===d?(D(e),m(e),E({value:e,operator:e,type:d})):"select"===d?(m(e),E({value:e,operator:e,type:d})):((["isempty","isnotempty","isnull","isnotnull"].includes(e)||j)&&E({value:j,operator:e,type:d}),D(e))},_=l.a.useCallback((function(e){13===e.keyCode&&E({value:j,operator:A,type:d})}),[j,A]);return Object(c.useEffect)((function(){if(!(null===Re||void 0===Re?void 0:Re.filter((function(e){return e.id===n}))[0]))switch(d){case"number":case"number-centered":case"date":case"datetime-local":case"time":case"select":D("equals");break;case"boolean":D("all");break;case"string":case"color":default:D("contains")}}),[d]),Object(ie.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:"boolean"===d?Object(ie.jsx)(de,{value:j,handleClickItemMenu:T}):"select"===d?Object(ie.jsx)(pe,{value:j,handleClickItemMenu:T,data:s}):Object(ie.jsxs)(l.a.Fragment,{children:["date"===d&&be(j,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(m((null===e||void 0===e?void 0:e.toISOString())||""),E({value:(null===e||void 0===e?void 0:e.toISOString().split("T")[0])||"",operator:A,type:d}))})),"time"===d&&fe(j,(function(e){(null===e||e instanceof Date&&!isNaN(e.valueOf()))&&(m((null===e||void 0===e?void 0:e.toISOString())||""),E({value:null===e||void 0===e?void 0:e.toLocaleTimeString(),operator:A,type:d}))})),!["date","time"].includes(d)&&Object(ie.jsx)(P.a,{type:d,style:{fontSize:"15px",minWidth:"100px"},fullWidth:!0,value:j,onKeyDown:_,onChange:function(e){m(e.target.value||""),["date"].includes(d)&&E({value:e.target.value,operator:A,type:d})}}),Object(ie.jsx)(B.a,{onClick:function(e){w(e.currentTarget)},size:"small",children:Object(ie.jsx)(y.a,{style:{cursor:"pointer"},"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",color:"action",fontSize:"small"})}),Object(ie.jsx)(h.a,{id:"long-menu",anchorEl:x,open:k,onClose:function(){w(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}},children:je(d,A,T)})]})})}(Object(r.a)(Object(r.a)({},e),{},{data:E}))},filter:Ye}}),[]),Ze=Object(G.useTable)({columns:n,data:E,initialState:{pageSize:se,selectedRowIds:ke||{},filters:Re||[]},defaultColumn:$e,getRowId:function(e,t,n){return we?n?[e[we],n].join("."):e[we]:n?[n.id,t].join("."):t}},G.useFilters,G.useGlobalFilter,G.useSortBy,G.usePagination,G.useRowSelect,(function(e){xe&&e.visibleColumns.push((function(e){return[{id:"selection",width:80,Header:function(e){var t=e.getToggleAllPageRowsSelectedProps;return Object(ie.jsx)("div",{children:Object(ie.jsx)(V.a,Object(r.a)({color:"primary",style:{padding:"0 24px 0 16px"}},t()))})},Cell:function(e){var t=e.row;return Object(ie.jsx)("div",{children:!0===Ke?Object(ie.jsx)(V.a,{color:"primary",style:{padding:"0 24px 0 16px",height:68},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}}):Object(ie.jsx)(V.a,{color:"primary",style:{padding:"0 24px 0 16px"},checked:t.isSelected,onChange:function(e){return t.toggleRowSelected()}})})},NoFilter:!0}].concat(Object(a.a)(e))}))})),Qe=Ze.getTableProps,et=Ze.getTableBodyProps,tt=Ze.headerGroups,nt=Ze.footerGroups,at=Ze.prepareRow,rt=Ze.page,it=Ze.canPreviousPage,ot=Ze.canNextPage,ct=Ze.pageOptions,lt=Ze.pageCount,st=Ze.gotoPage,ut=Ze.nextPage,dt=Ze.previousPage,pt=Ze.setPageSize,bt=Ze.globalFilteredRows,ft=Ze.setGlobalFilter,jt=Ze.state,ht=jt.pageIndex,mt=jt.pageSize,vt=jt.selectedRowIds,Ot=Ze.toggleAllRowsSelected;Object(c.useEffect)((function(){Le&&Le(bt.map((function(e){return e.original})))}),[bt]),Object(c.useEffect)((function(){Re&&(Je?(st(Fe),Xe(!1)):Ve(Object(v.G)({page:0})))}),[E]),Object(c.useEffect)((function(){_&&_()}),[_]),Object(c.useEffect)((function(){Se&&Se(vt)}),[vt]),Object(c.useEffect)((function(){Ce&&(Ot(!0),Ae&&Ae(!1))}),[Ce]);var yt=l.a.useCallback((function(e){var t=e.index,n=e.style;n=Object(r.a)(Object(r.a)({},n),{},{display:"flex",alignItems:"flex-end",cursor:De?"pointer":"default"});var a=rt[t];return at(a),Object(ie.jsx)(j.a,Object(r.a)(Object(r.a)({},a.getRowProps({style:n})),{},{hover:!0,children:a.cells.map((function(e,t){var n;return Object(ie.jsx)(p.a,Object(r.a)(Object(r.a)({},e.getCellProps({style:Object(r.a)(Object(r.a)({},"auto"===e.column.width?{flex:1}:{minWidth:e.column.minWidth,width:e.column.width,maxWidth:e.column.maxWidth}),{},{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"number"===e.column.type?"right":(null===(n=e.column.type)||void 0===n?void 0:n.includes("centered"))?"center":"left"})})),{},{onClick:function(){var t;return"selection"!==e.column.id?De&&De(a.original,null===e||void 0===e||null===(t=e.column)||void 0===t?void 0:t.id):null},children:e.render("Cell")}))}))}))}),[tt,at,rt]);return Object(ie.jsxs)(N.a,{width:1,children:[Object(ie.jsxs)(N.a,{className:qe.containerHeader,justifyContent:"space-between",alignItems:"center",mb:1,children:[t?Object(ie.jsxs)("span",{className:qe.title,children:[t,""!==Pe?Object(ie.jsx)(R.a,{title:Object(ie.jsx)("div",{style:{fontSize:12},children:Pe}),arrow:!0,placement:"top",children:Object(ie.jsx)(ee.a,{color:"action",className:qe.iconHelpText})}):""]}):Object(ie.jsx)("div",{style:{flexGrow:1},children:ne&&Object(ie.jsx)(ne,{})}),Object(ie.jsxs)("span",{className:qe.containerButtons,children:[_&&Object(ie.jsx)(R.a,{title:"Refresh",children:Object(ie.jsx)(L.a,{size:"small","aria-label":"add",color:"primary",disabled:ge,style:{marginLeft:"1rem"},onClick:function(){return _&&_({})},children:Object(ie.jsx)(g.a,{})})}),ne&&!!t&&Object(ie.jsx)(ne,{}),ue&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("input",{name:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.csv",id:"laraigo-upload-csv-file",type:"file",style:{display:"none"},onChange:function(e){return ue(e.target.files)}}),Object(ie.jsx)("label",{htmlFor:"laraigo-upload-csv-file",children:Object(ie.jsx)(u.a,{className:qe.button,variant:"contained",component:"span",color:"primary",disabled:ge,startIcon:Object(ie.jsx)(W.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:Object(ie.jsx)(J.a,{i18nKey:X.a.import})})}),he&&Object(ie.jsx)(u.a,{className:qe.button,variant:"contained",component:"span",color:"primary",disabled:ge,startIcon:Object(ie.jsx)(q.a,{color:"secondary"}),onClick:he,style:{backgroundColor:"#55BD84"},children:Object(ie.jsx)(J.a,{i18nKey:X.a.template})})]}),K&&Object(ie.jsx)(u.a,{className:qe.button,variant:"contained",color:"primary",disabled:ge,startIcon:Object(ie.jsx)(x.a,{color:"secondary"}),onClick:U,style:{backgroundColor:"#55BD84"},children:Object(ie.jsx)(J.a,{i18nKey:Ie||X.a.register})}),Z&&Object(ie.jsx)(u.a,{className:qe.button,variant:"contained",color:"primary",disabled:ge,startIcon:Object(ie.jsx)(g.a,{color:"secondary"}),onClick:Q,style:{backgroundColor:"#55BD84"},children:Object(ie.jsx)(J.a,{i18nKey:X.a.calculate})}),z&&Object(ie.jsx)(u.a,{className:qe.button,variant:"contained",color:"primary",disabled:ge,onClick:function(){return ae?ce&&ce():Object(m.bb)(String(t||"")+"Report",bt.map((function(e){return e.original})),n.filter((function(e){return!e.isComponent&&!e.activeOnHover})))},startIcon:Object(ie.jsx)(H.E,{}),children:Object(ie.jsx)(J.a,{i18nKey:X.a.download})})]})]}),Oe&&Object(ie.jsxs)(N.a,{className:qe.containerFilterGeneral,children:[Object(ie.jsx)("span",{}),Object(ie.jsx)("div",{className:qe.containerSearch,children:Object(ie.jsx)(M.G,{disabled:ge,colorPlaceHolder:"#FFF",handleChangeOther:ft,lazy:!0})})]}),te&&Object(ie.jsx)(te,{}),Object(ie.jsxs)(b.a,{style:{position:"relative"},children:[Object(ie.jsx)(N.a,{overflow:"auto",children:Object(ie.jsxs)(s.a,Object(r.a)(Object(r.a)({size:"small"},Qe()),{},{"aria-label":"enhanced table","aria-labelledby":"tableTitle",children:[Object(ie.jsx)(f.a,{style:{display:"table-header-group"},children:tt.map((function(e){return Object(ie.jsx)(j.a,Object(r.a)(Object(r.a)({},e.getHeaderGroupProps()),{},{style:xe?{display:"flex"}:{},children:e.headers.map((function(e,t){return e.activeOnHover?Object(ie.jsx)("th",{style:{width:"0px"}},"header-floating"):Object(ie.jsx)(p.a,{style:xe?Object(r.a)({},"auto"===e.width?{flex:1}:{minWidth:e.minWidth,width:e.width,maxWidth:e.maxWidth}):{},children:e.isComponent?e.render("Header"):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:qe.containerHeaderColumn,children:[Object(ie.jsxs)(N.a,Object(r.a)(Object(r.a)({},e.getHeaderProps(e.getSortByToggleProps({title:"ordenar"}))),{},{style:{whiteSpace:"nowrap",wordWrap:"break-word",display:"flex",cursor:"pointer",alignItems:"center"},children:[e.render("Header"),e.isSorted&&(e.isSortedDesc?Object(ie.jsx)(T.a,{className:qe.iconOrder,color:"action"}):Object(ie.jsx)(F.a,{className:qe.iconOrder,color:"action"}))]})),!!e.helpText&&Object(ie.jsx)(R.a,{title:Object(ie.jsx)("div",{style:{fontSize:12},children:e.helpText}),arrow:!0,placement:"top",children:Object(ie.jsx)(ee.a,{color:"action",className:qe.iconHelpText})})]}),Object(ie.jsx)("div",{children:!e.NoFilter&&e.render("Filter")})]})},t)}))}))}))}),Object(ie.jsx)(d.a,Object(r.a)(Object(r.a)({},et()),{},{style:{backgroundColor:"white"},children:ge?Object(ie.jsx)(me,{columns:tt[0].headers.length}):xe?Object(ie.jsx)($.a,{style:{overflowX:"hidden"},direction:"vertical",width:"auto",height:window.innerHeight-470,itemCount:rt.length,itemSize:Me,children:yt}):rt.map((function(e){return at(e),Object(ie.jsx)(j.a,Object(r.a)(Object(r.a)({},e.getRowProps()),{},{hover:!0,style:{cursor:De?"pointer":"default"},children:e.cells.map((function(t,n){var a;return Object(ie.jsx)(p.a,Object(r.a)(Object(r.a)({},t.getCellProps({style:Object(r.a)(Object(r.a)({minWidth:t.column.minWidth,width:t.column.width,maxWidth:t.column.maxWidth,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},Te?{}:{padding:"0px"}),{},{textAlign:"number"===t.column.type?"right":(null===(a=t.column.type)||void 0===a?void 0:a.includes("centered"))?"center":"left"})})),{},{onClick:function(){var n;return"selection"!==t.column.id?De&&De(e.original,null===t||void 0===t||null===(n=t.column)||void 0===n?void 0:n.id):null},children:t.render("Cell")}))}))}))}))})),ze&&Object(ie.jsx)(re.a,{children:nt.map((function(e){return Object(ie.jsx)(j.a,Object(r.a)(Object(r.a)({},e.getFooterGroupProps()),{},{children:e.headers.map((function(e){var t;return Object(ie.jsx)(p.a,Object(r.a)(Object(r.a)({},e.getFooterProps({style:{fontWeight:"bold",color:"black",textAlign:"number"===e.type?"right":(null===(t=e.type)||void 0===t?void 0:t.includes("centered"))?"center":"left"}})),{},{children:e.render("Footer")}))}))}))}))})]}))}),Te&&Object(ie.jsxs)(N.a,{className:qe.footerTable,children:[Object(ie.jsxs)(N.a,{children:[Object(ie.jsx)(B.a,{onClick:function(){st(0),Ve(Object(v.G)({page:0}))},disabled:!it||ge,children:Object(ie.jsx)(w.a,{})}),Object(ie.jsx)(B.a,{onClick:function(){dt(),Ve(Object(v.G)({page:ht-1}))},disabled:!it||ge,children:Object(ie.jsx)(k.a,{})}),Object(ie.jsx)(B.a,{onClick:function(){ut(),Ve(Object(v.G)({page:ht+1}))},disabled:!ot||ge,children:Object(ie.jsx)(S.a,{})}),Object(ie.jsx)(B.a,{onClick:function(){st(lt-1),Ve(Object(v.G)({page:lt-1}))},disabled:!ot||ge,children:Object(ie.jsx)(C.a,{})}),Object(ie.jsx)(N.a,{component:"span",fontSize:14,children:Object(ie.jsx)(J.a,{i18nKey:X.a.tablePageOf,values:{currentPage:0===ct.length?0:ht+1,totalPages:ct.length},components:[Object(ie.jsx)(N.a,{fontWeight:"700",component:"span"}),Object(ie.jsx)(N.a,{fontWeight:"700",component:"span"})]})})]}),Object(ie.jsx)(N.a,{children:Object(ie.jsx)(J.a,{i18nKey:1e5===(bt||[]).length?X.a.tableShowingRecordOfMore:X.a.tableShowingRecordOf,values:{itemCount:rt.length,totalItems:bt.length}})}),Object(ie.jsxs)(N.a,{children:[Object(ie.jsx)(A.a,{disableUnderline:!0,style:{display:"inline-flex"},value:mt,disabled:ge,onChange:function(e){pt(Number(e.target.value)),Ve(Object(v.G)({pageSize:Number(e.target.value)}))},children:[5,10,20,50,100].map((function(e){return Object(ie.jsx)(D.a,{value:e,children:e},e)}))}),Object(ie.jsx)(N.a,{fontSize:14,display:"inline",style:{marginRight:"1rem"},children:Object(ie.jsx)(J.a,{i18nKey:X.a.recordPerPage,count:mt})})]})]})]})]})}));t.f=he;var me=function(e){for(var t=e.columns,n=[],a=0;a<t;a++)n.push(Object(ie.jsx)(p.a,{children:Object(ie.jsx)(Y.a,{})},"table-simple-skeleton-".concat(a)));return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(j.a,{children:n},"1aux1"),Object(ie.jsx)(j.a,{children:n},"2aux2")]})}},831:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=o},860:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a=n(1),r=n(20),i=n(52),o=n(3),c=n(0),l=n.n(c),s=n(51),u=n(169),d=n(122),p=n(8),b=n(25),f=n(7),j=n(779),h=n(831),m=n.n(h),v=n(94),O=n(16),y=n(48),g=n(171),x=n(1398),w=n(1399),k=n(1404),S=n(934),C=n(935),A=n(1359),D=n(1077),E=n(864),T=n(1494),_=n(1219),F=n(933),N=n(874),P=n.n(N),R=n(924),I=n.n(R),L=n(2),B=["cx","cy","midAngle","innerRadius","outerRadius","percent","summary"],z=Object(u.a)((function(e){return{container:{width:"100%"},containerDetails:{marginTop:e.spacing(3)},media:{objectFit:"contain"},containerSearch:Object(o.a)({width:"100%",display:"flex",gap:e.spacing(1),alignItems:"center"},e.breakpoints.up("sm"),{width:"50%"}),containerFilter:{width:"100%",marginBottom:e.spacing(2),display:"flex",gap:16,flexWrap:"wrap"},filterComponent:{minWidth:"220px",maxWidth:"260px"},containerFilterGeneral:{display:"flex",justifyContent:"space-between",backgroundColor:"#FFF",padding:e.spacing(1)},title:{fontSize:"22px",fontWeight:"bold",color:e.palette.text.primary},containerHeader:Object(o.a)({display:"block",marginBottom:0},e.breakpoints.up("sm"),{display:"flex"}),mb2:{marginBottom:e.spacing(4)},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},containerHeaderItem:Object(o.a)({backgroundColor:"#FFF",padding:8,display:"block",flexWrap:"wrap",gap:8},e.breakpoints.up("sm"),{display:"flex"})}})),W=function(){return Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")},M=Math.PI/180,H=function(e){var t=e.cx,n=e.cy,a=e.midAngle,r=e.innerRadius,o=e.outerRadius,c=(e.percent,e.summary),l=(Object(i.a)(e,B),r+.5*(o-r)),s=t+l*Math.cos(-a*M),u=n+l*Math.sin(-a*M);return Object(L.jsx)("text",{x:s,y:u,fill:"white",textAnchor:s>t?"start":"end",dominantBaseline:"central",children:c})},K=function(e){var t=e.row,n=e.column,a=e.data,r=e.graphicType,i=e.columnDesc,o=Object(d.a)().t,c=l.a.useMemo((function(){return[{Header:i||o("report_"+(null===t||void 0===t?void 0:t.origin)+"_"+n),accessor:"columnname",NoFilter:!0,Cell:function(e){var t=e.cell.row.original;return"BAR"===r?null===t||void 0===t?void 0:t.columnname:Object(L.jsxs)("div",{style:{display:"flex",gap:4},children:[Object(L.jsx)("div",{style:{width:15,height:15,backgroundColor:t.color}}),null===t||void 0===t?void 0:t.columnname]})}},{Header:o(p.a.quantity),accessor:"summary",NoFilter:!0,type:"number"},{Header:o(p.a.percentage),accessor:"percentage",NoFilter:!0,type:"number",Cell:function(e){return e.cell.row.original.percentage+"%"}}]}),[]);return Object(L.jsx)("div",{children:Object(L.jsx)(j.f,{columns:c,data:a,download:!1,pageSizeDefault:100,filterGeneral:!1,toolsFooter:!1})})};t.b=function(e){var t=e.graphicType,n=e.column,i=e.setOpenModal,l=e.setView,u=e.FiltersElement,j=e.row,h=e.daterange,N=e.handlerSearchGraphic,R=e.withFilters,B=void 0===R||R,M=e.withButtons,q=void 0===M||M,V=e.data,G=e.loading,U=e.columnDesc,J=z(),X=Object(d.a)().t,Y=Object(c.useState)(!1),$=Object(r.a)(Y,2),Z=$[0],Q=$[1],ee=Object(c.useState)([]),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],re=Object(c.useState)({startDate:new Date("".concat(h.startDate," 10:00:00")),endDate:new Date("".concat(h.endDate," 10:00:00")),key:"selection"}),ie=Object(r.a)(re,2),oe=ie[0],ce=ie[1],le=Object(b.b)((function(e){return e.main.mainGraphic}));return Object(c.useEffect)((function(){if(V){if(!G){var e=V.reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(o.a)({},t[n]||"",(e[t[n]||""]||0)+1))}),{}),t=Object.entries(e).map((function(e){var t=Object(r.a)(e,2);return{columnname:t[0],summary:t[1]}})),i=t.reduce((function(e,t){return e+parseInt(t.summary)}),0);ae(t.sort((function(e,t){return parseInt(e.summary)<parseInt(t.summary)?1:-1})).map((function(e){var t;return Object(a.a)(Object(a.a)({},e),{},{columnname:(null===(t=e.columnname)||void 0===t?void 0:t.startsWith("report_"))?X(p.a[e.columnname]):""===e.columnname?"(".concat(X(p.a.in_white),")"):e.columnname,summary:parseInt(e.summary),percentage:parseFloat((parseInt(e.summary)/i*100).toFixed(2)),color:"#".concat(W())})})))}}else if(!le.loading&&!le.error){var c=le.data.reduce((function(e,t){return e+parseInt(t.summary)}),0);ae(le.data.sort((function(e,t){return parseInt(e.summary)<parseInt(t.summary)?1:-1})).map((function(e){var t;return Object(a.a)(Object(a.a)({},e),{},{columnname:(null===(t=e.columnname)||void 0===t?void 0:t.startsWith("report_"))?X(p.a[e.columnname]):""===e.columnname?"(".concat(X(p.a.in_white),")"):e.columnname,summary:parseInt(e.summary),percentage:parseFloat((parseInt(e.summary)/c*100).toFixed(2)),color:"#".concat(W())})})))}}),[le,V,G]),Object(L.jsxs)(L.Fragment,{children:[(B||q)&&Object(L.jsxs)(s.a,{className:J.containerHeaderItem,justifyContent:"space-between",alignItems:"center",children:[Object(L.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:B&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(y.f,{open:Z,setOpen:Q,range:oe,onSelect:ce,children:Object(L.jsx)(v.a,{disabled:le.loading,style:{border:"1px solid #bfbfc0",borderRadius:4,color:"rgb(143, 146, 161)"},startIcon:Object(L.jsx)(O.n,{}),onClick:function(){return Q(!Z)},children:Object(f.Ec)(oe.startDate)+" - "+Object(f.Ec)(oe.endDate)})}),u&&u,Object(L.jsx)(v.a,{disabled:le.loading,variant:"contained",color:"primary",startIcon:Object(L.jsx)(m.a,{style:{color:"white"}}),style:{backgroundColor:"#55BD84",width:120},onClick:function(){return N(oe,n)},children:X(p.a.search)})]})}),Object(L.jsx)("div",{style:{display:"flex",gap:8},children:q&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(v.a,{className:J.button,variant:"contained",color:"primary",onClick:function(){return i(!0)},startIcon:Object(L.jsx)(I.a,{}),children:X(p.a.configuration)}),Object(L.jsx)(v.a,{className:J.button,variant:"contained",color:"primary",onClick:function(){return l("GRID")},startIcon:Object(L.jsx)(P.a,{}),children:X(p.a.grid_view)})]})})]}),!V&&Object(L.jsx)("div",{style:{fontWeight:500,padding:16},children:X(p.a.graphic_report_of,{report:X("report_"+(null===j||void 0===j?void 0:j.origin)),column:X("report_"+(null===j||void 0===j?void 0:j.origin)+"_"+n)})}),G||le.loading?Object(L.jsx)("div",{style:{flex:1,height:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(L.jsx)(g.a,{})}):"BAR"===t?Object(L.jsxs)("div",{style:{display:"flex"},children:[Object(L.jsx)("div",{style:{flex:"0 0 70%",height:500},children:Object(L.jsx)(x.a,{aspect:2,children:Object(L.jsxs)(w.a,{data:ne,margin:{top:20,right:30,left:20,bottom:5},children:[Object(L.jsx)(k.a,{strokeDasharray:"3 3"}),Object(L.jsx)(S.a,{dataKey:"columnname",style:{fontSize:"0.8em"},angle:315,interval:0,textAnchor:"end",height:160,dy:5,dx:-5}),Object(L.jsx)(C.a,{}),Object(L.jsx)(A.a,{formatter:function(e,t){return[e,X(t)]}}),Object(L.jsx)(D.a,{dataKey:"summary",fill:"#8884d8",textAnchor:"end",stackId:"a",type:"monotone",children:Object(L.jsx)(E.a,{dataKey:"summary",position:"top"})})]})})}),Object(L.jsx)("div",{style:{overflowX:"auto"},children:Object(L.jsx)(K,{row:j,column:n,graphicType:t,data:ne,columnDesc:U})})]}):Object(L.jsxs)("div",{style:{display:"flex"},children:[Object(L.jsx)("div",{style:{flex:"0 0 65%",height:500},children:Object(L.jsx)(x.a,{width:"100%",height:"100%",children:Object(L.jsxs)(T.a,{children:[Object(L.jsx)(A.a,{}),Object(L.jsx)(_.a,{data:ne,dataKey:"summary",labelLine:!1,label:H,nameKey:"columnname",cx:"50%",cy:"50%",innerRadius:40,fill:"#8884d8",children:ne.map((function(e,t){return Object(L.jsx)(F.a,{fill:e.color},e.columnname)}))})]})})}),Object(L.jsx)("div",{style:{overflowX:"auto"},children:Object(L.jsx)(K,{row:j,column:n,graphicType:t,columnDesc:U,data:ne})})]})]})}},866:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");t.default=o},874:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");t.default=o},881:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return b}));var a=n(28),r=n(74),i=function(e){return{callAPI:function(){return a.g.getDashboard({parameters:e})},types:{loading:r.a.GET_DASHBOARD,success:r.a.GET_DASHBOARD_SUCCESS,failure:r.a.GET_DASHBOARD_FAILURE},type:null}},o=function(){return{type:r.a.GET_DASHBOARD_RESET}},c=function(e){return{callAPI:function(){return a.e.main(e)},types:{loading:r.a.GET_DASHBOARDTEMPLATE,success:r.a.GET_DASHBOARDTEMPLATE_SUCCESS,failure:r.a.GET_DASHBOARDTEMPLATE_FAILURE},type:null}},l=function(e){return{payload:e,type:r.a.SET_DASHBOARDTEMPLATE}},s=function(){return{type:r.a.GET_DASHBOARDTEMPLATE_RESET}},u=function(e){return{callAPI:function(){return a.e.main(e)},types:{loading:r.a.SAVE_DASHBOARDTEMPLATE,success:r.a.SAVE_DASHBOARDTEMPLATE_SUCCESS,failure:r.a.SAVE_DASHBOARDTEMPLATE_FAILURE},type:null}},d=function(){return{type:r.a.SAVE_DASHBOARDTEMPLATE_RESET}},p=function(e){return{callAPI:function(){return a.e.main(e)},types:{loading:r.a.DELETE_DASHBOARDTEMPLATE,success:r.a.DELETE_DASHBOARDTEMPLATE_SUCCESS,failure:r.a.DELETE_DASHBOARDTEMPLATE_FAILURE},type:null}},b=function(){return{type:r.a.DELETE_DASHBOARDTEMPLATE_RESET}}},908:function(e,t,n){"use strict";var a=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(62)).default)(i.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},939:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var a=n(851),r=n.n(a),i=n(322),o=n.n(i),c=n(808),l=n.n(c),s=n(0),u=n.n(s),d=n(836),p=n(141),b=n.n(p),f=n(888),j=n(877),h=n(800),m=n(864),v=n(932),O=n(785),y=n(818),g=n(825),x=n(822),w=n(782);function k(e){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=L(e);if(t){var r=L(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==k(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(c,e);var t,n,a,i=R(c);function c(){var e;F(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=i.call.apply(i,[this].concat(n))).mainCurve=void 0,e.state={isAnimationFinished:!0,totalLength:0},e.getStrokeDasharray=function(e,t,n){for(var a=n.reduce((function(e,t){return e+t})),r=Math.floor(e/a),i=e%a,o=t-e,l=[],s=0,u=0;;u+=n[s],++s)if(u+n[s]>i){l=[].concat(T(n.slice(0,s)),[i-u]);break}var d=l.length%2===0?[0,o]:[o];return[].concat(T(c.repeat(n,r)),T(l),d).map((function(e){return"".concat(e,"px")})).join(", ")},e.id=Object(O.k)("recharts-line-"),e.pathRef=function(t){e.mainCurve=t},e.handleAnimationEnd=function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()},e.handleAnimationStart=function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()},e}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(T(e),[0]):e,a=[],r=0;r<t;++r)a=[].concat(T(a),T(n));return a}},{key:"renderDotItem",value:function(e,t){var n;if(u.a.isValidElement(e))n=u.a.cloneElement(e,t);else if(o()(e))n=e(t);else{var a=b()("recharts-line-dot",e?e.className:"");n=u.a.createElement(j.a,C({},t,{className:a}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,n=e.xAxis,a=e.yAxis,r=e.layout,i=e.children,o=Object(y.a)(i,v.a.displayName);if(!o)return null;function c(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Object(x.w)(e.payload,t)}}return o.map((function(e,i){return u.a.cloneElement(e,{key:"bar-".concat(i),data:t,xAxis:n,yAxis:a,layout:r,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.dot,r=n.points,i=n.dataKey,o=Object(w.c)(this.props),l=Object(w.c)(a,!0),s=r.map((function(e,t){var n=D(D(D({key:"dot-".concat(t),r:3},o),l),{},{value:e.value,dataKey:i,cx:e.x,cy:e.y,index:t,payload:e.payload});return c.renderDotItem(a,n)})),d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return u.a.createElement(h.a,C({className:"recharts-line-dots",key:"dots"},d),s)}},{key:"renderCurveStatically",value:function(e,t,n,a){var r=this.props,i=r.type,o=r.layout,c=r.connectNulls,l=(r.ref,S(r,["type","layout","connectNulls","ref"])),s=D(D(D({},Object(w.c)(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},a),{},{type:i,layout:o,connectNulls:c});return u.a.createElement(f.a,C({},s,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,a=this.props,r=a.points,i=a.strokeDasharray,o=a.isAnimationActive,c=a.animationBegin,l=a.animationDuration,s=a.animationEasing,p=a.animationId,b=a.animateNewValues,f=a.width,j=a.height,h=this.state,m=h.prevPoints,v=h.totalLength;return u.a.createElement(d.a,{begin:c,duration:l,isActive:o,easing:s,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(a){var o=a.t;if(m){var c=m.length/r.length,l=r.map((function(e,t){var n=Math.floor(t*c);if(m[n]){var a=m[n],r=Object(O.f)(a.x,e.x),i=Object(O.f)(a.y,e.y);return D(D({},e),{},{x:r(o),y:i(o)})}if(b){var l=Object(O.f)(2*f,e.x),s=Object(O.f)(j/2,e.y);return D(D({},e),{},{x:l(o),y:s(o)})}return D(D({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var s,u=Object(O.f)(0,v)(o);if(i){var d="".concat(i).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));s=n.getStrokeDasharray(u,v,d)}else s="".concat(u,"px ").concat(v-u,"px");return n.renderCurveStatically(r,e,t,{strokeDasharray:s})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,a=n.points,i=n.isAnimationActive,o=this.state,c=o.prevPoints,l=o.totalLength;return i&&a&&a.length&&(!c&&l>0||!r()(c,a))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(a,e,t)}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.dot,a=e.points,r=e.className,i=e.xAxis,o=e.yAxis,c=e.top,s=e.left,d=e.width,p=e.height,f=e.isAnimationActive,j=e.id;if(t||!a||!a.length)return null;var v=this.state.isAnimationFinished,O=1===a.length,y=b()("recharts-line",r),g=i&&i.allowDataOverflow||o&&o.allowDataOverflow,x=l()(j)?this.id:j;return u.a.createElement(h.a,{className:y},g?u.a.createElement("defs",null,u.a.createElement("clipPath",{id:"clipPath-".concat(x)},u.a.createElement("rect",{x:s,y:c,width:d,height:p}))):null,!O&&this.renderCurve(g,x),this.renderErrorBar(),(O||n)&&this.renderDots(g,x),(!f||v)&&m.a.renderCallByParent(this.props,a))}}])&&N(t.prototype,n),a&&N(t,a),c}(s.PureComponent);B.displayName="Line",B.defaultProps={xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!g.a.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1},B.getComposedData=function(e){var t=e.props,n=e.xAxis,a=e.yAxis,r=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,c=e.bandSize,s=e.displayedData,u=e.offset,d=t.layout;return D({points:s.map((function(e,t){var s=Object(x.w)(e,o);return"horizontal"===d?{x:Object(x.k)({axis:n,ticks:r,bandSize:c,entry:e,index:t}),y:l()(s)?null:a.scale(s),value:s,payload:e}:{x:l()(s)?null:n.scale(s),y:Object(x.k)({axis:a,ticks:i,bandSize:c,entry:e,index:t}),value:s,payload:e}})),layout:d},u)}}}]);
//# sourceMappingURL=25.8655c0c0.chunk.js.map