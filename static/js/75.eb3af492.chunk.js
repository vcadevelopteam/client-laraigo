(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[75],{1368:function(e,t,n){"use strict";n.r(t);var i=n(3),r=n(1),l=n(26),a=n(20),o=n(0),c=n.n(o),s=n(778),u=n.n(s),d=n(780),b=n.n(d),j=n(786),f=n.n(j),g=n(94),O=n(169),v=n(779),m=n(25),x=n(40),h=n(48),p=n(7),y=n(122),C=n(8),k=n(205),N=n(83),w=n(44),S=n(46),D=n(10),R=n(51),T=n(257),E=n(265),_=n.n(E),A=n(811),z=n(2),F=Object(O.a)((function(e){return{containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},subtitle:{fontWeight:"bold",fontSize:"20px",paddingBottom:"10px"},subtitle2:{fontWeight:"bold",fontSize:"15px",paddingBottom:"10px"},button:{marginRight:e.spacing(2)}}})),I=function(e){var t,n,s,d,j,O,v,S,D,E,I,L,M,q=e.data,P=q.row,B=q.edit,V=e.setViewSelected,U=e.multiData,H=e.fetchData,K=e.arrayBread,J=Object(y.a)().t,G=Object(x.c)(),W=Object(o.useState)((null===P||void 0===P?void 0:P.filterjson)?Object.entries(P.filterjson).reduce((function(e,t){var n=Object(a.a)(t,2),i=n[0],r=n[1];return[].concat(Object(l.a)(e),[{filter:i,value:r}])}),[]):[]),Q=Object(a.a)(W,2),Y=Q[0],$=Q[1],X=F(),Z=Object(o.useState)(!1),ee=Object(a.a)(Z,2),te=ee[0],ne=ee[1],ie=Object(m.b)((function(e){return e.main.execute})),re=Object(o.useState)((null===P||void 0===P?void 0:P.origin)||""),le=Object(a.a)(re,2),ae=le[0],oe=le[1],ce=Object(o.useState)((null===P||void 0===P?void 0:P.mailbodyobject)||[{type:"paragraph",children:[{text:(null===P||void 0===P?void 0:P.mailbody)||""}]}]),se=Object(a.a)(ce,2),ue=se[0],de=se[1],be=U[0]&&U[0].success?U[0].data:[],je=U[1]&&U[1].success?U[1].data:[],fe=je.filter((function(e){return"TICKET"!==e.origin})),ge=U[2]&&U[2].success?U[2].data:[],Oe=Object(o.useState)("TICKET"===ae?JSON.parse((null===(t=je.filter((function(e){return"TICKET"===e.origin})))||void 0===t?void 0:t[0].filterjson)||"[]"):JSON.parse((null===(n=fe.find((function(e){return e.reportname===(null===P||void 0===P?void 0:P.reportname)})))||void 0===n?void 0:n.filterjson)||"[]").filter((function(e){return"timestamp without time zone"!==e.type}))),ve=Object(a.a)(Oe,2),me=ve[0],xe=ve[1],he=Object(o.useState)(""),pe=Object(a.a)(he,2),ye=pe[0],Ce=pe[1],ke=Object(k.d)({defaultValues:{id:(null===P||void 0===P?void 0:P.reportschedulerid)||0,title:(null===P||void 0===P?void 0:P.title)||"",status:(null===P||void 0===P?void 0:P.status)||"ACTIVO",origin:(null===P||void 0===P?void 0:P.origin)||"",origintype:(null===P||void 0===P?void 0:P.origintype)||"",reportid:(null===P||void 0===P?void 0:P.reportid)||0,reportname:(null===P||void 0===P?void 0:P.reportname)||"",filterjson:(null===P||void 0===P?void 0:P.filterjson)||"",frecuency:(null===P||void 0===P?void 0:P.frecuency)||"",group:(null===P||void 0===P?void 0:P.group)||"",schedule:(null===P||void 0===P?void 0:P.schedule)||"",datarange:(null===P||void 0===P?void 0:P.datarange)||"",mailto:(null===P||void 0===P?void 0:P.mailto)||"",mailcc:(null===P||void 0===P?void 0:P.mailcc)||"",mailsubject:(null===P||void 0===P?void 0:P.mailsubject)||"",mailbody:(null===P||void 0===P?void 0:P.mailbody)||"",operation:P?"EDIT":"INSERT"}}),Ne=ke.register,we=ke.handleSubmit,Se=ke.setValue,De=ke.getValues,Re=ke.formState.errors;function Te(e,t,n){$((function(l){return l.map((function(l,a){return a===n?Object(r.a)(Object(r.a)({},l),{},Object(i.a)({},e,t)):l}))}))}Object(o.useEffect)((function(){if(te)if(ie.loading||ie.error){if(ie.error){var e=J(ie.code||"error_unexpected_error",{module:J(C.a.domain).toLocaleLowerCase()});G(Object(w.e)({show:!0,severity:"error",message:e})),ne(!1),G(Object(w.d)(!1))}}else G(Object(w.e)({show:!0,severity:"success",message:J(P?C.a.successful_edit:C.a.successful_register)})),H&&H(),G(Object(w.d)(!1)),V("view-1")}),[ie,te]),c.a.useEffect((function(){Ne("id"),Ne("title",{validate:function(e){return e&&e.length||J(C.a.field_required)}}),Ne("status",{validate:function(e){return e&&e.length||J(C.a.field_required)}}),Ne("origin",{validate:function(e){return e&&e.length||J(C.a.field_required)}}),Ne("origintype"),Ne("reportname",{validate:function(e){return"REPORT"!==De("origin")&&"CAMPAIGN"!==De("origin")||(e&&e.length||J(C.a.field_required))}}),Ne("frecuency",{validate:function(e){return e&&e.length||J(C.a.field_required)}}),Ne("schedule",{validate:function(e){return e&&e.length||J(C.a.field_required)}}),Ne("datarange",{validate:function(e){return e&&e.length||J(C.a.field_required)}}),Ne("mailto",{validate:{validation:function(e){return e&&e.length||J(C.a.field_required)},isemail:function(e){return e.split(",").some((function(e){return e.match(/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g)}))||J(C.a.emailverification)}}}),Ne("mailcc",{validate:{isemail:function(e){return!e||(e.split(",").some((function(e){return e.match(/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g)}))||J(C.a.emailverification))}}}),Ne("mailsubject",{validate:function(e){return e&&e.length||J(C.a.field_required)}}),G(Object(N.z)()),G(Object(N.h)(Object(p.Jc)((null===P||void 0===P?void 0:P.domainname)||"")))}),[Ne]);var Ee=we((function(e){if(e.mailbody=Object(A.b)(Object(A.c)(ue)),'<div data-reactroot=""><p><span></span></p></div>'!==e.mailbody){Ce("");G(Object(w.a)({visible:!0,question:J(C.a.confirmation_save),callback:function(){if(e.mailbody=Object(A.b)(Object(A.c)(ue)),'<div data-reactroot=""><p><span></span></p></div>'!==e.mailbody){var t=Y.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(i.a)({},t.filter,t.value))}),{});G(Object(N.c)(Object(p.Ng)(Object(r.a)(Object(r.a)({},e),{},{filterjson:JSON.stringify(t),mailbodyobject:ue})))),G(Object(w.d)(!0)),ne(!0)}}}))}else Ce(J(C.a.field_required))}));return Object(z.jsx)("div",{style:{width:"100%"},children:Object(z.jsxs)("form",{onSubmit:Ee,children:[Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(z.jsxs)("div",{children:[Object(z.jsx)(h.L,{breadcrumbs:[].concat(Object(l.a)(K),[{id:"view-2",name:"".concat(J(C.a.reportscheduler_singular)," ").concat(J(C.a.detail))}]),handleClick:V}),Object(z.jsx)(h.R,{title:B&&P?"".concat(P.title):"".concat(J(C.a.new)," ").concat(J(C.a.reportscheduler_singular))})]}),Object(z.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(z.jsx)(g.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(z.jsx)(u.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return V("view-1")},children:J(C.a.cancel)}),B&&Object(z.jsx)(g.a,{className:X.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(z.jsx)(b.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:J(C.a.save)})]})]}),Object(z.jsxs)("div",{className:X.containerDetail,children:[Object(z.jsx)("div",{className:X.subtitle,children:J(C.a.reportschedulerdetail1)}),Object(z.jsxs)("div",{className:"row-zyx",children:[Object(z.jsx)(h.l,{label:J(C.a.title),className:"col-6",valueDefault:(null===P||void 0===P?void 0:P.title)||"",onChange:function(e){return Se("title",e)},error:null===Re||void 0===Re||null===(s=Re.title)||void 0===s?void 0:s.message}),Object(z.jsx)(h.u,{label:J(C.a.status),className:"col-6",valueDefault:(null===P||void 0===P?void 0:P.status)||"ACTIVO",onChange:function(e){return Se("status",(null===e||void 0===e?void 0:e.domainvalue)||"")},error:null===Re||void 0===Re||null===(d=Re.status)||void 0===d?void 0:d.message,data:be,optionDesc:"domaindesc",uset:!0,prefixTranslation:"status_",optionValue:"domainvalue"})]}),Object(z.jsxs)("div",{className:"row-zyx",children:[Object(z.jsx)(h.u,{label:J(C.a.origin),className:"col-6",valueDefault:De("origin"),onChange:function(e){var t;(oe((null===e||void 0===e?void 0:e.value)||""),Se("origin",(null===e||void 0===e?void 0:e.value)||""),xe([]),"TICKET"===(null===e||void 0===e?void 0:e.value))&&xe(JSON.parse((null===(t=je.filter((function(e){return"TICKET"===e.origin})))||void 0===t?void 0:t[0].filterjson)||"[]"));"REPORT"!==(null===e||void 0===e?void 0:e.value)&&$([])},error:null===Re||void 0===Re||null===(j=Re.origin)||void 0===j?void 0:j.message,data:[{value:"REPORT",desc:J(C.a.report_plural)},{value:"TICKET",desc:J(C.a.ticket_plural)},{value:"CAMPAIGN",desc:J(C.a.campaign_plural)}],optionDesc:"desc",optionValue:"value"}),!("REPORT"!==ae&&"DASHBOARD"!==ae)&&Object(z.jsx)(h.u,{label:J(C.a.report),className:"col-6",valueDefault:De("reportname"),onChange:function(e){Se("reportname",(null===e||void 0===e?void 0:e.reportname)||""),Se("origintype",(null===e||void 0===e?void 0:e.origintype)||""),Se("reportid",(null===e||void 0===e?void 0:e.reportid)||0),xe(JSON.parse((null===e||void 0===e?void 0:e.filterjson)||"[]").filter((function(e){return"timestamp without time zone"!==e.type}))),$([])},error:null===Re||void 0===Re||null===(O=Re.reportname)||void 0===O?void 0:O.message,disabled:"REPORT"!==ae&&"DASHBOARD"!==ae,data:fe,optionDesc:"reportname",optionValue:"reportname",uset:!0,prefixTranslation:""}),!("CAMPAIGN"!==ae&&"DASHBOARD"!==ae)&&Object(z.jsx)(h.u,{label:J(C.a.reporttype),className:"col-6",valueDefault:De("reportname"),onChange:function(e){Se("reportname",(null===e||void 0===e?void 0:e.value)||""),Se("origintype","STANDARD"),Se("reportid",0),xe(JSON.parse("[]").filter((function(e){return"timestamp without time zone"!==e.type}))),$([])},error:null===Re||void 0===Re||null===(v=Re.reportname)||void 0===v?void 0:v.message,disabled:"CAMPAIGN"!==ae&&"DASHBOARD"!==ae,data:[{value:"DEFAULT",desc:J(C.a.defaulttype)},{value:"PROACTIVE",desc:J(C.a.proactivetype)}],optionDesc:"desc",optionValue:"value"})]}),me&&Y&&me.length>0&&Object(z.jsxs)("div",{className:"row-zyx",children:[Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(z.jsx)("div",{className:X.subtitle2,children:J(C.a.filters)}),Object(z.jsx)("div",{children:Object(z.jsx)(g.a,{variant:"contained",type:"button",color:"primary",endIcon:Object(z.jsx)(f.a,{style:{color:"#deac32"}}),style:{backgroundColor:"#6c757d"},onClick:function(){$((function(e){return[].concat(Object(l.a)(e),[{filter:"",value:""}])}))},children:J(C.a.addfilter)})})]}),Y.map((function(e,t){return Object(z.jsxs)("div",{className:"row-zyx",children:[Object(z.jsx)(h.u,{label:J(C.a.filter),className:"col-6",valueDefault:(null===e||void 0===e?void 0:e.filter)||"",onChange:function(e){Te("filter",e.columnname,t)},data:me,optionDesc:"columnname",optionValue:"columnname",uset:!0,prefixTranslation:"personalizedreport_"}),Object(z.jsx)(h.l,{label:J(C.a.value),className:"col-5",valueDefault:(null===e||void 0===e?void 0:e.value)||"",onChange:function(e){return Te("value",e,t)}}),Object(z.jsx)("div",{className:"col-1",style:{paddingTop:"15px"},children:Object(z.jsx)(T.a,{"aria-label":"delete",onClick:function(){return function(e){$(Y.filter((function(t,n){return n!==e})))}(t)},children:Object(z.jsx)(_.a,{})})})]},t)}))]}),Object(z.jsx)("div",{className:"row-zyx",children:Object(z.jsx)(h.u,{label:J(C.a.periodicity),className:"col-6",valueDefault:De("frecuency"),onChange:function(e){return Se("frecuency",(null===e||void 0===e?void 0:e.value)||"")},error:null===Re||void 0===Re||null===(S=Re.frecuency)||void 0===S?void 0:S.message,data:[{value:"DAY",desc:J(C.a.day)},{value:"WEEK",desc:J(C.a.week)},{value:"MONTH",desc:J(C.a.month)}],optionDesc:"desc",optionValue:"value"})}),Object(z.jsxs)("div",{className:"row-zyx",children:[Object(z.jsx)(h.l,{label:J(C.a.shippingschedule),className:"col-6",type:"time",valueDefault:De("schedule"),onChange:function(e){return Se("schedule",e)},error:null===Re||void 0===Re||null===(D=Re.schedule)||void 0===D?void 0:D.message}),Object(z.jsx)(h.u,{label:J(C.a.shippingrange),className:"col-6",valueDefault:De("datarange"),onChange:function(e){return Se("datarange",(null===e||void 0===e?void 0:e.domainvalue)||"")},error:null===Re||void 0===Re||null===(E=Re.datarange)||void 0===E?void 0:E.message,data:ge,optionDesc:"domaindesc",optionValue:"domainvalue",uset:!0,prefixTranslation:"datarange_"})]})]}),Object(z.jsxs)("div",{className:X.containerDetail,children:[Object(z.jsx)("div",{className:X.subtitle,children:J(C.a.reportschedulerdetail2)}),Object(z.jsxs)("div",{className:"row-zyx",children:[Object(z.jsx)(h.r,{label:J(C.a.to),className:"col-12",valueDefault:De("mailto"),onChange:function(e){var t=e.map((function(e){return e.domaindesc||e})).join();Se("mailto",t)},data:[].concat(De("mailto").split(",").filter((function(e){return""!==e})).map((function(e){return{domaindesc:e}}))),optionValue:"domaindesc",optionDesc:"domaindesc",error:null===Re||void 0===Re||null===(I=Re.mailto)||void 0===I?void 0:I.message,loading:!1}),Object(z.jsx)(h.r,{label:"Cc",className:"col-12",valueDefault:De("mailcc"),onChange:function(e){var t=e.map((function(e){return e.domaindesc||e})).join();Se("mailcc",t)},data:[].concat(De("mailcc").split(",").filter((function(e){return""!==e})).map((function(e){return{domaindesc:e}}))),optionValue:"domaindesc",optionDesc:"domaindesc",error:null===Re||void 0===Re||null===(L=Re.mailcc)||void 0===L?void 0:L.message,loading:!1}),Object(z.jsx)(h.l,{label:J(C.a.subject),className:"col-12",valueDefault:(null===P||void 0===P?void 0:P.mailsubject)||"",onChange:function(e){return Se("mailsubject",e)},error:null===Re||void 0===Re||null===(M=Re.mailsubject)||void 0===M?void 0:M.message}),Object(z.jsx)("div",{className:"row-zyx",children:Object(z.jsxs)(c.a.Fragment,{children:[Object(z.jsx)(R.a,{fontWeight:500,lineHeight:"18px",fontSize:14,mb:1,color:"textPrimary",children:J(C.a.body)}),Object(z.jsx)(A.a,{value:ue,onChange:function(e){de(e)},spellCheck:!0,onlyurl:!0})]})}),Object(z.jsx)(h.l,{label:"",className:"col-12",valueDefault:"",error:ye,disabled:!0})]})]})]})})};t.default=function(){var e=Object(S.g)(),t=Object(y.a)().t,n=Object(x.c)(),i=Object(m.b)((function(e){return e.main})),l=Object(m.b)((function(e){return e.main.execute})),s=Object(o.useState)("view-1"),u=Object(a.a)(s,2),d=u[0],b=u[1],j=Object(o.useState)({row:null,domainname:"",edit:!1}),f=Object(a.a)(j,2),g=f[0],O=f[1],k=Object(o.useState)(!1),R=Object(a.a)(k,2),T=R[0],E=R[1],_=Object(m.b)((function(e){return e.login.validateToken.user})),A=["SUPERADMIN","ADMINISTRADOR","ADMINISTRADOR P"].includes((null===_||void 0===_?void 0:_.roledesc)||""),F=[{id:"view-1",name:t(C.a.reportscheduler)}];var L=c.a.useMemo((function(){return[{accessor:"reportschedulerid",NoFilter:!0,isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(z.jsx)(h.M,{viewFunction:function(){return q(t)},deleteFunction:function(){return B(t)},editFunction:function(){return P(t)}})}},{Header:t(C.a.name),accessor:"title",NoFilter:!0},{Header:t(C.a.status),accessor:"status",NoFilter:!0,prefixTranslation:"status_",Cell:function(e){var n=e.cell.row.original.status;return(t("status_".concat(n).toLowerCase())||"").toUpperCase()}},{Header:"".concat(t(C.a.report_plural)," ").concat(t(C.a.sent_plural)),accessor:"reportname",NoFilter:!0,Cell:function(e){var n=e.cell.row.original,i=n.reportname,r=n.origin;return(t("".concat(i?"CAMPAIGN"===r?"".concat(r,"_").concat(i):i:r).toLowerCase())||"").toUpperCase()}}]}),[]),M=function(){return n(Object(N.g)(Object(p.he)(0)))};Object(o.useEffect)((function(){return M(),n(Object(N.p)([Object(p.Ke)("ESTADOGENERICO"),Object(p.ke)(),Object(p.Ke)("REPORTEAUTOMATICORANGO")])),function(){n(Object(N.t)())}}),[]),Object(o.useEffect)((function(){if(T)if(l.loading||l.error){if(l.error){var e=t(l.code||"error_unexpected_error",{module:t(C.a.domain).toLocaleLowerCase()});n(Object(w.e)({show:!0,severity:"error",message:e})),n(Object(w.d)(!1)),E(!1)}}else n(Object(w.e)({show:!0,severity:"success",message:t(C.a.successful_delete)})),M(),n(Object(w.d)(!1)),E(!1)}),[l,T]);var q=function(e){b("view-2"),O({row:e,domainname:e.domainname,edit:!1})},P=function(e){b("view-2"),O({row:e,domainname:e.domainname,edit:!0})},B=function(e){n(Object(w.a)({visible:!0,question:t(C.a.confirmation_delete),callback:function(){n(Object(N.c)(Object(p.Ng)(Object(r.a)(Object(r.a)({},e),{},{id:e.reportschedulerid,operation:"DELETE",status:"ELIMINADO"})))),n(Object(w.d)(!0)),E(!0)}}))};return"view-1"===d?i.mainData.error?Object(z.jsx)("h1",{children:"ERROR"}):Object(z.jsx)("div",{style:{width:"100%"},children:Object(z.jsx)(v.f,{columns:L,titlemodule:t(C.a.reportscheduler,{count:2}),data:i.mainData.data,download:!1,onClickRow:P,loading:i.mainData.loading,register:A,handleRegister:function(){b("view-2"),O({row:null,domainname:"",edit:!0})}})}):Object(z.jsx)(I,{data:g,setViewSelected:function(t){"view-0"!==t?b(t):e.push(D.a.CONFIGURATION)},multiData:i.multiData.data,fetchData:M,arrayBread:F})}},786:function(e,t,n){"use strict";var i=n(45),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(0)),a=(0,i(n(62)).default)(l.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=a},811:function(e,t,n){"use strict";n.d(t,"b",(function(){return xe})),n.d(t,"c",(function(){return he})),n.d(t,"a",(function(){return Se}));var i=n(52),r=n(20),l=n(123),a=n(3),o=n(1),c=n(169),s=n(316),u=n(170),d=n(257),b=n(101),j=n(378),f=n(245),g=n(51),O=n(771),v=n(171),m=n(203),x=n(472),h=n(721),p=n(197),y=n(167),C=n(94),k=(n(776),n(1369)),N=n(1370),w=n(1371),S=n(1372),D=n(1373),R=n(1374),T=n(1375),E=n(1376),_=n(1377),A=n(1378),z=n(1379),F=n(1380),I=n(1381),L=n(1382),M=n(1383),q=n(1384),P=n(1385),B=n(850),V=n(1050),U=n(795),H=n(0),K=n.n(H),J=n(845),G=n(868),W=n(869),Q=n(122),Y=n(718),$=n(8),X=n(857),Z=n.n(X),ee=(n(48),n(9)),te=n(25),ne=n(83),ie=n(40),re=n(44),le=n(16),ae=n(333),oe=n(763),ce=n(314),se=n(710),ue=n(2),de=["value","refresh","onChange","placeholder","image","spellCheck","error","positionEditable","children","onlyurl","endinput","emojiNoShow","emojiFavorite","emoji","quickReplies"],be=["tooltip","children","onClick"],je=["tooltip","children","onClick"],fe=["tooltip","children","onClick"],ge=["tooltip","children","onClick"],Oe=["tooltip","format","children","onClick"],ve=["tooltip","format","children","onClick"],me=U.a.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(a.a)({},t.emojihex,t))}),{}),xe=function(e){return Z.a.renderToString(e)},he=function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){var t=e.children;return Object(ue.jsx)("div",{children:t})},r=[],a=Object(l.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.hasOwnProperty("type")&&o.hasOwnProperty("children"))!function(){var t=o;r.push(e(t.children,(function(e){var n=e.children;return De({element:t,children:n,isStatic:!0,attributes:{key:t}})})))}();else{var c=o;r.push(Re({leaf:c,text:c,children:c.text,attributes:{key:c}}))}}}catch(s){a.e(s)}finally{a.f()}return i({children:r})},pe=["bulleted-list","numbered-list"],ye=Object(c.a)((function(e){return{toolbar:{padding:0,width:"100%"},editable:{height:200,overflowY:"scroll",overflowX:"hidden",width:"100%",direction:"ltr"},littleboxes:{cursor:"pointer",marginRight:1,width:16,height:16}}})),Ce=Object(c.a)((function(e){return{iconResponse:{color:"#2E2C34"},containerQuickReply:{boxShadow:"0px 3px 6px rgb(0 0 0 / 10%)",backgroundColor:"#FFF",width:250},headerQuickReply:{fontSize:14,fontWeight:500,padding:e.spacing(1),paddingLeft:e.spacing(1.5),display:"flex",justifyContent:"space-between",alignItems:"center"}}})),ke=function(e){var t=e.quickReplies,n=e.editor,i=Ce(),l=K.a.useState(!1),a=Object(r.a)(l,2),o=a[0],c=a[1],g=Object(H.useState)([]),O=Object(r.a)(g,2),v=O[0],m=O[1],x=Object(H.useState)(!1),h=Object(r.a)(x,2),p=h[0],y=h[1],C=Object(H.useState)(""),k=Object(r.a)(C,2),N=k[0],w=k[1],S=Object(Q.a)().t,D=Object(te.b)((function(e){return e.inbox.ticketSelected})),R=Object(te.b)((function(e){return e.login.validateToken.user}));Object(H.useEffect)((function(){m(""===N?t.filter((function(e){return!!e.favorite})):t.filter((function(e){return e.description.toLowerCase().includes(N.toLowerCase())})))}),[N,t]);return Object(ue.jsx)(s.a,{onClickAway:function(){return c(!1)},children:Object(ue.jsxs)("span",{children:[Object(ue.jsx)(u.a,{title:S($.a.send_quickreply)+"",arrow:!0,placement:"top",children:Object(ue.jsx)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(){return c((function(e){return!e}))},children:Object(ue.jsx)(le.Ob,{className:i.iconResponse})})}),o&&Object(ue.jsx)("div",{style:{position:"absolute",bottom:60},children:Object(ue.jsxs)("div",{className:i.containerQuickReply,children:[Object(ue.jsx)("div",{children:p?Object(ue.jsx)(b.a,{color:"primary",fullWidth:!0,autoFocus:!0,placeholder:"Search quickreplies",style:{padding:"6px 6px 6px 12px"},onBlur:function(){return!N&&y(!1)},onChange:function(e){return w(e.target.value)},InputProps:{endAdornment:Object(ue.jsx)(j.a,{position:"end",children:Object(ue.jsx)(d.a,{size:"small",children:Object(ue.jsx)(le.Ub,{})})})}}):Object(ue.jsxs)("div",{className:i.headerQuickReply,children:[Object(ue.jsx)("div",{children:"User Quick Response"}),Object(ue.jsx)(d.a,{size:"small",onClick:function(){return y(!0)},edge:"end",children:Object(ue.jsx)(le.Ub,{})})]})}),Object(ue.jsx)(f.a,{}),Object(ue.jsx)(oe.a,{component:"nav",disablePadding:!0,style:{maxHeight:200,overflowY:"overlay"},children:v.map((function(e){return Object(ue.jsx)(ce.a,{button:!0,onClick:function(){return function(e){c(!1),n.insertText(e.quickreply.replace("{{numticket}}",null===D||void 0===D?void 0:D.ticketnum).replace("{{client_name}}",null===D||void 0===D?void 0:D.displayname).replace("{{agent_name}}",(null===R||void 0===R?void 0:R.firstname)+" "+(null===R||void 0===R?void 0:R.lastname)))}(e)},children:Object(ue.jsx)(u.a,{title:e.quickreply,arrow:!0,placement:"top",children:Object(ue.jsx)(se.a,{primary:e.description})})},e.quickreplyid)}))})]})})]})})},Ne=function(e){e.emojisIndexed;var t=e.emojisNoShow,n=void 0===t?[]:t,i=e.emojiFavorite,l=void 0===i?[]:i,a=e.onSelect,o=e.icon,c=K.a.useState(!1),b=Object(r.a)(c,2),j=b[0],f=b[1],g=function(){return f((function(e){return!e}))},O=Object(Q.a)().t;return Object(ue.jsx)(s.a,{onClickAway:function(){return f(!1)},children:Object(ue.jsxs)("span",{children:[(null===o||void 0===o?void 0:o(g))||Object(ue.jsx)(u.a,{title:O($.a.send_emoji)+"",arrow:!0,placement:"top",children:Object(ue.jsx)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:g,children:Object(ue.jsx)(k.a,{})})}),j&&Object(ue.jsx)("div",{style:{position:"absolute",bottom:100},children:Object(ue.jsx)(ae.a,{onSelect:function(e){f(!1),a(e)},native:!0,sheetSize:32,i18n:{search:O($.a.search),categories:{search:O($.a.search_result),recent:O($.a.favorites),people:O($.a.emoticons),nature:O($.a.animals),foods:O($.a.food),activity:O($.a.activities),places:O($.a.travel),objects:O($.a.objects),symbols:O($.a.symbols),flags:O($.a.flags)}},recent:l.length>0?null===l||void 0===l?void 0:l.map((function(e){var t;return(null===me||void 0===me||null===(t=me[e||""])||void 0===t?void 0:t.id)||""})):void 0,emojisToShowFilter:n&&n.length>0?function(e){return-1===n.map((function(e){return e.toUpperCase()})).indexOf(e.unified.toUpperCase())}:void 0})})]})})},we=["left","center","right","justify"],Se=function(e){var t=e.value,n=e.refresh,r=void 0===n?0:n,l=e.onChange,a=e.placeholder,c=e.image,s=void 0===c||c,u=e.spellCheck,d=e.error,b=e.positionEditable,j=void 0===b?"bottom":b,f=e.children,x=e.onlyurl,h=void 0!==x&&x,p=e.endinput,y=e.emojiNoShow,C=e.emojiFavorite,k=e.emoji,F=void 0!==k&&k,I=e.quickReplies,L=void 0===I?[]:I,M=Object(i.a)(e,de),q=ye(),P=Object(H.useMemo)((function(){return Je(Object(W.a)(Object(G.h)(Object(J.i)())))}),[]),B=Object(te.b)((function(e){return e.main.uploadFile}));return Object(H.useEffect)((function(){(null===P||void 0===P?void 0:P.children)&&(P.selection={anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}},P.children=t)}),[r]),Object(ue.jsxs)(g.a,Object(o.a)(Object(o.a)({},M),{},{children:[Object(ue.jsxs)(G.c,{editor:P,value:t,onChange:l,children:["top"===j&&Object(ue.jsx)("div",{className:q.editable,children:Object(ue.jsx)(G.a,{placeholder:a,renderElement:De,renderLeaf:Re,spellCheck:u})}),Object(ue.jsxs)(O.a,{className:q.toolbar,children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{style:{display:"inline-block"},children:f}),Object(ue.jsx)(Te,{tooltip:"font"}),Object(ue.jsx)(Ee,{tooltip:"size"}),L.length>0&&Object(ue.jsx)(ke,{quickReplies:L,editor:P}),F&&Object(ue.jsx)(Ne,{emojisIndexed:me,onSelect:function(e){return P.insertText(e.native)},emojisNoShow:y,emojiFavorite:C}),Object(ue.jsx)(Le,{format:"bold",tooltip:"bold",children:Object(ue.jsx)(N.a,{})}),Object(ue.jsx)(Le,{format:"italic",tooltip:"italic",children:Object(ue.jsx)(w.a,{})}),Object(ue.jsx)(Le,{format:"underline",tooltip:"underline",children:Object(ue.jsx)(S.a,{})}),Object(ue.jsx)(ze,{tooltip:"size"}),Object(ue.jsx)(_e,{tooltip:"alignment"}),Object(ue.jsx)(Me,{format:"numbered-list",tooltip:"numbered_list",children:Object(ue.jsx)(D.a,{})}),Object(ue.jsx)(Me,{format:"bulleted-list",tooltip:"bulleted_list",children:Object(ue.jsx)(R.a,{})}),Object(ue.jsx)(Le,{format:"code",tooltip:"code",children:Object(ue.jsx)(T.a,{})}),Object(ue.jsx)(Me,{format:"heading-one",tooltip:"heading_one",children:Object(ue.jsx)(E.a,{})}),Object(ue.jsx)(Me,{format:"heading-two",tooltip:"heading_two",children:Object(ue.jsx)(_.a,{})}),Object(ue.jsx)(Me,{format:"block-quote",tooltip:"block_quote",children:Object(ue.jsx)(A.a,{})}),s&&h&&Object(ue.jsx)(Pe,{children:Object(ue.jsx)(z.a,{})}),B.loading&&Object(ue.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:8},children:[Object(ue.jsx)(v.a,{size:24}),Object(ue.jsx)("span",{children:Object(ue.jsxs)("strong",{children:[Object(ue.jsx)(Y.a,{i18nKey:$.a.loadingImage}),"..."]})})]})]}),Object(ue.jsx)("div",{style:{marginLeft:"auto",marginRight:0},children:p})]}),"top"!==j&&Object(ue.jsx)(G.a,{placeholder:a,renderElement:De,renderLeaf:Re,spellCheck:u,style:{borderTop:"1.5px dotted #949494"}})]}),d&&""!==d&&Object(ue.jsx)(m.a,{error:!0,children:d})]}))},De=function(e){var t=e.attributes,n=void 0===t?{}:t,i=e.children,r=e.element,l=e.isStatic,a=void 0!==l&&l,c={textAlign:r.align};switch(r.type){case"block-quote":return Object(ue.jsx)("blockquote",Object(o.a)(Object(o.a)({style:c},n),{},{children:i}));case"bulleted-list":return Object(ue.jsx)("ul",Object(o.a)(Object(o.a)({style:c},n),{},{children:i}));case"heading-one":return Object(ue.jsx)("h1",Object(o.a)(Object(o.a)({style:c},n),{},{children:i}));case"heading-two":return Object(ue.jsx)("h2",Object(o.a)(Object(o.a)({style:c},n),{},{children:i}));case"list-item":return Object(ue.jsx)("li",Object(o.a)(Object(o.a)({style:c},n),{},{children:i}));case"numbered-list":return Object(ue.jsx)("ol",Object(o.a)(Object(o.a)({style:c},n),{},{children:i}));case"image-src":return!0===a?Object(ue.jsx)(Ke,{element:r,children:i}):Object(ue.jsx)(He,{element:r,attributes:n,children:i});default:return Object(ue.jsx)("p",Object(o.a)(Object(o.a)({style:c},n),{},{children:i}))}},Re=function(e){var t=e.attributes,n=void 0===t?{}:t,i=e.children,r=e.leaf;return!0===r.bold&&(i=Object(ue.jsx)("strong",{children:i})),!0===r.code&&(i=Object(ue.jsx)("code",{children:i})),!0===r.italic&&(i=Object(ue.jsx)("em",{children:i})),!0===r.underline&&(i=Object(ue.jsx)("u",{children:i})),r.fontfamily&&(i=Object(ue.jsx)("span",{style:{fontFamily:r.fontfamily},children:i})),r.fontsize&&(i=Object(ue.jsx)("span",{style:{fontSize:r.fontsize},children:i})),r.color&&(i=Object(ue.jsx)("span",{style:{color:r.color},children:i})),r.backgroundcolor&&(i=Object(ue.jsx)("span",{style:{backgroundColor:r.backgroundcolor},children:i})),Object(ue.jsx)("span",Object(o.a)(Object(o.a)({},n),{},{children:i}))},Te=function(e){e.tooltip,e.children,e.onClick,Object(i.a)(e,be);var t=Object(G.f)(),n=J.a.marks(t),r=(null===n||void 0===n?void 0:n.fontfamily)||"inherit",l=Object(Q.a)().t;return Object(ue.jsx)(x.a,{children:Object(ue.jsx)(u.a,{title:l($.a.font)||"font","aria-label":"add",children:Object(ue.jsxs)(h.a,{labelId:"font-family-select-label",value:r,style:{width:150,marginLeft:10},onChange:function(e){e.preventDefault(),function(e,t){"inherit"===t?J.a.removeMark(e,"fontfamily"):J.a.addMark(e,"fontfamily",t)}(t,e.target.value)},children:[Object(ue.jsx)(p.a,{style:{fontFamily:"inherit"},value:"inherit",children:l($.a.default)}),Object(ue.jsx)(p.a,{style:{fontFamily:"serif"},value:"serif",children:"Serif"}),Object(ue.jsx)(p.a,{style:{fontFamily:"sans-serif"},value:"sans-serif",children:"Sans-serif"}),Object(ue.jsx)(p.a,{style:{fontFamily:"monospace"},value:"monospace",children:"Monospace"}),Object(ue.jsx)(p.a,{style:{fontFamily:"cursive"},value:"cursive",children:"Cursive"}),Object(ue.jsx)(p.a,{style:{fontFamily:"fantasy"},value:"fantasy",children:"Fantasy"})]})})})},Ee=function(e){e.tooltip,e.children,e.onClick,Object(i.a)(e,je);var t=Object(G.f)(),n=J.a.marks(t),l=(null===n||void 0===n?void 0:n.fontsize)||"small",a=Object(Q.a)().t,o=K.a.useState(null),c=Object(r.a)(o,2),s=c[0],b=c[1],j=Boolean(s),f=function(e){!function(e,t){"small"===t?J.a.removeMark(e,"fontsize"):J.a.addMark(e,"fontsize",t)}(t,e),b(null)};return Object(ue.jsx)(x.a,{children:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{title:a($.a.size)||"size","aria-label":"add",children:Object(ue.jsxs)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},children:[Object(ue.jsx)(F.a,{}),Object(ue.jsx)(le.f,{})]})}),Object(ue.jsxs)(y.a,{id:"long-menu",anchorEl:s,keepMounted:!0,open:j,onClose:f,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(ue.jsxs)(p.a,{onClick:function(){return f("x-small")},style:{paddingLeft:0,fontSize:"x-small"},value:"x-small",children:["x-small"===l&&Object(ue.jsx)(I.a,{style:{marginRight:10,marginLeft:10,width:20,height:20}}),Object(ue.jsxs)("div",{style:{marginLeft:"x-small"!==l?40:0},children:[a($.a.small)," "]})]}),Object(ue.jsxs)(p.a,{onClick:function(){return f("small")},style:{paddingLeft:0,fontSize:"small"},value:"small",children:["small"===l&&Object(ue.jsx)(I.a,{style:{marginRight:10,marginLeft:10,width:20,height:20}}),Object(ue.jsxs)("div",{style:{marginLeft:"small"!==l?40:0},children:[a($.a.normal)," "]})]}),Object(ue.jsxs)(p.a,{onClick:function(){return f("large")},style:{paddingLeft:0,fontSize:"large"},value:"large",children:["large"===l&&Object(ue.jsx)(I.a,{style:{marginRight:10,marginLeft:10,width:20,height:20}}),Object(ue.jsxs)("div",{style:{marginLeft:"large"!==l?40:0},children:[a($.a.large)," "]})]}),Object(ue.jsxs)(p.a,{onClick:function(){return f("xx-large")},style:{paddingLeft:0,fontSize:"xx-large"},value:"xx-large",children:["xx-large"===l&&Object(ue.jsx)(I.a,{style:{marginRight:10,marginLeft:10,width:20,height:20}}),Object(ue.jsxs)("div",{style:{marginLeft:"xx-large"!==l?40:0},children:[a($.a.huge)," "]})]})]})]})})},_e=function(e){e.tooltip,e.children,e.onClick,Object(i.a)(e,fe);var t=Object(G.f)(),n=J.a.marks(t),l=(null===n||void 0===n?void 0:n.textalign)||"left",a=Object(Q.a)().t,o=K.a.useState(null),c=Object(r.a)(o,2),s=c[0],b=c[1],j=Boolean(s),f=function(e){!function(e,t){var n;n={align:Ie(e,"paragraph","align")?void 0:t},J.h.setNodes(e,n),"left"===t?J.a.removeMark(e,"textalign"):J.a.addMark(e,"textalign",t)}(t,e),b(null)};return Object(ue.jsx)(x.a,{children:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{title:a($.a.align)||"align","aria-label":"add",children:Object(ue.jsxs)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},children:["right"!==l&&"center"!==l&&Object(ue.jsx)(L.a,{}),"right"===l&&Object(ue.jsx)(M.a,{}),"center"===l&&Object(ue.jsx)(q.a,{}),Object(ue.jsx)(le.f,{})]})}),Object(ue.jsxs)(y.a,{id:"long-menu",anchorEl:s,keepMounted:!0,open:j,onClose:f,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(ue.jsx)(p.a,{onClick:function(){return f("left")},value:"left",children:Object(ue.jsx)("div",{children:Object(ue.jsx)(L.a,{})})}),Object(ue.jsx)(p.a,{onClick:function(){return f("center")},value:"center",children:Object(ue.jsx)("div",{children:Object(ue.jsx)(q.a,{})})}),Object(ue.jsx)(p.a,{onClick:function(){return f("right")},value:"right",children:Object(ue.jsx)("div",{children:Object(ue.jsx)(M.a,{})})})]})]})})},Ae=function(e){var t=e.other,n=e.tooltip,i=Object(G.f)(),r=ye(),l=function(e){"background"===n?function(e,t){"transparent"===t?J.a.removeMark(e,"backgroundcolor"):J.a.addMark(e,"backgroundcolor",t)}(i,e):function(e,t){"black"===t?J.a.removeMark(e,"color"):J.a.addMark(e,"color",t)}(i,e),null===t||void 0===t||t()};return Object(ue.jsxs)("div",{children:[Object(ue.jsxs)("div",{style:{display:"flex",marginTop:10},children:[Object(ue.jsx)("div",{onClick:function(){return l("rgb(0,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(0,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(68,68,68)")},className:r.littleboxes,style:{backgroundColor:"rgb(68,68,68)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(102,102,102)")},className:r.littleboxes,style:{backgroundColor:"rgb(102,102,102)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(153,153,153)")},className:r.littleboxes,style:{backgroundColor:"rgb(153,153,153)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(204,204,204)")},className:r.littleboxes,style:{backgroundColor:"rgb(204,204,204)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(238,238,238)")},className:r.littleboxes,style:{backgroundColor:"rgb(238,238,238)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(243,243,243)")},className:r.littleboxes,style:{backgroundColor:"rgb(243,243,243)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(255,255,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,255,255)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginTop:5,marginBottom:5},children:[Object(ue.jsx)("div",{onClick:function(){return l("rgb(255,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(255,153,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,153,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(255,255,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,255,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(0,255,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(0,255,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(0,255,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(0,255,255)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(0,0,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(0,0,255)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(153,0,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(153,0,255)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(255,0,255)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,0,255)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return l("rgb(244,204,204)")},className:r.littleboxes,style:{backgroundColor:"rgb(244,204,204)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(252,229,205)")},className:r.littleboxes,style:{backgroundColor:"rgb(252,229,205)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(255,242,204)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,242,204)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(217,234,211)")},className:r.littleboxes,style:{backgroundColor:"rgb(217,234,211)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(208,224,227)")},className:r.littleboxes,style:{backgroundColor:"rgb(208,224,227)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(207,226,243)")},className:r.littleboxes,style:{backgroundColor:"rgb(207,226,243)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(217,210,233)")},className:r.littleboxes,style:{backgroundColor:"rgb(217,210,233)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(234,209,220)")},className:r.littleboxes,style:{backgroundColor:"rgb(234,209,220)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return l("rgb(234,153,153)")},className:r.littleboxes,style:{backgroundColor:"rgb(234,153,153)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(249,203,156)")},className:r.littleboxes,style:{backgroundColor:"rgb(249,203,156)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(255,229,153)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,229,153)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(182,215,168)")},className:r.littleboxes,style:{backgroundColor:"rgb(182,215,168)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(162,196,201)")},className:r.littleboxes,style:{backgroundColor:"rgb(162,196,201)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(159,197,232)")},className:r.littleboxes,style:{backgroundColor:"rgb(159,197,232)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(180,167,214)")},className:r.littleboxes,style:{backgroundColor:"rgb(180,167,214)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(213,166,189)")},className:r.littleboxes,style:{backgroundColor:"rgb(213,166,189)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return l("rgb(224,102,102)")},className:r.littleboxes,style:{backgroundColor:"rgb(224,102,102)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(246,178,107)")},className:r.littleboxes,style:{backgroundColor:"rgb(246,178,107)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(255,217,102)")},className:r.littleboxes,style:{backgroundColor:"rgb(255,217,102)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(147,196,125)")},className:r.littleboxes,style:{backgroundColor:"rgb(147,196,125)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(118,165,175)")},className:r.littleboxes,style:{backgroundColor:"rgb(118,165,175)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(111,168,220)")},className:r.littleboxes,style:{backgroundColor:"rgb(111,168,220)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(142,124,195)")},className:r.littleboxes,style:{backgroundColor:"rgb(142,124,195)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(194,123,160)")},className:r.littleboxes,style:{backgroundColor:"rgb(194,123,160)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return l("rgb(204,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(204,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(230,145,56)")},className:r.littleboxes,style:{backgroundColor:"rgb(230,145,56)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(241,194,50)")},className:r.littleboxes,style:{backgroundColor:"rgb(241,194,50)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(106,168,79)")},className:r.littleboxes,style:{backgroundColor:"rgb(106,168,79)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(69,129,142)")},className:r.littleboxes,style:{backgroundColor:"rgb(69,129,142)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(61,133,198)")},className:r.littleboxes,style:{backgroundColor:"rgb(61,133,198)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(103,78,167)")},className:r.littleboxes,style:{backgroundColor:"rgb(103,78,167)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(166,77,121)")},className:r.littleboxes,style:{backgroundColor:"rgb(166,77,121)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return l("rgb(153,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(153,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(180,95,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(180,95,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(191,144,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(191,144,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(56,118,29)")},className:r.littleboxes,style:{backgroundColor:"rgb(56,118,29)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(19,79,92)")},className:r.littleboxes,style:{backgroundColor:"rgb(19,79,92)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(11,83,148)")},className:r.littleboxes,style:{backgroundColor:"rgb(11,83,148)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(53,28,117)")},className:r.littleboxes,style:{backgroundColor:"rgb(53,28,117)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(116,27,71)")},className:r.littleboxes,style:{backgroundColor:"rgb(116,27,71)"}})]}),Object(ue.jsxs)("div",{style:{display:"flex",marginBottom:1},children:[Object(ue.jsx)("div",{onClick:function(){return l("rgb(102,0,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(102,0,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(120,63,4)")},className:r.littleboxes,style:{backgroundColor:"rgb(120,63,4)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(127,96,0)")},className:r.littleboxes,style:{backgroundColor:"rgb(127,96,0)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(39,78,19)")},className:r.littleboxes,style:{backgroundColor:"rgb(39,78,19)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(12,52,61)")},className:r.littleboxes,style:{backgroundColor:"rgb(12,52,61)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(7,55,99)")},className:r.littleboxes,style:{backgroundColor:"rgb(7,55,99)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(32,18,77)")},className:r.littleboxes,style:{backgroundColor:"rgb(32,18,77)"}}),Object(ue.jsx)("div",{onClick:function(){return l("rgb(76,17,48)")},className:r.littleboxes,style:{backgroundColor:"rgb(76,17,48)"}})]})]})},ze=function(e){e.tooltip,e.children,e.onClick,Object(i.a)(e,ge);var t=Object(Q.a)().t,n=K.a.useState(null),l=Object(r.a)(n,2),a=l[0],o=l[1],c=Boolean(a),s=function(){o(null)};return Object(ue.jsx)(x.a,{children:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{title:t($.a.textcolor)||"textcolor","aria-label":"add",children:Object(ue.jsxs)(d.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},children:[Object(ue.jsx)(P.a,{}),Object(ue.jsx)(le.f,{})]})}),Object(ue.jsx)(y.a,{anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:120,horizontal:"center"},id:"long-menu",anchorEl:a,keepMounted:!0,open:c,onClose:s,children:Object(ue.jsxs)("div",{style:{display:"flex",marginRight:10},children:[Object(ue.jsxs)("div",{style:{marginLeft:10,marginRight:10},children:[Object(ue.jsx)("div",{children:t($.a.backgroundColor)}),Object(ue.jsx)(Ae,{tooltip:"background",other:function(){return s()}})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{children:t($.a.textcolor)}),Object(ue.jsx)(Ae,{tooltip:"textcolor",other:function(){return s()}})]})]})})]})})},Fe=function(e,t){var n=J.a.marks(e);return!!n&&!0===n[t]},Ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type",i=e.selection;if(!i)return!1;var l=Array.from(J.a.nodes(e,{at:J.a.unhangRange(e,i),match:function(e){return!J.a.isEditor(e)&&J.b.isElement(e)&&e[n]===t}})),a=Object(r.a)(l,1),o=a[0];return!!o},Le=function(e){var t=e.tooltip,n=void 0===t?"":t,r=e.format,l=e.children,a=e.onClick,c=Object(i.a)(e,Oe),s=Object(G.f)(),b=Fe(s,r),j=Object(Q.a)().t;return Object(ue.jsx)(u.a,{title:j($.a[n])||"",children:Object(ue.jsx)(d.a,Object(o.a)(Object(o.a)({},c),{},{onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),function(e,t){Fe(e,t)?J.a.removeMark(e,t):J.a.addMark(e,t,!0)}(s,r),null===a||void 0===a||a(e)})),color:b?"primary":"default",children:l}))})},Me=function(e){var t=e.tooltip,n=void 0===t?"":t,r=e.format,l=e.children,a=e.onClick,c=Object(i.a)(e,ve),s=Object(G.f)(),b=Ie(s,r),j=Object(Q.a)().t;return Object(ue.jsx)(u.a,{title:j($.a[n])||"",children:Object(ue.jsx)(d.a,Object(o.a)(Object(o.a)({},c),{},{onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),function(e,t){var n=Ie(e,t,we.includes(t)?"align":"type"),i=pe.includes(t);J.h.unwrapNodes(e,{match:function(e){return!J.a.isEditor(e)&&J.b.isElement(e)&&pe.includes(e.type)},split:!0});var r={type:n?"paragraph":i?"list-item":t};if(J.h.setNodes(e,r),!n&&i){var l={type:t,children:[],align:"left"};J.h.wrapNodes(e,l)}}(s,r),null===a||void 0===a||a(e)})),color:b?"primary":"default",children:l}))})},qe=Object(c.a)((function(e){return{rootPopup:{width:280,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),justifyContent:"stretch"},rootTab:{padding:e.spacing(2),display:"flex",flexDirection:"column",gap:12},hidden:{display:"none"},attachTab:{display:"flex",flexDirection:"row",gap:8}}})),Pe=function(e){var t=e.children,n=Object(G.g)(),i=Object(ie.c)(),l=Object(Q.a)().t,a=qe(),o=Object(H.useState)(null),c=Object(r.a)(o,2),s=c[0],f=c[1],g=Object(H.useState)(""),O=Object(r.a)(g,2),v=O[0],m=O[1],x=Object(H.useState)(!1),h=Object(r.a)(x,2),p=h[0],k=h[1],N=Object(te.b)((function(e){return e.main.uploadFile})),w=Boolean(s);Object(H.useEffect)((function(){return function(){i(Object(ne.F)())}}),[i]),Object(H.useEffect)((function(){if(p){if(N.loading)return;if(N.error){var e=l(N.code||"error_unexpected_error",{module:l($.a.user).toLocaleLowerCase()});i(Object(re.e)({message:e,show:!0,severity:"error"})),k(!1)}else N.url&&N.url.length>0&&(Ve(n,N.url),i(Object(ne.F)()),k(!1))}}),[p,N,n,l,i]);var S=Object(H.useCallback)((function(){return m("")}),[]),D=Object(H.useCallback)((function(){v.length>0&&Be(v)&&(Ve(n,v),S())}),[v,n,S]);return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{title:l($.a.image)||"",children:Object(ue.jsx)(d.a,{"aria-controls":"insert-image-button-rich-text-popup","aria-haspopup":"true","aria-expanded":w?"true":void 0,onMouseDown:function(e){e.preventDefault(),function(e){f(e.currentTarget)}(e)},children:t})}),Object(ue.jsx)(y.a,{id:"insert-image-button-rich-text-popup",anchorEl:s,open:w,onClose:function(){f(null)},variant:"menu",MenuListProps:{"aria-labelledby":"basic-button"},children:Object(ue.jsx)("div",{className:a.rootPopup,children:Object(ue.jsxs)("div",{role:"tabpanel",className:Object(ee.default)(a.rootTab),children:[Object(ue.jsx)(b.a,{placeholder:l($.a.enterTheUrl),value:v,onChange:function(e){return m(e.target.value)},autoFocus:!0,disabled:p||N.loading,InputProps:{endAdornment:Object(ue.jsx)(j.a,{position:"end",children:Object(ue.jsx)(d.a,{size:"small",onClick:S,children:Object(ue.jsx)(B.a,{})})})}}),Object(ue.jsx)(C.a,{type:"button",color:"primary",variant:"contained",size:"small",disabled:p||N.loading,onClick:D,children:Object(ue.jsx)(Y.a,{i18nKey:$.a.accept})})]})})})]})},Be=function(e){return"string"===typeof e&&e.length>0&&e.includes("http")},Ve=function(e,t){var n={type:"image-src",url:t,children:[{text:""}],align:"left"};if(J.h.insertNodes(e,n),!J.a.next(e)){var i={type:"paragraph",url:void 0,children:[{text:""}],align:"left"};J.h.insertNodes(e,i)}},Ue=Object(c.a)((function(e){return{root:{position:"relative"},img:{display:"block",maxWidth:"100%",maxHeight:"20em"},btn:{position:"absolute",left:0,top:0}}})),He=function(e){var t=e.children,n=e.element,i=e.attributes,r=Ue(),l=Object(G.g)(),a=G.b.findPath(l,n),c=Object(G.e)(),s=Object(G.d)();return Object(ue.jsxs)("div",Object(o.a)(Object(o.a)({},i),{},{children:[t,Object(ue.jsxs)("div",{contentEditable:!1,className:r.root,children:[Object(ue.jsx)("img",{src:n.url||"",alt:"Imagen",className:r.img,style:{boxShadow:c&&s?"0 0 0 3px #B4D5FF":"none"}}),Object(ue.jsx)(d.a,{onClick:function(){return J.h.setNodes(l,{type:"paragraph",url:void 0},{at:a})},color:"default",className:r.btn,children:Object(ue.jsx)(V.a,{})})]})]}))},Ke=function(e){var t=e.children,n=e.element,i=Ue();return Object(ue.jsxs)("div",{children:[t,Object(ue.jsx)("div",{contentEditable:!1,className:i.root,children:Object(ue.jsx)("img",{src:n.url||"",alt:"Imagen",className:i.img})})]})},Je=function(e){var t=e.insertData,n=e.isVoid;return e.isVoid=function(e){return"image-src"===e.type||n(e)},e.insertData=function(n){var i=n.getData("text/plain"),l=n.files;if(l&&l.length>0)for(var a=function(){var t=c[o],n=new FileReader,i=t.type.split("/");"image"===Object(r.a)(i,1)[0]&&(n.addEventListener("load",(function(){var t=n.result;Ve(e,t)})),n.readAsDataURL(t))},o=0,c=Array.from(l);o<c.length;o++)a();else Be(i)&&/(apng|avif|gif|jpg|jpeg|jfif|png|svg)$/i.test(i)?Ve(e,i):t(n)},e}}}]);
//# sourceMappingURL=75.eb3af492.chunk.js.map