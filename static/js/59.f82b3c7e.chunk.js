(this["webpackJsonpclient-laraigo"]=this["webpackJsonpclient-laraigo"]||[]).push([[59],{1415:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(20),r=a(0),l=a.n(r),c=a(25),o=a(40),s=a(94),u=a(48),d=a(7),b=a(83),v=a(779),f=a(169),m=a(780),j=a.n(m),p=a(122),g=a(8),O=a(205),h=a(44),y=a(778),x=a.n(y),D=a(101),w=a(51),S=a(450),N=a(776),C=a(814),q=a(830),_=a(102),k=a(2),E=Object(f.a)((function(e){return{containerDetail:{marginTop:e.spacing(2),padding:e.spacing(2),background:"#fff"},button:{padding:12,fontWeight:500,fontSize:"14px",textTransform:"initial"},mb2:{marginBottom:e.spacing(4)},itemDate:{minHeight:40,height:40,border:"1px solid #bfbfc0",borderRadius:4,width:"100%",color:"rgb(143, 146, 161)"},fieldsfilter:{width:220},transparent:{color:"transparent"},commentary:{fontStyle:"italic"},section:{fontWeight:"bold"}}})),I=function(e){var t,a,n,v,f,m,y,x,D,w,S,N,C,q,I,T,P,F,z,L,V,R,M,A,H,U,Y,B,G,W,J,K,Q,X,Z,$,ee,te,ae,ne,ie,re,le=e.dataPlan,ce=Object(o.c)(),oe=Object(p.a)().t,se=E(),ue=Object(c.b)((function(e){return e.main.execute})),de=Object(c.b)((function(e){return e.main})),be=Object(c.b)((function(e){return e.main.multiDataAux})),ve=Object(r.useState)(!1),fe=Object(i.a)(ve,2),me=fe[0],je=fe[1],pe=Object(r.useState)(!1),ge=Object(i.a)(pe,2),Oe=ge[0],he=ge[1],ye=Object(r.useState)({loading:!1,data:[]}),xe=Object(i.a)(ye,2),De=xe[0],we=xe[1],Se=Object(r.useState)({loading:!1,data:[]}),Ne=Object(i.a)(Se,2),Ce=Ne[0],qe=Ne[1],_e=Object(r.useState)({loading:!1,data:[]}),ke=Object(i.a)(_e,2),Ee=ke[0],Ie=ke[1],Te=Object(r.useState)({loading:!1,data:[]}),Pe=Object(i.a)(Te,2),Fe=Pe[0],ze=Pe[1],Le=Object(r.useState)({loading:!1,data:[]}),Ve=Object(i.a)(Le,2),Re=Ve[0],Me=Ve[1],Ae=Object(r.useState)(!1),He=Object(i.a)(Ae,2),Ue=He[0],Ye=He[1],Be=function(){je(!1),ce(Object(b.g)(Object(d.Kb)()))},Ge=Object(r.useState)({ruc:"",businessname:"",tradename:"",fiscaladdress:"",ubigeo:"",country:"",emittertype:"",currency:"",invoiceserie:"",invoicecorrelative:0,annexcode:"",igv:0,printingformat:"",xmlversion:"",ublversion:"",returnpdf:!1,returnxmlsunat:!1,returnxml:!1,invoiceprovider:"",sunaturl:"",token:"",sunatusername:"",paymentprovider:"",publickey:"",privatekey:"",ticketserie:"",ticketcorrelative:0,invoicecreditserie:"",invoicecreditcorrelative:0,ticketcreditserie:"",ticketcreditcorrelative:0,detraction:0,detractioncode:"",detractionaccount:"",detractionminimum:0,operationcodeperu:"",operationcodeother:"",culqiurl:"",culqiurlcardcreate:"",culqiurlclient:"",culqiurltoken:"",culqiurlcharge:"",culqiurlcardget:"",culqiurlcarddelete:""}),We=Object(i.a)(Ge,2),Je=We[0],Ke=We[1];Object(r.useEffect)((function(){Be(),we({loading:!0,data:[]}),qe({loading:!0,data:[]}),Ie({loading:!0,data:[]}),ze({loading:!0,data:[]}),Me({loading:!0,data:[]}),ce(Object(b.q)([Object(d.Le)("BILLINGCURRENCY","_CURRENCY",1,0),Object(d.Le)("BILLINGDOCUMENTTYPE","_DOCUMENT",1,0),Object(d.Le)("BILLINGINVOICEPROVIDER","_INVOICEPROVIDER",1,0),Object(d.Le)("BILLINGPAYMENTPROVIDER","_PAYMENTPROVIDER",1,0),Object(d.Le)("BILLINGPRINTING","_PRINTING",1,0)]))}),[]),Object(r.useEffect)((function(){de.mainData.loading?je(!1):(ce(Object(h.d)(!1)),de.mainData.data&&de.mainData.data[0]?($e("ruc",de.mainData.data[0].ruc),$e("businessname",de.mainData.data[0].businessname),$e("tradename",de.mainData.data[0].tradename),$e("fiscaladdress",de.mainData.data[0].fiscaladdress),$e("ubigeo",de.mainData.data[0].ubigeo),$e("country",de.mainData.data[0].country),$e("emittertype",de.mainData.data[0].emittertype),$e("currency",de.mainData.data[0].currency),$e("invoiceserie",de.mainData.data[0].invoiceserie),$e("invoicecorrelative",de.mainData.data[0].invoicecorrelative),$e("annexcode",de.mainData.data[0].annexcode),$e("igv",de.mainData.data[0].igv),$e("printingformat",de.mainData.data[0].printingformat),$e("xmlversion",de.mainData.data[0].xmlversion),$e("ublversion",de.mainData.data[0].ublversion),$e("returnpdf",de.mainData.data[0].returnpdf),$e("returnxmlsunat",de.mainData.data[0].returnxmlsunat),$e("returnxml",de.mainData.data[0].returnxml),$e("invoiceprovider",de.mainData.data[0].invoiceprovider),$e("sunaturl",de.mainData.data[0].sunaturl),$e("token",de.mainData.data[0].token),$e("sunatusername",de.mainData.data[0].sunatusername),$e("paymentprovider",de.mainData.data[0].paymentprovider),$e("publickey",de.mainData.data[0].publickey),$e("privatekey",de.mainData.data[0].privatekey),$e("ticketserie",de.mainData.data[0].ticketserie),$e("ticketcorrelative",de.mainData.data[0].ticketcorrelative),$e("invoicecreditserie",de.mainData.data[0].invoicecreditserie),$e("invoicecreditcorrelative",de.mainData.data[0].invoicecreditcorrelative),$e("ticketcreditserie",de.mainData.data[0].ticketcreditserie),$e("ticketcreditcorrelative",de.mainData.data[0].ticketcreditcorrelative),$e("detraction",de.mainData.data[0].detraction),$e("detractioncode",de.mainData.data[0].detractioncode),$e("detractionaccount",de.mainData.data[0].detractionaccount),$e("detractionminimum",de.mainData.data[0].detractionminimum),$e("operationcodeperu",de.mainData.data[0].operationcodeperu),$e("operationcodeother",de.mainData.data[0].operationcodeother),$e("culqiurl",de.mainData.data[0].culqiurl),$e("culqiurlcardcreate",de.mainData.data[0].culqiurlcardcreate),$e("culqiurlclient",de.mainData.data[0].culqiurlclient),$e("culqiurltoken",de.mainData.data[0].culqiurltoken),$e("culqiurlcharge",de.mainData.data[0].culqiurlcharge),$e("culqiurlcardget",de.mainData.data[0].culqiurlcardget),$e("culqiurlcarddelete",de.mainData.data[0].culqiurlcarddelete),Ke({ruc:de.mainData.data[0].ruc,businessname:de.mainData.data[0].businessname,tradename:de.mainData.data[0].tradename,fiscaladdress:de.mainData.data[0].fiscaladdress,ubigeo:de.mainData.data[0].ubigeo,country:de.mainData.data[0].country,emittertype:de.mainData.data[0].emittertype,currency:de.mainData.data[0].currency,invoiceserie:de.mainData.data[0].invoiceserie,invoicecorrelative:de.mainData.data[0].invoicecorrelative,annexcode:de.mainData.data[0].annexcode,igv:de.mainData.data[0].igv,printingformat:de.mainData.data[0].printingformat,xmlversion:de.mainData.data[0].xmlversion,ublversion:de.mainData.data[0].ublversion,returnpdf:de.mainData.data[0].returnpdf,returnxmlsunat:de.mainData.data[0].returnxmlsunat,returnxml:de.mainData.data[0].returnxml,invoiceprovider:de.mainData.data[0].invoiceprovider,sunaturl:de.mainData.data[0].sunaturl,token:de.mainData.data[0].token,sunatusername:de.mainData.data[0].sunatusername,paymentprovider:de.mainData.data[0].paymentprovider,publickey:de.mainData.data[0].publickey,privatekey:de.mainData.data[0].privatekey,ticketserie:de.mainData.data[0].ticketserie,ticketcorrelative:de.mainData.data[0].ticketcorrelative,invoicecreditserie:de.mainData.data[0].invoicecreditserie,invoicecreditcorrelative:de.mainData.data[0].invoicecreditcorrelative,ticketcreditserie:de.mainData.data[0].ticketcreditserie,ticketcreditcorrelative:de.mainData.data[0].ticketcreditcorrelative,detraction:de.mainData.data[0].detraction,detractioncode:de.mainData.data[0].detractioncode,detractionaccount:de.mainData.data[0].detractionaccount,detractionminimum:de.mainData.data[0].detractionminimum,operationcodeperu:de.mainData.data[0].operationcodeperu,operationcodeother:de.mainData.data[0].operationcodeother,culqiurl:de.mainData.data[0].culqiurl,culqiurlcardcreate:de.mainData.data[0].culqiurlcardcreate,culqiurlclient:de.mainData.data[0].culqiurlclient,culqiurltoken:de.mainData.data[0].culqiurltoken,culqiurlcharge:de.mainData.data[0].culqiurlcharge,culqiurlcardget:de.mainData.data[0].culqiurlcardget,culqiurlcarddelete:de.mainData.data[0].culqiurlcarddelete}),je(!0)):je(!1))}),[de]),Object(r.useEffect)((function(){var e=be.data.findIndex((function(e){return"UFN_DOMAIN_LST_VALORES_CURRENCY"===e.key}));e>-1&&we({loading:!1,data:be.data[e]&&be.data[e].success?be.data[e].data:[]});var t=be.data.findIndex((function(e){return"UFN_DOMAIN_LST_VALORES_DOCUMENT"===e.key}));t>-1&&qe({loading:!1,data:be.data[t]&&be.data[t].success?be.data[t].data:[]});var a=be.data.findIndex((function(e){return"UFN_DOMAIN_LST_VALORES_INVOICEPROVIDER"===e.key}));a>-1&&Ie({loading:!1,data:be.data[a]&&be.data[a].success?be.data[a].data:[]});var n=be.data.findIndex((function(e){return"UFN_DOMAIN_LST_VALORES_PAYMENTPROVIDER"===e.key}));n>-1&&ze({loading:!1,data:be.data[n]&&be.data[n].success?be.data[n].data:[]});var i=be.data.findIndex((function(e){return"UFN_DOMAIN_LST_VALORES_PRINTING"===e.key}));i>-1&&Me({loading:!1,data:be.data[i]&&be.data[i].success?be.data[i].data:[]})}),[be]),Object(r.useEffect)((function(){Ue&&(ue.loading||ue.error?ue.error&&(ce(Object(h.e)({show:!0,severity:"error",message:oe(ue.code||"error_unexpected_db_error")})),Ye(!1),ce(Object(h.d)(!1))):(ce(Object(h.e)({show:!0,severity:"success",message:oe(g.a.successful_edit)})),Be(),ce(Object(h.d)(!1))))}),[ue,Ue]);var Qe=Object(O.d)({defaultValues:{ruc:Je.ruc,businessname:Je.businessname,tradename:Je.tradename,fiscaladdress:Je.fiscaladdress,ubigeo:Je.ubigeo,country:Je.country,emittertype:Je.emittertype,currency:Je.currency,invoiceserie:Je.invoiceserie,invoicecorrelative:Je.invoicecorrelative,annexcode:Je.annexcode,igv:Je.igv,printingformat:Je.printingformat,xmlversion:Je.xmlversion,ublversion:Je.ublversion,returnpdf:Je.returnpdf,returnxmlsunat:Je.returnxmlsunat,returnxml:Je.returnxml,invoiceprovider:Je.invoiceprovider,sunaturl:Je.sunaturl,token:Je.token,sunatusername:Je.sunatusername,paymentprovider:Je.paymentprovider,publickey:Je.publickey,privatekey:Je.privatekey,ticketserie:Je.ticketserie,ticketcorrelative:Je.ticketcorrelative,invoicecreditserie:Je.invoicecreditserie,invoicecreditcorrelative:Je.invoicecreditcorrelative,ticketcreditserie:Je.ticketcreditserie,ticketcreditcorrelative:Je.ticketcreditcorrelative,detraction:Je.detraction,detractioncode:Je.detractioncode,detractionaccount:Je.detractionaccount,detractionminimum:Je.detractionminimum,operationcodeperu:Je.operationcodeperu,operationcodeother:Je.operationcodeother,culqiurl:Je.culqiurl,culqiurlcardcreate:Je.culqiurlcardcreate,culqiurlclient:Je.culqiurlclient,culqiurltoken:Je.culqiurltoken,culqiurlcharge:Je.culqiurlcharge,culqiurlcardget:Je.culqiurlcardget,culqiurlcarddelete:Je.culqiurlcarddelete}}),Xe=Qe.register,Ze=Qe.handleSubmit,$e=Qe.setValue,et=Qe.getValues,tt=Qe.formState.errors;l.a.useEffect((function(){Xe("ruc",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("businessname",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("tradename",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("fiscaladdress",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("ubigeo",{validate:function(e){return"PE"!==et("country")||(e&&e.length>0||""+oe(g.a.field_required))}}),Xe("country",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("emittertype",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("currency",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("invoiceserie",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("invoicecorrelative"),Xe("annexcode",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("igv"),Xe("returnpdf"),Xe("returnxmlsunat"),Xe("returnxml"),Xe("printingformat",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("xmlversion",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("ublversion",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("invoiceprovider",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("sunaturl",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("token",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("sunatusername"),Xe("paymentprovider",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("publickey",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("privatekey",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("ticketserie",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("ticketcorrelative"),Xe("invoicecreditserie",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("invoicecreditcorrelative"),Xe("ticketcreditserie",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("ticketcreditcorrelative"),Xe("detraction"),Xe("detractioncode",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("detractionaccount",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("detractionminimum"),Xe("operationcodeperu",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("operationcodeother",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("culqiurl",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("culqiurlcardcreate",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("culqiurlclient",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("culqiurltoken",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("culqiurlcharge",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("culqiurlcardget",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}}),Xe("culqiurlcarddelete",{validate:function(e){return e&&e.length>0||""+oe(g.a.field_required)}})}),[Xe]);var at=Ze((function(e){ce(Object(h.a)({visible:!0,question:oe(g.a.confirmation_save),callback:function(){ce(Object(b.c)(Object(d.nh)(e))),ce(Object(h.d)(!0)),Ye(!0)}}))}));return Object(k.jsx)("div",{style:{width:"100%"},children:Object(k.jsxs)("form",{onSubmit:at,children:[Object(k.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:Object(k.jsx)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:Object(k.jsx)(s.a,{className:se.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(k.jsx)(j.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:oe(g.a.save)})})}),Object(k.jsxs)("div",{className:se.containerDetail,children:[Object(k.jsx)(_.a,{style:{fontSize:20,paddingBottom:"10px"},color:"textPrimary",children:oe(g.a.billingsetupgeneralinformation)}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.billingsetupruc),className:"col-6",valueDefault:et("ruc"),onChange:function(e){return $e("ruc",e)},error:null===tt||void 0===tt||null===(t=tt.ruc)||void 0===t?void 0:t.message}),Object(k.jsx)(u.l,{label:oe(g.a.billingcompanyname),className:"col-6",valueDefault:et("businessname"),onChange:function(e){return $e("businessname",e)},error:null===tt||void 0===tt||null===(a=tt.businessname)||void 0===a?void 0:a.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.billingcommercialname),className:"col-6",valueDefault:et("tradename"),onChange:function(e){return $e("tradename",e)},error:null===tt||void 0===tt||null===(n=tt.tradename)||void 0===n?void 0:n.message}),Object(k.jsx)(u.l,{label:oe(g.a.billingfiscaladdress),className:"col-6",valueDefault:et("fiscaladdress"),onChange:function(e){return $e("fiscaladdress",e)},error:null===tt||void 0===tt||null===(v=tt.fiscaladdress)||void 0===v?void 0:v.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.billingubigeocode),className:"col-6",valueDefault:et("ubigeo"),onChange:function(e){return $e("ubigeo",e)},error:null===tt||void 0===tt||null===(f=tt.ubigeo)||void 0===f?void 0:f.message,disabled:Oe}),me?Object(k.jsx)(u.u,{label:oe(g.a.billingcountry),className:"col-6",valueDefault:et("country"),onChange:function(e){$e("country",null===e||void 0===e?void 0:e.code),"PE"!==(null===e||void 0===e?void 0:e.code)?($e("ubigeo",""),he(!0)):he(!1)},error:null===tt||void 0===tt||null===(m=tt.country)||void 0===m?void 0:m.message,data:le,optionDesc:"description",optionValue:"code",orderbylabel:!0}):Object(k.jsx)(u.l,{label:oe(g.a.billingcountry),className:"col-6",valueDefault:"",error:null===tt||void 0===tt||null===(y=tt.country)||void 0===y?void 0:y.message,disabled:!0})]})]}),Object(k.jsxs)("div",{className:se.containerDetail,children:[Object(k.jsx)(_.a,{style:{fontSize:20,paddingBottom:"10px"},color:"textPrimary",children:oe(g.a.billingsetupbillinginformation)}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.u,{label:oe(g.a.billingemittertype),loading:Ce.loading,className:"col-6",valueDefault:et("emittertype"),onChange:function(e){return $e("emittertype",null===e||void 0===e?void 0:e.domainvalue)},error:null===tt||void 0===tt||null===(x=tt.emittertype)||void 0===x?void 0:x.message,data:Ce.data,optionDesc:"domaindesc",optionValue:"domainvalue",uset:!0,prefixTranslation:"billingfield_",orderbylabel:!0}),Object(k.jsx)(u.u,{label:oe(g.a.billingcurrency),loading:De.loading,className:"col-6",valueDefault:et("currency"),onChange:function(e){return $e("currency",null===e||void 0===e?void 0:e.domainvalue)},error:null===tt||void 0===tt||null===(D=tt.currency)||void 0===D?void 0:D.message,data:De.data,optionDesc:"domaindesc",optionValue:"domainvalue",uset:!0,prefixTranslation:"billingfield_",orderbylabel:!0})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.billingserial),className:"col-6",valueDefault:et("invoiceserie"),onChange:function(e){return $e("invoiceserie",e)},error:null===tt||void 0===tt||null===(w=tt.invoiceserie)||void 0===w?void 0:w.message}),Object(k.jsx)(u.l,{label:oe(g.a.billingcorrelative),className:"col-6",valueDefault:et("invoicecorrelative"),onChange:function(e){return $e("invoicecorrelative",e)},error:null===tt||void 0===tt||null===(S=tt.invoicecorrelative)||void 0===S?void 0:S.message,type:"number",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.ticketserial),className:"col-6",valueDefault:et("ticketserie"),onChange:function(e){return $e("ticketserie",e)},error:null===tt||void 0===tt||null===(N=tt.ticketserie)||void 0===N?void 0:N.message}),Object(k.jsx)(u.l,{label:oe(g.a.ticketcorrelative),className:"col-6",valueDefault:et("ticketcorrelative"),onChange:function(e){return $e("ticketcorrelative",e)},error:null===tt||void 0===tt||null===(C=tt.ticketcorrelative)||void 0===C?void 0:C.message,type:"number",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.invoicecreditserial),className:"col-6",valueDefault:et("invoicecreditserie"),onChange:function(e){return $e("invoicecreditserie",e)},error:null===tt||void 0===tt||null===(q=tt.invoicecreditserie)||void 0===q?void 0:q.message}),Object(k.jsx)(u.l,{label:oe(g.a.invoicecreditcorrelative),className:"col-6",valueDefault:et("invoicecreditcorrelative"),onChange:function(e){return $e("invoicecreditcorrelative",e)},error:null===tt||void 0===tt||null===(I=tt.invoicecreditcorrelative)||void 0===I?void 0:I.message,type:"number",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.ticketcreditserial),className:"col-6",valueDefault:et("ticketcreditserie"),onChange:function(e){return $e("ticketcreditserie",e)},error:null===tt||void 0===tt||null===(T=tt.ticketcreditserie)||void 0===T?void 0:T.message}),Object(k.jsx)(u.l,{label:oe(g.a.ticketcreditcorrelative),className:"col-6",valueDefault:et("ticketcreditcorrelative"),onChange:function(e){return $e("ticketcreditcorrelative",e)},error:null===tt||void 0===tt||null===(P=tt.ticketcreditcorrelative)||void 0===P?void 0:P.message,type:"number",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.billingannexcode),className:"col-6",valueDefault:et("annexcode"),onChange:function(e){return $e("annexcode",e)},error:null===tt||void 0===tt||null===(F=tt.annexcode)||void 0===F?void 0:F.message}),Object(k.jsx)(u.l,{label:oe(g.a.billingtax),className:"col-6",valueDefault:et("igv"),onChange:function(e){return $e("igv",e)},error:null===tt||void 0===tt||null===(z=tt.igv)||void 0===z?void 0:z.message,type:"number",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.detractioncode),className:"col-6",valueDefault:et("detractioncode"),onChange:function(e){return $e("detractioncode",e)},error:null===tt||void 0===tt||null===(L=tt.detractioncode)||void 0===L?void 0:L.message}),Object(k.jsx)(u.l,{label:oe(g.a.detraction),className:"col-6",valueDefault:et("detraction"),onChange:function(e){return $e("detraction",e)},error:null===tt||void 0===tt||null===(V=tt.detraction)||void 0===V?void 0:V.message,type:"number",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.detractionaccount),className:"col-6",valueDefault:et("detractionaccount"),onChange:function(e){return $e("detractionaccount",e)},error:null===tt||void 0===tt||null===(R=tt.detractionaccount)||void 0===R?void 0:R.message}),Object(k.jsx)(u.l,{label:oe(g.a.detractionminimum),className:"col-6",valueDefault:et("detractionminimum"),onChange:function(e){return $e("detractionminimum",e)},error:null===tt||void 0===tt||null===(M=tt.detractionminimum)||void 0===M?void 0:M.message,type:"number",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.operationcodeperu),className:"col-6",valueDefault:et("operationcodeperu"),onChange:function(e){return $e("operationcodeperu",e)},error:null===tt||void 0===tt||null===(A=tt.operationcodeperu)||void 0===A?void 0:A.message}),Object(k.jsx)(u.l,{label:oe(g.a.operationcodeother),className:"col-6",valueDefault:et("operationcodeother"),onChange:function(e){return $e("operationcodeother",e)},error:null===tt||void 0===tt||null===(H=tt.operationcodeother)||void 0===H?void 0:H.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.u,{label:oe(g.a.billingprintingformat),loading:Re.loading,className:"col-6",valueDefault:et("printingformat"),onChange:function(e){return $e("printingformat",null===e||void 0===e?void 0:e.domainvalue)},error:null===tt||void 0===tt||null===(U=tt.printingformat)||void 0===U?void 0:U.message,data:Re.data,optionDesc:"domaindesc",optionValue:"domainvalue",uset:!0,prefixTranslation:"billingfield_",orderbylabel:!0}),Object(k.jsx)(u.l,{label:oe(g.a.billingxmlversion),className:"col-6",valueDefault:et("xmlversion"),onChange:function(e){return $e("xmlversion",e)},error:null===tt||void 0===tt||null===(Y=tt.xmlversion)||void 0===Y?void 0:Y.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.billingublversion),className:"col-6",valueDefault:et("ublversion"),onChange:function(e){return $e("ublversion",e)},error:null===tt||void 0===tt||null===(B=tt.ublversion)||void 0===B?void 0:B.message}),Object(k.jsx)(u.N,{label:oe(g.a.billingreturnpdf),className:"col-6",valueDefault:et("returnpdf"),onChange:function(e){return $e("returnpdf",e)}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.N,{label:oe(g.a.billingreturncsv),className:"col-6",valueDefault:et("returnxmlsunat"),onChange:function(e){return $e("returnxmlsunat",e)}}),Object(k.jsx)(u.N,{label:oe(g.a.billingreturnxml),className:"col-6",valueDefault:et("returnxml"),onChange:function(e){return $e("returnxml",e)}})]})]}),Object(k.jsxs)("div",{className:se.containerDetail,children:[Object(k.jsx)(_.a,{style:{fontSize:20,paddingBottom:"10px"},color:"textPrimary",children:oe(g.a.billingsetupsunatinformation)}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.u,{label:oe(g.a.billinginvoiceprovider),loading:Ee.loading,className:"col-6",valueDefault:et("invoiceprovider"),onChange:function(e){return $e("invoiceprovider",null===e||void 0===e?void 0:e.domainvalue)},error:null===tt||void 0===tt||null===(G=tt.invoiceprovider)||void 0===G?void 0:G.message,data:Ee.data,optionDesc:"domaindesc",optionValue:"domainvalue",uset:!0,prefixTranslation:"billingfield_",orderbylabel:!0}),Object(k.jsx)(u.l,{label:oe(g.a.billingapiendpoint),className:"col-6",valueDefault:et("sunaturl"),onChange:function(e){return $e("sunaturl",e)},error:null===tt||void 0===tt||null===(W=tt.sunaturl)||void 0===W?void 0:W.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.billingtoken),className:"col-6",valueDefault:et("token"),onChange:function(e){return $e("token",e)},error:null===tt||void 0===tt||null===(J=tt.token)||void 0===J?void 0:J.message}),Object(k.jsx)(u.l,{label:oe(g.a.billingusername),className:"col-6",valueDefault:et("sunatusername"),onChange:function(e){return $e("sunatusername",e)},error:null===tt||void 0===tt||null===(K=tt.sunatusername)||void 0===K?void 0:K.message})]})]}),Object(k.jsxs)("div",{className:se.containerDetail,children:[Object(k.jsx)(_.a,{style:{fontSize:20,paddingBottom:"10px"},color:"textPrimary",children:oe(g.a.billingsetuppaymentinformation)}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.u,{label:oe(g.a.billingpaymentprovider),loading:Fe.loading,className:"col-6",valueDefault:et("paymentprovider"),onChange:function(e){return $e("paymentprovider",null===e||void 0===e?void 0:e.domainvalue)},error:null===tt||void 0===tt||null===(Q=tt.paymentprovider)||void 0===Q?void 0:Q.message,data:Fe.data,optionDesc:"domaindesc",optionValue:"domainvalue",uset:!0,prefixTranslation:"billingfield_",orderbylabel:!0}),Object(k.jsx)(u.l,{label:oe(g.a.billingpaymentendpoint),className:"col-6",valueDefault:et("culqiurl"),onChange:function(e){return $e("culqiurl",e)},error:null===tt||void 0===tt||null===(X=tt.culqiurl)||void 0===X?void 0:X.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.billingpublickey),className:"col-6",valueDefault:et("publickey"),onChange:function(e){return $e("publickey",e)},error:null===tt||void 0===tt||null===(Z=tt.publickey)||void 0===Z?void 0:Z.message}),Object(k.jsx)(u.l,{label:oe(g.a.billingprivatekey),className:"col-6",valueDefault:et("privatekey"),onChange:function(e){return $e("privatekey",e)},error:null===tt||void 0===tt||null===($=tt.privatekey)||void 0===$?void 0:$.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.culqiurlcardcreate),className:"col-6",valueDefault:et("culqiurlcardcreate"),onChange:function(e){return $e("culqiurlcardcreate",e)},error:null===tt||void 0===tt||null===(ee=tt.culqiurlcardcreate)||void 0===ee?void 0:ee.message}),Object(k.jsx)(u.l,{label:oe(g.a.culqiurlclient),className:"col-6",valueDefault:et("culqiurlclient"),onChange:function(e){return $e("culqiurlclient",e)},error:null===tt||void 0===tt||null===(te=tt.culqiurlclient)||void 0===te?void 0:te.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.culqiurltoken),className:"col-6",valueDefault:et("culqiurltoken"),onChange:function(e){return $e("culqiurltoken",e)},error:null===tt||void 0===tt||null===(ae=tt.culqiurltoken)||void 0===ae?void 0:ae.message}),Object(k.jsx)(u.l,{label:oe(g.a.culqiurlcharge),className:"col-6",valueDefault:et("culqiurlcharge"),onChange:function(e){return $e("culqiurlcharge",e)},error:null===tt||void 0===tt||null===(ne=tt.culqiurlcharge)||void 0===ne?void 0:ne.message})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:oe(g.a.culqiurlcardget),className:"col-6",valueDefault:et("culqiurlcardget"),onChange:function(e){return $e("culqiurlcardget",e)},error:null===tt||void 0===tt||null===(ie=tt.culqiurlcardget)||void 0===ie?void 0:ie.message}),Object(k.jsx)(u.l,{label:oe(g.a.culqiurlcarddelete),className:"col-6",valueDefault:et("culqiurlcarddelete"),onChange:function(e){return $e("culqiurlcarddelete",e)},error:null===tt||void 0===tt||null===(re=tt.culqiurlcarddelete)||void 0===re?void 0:re.message})]})]})]})})},T="IDCONTRACTEDPLAN",P=function(e){var t=e.dataPlan,a=Object(o.c)(),f=Object(p.a)().t,m=E(),j=Object(c.b)((function(e){return e.main.execute})),O=Object(c.b)((function(e){return e.main})),y=Object(c.b)((function(e){return e.main.memoryTable})),x=Object(r.useState)({plan:"",year:String((new Date).getFullYear()),month:((new Date).getMonth()+1).toString().padStart(2,"0")}),D=Object(i.a)(x,2),w=D[0],S=D[1],N=Object(r.useState)(!1),C=Object(i.a)(N,2),_=C[0],I=C[1],P=Object(r.useState)(!1),z=Object(i.a)(P,2),L=z[0],V=z[1],R=Object(r.useState)({row:null,edit:!1}),M=Object(i.a)(R,2),A=M[0],H=M[1],U=Object(r.useState)("view-1"),Y=Object(i.a)(U,2),B=Y[0],G=Y[1],W=Object(r.useState)(!1),J=Object(i.a)(W,2),K=J[0],Q=J[1];function X(){a(Object(h.d)(!0)),a(Object(b.g)(Object(d.Ob)(w)))}Object(r.useEffect)((function(){I(""===w.year)}),[w]),Object(r.useEffect)((function(){return X(),a(Object(b.G)({id:T})),function(){a(Object(b.a)())}}),[]),Object(r.useEffect)((function(){O.mainData.loading||a(Object(h.d)(!1))}),[O]);var Z=l.a.useMemo((function(){return[{accessor:"billingconfigurationid",isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(k.jsx)(u.M,{deleteFunction:function(){return te(t)},editFunction:function(){return ee(t)}})}},{Header:f(g.a.year),accessor:"year"},{Header:f(g.a.month),accessor:"month"},{Header:"Plan",accessor:"plan"},{Header:f(g.a.costbasedonthecontractedplan),accessor:"basicfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.basicfee;return Object(d.jb)(t||0)}},{Header:f(g.a.numberofagentshired),accessor:"userfreequantity",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.userfreequantity;return Object(d.lb)(t||0)}},{Header:f(g.a.useradditionalfee),accessor:"useradditionalfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.useradditionalfee;return Object(d.kb)(t||0)}},{Header:f(g.a.allowuseroverride),accessor:"usercreateoverride",NoFilter:!1,type:"boolean",sortType:"basic",editable:!0,width:180,maxWidth:180,Cell:function(e){return e.cell.row.original.usercreateoverride?f(g.a.yes):"No"}},{Header:f(g.a.channelfreequantity),accessor:"channelfreequantity",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.channelfreequantity;return Object(d.lb)(t||0)}},{Header:f(g.a.contractedplanchannelotherfee),accessor:"channelotherfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.channelotherfee;return Object(d.kb)(t||0)}},{Header:f(g.a.channelwhatsappfee),accessor:"channelwhatsappfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.channelwhatsappfee;return Object(d.kb)(t||0)}},{Header:f(g.a.contractedplanfreewhatsappchannel),accessor:"freewhatsappchannel",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.freewhatsappchannel;return Object(d.lb)(t||0)}},{Header:f(g.a.contractedplanfreewhatsappconversation),accessor:"whatsappconversationfreequantity",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.whatsappconversationfreequantity;return Object(d.lb)(t||0)}},{Header:f(g.a.allowchanneloverride),accessor:"channelcreateoverride",NoFilter:!1,type:"boolean",sortType:"basic",editable:!0,width:180,maxWidth:180,Cell:function(e){return e.cell.row.original.channelcreateoverride?f(g.a.yes):"No"}},{Header:f(g.a.clientfreequantity),accessor:"clientfreequantity",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.clientfreequantity;return Object(d.lb)(t||0)}},{Header:f(g.a.clientadditionalfee),accessor:"clientadditionalfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.clientadditionalfee;return Object(d.kb)(t||0)}},{Header:f(g.a.allowhsm),accessor:"allowhsm",NoFilter:!1,type:"boolean",sortType:"basic",editable:!0,width:180,maxWidth:180,Cell:function(e){return e.cell.row.original.allowhsm?f(g.a.yes):"No"}},{Header:f(g.a.vcacomissionperhsm),accessor:"vcacomissionperhsm",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.vcacomissionperhsm;return Object(d.kb)(t||0)}},{Header:f(g.a.vcacomissionpervoicechannel),accessor:"vcacomissionpervoicechannel",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.vcacomissionpervoicechannel;return Object(d.jb)(t||0)}}]}),[]),$=function(){return a(Object(b.g)(Object(d.Ob)(w)))};Object(r.useEffect)((function(){if(K)if(j.loading||j.error){if(j.error){var e=f(j.code||"error_unexpected_error",{module:f(g.a.billingplan).toLocaleLowerCase()});a(Object(h.e)({show:!0,severity:"error",message:e})),a(Object(h.d)(!1)),Q(!1)}}else L?(V(!1),a(Object(h.e)({show:!0,severity:"success",message:f(g.a.successful_duplicate)}))):a(Object(h.e)({show:!0,severity:"success",message:f(g.a.successful_delete)})),$(),a(Object(h.d)(!1)),Q(!1)}),[j,K]);var ee=function(e){G("view-2"),H({row:e,edit:!0})},te=function(e){a(Object(h.a)({visible:!0,question:f(g.a.confirmation_delete),callback:function(){a(Object(b.c)(Object(d.g)(Object(n.a)(Object(n.a)({},e),{},{operation:"DELETE",status:"ELIMINADO",id:e.billingconfigurationid})))),a(Object(h.d)(!0)),Q(!0)}}))};return"view-1"===B?Object(k.jsx)(r.Fragment,{children:Object(k.jsx)(v.f,{onClickRow:ee,columns:Z,ButtonsElement:function(){return Object(k.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(k.jsx)(u.u,{label:f(g.a.year),style:{width:150},valueDefault:w.year,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{year:(null===e||void 0===e?void 0:e.value)||0})}))},data:d.O,optionDesc:"value",optionValue:"value"}),Object(k.jsx)(u.q,{label:f(g.a.month),style:{width:300},valueDefault:w.month,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{month:e.map((function(e){return e.val})).join()})}))},data:d.N,uset:!0,prefixTranslation:"month_",optionDesc:"val",optionValue:"val"}),Object(k.jsx)(u.u,{label:"Plan",className:m.fieldsfilter,valueDefault:w.plan,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{plan:(null===e||void 0===e?void 0:e.plan)||""})}))},data:t,optionDesc:"plan",optionValue:"plan",orderbylabel:!0}),Object(k.jsx)(s.a,{disabled:O.mainData.loading||_,variant:"contained",color:"primary",style:{width:120,backgroundColor:"#55BD84"},startIcon:Object(k.jsx)(q.a,{style:{color:"white"}}),onClick:function(){return X()},children:f(g.a.search)})]})},data:O.mainData.data,filterGeneral:!1,download:!0,loading:O.mainData.loading,register:!0,handleRegister:function(){G("view-2"),H({row:null,edit:!0})},pageSizeDefault:T===y.id?-1===y.pageSize?20:y.pageSize:20,initialPageIndex:T===y.id?-1===y.page?0:y.page:0,initialStateFilter:T===y.id?Object.entries(y.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0})}):"view-2"===B?Object(k.jsx)(F,{data:A,setViewSelected:G,fetchData:$,dataPlan:t}):null},F=function(e){var t,a,n,v,f,m,y,N,C,q,_,I,T,P=e.data,F=P.row,z=P.edit,L=e.setViewSelected,V=e.fetchData,R=e.dataPlan,M=Object(o.c)(),A=Object(p.a)().t,H=E(),U=Object(c.b)((function(e){return e.main.execute})),Y=Object(r.useState)(F?"".concat(F.year,"-").concat(String(F.month).padStart(2,"0")):"".concat(new Date((new Date).setDate(1)).getFullYear(),"-").concat(String(new Date((new Date).setDate(1)).getMonth()+1).padStart(2,"0"))),B=Object(i.a)(Y,2),G=B[0],W=B[1],J=Object(r.useState)((null===F||void 0===F?void 0:F.allowhsm)||!1),K=Object(i.a)(J,2),Q=K[0],X=K[1],Z=Object(r.useState)((null===F||void 0===F?void 0:F.usercreateoverride)||!1),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)((null===F||void 0===F?void 0:F.channelcreateoverride)||!1),ne=Object(i.a)(ae,2),ie=ne[0],re=ne[1],le=Object(r.useState)(!1),ce=Object(i.a)(le,2),oe=ce[0],se=ce[1],ue=[{id:"view-1",name:A(g.a.contractedplan)},{id:"view-2",name:A(g.a.contractedplandetail)}],de=Object(O.d)({defaultValues:{id:(null===F||void 0===F?void 0:F.billingconfigurationid)||0,year:(null===F||void 0===F?void 0:F.year)||(new Date).getFullYear(),month:(null===F||void 0===F?void 0:F.month)||(new Date).getMonth()+1,plan:(null===F||void 0===F?void 0:F.plan)||"",basicfee:(null===F||void 0===F?void 0:F.basicfee)||0,userfreequantity:(null===F||void 0===F?void 0:F.userfreequantity)||0,channelfreequantity:(null===F||void 0===F?void 0:F.channelfreequantity)||0,clientfreequantity:(null===F||void 0===F?void 0:F.clientfreequantity)||0,useradditionalfee:(null===F||void 0===F?void 0:F.useradditionalfee)||0,channelwhatsappfee:(null===F||void 0===F?void 0:F.channelwhatsappfee)||0,clientadditionalfee:(null===F||void 0===F?void 0:F.clientadditionalfee)||0,channelotherfee:(null===F||void 0===F?void 0:F.channelotherfee)||0,hsmfee:(null===F||void 0===F?void 0:F.hsmfee)||0,vcacomissionperhsm:(null===F||void 0===F?void 0:F.vcacomissionperhsm)||0,vcacomissionpervoicechannel:(null===F||void 0===F?void 0:F.vcacomissionpervoicechannel)||0,freewhatsappchannel:(null===F||void 0===F?void 0:F.freewhatsappchannel)||0,whatsappconversationfreequantity:(null===F||void 0===F?void 0:F.whatsappconversationfreequantity)||0,allowhsm:(null===F||void 0===F?void 0:F.allowhsm)||!1,usercreateoverride:(null===F||void 0===F?void 0:F.usercreateoverride)||!1,channelcreateoverride:(null===F||void 0===F?void 0:F.channelcreateoverride)||!1,status:F?F.status:"ACTIVO",type:F?F.type:"",description:F?F.description:"",operation:F?"UPDATE":"INSERT"}}),be=de.register,ve=de.handleSubmit,fe=de.setValue,me=de.getValues,je=de.formState.errors;l.a.useEffect((function(){be("id"),be("type"),be("status"),be("year"),be("month"),be("operation"),be("allowhsm"),be("usercreateoverride"),be("channelcreateoverride"),be("channelotherfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("description"),be("plan",{validate:function(e){return e&&e.length||A(g.a.field_required)}}),be("basicfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("userfreequantity",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("channelfreequantity",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("clientfreequantity",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("useradditionalfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("channelwhatsappfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("clientadditionalfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("hsmfee"),be("vcacomissionperhsm",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("vcacomissionpervoicechannel",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("whatsappconversationfreequantity",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}}),be("freewhatsappchannel",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||A(g.a.field_required)}})}),[z,be]),Object(r.useEffect)((function(){if(oe)if(U.loading||U.error){if(U.error){var e=A(U.code||"error_unexpected_error",{module:A(g.a.billingplan).toLocaleLowerCase()});M(Object(h.e)({show:!0,severity:"error",message:e})),se(!1),M(Object(h.d)(!1))}}else M(Object(h.e)({show:!0,severity:"success",message:A(F?g.a.successful_edit:g.a.successful_register)})),V&&V(),M(Object(h.d)(!1)),L("view-1")}),[U,oe]);var pe=ve((function(e){M(Object(h.a)({visible:!0,question:A(g.a.confirmation_save),callback:function(){M(Object(b.c)(Object(d.g)(e))),M(Object(h.d)(!0)),se(!0)}}))}));return Object(k.jsx)("div",{style:{width:"100%"},children:Object(k.jsxs)("form",{onSubmit:pe,children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(u.L,{breadcrumbs:ue,handleClick:L}),Object(k.jsx)(u.R,{title:F?"".concat(F.description):A(g.a.newcontractedplanbyperiod)})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(k.jsx)(s.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(k.jsx)(x.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return L("view-1")},children:A(g.a.back)}),z&&Object(k.jsx)(s.a,{className:H.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(k.jsx)(j.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:A(g.a.save)})]})]}),Object(k.jsxs)("div",{className:H.containerDetail,children:[Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(D.a,{id:"date",className:"col-12",type:"month",variant:"outlined",onChange:function(e){return function(e){if(""!==e){var t=new Date(e+"-02"),a=(null===t||void 0===t?void 0:t.getMonth())+1,n=null===t||void 0===t?void 0:t.getFullYear();W("".concat(n,"-").concat(String(a).padStart(2,"0"))),fe("year",n),fe("month",a)}}(e.target.value)},value:G,size:"small"})}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.u,{label:"Plan",className:"col-6",valueDefault:me("plan"),onChange:function(e){return fe("plan",null===e||void 0===e?void 0:e.plan)},data:R,optionDesc:"plan",optionValue:"plan",error:null===je||void 0===je||null===(t=je.plan)||void 0===t?void 0:t.message,orderbylabel:!0}),Object(k.jsx)(u.l,{label:A(g.a.costbasedonthecontractedplan),onChange:function(e){return fe("basicfee",e)},valueDefault:me("basicfee"),error:null===je||void 0===je||null===(a=je.basicfee)||void 0===a?void 0:a.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:A(g.a.numberofagentshired),onChange:function(e){return fe("userfreequantity",e)},valueDefault:me("userfreequantity"),error:null===je||void 0===je||null===(n=je.userfreequantity)||void 0===n?void 0:n.message,type:"number",className:"col-6"}),Object(k.jsx)(u.l,{label:A(g.a.useradditionalfee),onChange:function(e){return fe("useradditionalfee",e)},valueDefault:me("useradditionalfee"),error:null===je||void 0===je||null===(v=je.useradditionalfee)||void 0===v?void 0:v.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsxs)("div",{className:"col-6",style:{paddingBottom:"3px"},children:[Object(k.jsx)(w.a,{fontWeight:500,lineHeight:"18px",fontSize:14,mb:2,color:"textPrimary",children:A(g.a.allowuseroverride)}),Object(k.jsx)(S.a,{style:{paddingLeft:10},control:Object(k.jsx)(u.z,{checked:ee,onChange:function(e){te(e.target.checked),fe("usercreateoverride",e.target.checked)}}),label:""})]})}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:A(g.a.channelfreequantity),onChange:function(e){return fe("channelfreequantity",e)},valueDefault:me("channelfreequantity"),error:null===je||void 0===je||null===(f=je.channelfreequantity)||void 0===f?void 0:f.message,type:"number",className:"col-6"}),Object(k.jsx)(u.l,{label:A(g.a.contractedplanchannelotherfee),onChange:function(e){return fe("channelotherfee",e)},valueDefault:me("channelotherfee"),error:null===je||void 0===je||null===(m=je.channelotherfee)||void 0===m?void 0:m.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:A(g.a.contractedplanfreewhatsappchannel),onChange:function(e){return fe("freewhatsappchannel",e)},valueDefault:me("freewhatsappchannel"),error:null===je||void 0===je||null===(y=je.freewhatsappchannel)||void 0===y?void 0:y.message,type:"number",className:"col-6"}),Object(k.jsx)(u.l,{label:A(g.a.channelwhatsappfee),onChange:function(e){return fe("channelwhatsappfee",e)},valueDefault:me("channelwhatsappfee"),error:null===je||void 0===je||null===(N=je.channelwhatsappfee)||void 0===N?void 0:N.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:A(g.a.contractedplanfreewhatsappconversation),onChange:function(e){return fe("whatsappconversationfreequantity",e)},valueDefault:me("whatsappconversationfreequantity"),error:null===je||void 0===je||null===(C=je.whatsappconversationfreequantity)||void 0===C?void 0:C.message,type:"number",className:"col-6"}),Object(k.jsxs)("div",{className:"col-6",style:{paddingBottom:"3px"},children:[Object(k.jsx)(w.a,{fontWeight:500,lineHeight:"18px",fontSize:14,mb:2,color:"textPrimary",children:A(g.a.allowchanneloverride)}),Object(k.jsx)(S.a,{style:{paddingLeft:10},control:Object(k.jsx)(u.z,{checked:ie,onChange:function(e){re(e.target.checked),fe("channelcreateoverride",e.target.checked)}}),label:""})]})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:A(g.a.clientfreequantity),onChange:function(e){return fe("clientfreequantity",e)},valueDefault:me("clientfreequantity"),error:null===je||void 0===je||null===(q=je.clientfreequantity)||void 0===q?void 0:q.message,type:"number",className:"col-6"}),Object(k.jsx)(u.l,{label:A(g.a.clientadditionalfee),onChange:function(e){return fe("clientadditionalfee",e)},valueDefault:me("clientadditionalfee"),error:null===je||void 0===je||null===(_=je.clientadditionalfee)||void 0===_?void 0:_.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsxs)("div",{className:"col-6",style:{paddingBottom:"3px"},children:[Object(k.jsx)(w.a,{fontWeight:500,lineHeight:"18px",fontSize:14,mb:2,color:"textPrimary",children:A(g.a.allowhsm)}),Object(k.jsx)(S.a,{style:{paddingLeft:10},control:Object(k.jsx)(u.z,{checked:Q,onChange:function(e){X(e.target.checked),fe("allowhsm",e.target.checked)}}),label:""})]}),Object(k.jsx)(u.l,{label:A(g.a.vcacomissionperhsm),onChange:function(e){return fe("vcacomissionperhsm",e)},valueDefault:me("vcacomissionperhsm"),error:null===je||void 0===je||null===(I=je.vcacomissionperhsm)||void 0===I?void 0:I.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(u.l,{label:A(g.a.vcacomissionpervoicechannel),onChange:function(e){return fe("vcacomissionpervoicechannel",e)},valueDefault:me("vcacomissionpervoicechannel"),error:null===je||void 0===je||null===(T=je.vcacomissionpervoicechannel)||void 0===T?void 0:T.message,type:"number",className:"col-6",inputProps:{step:"any"}})})]})]})})},z="IDCONVERSATIONCOST",L=function(e){var t=e.dataPlan,a=Object(o.c)(),f=Object(p.a)().t,m=E(),j=Object(c.b)((function(e){return e.main.execute})),O=Object(c.b)((function(e){return e.main})),y=Object(c.b)((function(e){return e.main.memoryTable})),x=Object(r.useState)({countrycode:"",year:String((new Date).getFullYear()),month:((new Date).getMonth()+1).toString().padStart(2,"0")}),D=Object(i.a)(x,2),w=D[0],S=D[1],N=Object(r.useState)(!1),C=Object(i.a)(N,2),_=C[0],I=C[1],T=Object(r.useState)(!1),P=Object(i.a)(T,2),F=P[0],L=P[1],R=Object(r.useState)({row:null,edit:!1}),M=Object(i.a)(R,2),A=M[0],H=M[1],U=Object(r.useState)("view-1"),Y=Object(i.a)(U,2),B=Y[0],G=Y[1],W=Object(r.useState)(!1),J=Object(i.a)(W,2),K=J[0],Q=J[1];function X(){a(Object(h.d)(!0)),a(Object(b.g)(Object(d.Pb)(w)))}Object(r.useEffect)((function(){I(""===w.year)}),[w]),Object(r.useEffect)((function(){return X(),a(Object(b.G)({id:z})),function(){a(Object(b.a)())}}),[]),Object(r.useEffect)((function(){O.mainData.loading||a(Object(h.d)(!1))}),[O]);var Z=l.a.useMemo((function(){return[{accessor:"billingconversationid",isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(k.jsx)(u.M,{deleteFunction:function(){return te(t)},editFunction:function(){return ee(t)}})}},{Header:f(g.a.year),accessor:"year"},{Header:f(g.a.month),accessor:"month"},{Header:f(g.a.countrycode),accessor:"countrycode"},{Header:f(g.a.country),accessor:"country"},{Header:f(g.a.coststartedbycompany),accessor:"companystartfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.companystartfee;return Object(d.kb)(t||0)}},{Header:f(g.a.customerinitiatedcost),accessor:"clientstartfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.clientstartfee;return Object(d.kb)(t||0)}}]}),[]),$=function(){return a(Object(b.g)(Object(d.Pb)(w)))};Object(r.useEffect)((function(){if(K)if(j.loading||j.error){if(j.error){var e=f(j.code||"error_unexpected_error",{module:f(g.a.conversationcost).toLocaleLowerCase()});a(Object(h.e)({show:!0,severity:"error",message:e})),a(Object(h.d)(!1)),Q(!1)}}else F?(L(!1),a(Object(h.e)({show:!0,severity:"success",message:f(g.a.successful_duplicate)}))):a(Object(h.e)({show:!0,severity:"success",message:f(g.a.successful_delete)})),$(),a(Object(h.d)(!1)),Q(!1)}),[j,K]);var ee=function(e){G("view-2"),H({row:e,edit:!0})},te=function(e){a(Object(h.a)({visible:!0,question:f(g.a.confirmation_delete),callback:function(){a(Object(b.c)(Object(d.h)(Object(n.a)(Object(n.a)({},e),{},{operation:"DELETE",status:"ELIMINADO",id:e.billingconversationid})))),a(Object(h.d)(!0)),Q(!0)}}))};return"view-1"===B?Object(k.jsx)(r.Fragment,{children:Object(k.jsx)(v.f,{onClickRow:ee,columns:Z,ButtonsElement:function(){return Object(k.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(k.jsx)(u.u,{label:f(g.a.year),style:{width:150},valueDefault:w.year,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{year:(null===e||void 0===e?void 0:e.value)||0})}))},data:d.O,optionDesc:"value",optionValue:"value"}),Object(k.jsx)(u.q,{label:f(g.a.month),style:{width:300},valueDefault:w.month,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{month:e.map((function(e){return e.val})).join()})}))},data:d.N,uset:!0,prefixTranslation:"month_",optionDesc:"val",optionValue:"val"}),Object(k.jsx)(u.q,{label:f(g.a.country),className:m.fieldsfilter,valueDefault:w.countrycode,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{countrycode:e.map((function(e){return e.code})).join()})}))},data:t,optionDesc:"description",optionValue:"code"}),Object(k.jsx)(s.a,{disabled:O.mainData.loading||_,variant:"contained",color:"primary",style:{width:120,backgroundColor:"#55BD84"},startIcon:Object(k.jsx)(q.a,{style:{color:"white"}}),onClick:function(){return X()},children:f(g.a.search)})]})},data:O.mainData.data,filterGeneral:!1,download:!0,loading:O.mainData.loading,register:!0,handleRegister:function(){G("view-2"),H({row:null,edit:!0})},pageSizeDefault:z===y.id?-1===y.pageSize?20:y.pageSize:20,initialPageIndex:z===y.id?-1===y.page?0:y.page:0,initialStateFilter:z===y.id?Object.entries(y.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0})}):"view-2"===B?Object(k.jsx)(V,{data:A,setViewSelected:G,fetchData:$,dataPlan:t}):null},V=function(e){var t,a,n,v,f=e.data,m=f.row,y=f.edit,w=e.setViewSelected,S=e.fetchData,N=e.dataPlan,C=Object(o.c)(),q=Object(p.a)().t,_=E(),I=Object(c.b)((function(e){return e.main.execute})),T=Object(r.useState)(m?"".concat(m.year,"-").concat(String(m.month).padStart(2,"0")):"".concat(new Date((new Date).setDate(1)).getFullYear(),"-").concat(String(new Date((new Date).setDate(1)).getMonth()+1).padStart(2,"0"))),P=Object(i.a)(T,2),F=P[0],z=P[1],L=Object(r.useState)(!1),V=Object(i.a)(L,2),R=V[0],M=V[1],A=[{id:"view-1",name:q(g.a.conversationcost)},{id:"view-2",name:q(g.a.conversationcostdetail)}],H=Object(O.d)({defaultValues:{id:m?m.billingconversationid:0,year:(null===m||void 0===m?void 0:m.year)||(new Date).getFullYear(),month:(null===m||void 0===m?void 0:m.month)||(new Date).getMonth()+1,countrycode:(null===m||void 0===m?void 0:m.countrycode)||"PE",companystartfee:(null===m||void 0===m?void 0:m.companystartfee)||0,clientstartfee:(null===m||void 0===m?void 0:m.clientstartfee)||0,vcacomission:(null===m||void 0===m?void 0:m.vcacomission)||0,freeconversations:(null===m||void 0===m?void 0:m.freeconversations)||0,description:(null===m||void 0===m?void 0:m.description)||"",status:m?m.status:"ACTIVO",type:m?m.type:"",operation:m?"UPDATE":"INSERT"}}),U=H.register,Y=H.handleSubmit,B=H.setValue,G=H.getValues,W=H.formState.errors;l.a.useEffect((function(){U("id"),U("type"),U("status"),U("year"),U("month"),U("operation"),U("description",{validate:function(e){return e&&e.length||q(g.a.field_required)}}),U("countrycode",{validate:function(e){return e&&e.length||q(g.a.field_required)}}),U("companystartfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||q(g.a.field_required)}}),U("clientstartfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||q(g.a.field_required)}}),U("freeconversations",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||q(g.a.field_required)}}),U("vcacomission")}),[y,U]),Object(r.useEffect)((function(){if(R)if(I.loading||I.error){if(I.error){var e=q(I.code||"error_unexpected_error",{module:q(g.a.conversationcost).toLocaleLowerCase()});C(Object(h.e)({show:!0,severity:"error",message:e})),M(!1),C(Object(h.d)(!1))}}else C(Object(h.e)({show:!0,severity:"success",message:q(m?g.a.successful_edit:g.a.successful_register)})),S&&S(),C(Object(h.d)(!1)),w("view-1")}),[I,R]);var J=Y((function(e){C(Object(h.a)({visible:!0,question:q(g.a.confirmation_save),callback:function(){C(Object(b.c)(Object(d.h)(e))),C(Object(h.d)(!0)),M(!0)}}))}));return Object(k.jsx)("div",{style:{width:"100%"},children:Object(k.jsxs)("form",{onSubmit:J,children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(u.L,{breadcrumbs:A,handleClick:w}),Object(k.jsx)(u.R,{title:m?"".concat(m.description):q(g.a.newconversationplan)})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(k.jsx)(s.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(k.jsx)(x.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return w("view-1")},children:q(g.a.back)}),y&&Object(k.jsx)(s.a,{className:_.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(k.jsx)(j.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:q(g.a.save)})]})]}),Object(k.jsxs)("div",{className:_.containerDetail,children:[Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(D.a,{id:"date",className:"col-12",type:"month",variant:"outlined",onChange:function(e){return function(e){if(""!==e){var t=new Date(e+"-02"),a=(null===t||void 0===t?void 0:t.getMonth())+1,n=null===t||void 0===t?void 0:t.getFullYear();z("".concat(n,"-").concat(String(a).padStart(2,"0"))),B("year",n),B("month",a)}}(e.target.value)},value:F,size:"small"})}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(u.u,{label:q(g.a.country),className:"col-12",valueDefault:G("countrycode"),variant:"outlined",onChange:function(e){return B("countrycode",null===e||void 0===e?void 0:e.code)},error:null===W||void 0===W||null===(t=W.countrycode)||void 0===t?void 0:t.message,data:N,optionDesc:"description",optionValue:"code",orderbylabel:!0})}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:q(g.a.coststartedbycompany),onChange:function(e){return B("companystartfee",e)},valueDefault:G("companystartfee"),error:null===W||void 0===W||null===(a=W.companystartfee)||void 0===a?void 0:a.message,type:"number",className:"col-6",inputProps:{step:"any"}}),Object(k.jsx)(u.l,{label:q(g.a.customerinitiatedcost),onChange:function(e){return B("clientstartfee",e)},valueDefault:G("clientstartfee"),error:null===W||void 0===W||null===(n=W.clientstartfee)||void 0===n?void 0:n.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(u.l,{label:q(g.a.description),onChange:function(e){return B("description",e)},valueDefault:G("description"),error:null===W||void 0===W||null===(v=W.description)||void 0===v?void 0:v.message})}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(u.v,{label:"",value:q(g.a.costcommentary),className:_.commentary})})]})]})})},R="IDARTIFICIALINTELLIGENCE",M=function(e){var t=e.providerData,a=e.planData,f=Object(o.c)(),m=Object(p.a)().t,j=Object(c.b)((function(e){return e.main.execute})),O=Object(c.b)((function(e){return e.main})),y=Object(c.b)((function(e){return e.main.memoryTable})),x=Object(r.useState)({provider:"",type:"",plan:"",year:String((new Date).getFullYear()),month:((new Date).getMonth()+1).toString().padStart(2,"0")}),D=Object(i.a)(x,2),w=D[0],S=D[1],N=Object(r.useState)([]),C=Object(i.a)(N,2),_=C[0],E=C[1],I=Object(r.useState)([]),T=Object(i.a)(I,2),P=T[0],F=T[1],z=Object(r.useState)([]),L=Object(i.a)(z,2),V=L[0],M=L[1],H=Object(r.useState)(!1),U=Object(i.a)(H,2),Y=U[0],B=U[1],G=Object(r.useState)({row:null,edit:!1}),W=Object(i.a)(G,2),J=W[0],K=W[1],Q=Object(r.useState)("view-1"),X=Object(i.a)(Q,2),Z=X[0],$=X[1],ee=Object(r.useState)(!1),te=Object(i.a)(ee,2),ae=te[0],ne=te[1];function ie(){f(Object(h.d)(!0)),f(Object(b.g)(Object(d.f)(w)))}Object(r.useEffect)((function(){t&&(E(t.filter((function(e,t,a){return a.findIndex((function(t){return t.provider===e.provider}))===t}))),F(t.filter((function(e,t,a){return a.findIndex((function(t){return t.type===e.type}))===t})))),a&&M(a.filter((function(e,t,a){return a.findIndex((function(t){return t.description===e.description}))===t})))}),[t,a]),Object(r.useEffect)((function(){return ie(),f(Object(b.G)({id:R})),function(){f(Object(b.a)())}}),[]),Object(r.useEffect)((function(){O.mainData.loading||f(Object(h.d)(!1))}),[O]);var re=l.a.useMemo((function(){return[{accessor:"billingartificialintelligenceid",isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(k.jsx)(u.M,{deleteFunction:function(){return oe(t)},editFunction:function(){return ce(t)}})}},{Header:m(g.a.year),accessor:"year"},{Header:m(g.a.month),accessor:"month"},{Header:m(g.a.billingsetup_provider),accessor:"provider"},{Header:m(g.a.billingsetup_service),accessor:"type"},{Header:m(g.a.billingsetup_measureunit),accessor:"measureunit"},{Header:m(g.a.billingsetup_plan),accessor:"plan"},{Header:m(g.a.billingsetup_minimuminteractions),accessor:"freeinteractions",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.freeinteractions;return Object(d.lb)(t||0)}},{Header:m(g.a.billingsetup_baseprice),accessor:"basicfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.basicfee;return Object(d.jb)(t||0)}},{Header:m(g.a.billingsetup_additionalprice),accessor:"additionalfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.additionalfee;return Object(d.jb)(t||0)}}]}),[]),le=function(){return f(Object(b.g)(Object(d.f)(w)))};Object(r.useEffect)((function(){if(ae)if(j.loading||j.error){if(j.error){var e=m(j.code||"error_unexpected_error",{module:m(g.a.supportplan).toLocaleLowerCase()});f(Object(h.e)({show:!0,severity:"error",message:e})),f(Object(h.d)(!1)),ne(!1)}}else f(Object(h.e)({show:!0,severity:"success",message:m(g.a.successful_delete)})),f(Object(h.d)(!1)),ne(!1),le()}),[j,ae]),Object(r.useEffect)((function(){B(""===w.year)}),[w]);var ce=function(e){$("view-2"),K({row:e,edit:!0})},oe=function(e){f(Object(h.a)({visible:!0,question:m(g.a.confirmation_delete),callback:function(){f(Object(b.c)(Object(d.e)(Object(n.a)(Object(n.a)({},e),{},{operation:"DELETE",status:"ELIMINADO",id:e.billingartificialintelligenceid})))),f(Object(h.d)(!0)),ne(!0)}}))};return"view-1"===Z?Object(k.jsx)(r.Fragment,{children:Object(k.jsx)(v.f,{onClickRow:ce,columns:re,ButtonsElement:function(){return Object(k.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(k.jsx)(u.u,{label:m(g.a.year),style:{width:150},valueDefault:w.year,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{year:(null===e||void 0===e?void 0:e.value)||0})}))},data:d.O,optionDesc:"value",optionValue:"value"}),Object(k.jsx)(u.q,{label:m(g.a.month),style:{width:300},valueDefault:w.month,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{month:e.map((function(e){return e.val})).join()})}))},data:d.N,uset:!0,prefixTranslation:"month_",optionDesc:"val",optionValue:"val"}),Object(k.jsx)(u.u,{label:m(g.a.billingsetup_provider),style:{width:200},valueDefault:w.provider,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{provider:(null===e||void 0===e?void 0:e.provider)||""})}))},data:_,optionDesc:"provider",optionValue:"provider"}),Object(k.jsx)(u.u,{label:m(g.a.billingsetup_service),style:{width:200},valueDefault:w.type,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{type:(null===e||void 0===e?void 0:e.type)||""})}))},data:P,optionDesc:"type",optionValue:"type"}),Object(k.jsx)(u.u,{label:m(g.a.billingsetup_plan),style:{width:200},valueDefault:w.plan,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{plan:(null===e||void 0===e?void 0:e.description)||""})}))},data:V,optionDesc:"description",optionValue:"description"}),Object(k.jsx)(s.a,{disabled:O.mainData.loading||Y,variant:"contained",color:"primary",startIcon:Object(k.jsx)(q.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){return ie()},children:m(g.a.search)})]})},data:O.mainData.data,filterGeneral:!1,download:!0,loading:O.mainData.loading,register:!0,handleRegister:function(){$("view-2"),K({row:null,edit:!0})},pageSizeDefault:R===y.id?-1===y.pageSize?20:y.pageSize:20,initialPageIndex:R===y.id?-1===y.page?0:y.page:0,initialStateFilter:R===y.id?Object.entries(y.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0})}):"view-2"===Z?Object(k.jsx)(A,{data:J,setViewSelected:$,fetchData:le,providerData:t,planData:a}):null},A=function(e){var t,a,n,v,f,m,y,w,S,N,C=e.data,q=C.row,_=C.edit,I=e.setViewSelected,T=e.fetchData,P=e.providerData,F=e.planData,z=Object(o.c)(),L=Object(p.a)().t,V=E(),R=Object(c.b)((function(e){return e.main.execute})),M=Object(r.useState)(q?"".concat(q.year,"-").concat(String(q.month).padStart(2,"0")):"".concat(new Date((new Date).setDate(1)).getFullYear(),"-").concat(String(new Date((new Date).setDate(1)).getMonth()+1).padStart(2,"0"))),A=Object(i.a)(M,2),H=A[0],U=A[1],Y=Object(r.useState)(!1),B=Object(i.a)(Y,2),G=B[0],W=B[1],J=[{id:"view-1",name:L(g.a.billingsetup_artificialintelligence)},{id:"view-2",name:L(g.a.billingsetup_artificialintelligencedetail)}],K=Object(O.d)({defaultValues:{id:q?q.billingartificialintelligenceid:0,year:(null===q||void 0===q?void 0:q.year)||(new Date).getFullYear(),month:(null===q||void 0===q?void 0:q.month)||(new Date).getMonth()+1,provider:(null===q||void 0===q?void 0:q.provider)||"",measureunit:(null===q||void 0===q?void 0:q.measureunit)||"",charlimit:(null===q||void 0===q?void 0:q.charlimit)||0,plan:(null===q||void 0===q?void 0:q.plan)||"",freeinteractions:(null===q||void 0===q?void 0:q.freeinteractions)||0,basicfee:(null===q||void 0===q?void 0:q.basicfee)||0,additionalfee:(null===q||void 0===q?void 0:q.additionalfee)||0,status:q?q.status:"ACTIVO",type:q?q.type:"",description:q?q.description:"",operation:q?"UPDATE":"INSERT"}}),Q=K.register,X=K.handleSubmit,Z=K.setValue,$=K.getValues,ee=K.trigger,te=K.formState.errors;l.a.useEffect((function(){Q("id"),Q("year"),Q("month"),Q("provider",{validate:function(e){return e&&e.length||L(g.a.field_required)}}),Q("measureunit",{validate:function(e){return e&&e.length||L(g.a.field_required)}}),Q("charlimit"),Q("plan",{validate:function(e){return e&&e.length||L(g.a.field_required)}}),Q("freeinteractions",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||L(g.a.field_required)}}),Q("basicfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||L(g.a.field_required)}}),Q("additionalfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||L(g.a.field_required)}}),Q("status"),Q("type"),Q("description",{validate:function(e){return e&&e.length||L(g.a.field_required)}}),Q("operation")}),[_,Q]),Object(r.useEffect)((function(){if(G)if(R.loading||R.error){if(R.error){var e=L(R.code||"error_unexpected_error",{module:L(g.a.billingsetup_artificialintelligence).toLocaleLowerCase()});z(Object(h.e)({show:!0,severity:"error",message:e})),W(!1),z(Object(h.d)(!1))}}else z(Object(h.e)({show:!0,severity:"success",message:L(q?g.a.successful_edit:g.a.successful_register)})),T&&T(),z(Object(h.d)(!1)),I("view-1")}),[R,G]);var ae=X((function(e){z(Object(h.a)({visible:!0,question:L(g.a.confirmation_save),callback:function(){z(Object(b.c)(Object(d.e)(e))),z(Object(h.d)(!0)),W(!0)}}))}));return Object(k.jsx)("div",{style:{width:"100%"},children:Object(k.jsxs)("form",{onSubmit:ae,children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(u.L,{breadcrumbs:J,handleClick:I}),Object(k.jsx)(u.R,{title:q?"".concat(q.provider," - ").concat(q.type):L(g.a.billingsetup_artificialintelligencenew)})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(k.jsx)(s.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(k.jsx)(x.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return I("view-1")},children:L(g.a.back)}),_&&Object(k.jsx)(s.a,{className:V.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(k.jsx)(j.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:L(g.a.save)})]})]}),Object(k.jsxs)("div",{className:V.containerDetail,children:[Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:L(g.a.description),onChange:function(e){return Z("description",e)},valueDefault:$("description"),error:null===te||void 0===te||null===(t=te.description)||void 0===t?void 0:t.message,className:"col-6"}),Object(k.jsx)(D.a,{id:"date",className:"col-6",type:"month",variant:"outlined",onChange:function(e){return function(e){if(""!==e){var t=new Date(e+"-02"),a=(null===t||void 0===t?void 0:t.getMonth())+1,n=null===t||void 0===t?void 0:t.getFullYear();U("".concat(n,"-").concat(String(a).padStart(2,"0"))),Z("year",n),Z("month",a)}}(e.target.value)},value:H,size:"small"})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.u,{label:L(g.a.billingsetup_ai),className:"col-6",valueDefault:"".concat($("type")," - ").concat($("provider")),onChange:function(e){var t;(t=e)?(Z("provider",t.provider||""),Z("type",t.type||""),Z("charlimit",t.charlimit||0),Z("measureunit",t.measureunit||"")):(Z("provider",""),Z("type",""),Z("charlimit",0),Z("measureunit","")),ee("provider"),ee("type"),ee("measureunit")},error:null===te||void 0===te||null===(a=te.type)||void 0===a?void 0:a.message,data:null===P||void 0===P?void 0:P.filter((function(e,t,a){return a.findIndex((function(t){return e.type===t.type&&e.provider===t.provider}))===t})),optionDesc:"typeprovider",optionValue:"typeprovider",orderbylabel:!0}),Object(k.jsx)(u.l,{label:L(g.a.billingsetup_provider),className:"col-6",valueDefault:$("provider"),error:null===te||void 0===te||null===(n=te.provider)||void 0===n?void 0:n.message,disabled:!0})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:L(g.a.billingsetup_service),className:"col-6",valueDefault:$("type"),error:null===te||void 0===te||null===(v=te.type)||void 0===v?void 0:v.message,disabled:!0}),Object(k.jsx)(u.l,{label:L(g.a.type),className:"col-6",valueDefault:$("type"),error:null===te||void 0===te||null===(f=te.type)||void 0===f?void 0:f.message,disabled:!0})]}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(u.l,{label:L(g.a.billingsetup_measureunit),className:"col-6",valueDefault:$("measureunit"),error:null===te||void 0===te||null===(m=te.measureunit)||void 0===m?void 0:m.message,disabled:!0})}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.u,{label:L(g.a.billingsetup_plan),className:"col-6",valueDefault:$("plan"),onChange:function(e){var t;(t=e)?(Z("plan",t.description||""),Z("freeinteractions",t.freeinteractions||0),Z("basicfee",t.basicfee||0),Z("additionalfee",t.additionalfee||0)):(Z("plan",""),Z("freeinteractions",0),Z("basicfee",0),Z("additionalfee",0)),ee("plan"),ee("freeinteractions"),ee("basicfee"),ee("additionalfee")},error:null===te||void 0===te||null===(y=te.plan)||void 0===y?void 0:y.message,data:F,optionDesc:"description",optionValue:"description"}),Object(k.jsx)(u.l,{label:L(g.a.billingsetup_minimuminteractions),className:"col-6",valueDefault:$("freeinteractions"),onChange:function(e){return Z("freeinteractions",e)},error:null===te||void 0===te||null===(w=te.freeinteractions)||void 0===w?void 0:w.message,type:"number"})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:L(g.a.billingsetup_baseprice),className:"col-6",valueDefault:$("basicfee"),onChange:function(e){return Z("basicfee",e)},error:null===te||void 0===te||null===(S=te.basicfee)||void 0===S?void 0:S.message,type:"number"}),Object(k.jsx)(u.l,{label:L(g.a.billingsetup_additionalprice),className:"col-6",valueDefault:$("additionalfee"),onChange:function(e){return Z("additionalfee",e)},error:null===te||void 0===te||null===(N=te.additionalfee)||void 0===N?void 0:N.message,type:"number"})]})]})]})})},H="IDSUPPORTPLAN",U=function(e){var t=e.dataPlan,a=Object(o.c)(),f=Object(p.a)().t,m=E(),j=Object(c.b)((function(e){return e.main.execute})),O=Object(c.b)((function(e){return e.main})),y=Object(c.b)((function(e){return e.main.memoryTable})),x=Object(r.useState)({plan:"",year:String((new Date).getFullYear()),month:((new Date).getMonth()+1).toString().padStart(2,"0")}),D=Object(i.a)(x,2),w=D[0],S=D[1],N=Object(r.useState)(!1),C=Object(i.a)(N,2),_=C[0],I=C[1],T=Object(r.useState)(!1),P=Object(i.a)(T,2),F=P[0],z=P[1],L=Object(r.useState)({row:null,edit:!1}),V=Object(i.a)(L,2),R=V[0],M=V[1],A=Object(r.useState)("view-1"),U=Object(i.a)(A,2),B=U[0],G=U[1],W=Object(r.useState)(!1),J=Object(i.a)(W,2),K=J[0],Q=J[1];function X(){a(Object(h.d)(!0)),a(Object(b.g)(Object(d.Wb)(w)))}Object(r.useEffect)((function(){return X(),a(Object(b.G)({id:H})),function(){a(Object(b.a)())}}),[]),Object(r.useEffect)((function(){O.mainData.loading||a(Object(h.d)(!1))}),[O]);var Z=l.a.useMemo((function(){return[{accessor:"billingsupportid",isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(k.jsx)(u.M,{deleteFunction:function(){return te(t)},editFunction:function(){return ee(t)}})}},{Header:f(g.a.year),accessor:"year"},{Header:f(g.a.month),accessor:"month"},{Header:f(g.a.supportplan),accessor:"plan"},{Header:f(g.a.supportprice),accessor:"basicfee",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.basicfee;return Object(d.jb)(t||0)}},{Header:f(g.a.starttime),accessor:"starttime"},{Header:f(g.a.finishtime),accessor:"finishtime"}]}),[]),$=function(){return a(Object(b.g)(Object(d.Wb)(w)))};Object(r.useEffect)((function(){if(K)if(j.loading||j.error){if(j.error){var e=f(j.code||"error_unexpected_error",{module:f(g.a.supportplan).toLocaleLowerCase()});a(Object(h.e)({show:!0,severity:"error",message:e})),a(Object(h.d)(!1)),Q(!1)}}else F?(z(!1),a(Object(h.e)({show:!0,severity:"success",message:f(g.a.successful_duplicate)}))):a(Object(h.e)({show:!0,severity:"success",message:f(g.a.successful_delete)})),$(),a(Object(h.d)(!1)),Q(!1)}),[j,K]),Object(r.useEffect)((function(){I(""===w.year)}),[w]);var ee=function(e){G("view-2"),M({row:e,edit:!0})},te=function(e){a(Object(h.a)({visible:!0,question:f(g.a.confirmation_delete),callback:function(){a(Object(b.c)(Object(d.o)(Object(n.a)(Object(n.a)({},e),{},{operation:"DELETE",status:"ELIMINADO",id:e.billingsupportid})))),a(Object(h.d)(!0)),Q(!0)}}))};return"view-1"===B?Object(k.jsx)(r.Fragment,{children:Object(k.jsx)(v.f,{onClickRow:ee,columns:Z,ButtonsElement:function(){return Object(k.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(k.jsx)(u.u,{label:f(g.a.year),style:{width:150},valueDefault:w.year,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{year:(null===e||void 0===e?void 0:e.value)||0})}))},data:d.O,optionDesc:"value",optionValue:"value"}),Object(k.jsx)(u.q,{label:f(g.a.month),style:{width:300},valueDefault:w.month,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{month:e.map((function(e){return e.val})).join()})}))},data:d.N,uset:!0,prefixTranslation:"month_",optionDesc:"val",optionValue:"val"}),Object(k.jsx)(u.u,{label:f(g.a.supportplan),className:m.fieldsfilter,valueDefault:w.plan,variant:"outlined",onChange:function(e){return S((function(t){return Object(n.a)(Object(n.a)({},t),{},{plan:(null===e||void 0===e?void 0:e.description)||""})}))},data:t,optionDesc:"description",optionValue:"description",orderbylabel:!0}),Object(k.jsx)(s.a,{disabled:O.mainData.loading||_,variant:"contained",color:"primary",startIcon:Object(k.jsx)(q.a,{style:{color:"white"}}),style:{width:120,backgroundColor:"#55BD84"},onClick:function(){return X()},children:f(g.a.search)})]})},data:O.mainData.data,filterGeneral:!1,download:!0,loading:O.mainData.loading,register:!0,handleRegister:function(){G("view-2"),M({row:null,edit:!0})},pageSizeDefault:H===y.id?-1===y.pageSize?20:y.pageSize:20,initialPageIndex:H===y.id?-1===y.page?0:y.page:0,initialStateFilter:H===y.id?Object.entries(y.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0})}):"view-2"===B?Object(k.jsx)(Y,{data:R,setViewSelected:G,fetchData:$,dataPlan:t}):null},Y=function(e){var t,a,n,v,f,m=e.data,y=m.row,w=m.edit,S=e.setViewSelected,N=e.fetchData,C=e.dataPlan,q=Object(o.c)(),_=Object(p.a)().t,I=E(),T=Object(c.b)((function(e){return e.main.execute})),P=Object(r.useState)(y?"".concat(y.year,"-").concat(String(y.month).padStart(2,"0")):"".concat(new Date((new Date).setDate(1)).getFullYear(),"-").concat(String(new Date((new Date).setDate(1)).getMonth()+1).padStart(2,"0"))),F=Object(i.a)(P,2),z=F[0],L=F[1],V=Object(r.useState)(!1),R=Object(i.a)(V,2),M=R[0],A=R[1],H=[{id:"view-1",name:_(g.a.supportplan)},{id:"view-2",name:_(g.a.supportplandetail)}],U=Object(O.d)({defaultValues:{id:y?y.billingsupportid:0,startdate:(null===y||void 0===y?void 0:y.startdate)||new Date((new Date).setDate(1)),enddate:(null===y||void 0===y?void 0:y.enddate)||new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),year:(null===y||void 0===y?void 0:y.year)||(new Date).getFullYear(),month:(null===y||void 0===y?void 0:y.month)||(new Date).getMonth()+1,plan:(null===y||void 0===y?void 0:y.plan)||"",basicfee:(null===y||void 0===y?void 0:y.basicfee)||0,starttime:(null===y||void 0===y?void 0:y.starttime)||(new Date).getTime(),finishtime:(null===y||void 0===y?void 0:y.finishtime)||(new Date).getTime(),status:y?y.status:"ACTIVO",type:y?y.type:"",description:y?y.description:"",operation:y?"UPDATE":"INSERT"}}),Y=U.register,B=U.handleSubmit,G=U.setValue,W=U.getValues,J=U.formState.errors;l.a.useEffect((function(){Y("id"),Y("type"),Y("status"),Y("year"),Y("month"),Y("operation"),Y("description",{validate:function(e){return e&&e.length||_(g.a.field_required)}}),Y("plan",{validate:function(e){return e&&e.length||_(g.a.field_required)}}),Y("basicfee",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||_(g.a.field_required)}}),Y("starttime",{validate:function(e){return e&&e.length||_(g.a.field_required)}}),Y("finishtime",{validate:function(e){return e&&e.length||_(g.a.field_required)}})}),[w,Y]),Object(r.useEffect)((function(){if(M)if(T.loading||T.error){if(T.error){var e=_(T.code||"error_unexpected_error",{module:_(g.a.supportplan).toLocaleLowerCase()});q(Object(h.e)({show:!0,severity:"error",message:e})),A(!1),q(Object(h.d)(!1))}}else q(Object(h.e)({show:!0,severity:"success",message:_(y?g.a.successful_edit:g.a.successful_register)})),N&&N(),q(Object(h.d)(!1)),S("view-1")}),[T,M]);var K=B((function(e){q(Object(h.a)({visible:!0,question:_(g.a.confirmation_save),callback:function(){q(Object(b.c)(Object(d.o)(e))),q(Object(h.d)(!0)),A(!0)}}))}));return Object(k.jsx)("div",{style:{width:"100%"},children:Object(k.jsxs)("form",{onSubmit:K,children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(u.L,{breadcrumbs:H,handleClick:S}),Object(k.jsx)(u.R,{title:y?"".concat(y.description):_(g.a.newsupportplan)})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(k.jsx)(s.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(k.jsx)(x.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return S("view-1")},children:_(g.a.back)}),w&&Object(k.jsx)(s.a,{className:I.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(k.jsx)(j.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:_(g.a.save)})]})]}),Object(k.jsxs)("div",{className:I.containerDetail,children:[Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:_(g.a.description),onChange:function(e){return G("description",e)},valueDefault:W("description"),error:null===J||void 0===J||null===(t=J.description)||void 0===t?void 0:t.message,className:"col-6"}),Object(k.jsx)(D.a,{id:"date",className:"col-6",type:"month",variant:"outlined",onChange:function(e){return function(e){if(""!==e){var t=new Date(e+"-02"),a=(null===t||void 0===t?void 0:t.getMonth())+1,n=null===t||void 0===t?void 0:t.getFullYear(),i=new Date(n,a-1,1),r=new Date(n,a,0);G("startdate",i),G("enddate",r),L("".concat(n,"-").concat(String(a).padStart(2,"0"))),G("year",n),G("month",a)}}(e.target.value)},value:z,size:"small"})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.u,{label:"Plan",className:"col-6",valueDefault:W("plan"),onChange:function(e){return G("plan",null===e||void 0===e?void 0:e.description)},data:C,optionDesc:"description",optionValue:"description",error:null===J||void 0===J||null===(a=J.plan)||void 0===a?void 0:a.message,orderbylabel:!0}),Object(k.jsx)(u.l,{label:_(g.a.supportprice),onChange:function(e){return G("basicfee",e)},valueDefault:W("basicfee"),error:null===J||void 0===J||null===(n=J.basicfee)||void 0===n?void 0:n.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{type:"time",label:_(g.a.starttime),error:null===J||void 0===J||null===(v=J.starttime)||void 0===v?void 0:v.message,className:"col-6",onChange:function(e){return G("starttime",e)},valueDefault:W("starttime")}),Object(k.jsx)(u.l,{type:"time",label:_(g.a.finishtime),error:null===J||void 0===J||null===(f=J.finishtime)||void 0===f?void 0:f.message,className:"col-6",onChange:function(e){return G("finishtime",e)},valueDefault:W("finishtime")})]})]})]})})},B="IDMESSAGINGCOST",G=function(e){var t=e.dataPlan,a=Object(o.c)(),f=Object(p.a)().t,m=Object(c.b)((function(e){return e.main.execute})),j=Object(c.b)((function(e){return e.main})),O=Object(c.b)((function(e){return e.main.memoryTable})),y=Object(r.useState)({countrycode:"",year:String((new Date).getFullYear()),month:((new Date).getMonth()+1).toString().padStart(2,"0")}),x=Object(i.a)(y,2),D=x[0],w=x[1],S=Object(r.useState)(!1),N=Object(i.a)(S,2),C=N[0],_=N[1],E=Object(r.useState)(!1),I=Object(i.a)(E,2),T=I[0],P=I[1],F=Object(r.useState)({row:null,edit:!1}),z=Object(i.a)(F,2),L=z[0],V=z[1],R=Object(r.useState)("view-1"),M=Object(i.a)(R,2),A=M[0],H=M[1],U=Object(r.useState)(!1),Y=Object(i.a)(U,2),G=Y[0],J=Y[1];function K(){a(Object(h.d)(!0)),a(Object(b.g)(Object(d.Rb)(D)))}Object(r.useEffect)((function(){_(""===D.year)}),[D]),Object(r.useEffect)((function(){return K(),a(Object(b.G)({id:B})),function(){a(Object(b.a)())}}),[]),Object(r.useEffect)((function(){j.mainData.loading||a(Object(h.d)(!1))}),[j]);var Q=l.a.useMemo((function(){return[{accessor:"billingmessagingid",isComponent:!0,minWidth:60,width:"1%",Cell:function(e){var t=e.cell.row.original;return Object(k.jsx)(u.M,{deleteFunction:function(){return $(t)},editFunction:function(){return Z(t)}})}},{Header:f(g.a.year),accessor:"year"},{Header:f(g.a.month),accessor:"month"},{Header:f(g.a.pricepersms),accessor:"pricepersms",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.pricepersms;return Object(d.kb)(t||0)}},{Header:f(g.a.vcacomissionpersms),accessor:"vcacomissionpersms",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.vcacomissionpersms;return Object(d.kb)(t||0)}},{Header:f(g.a.pricepermail),accessor:"pricepermail",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.pricepermail;return Object(d.kb)(t||0)}},{Header:f(g.a.vcacomissionpermail),accessor:"vcacomissionpermail",type:"number",sortType:"number",Cell:function(e){var t=e.cell.row.original.vcacomissionpermail;return Object(d.kb)(t||0)}}]}),[]),X=function(){return a(Object(b.g)(Object(d.Rb)(D)))};Object(r.useEffect)((function(){if(G)if(m.loading||m.error){if(m.error){var e=f(m.code||"error_unexpected_error",{module:f(g.a.messagingcost).toLocaleLowerCase()});a(Object(h.e)({show:!0,severity:"error",message:e})),a(Object(h.d)(!1)),J(!1)}}else T?(P(!1),a(Object(h.e)({show:!0,severity:"success",message:f(g.a.successful_duplicate)}))):a(Object(h.e)({show:!0,severity:"success",message:f(g.a.successful_delete)})),X(),a(Object(h.d)(!1)),J(!1)}),[m,G]);var Z=function(e){H("view-2"),V({row:e,edit:!0})},$=function(e){a(Object(h.a)({visible:!0,question:f(g.a.confirmation_delete),callback:function(){a(Object(b.c)(Object(d.i)(Object(n.a)(Object(n.a)({},e),{},{operation:"DELETE",status:"ELIMINADO",id:e.billingmessagingid})))),a(Object(h.d)(!0)),J(!0)}}))};return"view-1"===A?Object(k.jsx)(r.Fragment,{children:Object(k.jsx)(v.f,{onClickRow:Z,columns:Q,ButtonsElement:function(){return Object(k.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object(k.jsx)(u.u,{label:f(g.a.year),style:{width:150},valueDefault:D.year,variant:"outlined",onChange:function(e){return w((function(t){return Object(n.a)(Object(n.a)({},t),{},{year:(null===e||void 0===e?void 0:e.value)||0})}))},data:d.O,optionDesc:"value",optionValue:"value"}),Object(k.jsx)(u.q,{label:f(g.a.month),style:{width:300},valueDefault:D.month,variant:"outlined",onChange:function(e){return w((function(t){return Object(n.a)(Object(n.a)({},t),{},{month:e.map((function(e){return e.val})).join()})}))},data:d.N,uset:!0,prefixTranslation:"month_",optionDesc:"val",optionValue:"val"}),Object(k.jsx)(s.a,{disabled:j.mainData.loading||C,variant:"contained",color:"primary",style:{width:120,backgroundColor:"#55BD84"},startIcon:Object(k.jsx)(q.a,{style:{color:"white"}}),onClick:function(){return K()},children:f(g.a.search)})]})},data:j.mainData.data,filterGeneral:!1,download:!0,loading:j.mainData.loading,register:!0,handleRegister:function(){H("view-2"),V({row:null,edit:!0})},pageSizeDefault:B===O.id?-1===O.pageSize?20:O.pageSize:20,initialPageIndex:B===O.id?-1===O.page?0:O.page:0,initialStateFilter:B===O.id?Object.entries(O.filters).map((function(e){var t=Object(i.a)(e,2);return{id:t[0],value:t[1]}})):void 0})}):"view-2"===A?Object(k.jsx)(W,{data:L,setViewSelected:H,fetchData:X,dataPlan:t}):null},W=function(e){var t,a,n,v,f,m=e.data,y=m.row,w=m.edit,S=e.setViewSelected,N=e.fetchData,C=(e.dataPlan,Object(o.c)()),q=Object(p.a)().t,_=E(),I=Object(c.b)((function(e){return e.main.execute})),T=Object(r.useState)(y?"".concat(y.year,"-").concat(String(y.month).padStart(2,"0")):"".concat(new Date((new Date).setDate(1)).getFullYear(),"-").concat(String(new Date((new Date).setDate(1)).getMonth()+1).padStart(2,"0"))),P=Object(i.a)(T,2),F=P[0],z=P[1],L=Object(r.useState)(!1),V=Object(i.a)(L,2),R=V[0],M=V[1],A=[{id:"view-1",name:q(g.a.messagingcost)},{id:"view-2",name:q(g.a.messagingcostdetail)}],H=Object(O.d)({defaultValues:{id:y?y.billingmessagingid:0,year:(null===y||void 0===y?void 0:y.year)||(new Date).getFullYear(),month:(null===y||void 0===y?void 0:y.month)||(new Date).getMonth()+1,pricepersms:(null===y||void 0===y?void 0:y.pricepersms)||0,vcacomissionpersms:(null===y||void 0===y?void 0:y.vcacomissionpersms)||0,pricepermail:(null===y||void 0===y?void 0:y.pricepermail)||0,vcacomissionpermail:(null===y||void 0===y?void 0:y.vcacomissionpermail)||0,description:(null===y||void 0===y?void 0:y.description)||"",status:y?y.status:"ACTIVO",type:y?y.type:"",operation:y?"UPDATE":"INSERT"}}),U=H.register,Y=H.handleSubmit,B=H.setValue,G=H.getValues,W=H.formState.errors;l.a.useEffect((function(){U("id"),U("year"),U("month"),U("pricepersms",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||q(g.a.field_required)}}),U("vcacomissionpersms",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||q(g.a.field_required)}}),U("pricepermail",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||q(g.a.field_required)}}),U("vcacomissionpermail",{validate:function(e){return(e||String(e))&&parseFloat(String(e))>=0||q(g.a.field_required)}}),U("description",{validate:function(e){return e&&e.length||q(g.a.field_required)}}),U("status"),U("type"),U("operation")}),[w,U]),Object(r.useEffect)((function(){if(R)if(I.loading||I.error){if(I.error){var e=q(I.code||"error_unexpected_error",{module:q(g.a.messagingcost).toLocaleLowerCase()});C(Object(h.e)({show:!0,severity:"error",message:e})),M(!1),C(Object(h.d)(!1))}}else C(Object(h.e)({show:!0,severity:"success",message:q(y?g.a.successful_edit:g.a.successful_register)})),N&&N(),C(Object(h.d)(!1)),S("view-1")}),[I,R]);var J=Y((function(e){C(Object(h.a)({visible:!0,question:q(g.a.confirmation_save),callback:function(){C(Object(b.c)(Object(d.i)(e))),C(Object(h.d)(!0)),M(!0)}}))}));return Object(k.jsx)("div",{style:{width:"100%"},children:Object(k.jsxs)("form",{onSubmit:J,children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(u.L,{breadcrumbs:A,handleClick:S}),Object(k.jsx)(u.R,{title:y?"".concat(y.description):q(g.a.newmessagingplan)})]}),Object(k.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[Object(k.jsx)(s.a,{variant:"contained",type:"button",color:"primary",startIcon:Object(k.jsx)(x.a,{color:"secondary"}),style:{backgroundColor:"#FB5F5F"},onClick:function(){return S("view-1")},children:q(g.a.back)}),w&&Object(k.jsx)(s.a,{className:_.button,variant:"contained",color:"primary",type:"submit",startIcon:Object(k.jsx)(j.a,{color:"secondary"}),style:{backgroundColor:"#55BD84"},children:q(g.a.save)})]})]}),Object(k.jsxs)("div",{className:_.containerDetail,children:[Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(D.a,{id:"date",className:"col-6",type:"month",variant:"outlined",onChange:function(e){return function(e){if(""!==e){var t=new Date(e+"-02"),a=(null===t||void 0===t?void 0:t.getMonth())+1,n=null===t||void 0===t?void 0:t.getFullYear();z("".concat(n,"-").concat(String(a).padStart(2,"0"))),B("year",n),B("month",a)}}(e.target.value)},value:F,size:"small"}),Object(k.jsx)(u.l,{className:"col-6",label:q(g.a.description),onChange:function(e){return B("description",e)},valueDefault:G("description"),error:null===W||void 0===W||null===(t=W.description)||void 0===t?void 0:t.message})]}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(u.v,{label:"",value:q(g.a.smssection),className:_.section})}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:q(g.a.pricepersms),onChange:function(e){return B("pricepersms",e)},valueDefault:G("pricepersms"),error:null===W||void 0===W||null===(a=W.pricepersms)||void 0===a?void 0:a.message,type:"number",className:"col-6",inputProps:{step:"any"}}),Object(k.jsx)(u.l,{label:q(g.a.vcacomissionpersms),onChange:function(e){return B("vcacomissionpersms",e)},valueDefault:G("vcacomissionpersms"),error:null===W||void 0===W||null===(n=W.vcacomissionpersms)||void 0===n?void 0:n.message,type:"number",className:"col-6",inputProps:{step:"any"}})]}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(u.v,{label:"",value:"*"+q(g.a.messagingcostsmsnote),className:_.commentary})}),Object(k.jsx)("div",{className:"row-zyx",children:Object(k.jsx)(u.v,{label:"",value:q(g.a.mailsection),className:_.section})}),Object(k.jsxs)("div",{className:"row-zyx",children:[Object(k.jsx)(u.l,{label:q(g.a.pricepermail),onChange:function(e){return B("pricepermail",e)},valueDefault:G("pricepermail"),error:null===W||void 0===W||null===(v=W.pricepermail)||void 0===v?void 0:v.message,type:"number",className:"col-6",inputProps:{step:"any"}}),Object(k.jsx)(u.l,{label:q(g.a.vcacomissionpermail),onChange:function(e){return B("vcacomissionpermail",e)},valueDefault:G("vcacomissionpermail"),error:null===W||void 0===W||null===(f=W.vcacomissionpermail)||void 0===f?void 0:f.message,type:"number",className:"col-6",inputProps:{step:"any"}})]})]})]})})};t.default=function(){var e=Object(o.c)(),t=Object(p.a)().t,a=Object(c.b)((function(e){return e.signup.countryList})),n=Object(c.b)((function(e){return e.main.multiData})),l=Object(c.b)((function(e){return e.login.validateToken.user})),s=Object(r.useState)([]),v=Object(i.a)(s,2),f=v[0],m=v[1],j=Object(r.useState)([]),O=Object(i.a)(j,2),h=O[0],y=O[1],x=Object(r.useState)([]),D=Object(i.a)(x,2),w=D[0],S=D[1],q=Object(r.useState)([]),_=Object(i.a)(q,2),E=_[0],T=_[1],F=Object(r.useState)([]),z=Object(i.a)(F,2),V=z[0],R=z[1],A=Object(r.useState)("SUPERADMIN"===(null===l||void 0===l?void 0:l.roledesc)?0:6),H=Object(i.a)(A,2),Y=H[0],B=H[1],W=Object(r.useState)(!1),J=Object(i.a)(W,2),K=J[0],Q=J[1];return Object(r.useEffect)((function(){!n.loading&&K&&(Q(!1),R(n.data[0]&&n.data[0].success?n.data[0].data:[]),T(n.data[3]&&n.data[3].success?n.data[3].data:[]),y(n.data[4]&&n.data[4].success?n.data[4].data:[]),m(n.data[5]&&n.data[5].success?n.data[5].data:[]))}),[n]),Object(r.useEffect)((function(){!a.loading&&a.data.length&&S(a.data)}),[a]),Object(r.useEffect)((function(){Q(!0),e(Object(C.c)()),e(Object(b.p)([Object(d.Qd)(),Object(d.zd)(0),Object(d.yc)(0),Object(d.Md)(),Object(d.c)({description:""}),Object(d.d)({provider:"",service:""})]))}),[]),Object(k.jsxs)("div",{style:{width:"100%"},children:[Object(k.jsxs)(N.a,{value:Y,indicatorColor:"primary",variant:"fullWidth",style:{borderBottom:"1px solid #EBEAED",backgroundColor:"#FFF",marginTop:8},textColor:"primary",onChange:function(e,t){return B(t)},children:["SUPERADMIN"===(null===l||void 0===l?void 0:l.roledesc)&&Object(k.jsx)(u.b,{label:t(g.a.billingsetupgeneralconfiguration)}),"SUPERADMIN"===(null===l||void 0===l?void 0:l.roledesc)&&Object(k.jsx)(u.b,{label:t(g.a.contractedplanbyperiod)}),"SUPERADMIN"===(null===l||void 0===l?void 0:l.roledesc)&&Object(k.jsx)(u.b,{label:t(g.a.conversationcost)}),"SUPERADMIN"===(null===l||void 0===l?void 0:l.roledesc)&&Object(k.jsx)(u.b,{label:t(g.a.billingsetup_artificialintelligence)}),"SUPERADMIN"===(null===l||void 0===l?void 0:l.roledesc)&&Object(k.jsx)(u.b,{label:t(g.a.messagingcost)}),"SUPERADMIN"===(null===l||void 0===l?void 0:l.roledesc)&&Object(k.jsx)(u.b,{label:t(g.a.supportplan)})]}),0===Y&&Object(k.jsx)("div",{style:{marginTop:16},children:Object(k.jsx)(I,{dataPlan:w})}),1===Y&&Object(k.jsx)("div",{style:{marginTop:16},children:Object(k.jsx)(P,{dataPlan:E})}),2===Y&&Object(k.jsx)("div",{style:{marginTop:16},children:Object(k.jsx)(L,{dataPlan:w})}),3===Y&&Object(k.jsx)("div",{style:{marginTop:16},children:Object(k.jsx)(M,{planData:h,providerData:f})}),4===Y&&Object(k.jsx)("div",{style:{marginTop:16},children:Object(k.jsx)(G,{dataPlan:w})}),5===Y&&Object(k.jsx)("div",{style:{marginTop:16},children:Object(k.jsx)(U,{dataPlan:V})})]})}},778:function(e,t,a){"use strict";var n=a(45),i=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),l=(0,n(a(62)).default)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=l},780:function(e,t,a){"use strict";var n=a(45),i=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),l=(0,n(a(62)).default)(r.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=l},814:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return s}));var n=a(28),i=a(47),r=function(e){return{callAPI:function(){return n.d.execSub(e)},types:{loading:i.a.SIGNUP,success:i.a.SIGNUP_SUCCESS,failure:i.a.SIGNUP_FAILURE},type:null}},l=function(e){return{callAPI:function(){return n.d.validateNewUser(e)},types:{loading:i.a.ISVALID,success:i.a.ISVALID_SUCCESS,failure:i.a.ISVALID_FAILURE},type:null}},c=function(e){return{callAPI:function(){return n.d.vrfplan(e)},types:{loading:i.a.VERIFYPLAN,success:i.a.VERIFYPLAN_SUCCESS,failure:i.a.VERIFYPLAN_FAILURE},type:null}},o=function(){return{callAPI:function(){return n.d.getCurrencyList()},types:{loading:i.a.CURRENCYLIST,success:i.a.CURRENCYLIST_SUCCESS,failure:i.a.CURRENCYLIST_FAILURE},type:null}},s=function(){return{callAPI:function(){return n.d.getCountryList()},types:{loading:i.a.COUNTRYLIST,success:i.a.COUNTRYLIST_SUCCESS,failure:i.a.COUNTRYLIST_FAILURE},type:null}}},830:function(e,t,a){"use strict";var n=a(0),i=a(43);t.a=Object(i.a)(n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search")}}]);
//# sourceMappingURL=59.f82b3c7e.chunk.js.map