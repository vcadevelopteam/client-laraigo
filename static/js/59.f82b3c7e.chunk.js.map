{"version":3,"sources":["pages/BillingSetups.tsx","../node_modules/@material-ui/icons/Clear.js","../node_modules/@material-ui/icons/Save.js","store/signup/actions.ts","../node_modules/@material-ui/icons/esm/Search.js"],"names":["useStyles","makeStyles","theme","containerDetail","marginTop","spacing","padding","background","button","fontWeight","fontSize","textTransform","mb2","marginBottom","itemDate","minHeight","height","border","borderRadius","width","color","fieldsfilter","transparent","commentary","fontStyle","section","GeneralConfiguration","dataPlan","dispatch","useDispatch","t","useTranslation","classes","executeResult","useSelector","state","main","execute","mainResult","multiResult","multiDataAux","useState","showCountry","setShowCountry","blockUbigee","setBlockUbigee","loading","data","domainCurrency","setDomainCurrency","domainDocument","setDomainDocument","domainInvoiceProvider","setDomainInvoiceProvider","domainPaymentProvider","setDomainPaymentProvider","domainPrinting","setDomainPrinting","waitSave","setWaitSave","fetchData","getCollection","getAppsettingInvoiceSel","fields","setFields","useEffect","getMultiCollectionAux","getValuesFromDomainCorp","mainData","showBackdrop","setValue","ruc","businessname","tradename","fiscaladdress","ubigeo","country","emittertype","currency","invoiceserie","invoicecorrelative","annexcode","igv","printingformat","xmlversion","ublversion","returnpdf","returnxmlsunat","returnxml","invoiceprovider","sunaturl","token","sunatusername","paymentprovider","publickey","privatekey","ticketserie","ticketcorrelative","invoicecreditserie","invoicecreditcorrelative","ticketcreditserie","ticketcreditcorrelative","detraction","detractioncode","detractionaccount","detractionminimum","operationcodeperu","operationcodeother","culqiurl","culqiurlcardcreate","culqiurlclient","culqiurltoken","culqiurlcharge","culqiurlcardget","culqiurlcarddelete","indexDomainCurrency","findIndex","x","key","success","indexDomainDocument","indexDomainInvoiceProvider","indexDomainPaymentProvider","indexDomainPrinting","error","showSnackbar","show","severity","message","code","langKeys","successful_edit","useForm","defaultValues","register","handleSubmit","getValues","errors","formState","React","validate","value","length","field_required","onSubmit","manageConfirmation","visible","question","confirmation_save","callback","updateAppsettingInvoice","style","display","justifyContent","gap","alignItems","className","variant","type","startIcon","backgroundColor","save","paddingBottom","billingsetupgeneralinformation","label","billingsetupruc","valueDefault","onChange","billingcompanyname","billingcommercialname","billingfiscaladdress","billingubigeocode","disabled","billingcountry","optionDesc","optionValue","orderbylabel","billingsetupbillinginformation","billingemittertype","domainvalue","uset","prefixTranslation","billingcurrency","billingserial","billingcorrelative","inputProps","step","ticketserial","invoicecreditserial","ticketcreditserial","billingannexcode","billingtax","billingprintingformat","billingxmlversion","billingublversion","billingreturnpdf","billingreturncsv","billingreturnxml","billingsetupsunatinformation","billinginvoiceprovider","billingapiendpoint","billingtoken","billingusername","billingsetuppaymentinformation","billingpaymentprovider","billingpaymentendpoint","billingpublickey","billingprivatekey","IDCONTRACTEDPLAN","ContractedPlanByPeriod","memoryTable","plan","year","String","Date","getFullYear","month","getMonth","toString","padStart","dataMain","setdataMain","disableSearch","setdisableSearch","duplicateop","setduplicateop","row","edit","rowSelected","setRowSelected","viewSelected","setViewSelected","search","getBillingConfigurationSel","setMemoryTable","id","cleanMemoryTable","columns","useMemo","accessor","isComponent","minWidth","Cell","props","cell","original","deleteFunction","handleDelete","editFunction","handleEdit","Header","costbasedonthecontractedplan","sortType","basicfee","formatNumber","numberofagentshired","userfreequantity","formatNumberNoDecimals","useradditionalfee","formatNumberFourDecimals","allowuseroverride","NoFilter","editable","maxWidth","usercreateoverride","yes","channelfreequantity","contractedplanchannelotherfee","channelotherfee","channelwhatsappfee","contractedplanfreewhatsappchannel","freewhatsappchannel","contractedplanfreewhatsappconversation","whatsappconversationfreequantity","allowchanneloverride","channelcreateoverride","clientfreequantity","clientadditionalfee","allowhsm","vcacomissionperhsm","vcacomissionpervoicechannel","errormessage","module","billingplan","toLocaleLowerCase","successful_duplicate","successful_delete","confirmation_delete","billingConfigurationIns","operation","status","billingconfigurationid","onClickRow","ButtonsElement","flexWrap","prev","dataYears","map","o","val","join","dataMonths","onClick","filterGeneral","download","handleRegister","pageSizeDefault","pageSize","initialPageIndex","page","initialStateFilter","Object","entries","filters","undefined","DetailContractedPlanByPeriod","executeRes","setDate","datetoshow","setdatetoshow","checkedaux","setCheckedaux","checkeduser","setCheckeduser","checkedchannel","setCheckedchannel","arrayBreadContractedPlan","name","contractedplan","contractedplandetail","hsmfee","description","parseFloat","successful_register","breadcrumbs","handleClick","title","newcontractedplanbyperiod","back","e","datetochange","mes","handleDateChange","target","size","lineHeight","mb","paddingLeft","control","checked","IDCONVERSATIONCOST","ConversationCost","countrycode","getBillingConversationSel","coststartedbycompany","companystartfee","customerinitiatedcost","clientstartfee","conversationcost","billingConversationIns","billingconversationid","DetailConversationCost","arrayBreadConversationCost","conversationcostdetail","vcacomission","freeconversations","newconversationplan","costcommentary","IDARTIFICIALINTELLIGENCE","ArtificialIntelligence","providerData","planData","provider","providerCombo","setProviderCombo","typeCombo","setTypeCombo","planCombo","setPlanCombo","billingArtificialIntelligenceSel","filter","elem","index","self","billingsetup_provider","billingsetup_service","billingsetup_measureunit","billingsetup_plan","billingsetup_minimuminteractions","freeinteractions","billingsetup_baseprice","billingsetup_additionalprice","additionalfee","supportplan","billingArtificialIntelligenceIns","billingartificialintelligenceid","DetailArtificialIntelligence","arrayBread","billingsetup_artificialintelligence","billingsetup_artificialintelligencedetail","measureunit","charlimit","trigger","billingsetup_artificialintelligencenew","billingsetup_ai","v","i","a","v2","IDSUPPORTPLAN","SupportPlan","getBillingSupportSel","supportprice","starttime","finishtime","billingSupportIns","billingsupportid","DetailSupportPlan","supportplandetail","startdate","enddate","getTime","newsupportplan","IDMESSAGINGCOST","MessagingCost","getBillingMessagingSel","pricepersms","vcacomissionpersms","pricepermail","vcacomissionpermail","messagingcost","billingMessagingIns","billingmessagingid","DetailMessagingCost","messagingcostdetail","newmessagingplan","smssection","messagingcostsmsnote","mailsection","BillingSetup","countryListreq","signup","countryList","multiData","user","login","validateToken","providerList","setProviderList","planList","setPlanList","setcountryList","dataPaymentPlan","setdataPaymentPlan","setdataPlan","roledesc","pageSelected","setPageSelected","sentfirstinfo","setsentfirstinfo","getCountryList","getMultiCollection","getPlanSel","getOrgSelList","getCorpSel","getPaymentPlanSel","artificialIntelligencePlanSel","artificialIntelligenceServiceSel","service","indicatorColor","borderBottom","textColor","_","billingsetupgeneralconfiguration","contractedplanbyperiod","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","exports","default","_default","createElement","d","executeSubscription","requestBody","callAPI","ChannelsService","execSub","types","actionTypes","SIGNUP","SIGNUP_SUCCESS","failure","SIGNUP_FAILURE","executeCheckNewUser","validateNewUser","ISVALID","ISVALID_SUCCESS","ISVALID_FAILURE","verifyPlan","accessToken","vrfplan","VERIFYPLAN","VERIFYPLAN_SUCCESS","VERIFYPLAN_FAILURE","getCurrencyList","CURRENCYLIST","CURRENCYLIST_SUCCESS","CURRENCYLIST_FAILURE","COUNTRYLIST","COUNTRYLIST_SUCCESS","COUNTRYLIST_FAILURE","createSvgIcon"],"mappings":"+WA+CMA,EAAYC,aAAW,SAACC,GAAK,MAAM,CACrCC,gBAAiB,CACbC,UAAWF,EAAMG,QAAQ,GACzBC,QAASJ,EAAMG,QAAQ,GACvBE,WAAY,QAEhBC,OAAQ,CACJF,QAAS,GACTG,WAAY,IACZC,SAAU,OACVC,cAAe,WAEnBC,IAAK,CACDC,aAAcX,EAAMG,QAAQ,IAEhCS,SAAU,CACNC,UAAW,GACXC,OAAQ,GACRC,OAAQ,oBACRC,aAAc,EACdC,MAAO,OACPC,MAAO,sBAEXC,aAAc,CACVF,MAAO,KAEXG,YAAa,CACTF,MAAO,eAEXG,WAAY,CACRC,UAAW,UAEfC,QAAS,CACLhB,WAAY,YAIdiB,EAAoD,SAAH,GAAsB,IAAD,0FAAfC,GAAQ,EAARA,SACnDC,GAAWC,cAETC,GAAMC,cAAND,EAEFE,GAAUhC,IACViC,GAAgBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAChDC,GAAaJ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACxCG,GAAcL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKI,gBAEpD,GAAsCC,oBAAS,GAAM,qBAA9CC,GAAW,MAAEC,GAAc,MAClC,GAAsCF,oBAAS,GAAM,qBAA9CG,GAAW,MAAEC,GAAc,MAClC,GAA4CJ,mBAAmD,CAAEK,SAAS,EAAOC,KAAM,KAAK,qBAArHC,GAAc,MAAEC,GAAiB,MACxC,GAA4CR,mBAAmD,CAAEK,SAAS,EAAOC,KAAM,KAAK,qBAArHG,GAAc,MAAEC,GAAiB,MACxC,GAA0DV,mBAAmD,CAAEK,SAAS,EAAOC,KAAM,KAAK,qBAAnIK,GAAqB,MAAEC,GAAwB,MACtD,GAA0DZ,mBAAmD,CAAEK,SAAS,EAAOC,KAAM,KAAK,qBAAnIO,GAAqB,MAAEC,GAAwB,MACtD,GAA4Cd,mBAAmD,CAAEK,SAAS,EAAOC,KAAM,KAAK,qBAArHS,GAAc,MAAEC,GAAiB,MACxC,GAAgChB,oBAAS,GAAM,qBAAxCiB,GAAQ,MAAEC,GAAW,MAEtBC,GAAY,WACdjB,IAAe,GACff,GAASiC,YAAcC,kBAG3B,GAA4BrB,mBAAS,CACjC,IAAO,GACP,aAAgB,GAChB,UAAa,GACb,cAAiB,GACjB,OAAU,GACV,QAAW,GACX,YAAe,GACf,SAAY,GACZ,aAAgB,GAChB,mBAAsB,EACtB,UAAa,GACb,IAAO,EACP,eAAkB,GAClB,WAAc,GACd,WAAc,GACd,WAAa,EACb,gBAAkB,EAClB,WAAa,EACb,gBAAmB,GACnB,SAAY,GACZ,MAAS,GACT,cAAiB,GACjB,gBAAmB,GACnB,UAAa,GACb,WAAc,GACd,YAAe,GACf,kBAAqB,EACrB,mBAAsB,GACtB,yBAA4B,EAC5B,kBAAqB,GACrB,wBAA2B,EAC3B,WAAc,EACd,eAAkB,GAClB,kBAAqB,GACrB,kBAAqB,EACrB,kBAAqB,GACrB,mBAAsB,GACtB,SAAY,GACZ,mBAAsB,GACtB,eAAkB,GAClB,cAAiB,GACjB,eAAkB,GAClB,gBAAmB,GACnB,mBAAsB,KACxB,qBA7CKsB,GAAM,MAAEC,GAAS,MA+CxBC,qBAAU,WACNL,KAEAX,GAAkB,CAAEH,SAAS,EAAMC,KAAM,KACzCI,GAAkB,CAAEL,SAAS,EAAMC,KAAM,KACzCM,GAAyB,CAAEP,SAAS,EAAMC,KAAM,KAChDQ,GAAyB,CAAET,SAAS,EAAMC,KAAM,KAChDU,GAAkB,CAAEX,SAAS,EAAMC,KAAM,KAEzCnB,GAASsC,YAAsB,CAC3BC,aAAwB,kBAAmB,YAAa,EAAG,GAC3DA,aAAwB,sBAAuB,YAAa,EAAG,GAC/DA,aAAwB,yBAA0B,mBAAoB,EAAG,GACzEA,aAAwB,yBAA0B,mBAAoB,EAAG,GACzEA,aAAwB,kBAAmB,YAAa,EAAG,QAEhE,IAEHF,qBAAU,WACD3B,GAAW8B,SAAStB,QA2GrBH,IAAe,IA1Gff,GAASyC,aAAa,IAClB/B,GAAW8B,SAASrB,MAChBT,GAAW8B,SAASrB,KAAK,IACzBuB,GAAS,MAAOhC,GAAW8B,SAASrB,KAAK,GAAGwB,KAC5CD,GAAS,eAAgBhC,GAAW8B,SAASrB,KAAK,GAAGyB,cACrDF,GAAS,YAAahC,GAAW8B,SAASrB,KAAK,GAAG0B,WAClDH,GAAS,gBAAiBhC,GAAW8B,SAASrB,KAAK,GAAG2B,eACtDJ,GAAS,SAAUhC,GAAW8B,SAASrB,KAAK,GAAG4B,QAC/CL,GAAS,UAAWhC,GAAW8B,SAASrB,KAAK,GAAG6B,SAChDN,GAAS,cAAehC,GAAW8B,SAASrB,KAAK,GAAG8B,aACpDP,GAAS,WAAYhC,GAAW8B,SAASrB,KAAK,GAAG+B,UACjDR,GAAS,eAAgBhC,GAAW8B,SAASrB,KAAK,GAAGgC,cACrDT,GAAS,qBAAsBhC,GAAW8B,SAASrB,KAAK,GAAGiC,oBAC3DV,GAAS,YAAahC,GAAW8B,SAASrB,KAAK,GAAGkC,WAClDX,GAAS,MAAOhC,GAAW8B,SAASrB,KAAK,GAAGmC,KAC5CZ,GAAS,iBAAkBhC,GAAW8B,SAASrB,KAAK,GAAGoC,gBACvDb,GAAS,aAAchC,GAAW8B,SAASrB,KAAK,GAAGqC,YACnDd,GAAS,aAAchC,GAAW8B,SAASrB,KAAK,GAAGsC,YACnDf,GAAS,YAAahC,GAAW8B,SAASrB,KAAK,GAAGuC,WAClDhB,GAAS,iBAAkBhC,GAAW8B,SAASrB,KAAK,GAAGwC,gBACvDjB,GAAS,YAAahC,GAAW8B,SAASrB,KAAK,GAAGyC,WAClDlB,GAAS,kBAAmBhC,GAAW8B,SAASrB,KAAK,GAAG0C,iBACxDnB,GAAS,WAAYhC,GAAW8B,SAASrB,KAAK,GAAG2C,UACjDpB,GAAS,QAAShC,GAAW8B,SAASrB,KAAK,GAAG4C,OAC9CrB,GAAS,gBAAiBhC,GAAW8B,SAASrB,KAAK,GAAG6C,eACtDtB,GAAS,kBAAmBhC,GAAW8B,SAASrB,KAAK,GAAG8C,iBACxDvB,GAAS,YAAahC,GAAW8B,SAASrB,KAAK,GAAG+C,WAClDxB,GAAS,aAAchC,GAAW8B,SAASrB,KAAK,GAAGgD,YACnDzB,GAAS,cAAehC,GAAW8B,SAASrB,KAAK,GAAGiD,aACpD1B,GAAS,oBAAqBhC,GAAW8B,SAASrB,KAAK,GAAGkD,mBAC1D3B,GAAS,qBAAsBhC,GAAW8B,SAASrB,KAAK,GAAGmD,oBAC3D5B,GAAS,2BAA4BhC,GAAW8B,SAASrB,KAAK,GAAGoD,0BACjE7B,GAAS,oBAAqBhC,GAAW8B,SAASrB,KAAK,GAAGqD,mBAC1D9B,GAAS,0BAA2BhC,GAAW8B,SAASrB,KAAK,GAAGsD,yBAChE/B,GAAS,aAAchC,GAAW8B,SAASrB,KAAK,GAAGuD,YACnDhC,GAAS,iBAAkBhC,GAAW8B,SAASrB,KAAK,GAAGwD,gBACvDjC,GAAS,oBAAqBhC,GAAW8B,SAASrB,KAAK,GAAGyD,mBAC1DlC,GAAS,oBAAqBhC,GAAW8B,SAASrB,KAAK,GAAG0D,mBAC1DnC,GAAS,oBAAqBhC,GAAW8B,SAASrB,KAAK,GAAG2D,mBAC1DpC,GAAS,qBAAsBhC,GAAW8B,SAASrB,KAAK,GAAG4D,oBAC3DrC,GAAS,WAAYhC,GAAW8B,SAASrB,KAAK,GAAG6D,UACjDtC,GAAS,qBAAsBhC,GAAW8B,SAASrB,KAAK,GAAG8D,oBAC3DvC,GAAS,iBAAkBhC,GAAW8B,SAASrB,KAAK,GAAG+D,gBACvDxC,GAAS,gBAAiBhC,GAAW8B,SAASrB,KAAK,GAAGgE,eACtDzC,GAAS,iBAAkBhC,GAAW8B,SAASrB,KAAK,GAAGiE,gBACvD1C,GAAS,kBAAmBhC,GAAW8B,SAASrB,KAAK,GAAGkE,iBACxD3C,GAAS,qBAAsBhC,GAAW8B,SAASrB,KAAK,GAAGmE,oBAE3DlD,GAAU,CACN,IAAO1B,GAAW8B,SAASrB,KAAK,GAAGwB,IACnC,aAAgBjC,GAAW8B,SAASrB,KAAK,GAAGyB,aAC5C,UAAalC,GAAW8B,SAASrB,KAAK,GAAG0B,UACzC,cAAiBnC,GAAW8B,SAASrB,KAAK,GAAG2B,cAC7C,OAAUpC,GAAW8B,SAASrB,KAAK,GAAG4B,OACtC,QAAWrC,GAAW8B,SAASrB,KAAK,GAAG6B,QACvC,YAAetC,GAAW8B,SAASrB,KAAK,GAAG8B,YAC3C,SAAYvC,GAAW8B,SAASrB,KAAK,GAAG+B,SACxC,aAAgBxC,GAAW8B,SAASrB,KAAK,GAAGgC,aAC5C,mBAAsBzC,GAAW8B,SAASrB,KAAK,GAAGiC,mBAClD,UAAa1C,GAAW8B,SAASrB,KAAK,GAAGkC,UACzC,IAAO3C,GAAW8B,SAASrB,KAAK,GAAGmC,IACnC,eAAkB5C,GAAW8B,SAASrB,KAAK,GAAGoC,eAC9C,WAAc7C,GAAW8B,SAASrB,KAAK,GAAGqC,WAC1C,WAAc9C,GAAW8B,SAASrB,KAAK,GAAGsC,WAC1C,UAAa/C,GAAW8B,SAASrB,KAAK,GAAGuC,UACzC,eAAkBhD,GAAW8B,SAASrB,KAAK,GAAGwC,eAC9C,UAAajD,GAAW8B,SAASrB,KAAK,GAAGyC,UACzC,gBAAmBlD,GAAW8B,SAASrB,KAAK,GAAG0C,gBAC/C,SAAYnD,GAAW8B,SAASrB,KAAK,GAAG2C,SACxC,MAASpD,GAAW8B,SAASrB,KAAK,GAAG4C,MACrC,cAAiBrD,GAAW8B,SAASrB,KAAK,GAAG6C,cAC7C,gBAAmBtD,GAAW8B,SAASrB,KAAK,GAAG8C,gBAC/C,UAAavD,GAAW8B,SAASrB,KAAK,GAAG+C,UACzC,WAAcxD,GAAW8B,SAASrB,KAAK,GAAGgD,WAC1C,YAAezD,GAAW8B,SAASrB,KAAK,GAAGiD,YAC3C,kBAAqB1D,GAAW8B,SAASrB,KAAK,GAAGkD,kBACjD,mBAAsB3D,GAAW8B,SAASrB,KAAK,GAAGmD,mBAClD,yBAA4B5D,GAAW8B,SAASrB,KAAK,GAAGoD,yBACxD,kBAAqB7D,GAAW8B,SAASrB,KAAK,GAAGqD,kBACjD,wBAA2B9D,GAAW8B,SAASrB,KAAK,GAAGsD,wBACvD,WAAc/D,GAAW8B,SAASrB,KAAK,GAAGuD,WAC1C,eAAkBhE,GAAW8B,SAASrB,KAAK,GAAGwD,eAC9C,kBAAqBjE,GAAW8B,SAASrB,KAAK,GAAGyD,kBACjD,kBAAqBlE,GAAW8B,SAASrB,KAAK,GAAG0D,kBACjD,kBAAqBnE,GAAW8B,SAASrB,KAAK,GAAG2D,kBACjD,mBAAsBpE,GAAW8B,SAASrB,KAAK,GAAG4D,mBAClD,SAAYrE,GAAW8B,SAASrB,KAAK,GAAG6D,SACxC,mBAAsBtE,GAAW8B,SAASrB,KAAK,GAAG8D,mBAClD,eAAkBvE,GAAW8B,SAASrB,KAAK,GAAG+D,eAC9C,cAAiBxE,GAAW8B,SAASrB,KAAK,GAAGgE,cAC7C,eAAkBzE,GAAW8B,SAASrB,KAAK,GAAGiE,eAC9C,gBAAmB1E,GAAW8B,SAASrB,KAAK,GAAGkE,gBAC/C,mBAAsB3E,GAAW8B,SAASrB,KAAK,GAAGmE,qBAGtDvE,IAAe,IAOnBA,IAAe,MAMxB,CAACL,KAEJ2B,qBAAU,WACN,IAAMkD,EAAsB5E,GAAYQ,KAAKqE,WAAU,SAACC,GAAY,MAAgB,oCAAXA,EAAEC,OAEvEH,GAAuB,GACvBlE,GAAkB,CAAEH,SAAS,EAAOC,KAAMR,GAAYQ,KAAKoE,IAAwB5E,GAAYQ,KAAKoE,GAAqBI,QAAUhF,GAAYQ,KAAKoE,GAAqBpE,KAAO,KAGpL,IAAMyE,EAAsBjF,GAAYQ,KAAKqE,WAAU,SAACC,GAAY,MAAgB,oCAAXA,EAAEC,OAEvEE,GAAuB,GACvBrE,GAAkB,CAAEL,SAAS,EAAOC,KAAMR,GAAYQ,KAAKyE,IAAwBjF,GAAYQ,KAAKyE,GAAqBD,QAAUhF,GAAYQ,KAAKyE,GAAqBzE,KAAO,KAGpL,IAAM0E,EAA6BlF,GAAYQ,KAAKqE,WAAU,SAACC,GAAY,MAAgB,2CAAXA,EAAEC,OAE9EG,GAA8B,GAC9BpE,GAAyB,CAAEP,SAAS,EAAOC,KAAMR,GAAYQ,KAAK0E,IAA+BlF,GAAYQ,KAAK0E,GAA4BF,QAAUhF,GAAYQ,KAAK0E,GAA4B1E,KAAO,KAGhN,IAAM2E,EAA6BnF,GAAYQ,KAAKqE,WAAU,SAACC,GAAY,MAAgB,2CAAXA,EAAEC,OAE9EI,GAA8B,GAC9BnE,GAAyB,CAAET,SAAS,EAAOC,KAAMR,GAAYQ,KAAK2E,IAA+BnF,GAAYQ,KAAK2E,GAA4BH,QAAUhF,GAAYQ,KAAK2E,GAA4B3E,KAAO,KAGhN,IAAM4E,EAAsBpF,GAAYQ,KAAKqE,WAAU,SAACC,GAAY,MAAgB,oCAAXA,EAAEC,OAEvEK,GAAuB,GACvBlE,GAAkB,CAAEX,SAAS,EAAOC,KAAMR,GAAYQ,KAAK4E,IAAwBpF,GAAYQ,KAAK4E,GAAqBJ,QAAUhF,GAAYQ,KAAK4E,GAAqB5E,KAAO,OAErL,CAACR,KAEJ0B,qBAAU,WACFP,KACKzB,GAAca,SAAYb,GAAc2F,MAKpC3F,GAAc2F,QACnBhG,GAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASlG,GAAEG,GAAcgG,MAAQ,gCACxFtE,IAAY,GACZ/B,GAASyC,aAAa,MAPtBzC,GAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,GAAEoG,IAASC,oBAC7EvE,KACAhC,GAASyC,aAAa,QAQ/B,CAACpC,GAAeyB,KAEnB,OAA+E0E,YAAQ,CACnFC,cAAe,CACX9D,IAAKR,GAAOQ,IACZC,aAAcT,GAAOS,aACrBC,UAAWV,GAAOU,UAClBC,cAAeX,GAAOW,cACtBC,OAAQZ,GAAOY,OACfC,QAASb,GAAOa,QAChBC,YAAad,GAAOc,YACpBC,SAAUf,GAAOe,SACjBC,aAAchB,GAAOgB,aACrBC,mBAAoBjB,GAAOiB,mBAC3BC,UAAWlB,GAAOkB,UAClBC,IAAKnB,GAAOmB,IACZC,eAAgBpB,GAAOoB,eACvBC,WAAYrB,GAAOqB,WACnBC,WAAYtB,GAAOsB,WACnBC,UAAWvB,GAAOuB,UAClBC,eAAgBxB,GAAOwB,eACvBC,UAAWzB,GAAOyB,UAClBC,gBAAiB1B,GAAO0B,gBACxBC,SAAU3B,GAAO2B,SACjBC,MAAO5B,GAAO4B,MACdC,cAAe7B,GAAO6B,cACtBC,gBAAiB9B,GAAO8B,gBACxBC,UAAW/B,GAAO+B,UAClBC,WAAYhC,GAAOgC,WACnBC,YAAajC,GAAOiC,YACpBC,kBAAmBlC,GAAOkC,kBAC1BC,mBAAoBnC,GAAOmC,mBAC3BC,yBAA0BpC,GAAOoC,yBACjCC,kBAAmBrC,GAAOqC,kBAC1BC,wBAAyBtC,GAAOsC,wBAChCC,WAAYvC,GAAOuC,WACnBC,eAAgBxC,GAAOwC,eACvBC,kBAAmBzC,GAAOyC,kBAC1BC,kBAAmB1C,GAAO0C,kBAC1BC,kBAAmB3C,GAAO2C,kBAC1BC,mBAAoB5C,GAAO4C,mBAC3BC,SAAU7C,GAAO6C,SACjBC,mBAAoB9C,GAAO8C,mBAC3BC,eAAgB/C,GAAO+C,eACvBC,cAAehD,GAAOgD,cACtBC,eAAgBjD,GAAOiD,eACvBC,gBAAiBlD,GAAOkD,gBACxBC,mBAAoBnD,GAAOmD,sBA7C3BoB,GAAQ,GAARA,SAAUC,GAAY,GAAZA,aAAcjE,GAAQ,GAARA,SAAUkE,GAAS,GAATA,UAAwBC,GAAM,GAAnBC,UAAaD,OAgDlEE,IAAM1E,WAAU,WACZqE,GAAS,MAAO,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACtFT,GAAS,eAAgB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC/FT,GAAS,YAAa,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC5FT,GAAS,gBAAiB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAChGT,GAAS,SAAU,CAAEM,SAAU,SAACC,GAAK,MAA8B,OAAzBL,GAAU,aAAyBK,GAASA,EAAMC,OAAS,GAAO,GAAKhH,GAAEoG,IAASa,oBAC5HT,GAAS,UAAW,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC1FT,GAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC9FT,GAAS,WAAY,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC3FT,GAAS,eAAgB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC/FT,GAAS,sBACTA,GAAS,YAAa,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC5FT,GAAS,OACTA,GAAS,aACTA,GAAS,kBACTA,GAAS,aACTA,GAAS,iBAAkB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACjGT,GAAS,aAAc,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC7FT,GAAS,aAAc,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC7FT,GAAS,kBAAmB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAClGT,GAAS,WAAY,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC3FT,GAAS,QAAS,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACxFT,GAAS,iBACTA,GAAS,kBAAmB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAClGT,GAAS,YAAa,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC5FT,GAAS,aAAc,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC7FT,GAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC9FT,GAAS,qBACTA,GAAS,qBAAsB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACrGT,GAAS,4BACTA,GAAS,oBAAqB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACpGT,GAAS,2BACTA,GAAS,cACTA,GAAS,iBAAkB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACjGT,GAAS,oBAAqB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACpGT,GAAS,qBACTA,GAAS,oBAAqB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACpGT,GAAS,qBAAsB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACrGT,GAAS,WAAY,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAC3FT,GAAS,qBAAsB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACrGT,GAAS,iBAAkB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACjGT,GAAS,gBAAiB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAChGT,GAAS,iBAAkB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBACjGT,GAAS,kBAAmB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,mBAClGT,GAAS,qBAAsB,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,OAAS,GAAM,GAAKhH,GAAEoG,IAASa,qBACtG,CAACT,KAEJ,IAAMU,GAAWT,IAAa,SAACxF,GAM3BnB,GAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,GAAEoG,IAASkB,mBACrBC,SARa,WACbzH,GAASS,YAAQiH,aAAwBvG,KACzCnB,GAASyC,aAAa,IACtBV,IAAY,UASpB,OACI,qBAAK4F,MAAO,CAAEpI,MAAO,QAAS,SAC1B,uBAAM6H,SAAUA,GAAS,UACrB,qBAAKO,MAAO,CAAEC,QAAS,OAAQC,eAAgB,OAAQ,SACnD,qBAAKF,MAAO,CAAEC,QAAS,OAAQE,IAAK,OAAQC,WAAY,UAAW,SAC/D,cAAC,IAAM,CACHC,UAAW5H,GAAQxB,OACnBqJ,QAAQ,YACRzI,MAAM,UACN0I,KAAK,SACLC,UAAW,cAAC,IAAQ,CAAC3I,MAAM,cAC3BmI,MAAO,CAAES,gBAAiB,WAAY,SACxClI,GAAEoG,IAAS+B,YAIrB,sBAAKL,UAAW5H,GAAQ7B,gBAAgB,UACpC,cAAC,IAAU,CAACoJ,MAAO,CAAE7I,SAAU,GAAIwJ,cAAe,QAAU9I,MAAM,cAAa,SAAEU,GAAEoG,IAASiC,kCAE5F,sBAAKP,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASmC,iBAClBT,UAAU,QACVU,aAAc9B,GAAU,OACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,MAAOuE,IACrCjB,MAAa,OAANa,SAAM,IAANA,IAAW,QAAL,EAANA,GAAQlE,WAAG,WAAL,EAAN,EAAayD,UAExB,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASsC,oBAClBZ,UAAU,QACVU,aAAc9B,GAAU,gBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,eAAgBuE,IAC9CjB,MAAa,OAANa,SAAM,IAANA,IAAoB,QAAd,EAANA,GAAQjE,oBAAY,WAAd,EAAN,EAAsBwD,aAGrC,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASuC,uBAClBb,UAAU,QACVU,aAAc9B,GAAU,aACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,YAAauE,IAC3CjB,MAAa,OAANa,SAAM,IAANA,IAAiB,QAAX,EAANA,GAAQhE,iBAAS,WAAX,EAAN,EAAmBuD,UAE9B,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASwC,sBAClBd,UAAU,QACVU,aAAc9B,GAAU,iBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,gBAAiBuE,IAC/CjB,MAAa,OAANa,SAAM,IAANA,IAAqB,QAAf,EAANA,GAAQ/D,qBAAa,WAAf,EAAN,EAAuBsD,aAGtC,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASyC,mBAClBf,UAAU,QACVU,aAAc9B,GAAU,UACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,SAAUuE,IACxCjB,MAAa,OAANa,SAAM,IAANA,IAAc,QAAR,EAANA,GAAQ9D,cAAM,WAAR,EAAN,EAAgBqD,QACvB4C,SAAUhI,KAEbF,GAAc,cAAC,IAAW,CACvB0H,MAAOtI,GAAEoG,IAAS2C,gBAClBjB,UAAU,QACVU,aAAc9B,GAAU,WACxB+B,SAAU,SAAC1B,GAAYvE,GAAS,UAAgB,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAOZ,MAA2B,QAAX,OAALY,QAAK,IAALA,OAAK,EAALA,EAAOZ,OAAiB3D,GAAS,SAAU,IAAKzB,IAAe,IAAgBA,IAAe,IAC3J+E,MAAa,OAANa,SAAM,IAANA,IAAe,QAAT,EAANA,GAAQ7D,eAAO,WAAT,EAAN,EAAiBoD,QACxBjF,KAAMpB,GACNmJ,WAAW,cACXC,YAAY,OACZC,cAAc,IACb,cAAC,IAAS,CACXZ,MAAOtI,GAAEoG,IAAS2C,gBAClBjB,UAAU,QACVU,aAAc,GACd1C,MAAa,OAANa,SAAM,IAANA,IAAe,QAAT,EAANA,GAAQ7D,eAAO,WAAT,EAAN,EAAiBoD,QACxB4C,UAAU,UAItB,sBAAKhB,UAAW5H,GAAQ7B,gBAAgB,UACpC,cAAC,IAAU,CAACoJ,MAAO,CAAE7I,SAAU,GAAIwJ,cAAe,QAAU9I,MAAM,cAAa,SAAEU,GAAEoG,IAAS+C,kCAE5F,sBAAKrB,UAAU,UAAS,UACpB,cAAC,IAAW,CACRQ,MAAOtI,GAAEoG,IAASgD,oBAClBpI,QAASI,GAAeJ,QACxB8G,UAAU,QACVU,aAAc9B,GAAU,eACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,cAAoB,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAOsC,cACpDvD,MAAa,OAANa,SAAM,IAANA,IAAmB,QAAb,EAANA,GAAQ5D,mBAAW,WAAb,EAAN,EAAqBmD,QAC5BjF,KAAMG,GAAeH,KACrB+H,WAAW,aACXC,YAAY,cACZK,MAAM,EACNC,kBAAkB,gBAClBL,cAAc,IAElB,cAAC,IAAW,CACRZ,MAAOtI,GAAEoG,IAASoD,iBAClBxI,QAASE,GAAeF,QACxB8G,UAAU,QACVU,aAAc9B,GAAU,YACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,WAAiB,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAOsC,cACjDvD,MAAa,OAANa,SAAM,IAANA,IAAgB,QAAV,EAANA,GAAQ3D,gBAAQ,WAAV,EAAN,EAAkBkD,QACzBjF,KAAMC,GAAeD,KACrB+H,WAAW,aACXC,YAAY,cACZK,MAAM,EACNC,kBAAkB,gBAClBL,cAAc,OAGtB,sBAAKpB,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASqD,eAClB3B,UAAU,QACVU,aAAc9B,GAAU,gBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,eAAgBuE,IAC9CjB,MAAa,OAANa,SAAM,IAANA,IAAoB,QAAd,EAANA,GAAQ1D,oBAAY,WAAd,EAAN,EAAsBiD,UAEjC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASsD,oBAClB5B,UAAU,QACVU,aAAc9B,GAAU,sBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,qBAAsBuE,IACpDjB,MAAa,OAANa,SAAM,IAANA,IAA0B,QAApB,EAANA,GAAQzD,0BAAkB,WAApB,EAAN,EAA4BgD,QACnC8B,KAAK,SACL2B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASyD,cAClB/B,UAAU,QACVU,aAAc9B,GAAU,eACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,cAAeuE,IAC7CjB,MAAa,OAANa,SAAM,IAANA,IAAmB,QAAb,EAANA,GAAQzC,mBAAW,WAAb,EAAN,EAAqBgC,UAEhC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASjC,mBAClB2D,UAAU,QACVU,aAAc9B,GAAU,qBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,oBAAqBuE,IACnDjB,MAAa,OAANa,SAAM,IAANA,IAAyB,QAAnB,EAANA,GAAQxC,yBAAiB,WAAnB,EAAN,EAA2B+B,QAClC8B,KAAK,SACL2B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAAS0D,qBAClBhC,UAAU,QACVU,aAAc9B,GAAU,sBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,qBAAsBuE,IACpDjB,MAAa,OAANa,SAAM,IAANA,IAA0B,QAApB,EAANA,GAAQvC,0BAAkB,WAApB,EAAN,EAA4B8B,UAEvC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAAS/B,0BAClByD,UAAU,QACVU,aAAc9B,GAAU,4BACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,2BAA4BuE,IAC1DjB,MAAa,OAANa,SAAM,IAANA,IAAgC,QAA1B,EAANA,GAAQtC,gCAAwB,WAA1B,EAAN,EAAkC6B,QACzC8B,KAAK,SACL2B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAAS2D,oBAClBjC,UAAU,QACVU,aAAc9B,GAAU,qBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,oBAAqBuE,IACnDjB,MAAa,OAANa,SAAM,IAANA,IAAyB,QAAnB,EAANA,GAAQrC,yBAAiB,WAAnB,EAAN,EAA2B4B,UAEtC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAAS7B,yBAClBuD,UAAU,QACVU,aAAc9B,GAAU,2BACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,0BAA2BuE,IACzDjB,MAAa,OAANa,SAAM,IAANA,IAA+B,QAAzB,EAANA,GAAQpC,+BAAuB,WAAzB,EAAN,EAAiC2B,QACxC8B,KAAK,SACL2B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAAS4D,kBAClBlC,UAAU,QACVU,aAAc9B,GAAU,aACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,YAAauE,IAC3CjB,MAAa,OAANa,SAAM,IAANA,IAAiB,QAAX,EAANA,GAAQxD,iBAAS,WAAX,EAAN,EAAmB+C,UAE9B,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAAS6D,YAClBnC,UAAU,QACVU,aAAc9B,GAAU,OACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,MAAOuE,IACrCjB,MAAa,OAANa,SAAM,IAANA,IAAW,QAAL,EAANA,GAAQvD,WAAG,WAAL,EAAN,EAAa8C,QACpB8B,KAAK,SACL2B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAAS3B,gBAClBqD,UAAU,QACVU,aAAc9B,GAAU,kBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,iBAAkBuE,IAChDjB,MAAa,OAANa,SAAM,IAANA,IAAsB,QAAhB,EAANA,GAAQlC,sBAAc,WAAhB,EAAN,EAAwByB,UAEnC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAAS5B,YAClBsD,UAAU,QACVU,aAAc9B,GAAU,cACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,aAAcuE,IAC5CjB,MAAa,OAANa,SAAM,IAANA,IAAkB,QAAZ,EAANA,GAAQnC,kBAAU,WAAZ,EAAN,EAAoB0B,QAC3B8B,KAAK,SACL2B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAAS1B,mBAClBoD,UAAU,QACVU,aAAc9B,GAAU,qBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,oBAAqBuE,IACnDjB,MAAa,OAANa,SAAM,IAANA,IAAyB,QAAnB,EAANA,GAAQjC,yBAAiB,WAAnB,EAAN,EAA2BwB,UAEtC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASzB,mBAClBmD,UAAU,QACVU,aAAc9B,GAAU,qBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,oBAAqBuE,IACnDjB,MAAa,OAANa,SAAM,IAANA,IAAyB,QAAnB,EAANA,GAAQhC,yBAAiB,WAAnB,EAAN,EAA2BuB,QAClC8B,KAAK,SACL2B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASxB,mBAClBkD,UAAU,QACVU,aAAc9B,GAAU,qBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,oBAAqBuE,IACnDjB,MAAa,OAANa,SAAM,IAANA,IAAyB,QAAnB,EAANA,GAAQ/B,yBAAiB,WAAnB,EAAN,EAA2BsB,UAEtC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASvB,oBAClBiD,UAAU,QACVU,aAAc9B,GAAU,sBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,qBAAsBuE,IACpDjB,MAAa,OAANa,SAAM,IAANA,IAA0B,QAApB,EAANA,GAAQ9B,0BAAkB,WAApB,EAAN,EAA4BqB,aAG3C,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAW,CACRQ,MAAOtI,GAAEoG,IAAS8D,uBAClBlJ,QAASU,GAAeV,QACxB8G,UAAU,QACVU,aAAc9B,GAAU,kBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,iBAAuB,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAOsC,cACvDvD,MAAa,OAANa,SAAM,IAANA,IAAsB,QAAhB,EAANA,GAAQtD,sBAAc,WAAhB,EAAN,EAAwB6C,QAC/BjF,KAAMS,GAAeT,KACrB+H,WAAW,aACXC,YAAY,cACZK,MAAM,EACNC,kBAAkB,gBAClBL,cAAc,IAElB,cAAC,IAAS,CACNZ,MAAOtI,GAAEoG,IAAS+D,mBAClBrC,UAAU,QACVU,aAAc9B,GAAU,cACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,aAAcuE,IAC5CjB,MAAa,OAANa,SAAM,IAANA,IAAkB,QAAZ,EAANA,GAAQrD,kBAAU,WAAZ,EAAN,EAAoB4C,aAGnC,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASgE,mBAClBtC,UAAU,QACVU,aAAc9B,GAAU,cACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,aAAcuE,IAC5CjB,MAAa,OAANa,SAAM,IAANA,IAAkB,QAAZ,EAANA,GAAQpD,kBAAU,WAAZ,EAAN,EAAoB2C,UAE/B,cAAC,IAAc,CACXoC,MAAOtI,GAAEoG,IAASiE,kBAClBvC,UAAU,QACVU,aAAc9B,GAAU,aACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,YAAauE,SAGnD,sBAAKe,UAAU,UAAS,UACpB,cAAC,IAAc,CACXQ,MAAOtI,GAAEoG,IAASkE,kBAClBxC,UAAU,QACVU,aAAc9B,GAAU,kBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,iBAAkBuE,MAEpD,cAAC,IAAc,CACXuB,MAAOtI,GAAEoG,IAASmE,kBAClBzC,UAAU,QACVU,aAAc9B,GAAU,aACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,YAAauE,YAIvD,sBAAKe,UAAW5H,GAAQ7B,gBAAgB,UACpC,cAAC,IAAU,CAACoJ,MAAO,CAAE7I,SAAU,GAAIwJ,cAAe,QAAU9I,MAAM,cAAa,SAAEU,GAAEoG,IAASoE,gCAE5F,sBAAK1C,UAAU,UAAS,UACpB,cAAC,IAAW,CACRQ,MAAOtI,GAAEoG,IAASqE,wBAClBzJ,QAASM,GAAsBN,QAC/B8G,UAAU,QACVU,aAAc9B,GAAU,mBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,kBAAwB,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAOsC,cACxDvD,MAAa,OAANa,SAAM,IAANA,IAAuB,QAAjB,EAANA,GAAQhD,uBAAe,WAAjB,EAAN,EAAyBuC,QAChCjF,KAAMK,GAAsBL,KAC5B+H,WAAW,aACXC,YAAY,cACZK,MAAM,EACNC,kBAAkB,gBAClBL,cAAc,IAElB,cAAC,IAAS,CACNZ,MAAOtI,GAAEoG,IAASsE,oBAClB5C,UAAU,QACVU,aAAc9B,GAAU,YACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,WAAYuE,IAC1CjB,MAAa,OAANa,SAAM,IAANA,IAAgB,QAAV,EAANA,GAAQ/C,gBAAQ,WAAV,EAAN,EAAkBsC,aAGjC,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASuE,cAClB7C,UAAU,QACVU,aAAc9B,GAAU,SACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,QAASuE,IACvCjB,MAAa,OAANa,SAAM,IAANA,IAAa,QAAP,EAANA,GAAQ9C,aAAK,WAAP,EAAN,EAAeqC,UAE1B,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASwE,iBAClB9C,UAAU,QACVU,aAAc9B,GAAU,iBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,gBAAiBuE,IAC/CjB,MAAa,OAANa,SAAM,IAANA,IAAqB,QAAf,EAANA,GAAQ7C,qBAAa,WAAf,EAAN,EAAuBoC,gBAI1C,sBAAK4B,UAAW5H,GAAQ7B,gBAAgB,UACpC,cAAC,IAAU,CAACoJ,MAAO,CAAE7I,SAAU,GAAIwJ,cAAe,QAAU9I,MAAM,cAAa,SAAEU,GAAEoG,IAASyE,kCAE5F,sBAAK/C,UAAU,UAAS,UACpB,cAAC,IAAW,CACRQ,MAAOtI,GAAEoG,IAAS0E,wBAClB9J,QAASQ,GAAsBR,QAC/B8G,UAAU,QACVU,aAAc9B,GAAU,mBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,kBAAwB,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAOsC,cACxDvD,MAAa,OAANa,SAAM,IAANA,IAAuB,QAAjB,EAANA,GAAQ5C,uBAAe,WAAjB,EAAN,EAAyBmC,QAChCjF,KAAMO,GAAsBP,KAC5B+H,WAAW,aACXC,YAAY,cACZK,MAAM,EACNC,kBAAkB,gBAClBL,cAAc,IAElB,cAAC,IAAS,CACNZ,MAAOtI,GAAEoG,IAAS2E,wBAClBjD,UAAU,QACVU,aAAc9B,GAAU,YACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,WAAYuE,IAC1CjB,MAAa,OAANa,SAAM,IAANA,IAAgB,QAAV,EAANA,GAAQ7B,gBAAQ,WAAV,EAAN,EAAkBoB,aAGjC,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAAS4E,kBAClBlD,UAAU,QACVU,aAAc9B,GAAU,aACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,YAAauE,IAC3CjB,MAAa,OAANa,SAAM,IAANA,IAAiB,QAAX,EAANA,GAAQ3C,iBAAS,WAAX,EAAN,EAAmBkC,UAE9B,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAAS6E,mBAClBnD,UAAU,QACVU,aAAc9B,GAAU,cACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,aAAcuE,IAC5CjB,MAAa,OAANa,SAAM,IAANA,IAAkB,QAAZ,EAANA,GAAQ1C,kBAAU,WAAZ,EAAN,EAAoBiC,aAGnC,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASrB,oBAClB+C,UAAU,QACVU,aAAc9B,GAAU,sBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,qBAAsBuE,IACpDjB,MAAa,OAANa,SAAM,IAANA,IAA0B,QAApB,GAANA,GAAQ5B,0BAAkB,YAApB,EAAN,GAA4BmB,UAEvC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASpB,gBAClB8C,UAAU,QACVU,aAAc9B,GAAU,kBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,iBAAkBuE,IAChDjB,MAAa,OAANa,SAAM,IAANA,IAAsB,QAAhB,GAANA,GAAQ3B,sBAAc,YAAhB,EAAN,GAAwBkB,aAGvC,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASnB,eAClB6C,UAAU,QACVU,aAAc9B,GAAU,iBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,gBAAiBuE,IAC/CjB,MAAa,OAANa,SAAM,IAANA,IAAqB,QAAf,GAANA,GAAQ1B,qBAAa,YAAf,EAAN,GAAuBiB,UAElC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAASlB,gBAClB4C,UAAU,QACVU,aAAc9B,GAAU,kBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,iBAAkBuE,IAChDjB,MAAa,OAANa,SAAM,IAANA,IAAsB,QAAhB,GAANA,GAAQzB,sBAAc,YAAhB,EAAN,GAAwBgB,aAGvC,sBAAK4B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,GAAEoG,IAASjB,iBAClB2C,UAAU,QACVU,aAAc9B,GAAU,mBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,kBAAmBuE,IACjDjB,MAAa,OAANa,SAAM,IAANA,IAAuB,QAAjB,GAANA,GAAQxB,uBAAe,YAAjB,EAAN,GAAyBe,UAEpC,cAAC,IAAS,CACNoC,MAAOtI,GAAEoG,IAAShB,oBAClB0C,UAAU,QACVU,aAAc9B,GAAU,sBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,qBAAsBuE,IACpDjB,MAAa,OAANa,SAAM,IAANA,IAA0B,QAApB,GAANA,GAAQvB,0BAAkB,YAApB,EAAN,GAA4Bc,sBASzDgF,EAAmB,mBACnBC,EAAsD,SAAH,GAAsB,IAAhBtL,EAAQ,EAARA,SACrDC,EAAWC,cAETC,EAAMC,cAAND,EAEFE,EAAUhC,IACViC,EAAgBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAChDC,EAAaJ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACxC8K,EAAchL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK8K,eAEpD,EAAgCzK,mBAAS,CACrC0K,KAAM,GACNC,KAAMC,QAAO,IAAIC,MAAOC,eACxBC,QAAQ,IAAIF,MAAOG,WAAa,GAAGC,WAAWC,SAAS,EAAG,OAC5D,mBAJKC,EAAQ,KAAEC,EAAW,KAM5B,EAA0CpL,oBAAS,GAAM,mBAAlDqL,EAAa,KAAEC,EAAgB,KACtC,EAAsCtL,oBAAS,GAAM,mBAA9CuL,EAAW,KAAEC,EAAc,KAClC,EAAsCxL,mBAAsB,CAAEyL,IAAK,KAAMC,MAAM,IAAQ,mBAAhFC,EAAW,KAAEC,EAAc,KAClC,EAAwC5L,mBAAS,UAAS,mBAAnD6L,EAAY,KAAEC,EAAe,KACpC,EAAgC9L,oBAAS,GAAM,mBAAxCiB,EAAQ,KAAEC,EAAW,KAE5B,SAAS6K,IACL5M,EAASyC,aAAa,IACtBzC,EAASiC,YAAc4K,aAA2Bb,KAGtD3J,qBAAU,WACN8J,EAAmC,KAAlBH,EAASR,QAC3B,CAACQ,IAEJ3J,qBAAU,WAKN,OAJAuK,IACA5M,EAAS8M,YAAe,CACpBC,GAAI3B,KAED,WACHpL,EAASgN,kBAEd,IAEH3K,qBAAU,WACD3B,EAAW8B,SAAStB,SACrBlB,EAASyC,aAAa,MAE3B,CAAC/B,IAEJ,IAAMuM,EAAUlG,IAAMmG,SAClB,iBAAM,CACF,CACIC,SAAU,yBACVC,aAAa,EACbC,SAAU,GACV9N,MAAO,KACP+N,KAAM,SAACC,GACH,IAAMjB,EAAMiB,EAAMC,KAAKlB,IAAImB,SAC3B,OACI,cAAC,IAAa,CACVC,eAAgB,kBAAMC,GAAarB,IACnCsB,aAAc,kBAAMC,GAAWvB,QAO/C,CACIwB,OAAQ5N,EAAEoG,IAASkF,MACnB2B,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAASsF,OACnBuB,SAAU,SAEd,CACIW,OAAQ,OACRX,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAASyH,8BACnBZ,SAAU,WACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQU,EAAaV,EAAMC,KAAKlB,IAAImB,SAA5BQ,SACR,OAAOC,aAAaD,GAAY,KAGxC,CACIH,OAAQ5N,EAAEoG,IAAS6H,qBACnBhB,SAAU,mBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQa,EAAqBb,EAAMC,KAAKlB,IAAImB,SAApCW,iBACR,OAAOC,aAAuBD,GAAoB,KAG1D,CACIN,OAAQ5N,EAAEoG,IAASgI,mBACnBnB,SAAU,oBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQe,EAAsBf,EAAMC,KAAKlB,IAAImB,SAArCa,kBACR,OAAOC,aAAyBD,GAAqB,KAG7D,CACIR,OAAQ5N,EAAEoG,IAASkI,mBACnBrB,SAAU,qBACVsB,UAAU,EACVvG,KAAM,UACN8F,SAAU,QACVU,UAAU,EACVnP,MAAO,IACPoP,SAAU,IACVrB,KAAM,SAACC,GAEH,OAD+BA,EAAMC,KAAKlB,IAAImB,SAAtCmB,mBACoB1O,EAAEoG,IAASuI,KAAO,OAGtD,CACIf,OAAQ5N,EAAEoG,IAASwI,qBACnB3B,SAAU,sBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQuB,EAAwBvB,EAAMC,KAAKlB,IAAImB,SAAvCqB,oBACR,OAAOT,aAAuBS,GAAuB,KAG7D,CACIhB,OAAQ5N,EAAEoG,IAASyI,+BACnB5B,SAAU,kBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQyB,EAAoBzB,EAAMC,KAAKlB,IAAImB,SAAnCuB,gBACR,OAAOT,aAAyBS,GAAmB,KAG3D,CACIlB,OAAQ5N,EAAEoG,IAAS2I,oBACnB9B,SAAU,qBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQ0B,EAAuB1B,EAAMC,KAAKlB,IAAImB,SAAtCwB,mBACR,OAAOV,aAAyBU,GAAsB,KAG9D,CACInB,OAAQ5N,EAAEoG,IAAS4I,mCACnB/B,SAAU,sBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQ4B,EAAwB5B,EAAMC,KAAKlB,IAAImB,SAAvC0B,oBACR,OAAOd,aAAuBc,GAAuB,KAG7D,CACIrB,OAAQ5N,EAAEoG,IAAS8I,wCACnBjC,SAAU,mCACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQ8B,EAAqC9B,EAAMC,KAAKlB,IAAImB,SAApD4B,iCACR,OAAOhB,aAAuBgB,GAAoC,KAG1E,CACIvB,OAAQ5N,EAAEoG,IAASgJ,sBACnBnC,SAAU,wBACVsB,UAAU,EACVvG,KAAM,UACN8F,SAAU,QACVU,UAAU,EACVnP,MAAO,IACPoP,SAAU,IACVrB,KAAM,SAACC,GAEH,OADkCA,EAAMC,KAAKlB,IAAImB,SAAzC8B,sBACuBrP,EAAEoG,IAASuI,KAAO,OAGzD,CACIf,OAAQ5N,EAAEoG,IAASkJ,oBACnBrC,SAAU,qBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQiC,EAAuBjC,EAAMC,KAAKlB,IAAImB,SAAtC+B,mBACR,OAAOnB,aAAuBmB,GAAsB,KAG5D,CACI1B,OAAQ5N,EAAEoG,IAASmJ,qBACnBtC,SAAU,sBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQkC,EAAwBlC,EAAMC,KAAKlB,IAAImB,SAAvCgC,oBACR,OAAOlB,aAAyBkB,GAAuB,KAG/D,CACI3B,OAAQ5N,EAAEoG,IAASoJ,UACnBvC,SAAU,WACVsB,UAAU,EACVvG,KAAM,UACN8F,SAAU,QACVU,UAAU,EACVnP,MAAO,IACPoP,SAAU,IACVrB,KAAM,SAACC,GAEH,OADqBA,EAAMC,KAAKlB,IAAImB,SAA5BiC,SACUxP,EAAEoG,IAASuI,KAAO,OAG5C,CACIf,OAAQ5N,EAAEoG,IAASqJ,oBACnBxC,SAAU,qBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQoC,EAAuBpC,EAAMC,KAAKlB,IAAImB,SAAtCkC,mBACR,OAAOpB,aAAyBoB,GAAsB,KAG9D,CACI7B,OAAQ5N,EAAEoG,IAASsJ,6BACnBzC,SAAU,8BACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQqC,EAAgCrC,EAAMC,KAAKlB,IAAImB,SAA/CmC,4BACR,OAAO1B,aAAa0B,GAA+B,QAI/D,IAGE5N,EAAY,WAAH,OAAShC,EAASiC,YAAc4K,aAA2Bb,MAE1E3J,qBAAU,WACN,GAAIP,EACA,GAAKzB,EAAca,SAAYb,EAAc2F,OAWtC,GAAI3F,EAAc2F,MAAO,CAC5B,IAAM6J,EAAe3P,EAAEG,EAAcgG,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAASyJ,aAAaC,sBACzGhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE7P,EAASyC,aAAa,IACtBV,GAAY,SAdRqK,GACAC,GAAe,GACfrM,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS2J,0BAG7EjQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS4J,sBAEjFlO,IACAhC,EAASyC,aAAa,IACtBV,GAAY,KAQrB,CAAC1B,EAAeyB,IAEnB,IAKM+L,GAAa,SAACvB,GAChBK,EAAgB,UAChBF,EAAe,CAAEH,MAAKC,MAAM,KAG1BoB,GAAe,SAACrB,GAOlBtM,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAAS6J,qBACrB1I,SATa,WACbzH,EAASS,YAAQ2P,YAAwB,2BAAK9D,GAAG,IAAE+D,UAAW,SAAUC,OAAQ,YAAavD,GAAIT,EAAIiE,4BACrGvQ,EAASyC,aAAa,IACtBV,GAAY,QAUpB,MAAqB,WAAjB2K,EAEI,cAAC,WAAQ,UACL,cAAC,IAAQ,CACL8D,WAAY3C,GACZZ,QAASA,EACTwD,eAAgB,kBACZ,sBAAK9I,MAAO,CAAEC,QAAS,OAAQE,IAAK,EAAG4I,SAAU,QAAS,UACtD,cAAC,IAAW,CACRlI,MAAOtI,EAAEoG,IAASkF,MAClB7D,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASR,KACvBvD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEnF,MAAW,OAALvE,QAAK,IAALA,OAAK,EAALA,EAAOA,QAAS,QAC3E9F,KAAMyP,IACN1H,WAAW,QACXC,YAAY,UAEhB,cAAC,IAAgB,CACbX,MAAOtI,EAAEoG,IAASsF,OAClBjE,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASJ,MACvB3D,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAE/E,MAAO3E,EAAM4J,KAAI,SAACC,GAAa,OAAKA,EAAEC,OAAKC,aAChG7P,KAAM8P,IACNzH,MAAM,EACNC,kBAAkB,SAClBP,WAAW,MACXC,YAAY,QAEhB,cAAC,IAAW,CACRX,MAAM,OACNR,UAAW5H,EAAQX,aACnBiJ,aAAcsD,EAAST,KACvBtD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEpF,MAAW,OAALtE,QAAK,IAALA,OAAK,EAALA,EAAOsE,OAAQ,SAC1EpK,KAAMpB,EACNmJ,WAAW,OACXC,YAAY,OACZC,cAAc,IAElB,cAAC,IAAM,CACHJ,SAAUtI,EAAW8B,SAAStB,SAAWgL,EACzCjE,QAAQ,YACRzI,MAAM,UACNmI,MAAO,CAAEpI,MAAO,IAAK6I,gBAAiB,WACtCD,UAAW,cAAC,IAAU,CAACR,MAAO,CAAEnI,MAAO,WACvC0R,QAAS,kBAAMtE,KAAS,SAC1B1M,EAAEoG,IAASsG,cAIrBzL,KAAMT,EAAW8B,SAASrB,KAC1BgQ,eAAe,EACfC,UAAU,EACVlQ,QAASR,EAAW8B,SAAStB,QAC7BwF,UAAU,EACV2K,eAjFO,WACnB1E,EAAgB,UAChBF,EAAe,CAAEH,IAAK,KAAMC,MAAM,KAgFtB+E,gBAAiBlG,IAAqBE,EAAYyB,IAA+B,IAA1BzB,EAAYiG,SAAkB,GAAKjG,EAAYiG,SAAW,GACjHC,iBAAkBpG,IAAqBE,EAAYyB,IAA2B,IAAtBzB,EAAYmG,KAAc,EAAInG,EAAYmG,KAAO,EACzGC,mBAAoBtG,IAAqBE,EAAYyB,GAAK4E,OAAOC,QAAQtG,EAAYuG,SAAShB,KAAI,mCAAY,MAAO,CAAE9D,GAAhB,KAAyB9F,MAAlB,cAA8B6K,MAKlI,WAAjBpF,EAED,cAACqF,EAA4B,CACzB5Q,KAAMqL,EACNG,gBAAiBA,EACjB3K,UAAWA,EACXjC,SAAUA,IAIX,MAGTgS,EAAiE,SAAH,GAAuE,IAAD,8BAAhE5Q,KAAQmL,EAAG,EAAHA,IAAKC,EAAI,EAAJA,KAAQI,EAAe,EAAfA,gBAAiB3K,EAAS,EAATA,UAAWjC,EAAQ,EAARA,SACjHC,EAAWC,cAETC,EAAMC,cAAND,EAEFE,EAAUhC,IACV4T,EAAa1R,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAEnD,EAAoCI,mBAChCyL,EAAG,UAAMA,EAAId,KAAI,YAAIC,OAAOa,EAAIV,OAAOG,SAAS,EAAG,MAAI,UAAQ,IAAIL,MAAK,IAAIA,MAAOuG,QAAQ,IAAItG,cAAa,YAAIF,OAAO,IAAIC,MAAK,IAAIA,MAAOuG,QAAQ,IAAIpG,WAAa,GAAGE,SAAS,EAAG,OACtL,mBAFMmG,EAAU,KAAEC,EAAa,KAGhC,EAAoCtR,oBAAY,OAAHyL,QAAG,IAAHA,OAAG,EAAHA,EAAKoD,YAAY,GAAM,mBAA7D0C,EAAU,KAAEC,EAAa,KAChC,EAAsCxR,oBAAY,OAAHyL,QAAG,IAAHA,OAAG,EAAHA,EAAKsC,sBAAsB,GAAM,mBAAzE0D,GAAW,KAAEC,GAAc,KAClC,GAA4C1R,oBAAY,OAAHyL,QAAG,IAAHA,OAAG,EAAHA,EAAKiD,yBAAyB,GAAM,qBAAlFiD,GAAc,MAAEC,GAAiB,MACxC,GAAgC5R,oBAAS,GAAM,qBAAxCiB,GAAQ,MAAEC,GAAW,MAEtB2Q,GAA2B,CAC7B,CAAE3F,GAAI,SAAU4F,KAAMzS,EAAEoG,IAASsM,iBACjC,CAAE7F,GAAI,SAAU4F,KAAMzS,EAAEoG,IAASuM,wBAGrC,GAA+ErM,YAAQ,CACnFC,cAAe,CACXsG,IAAO,OAAHT,QAAG,IAAHA,OAAG,EAAHA,EAAKiE,yBAA0B,EACnC/E,MAAS,OAAHc,QAAG,IAAHA,OAAG,EAAHA,EAAKd,QAAQ,IAAIE,MAAOC,cAC9BC,OAAU,OAAHU,QAAG,IAAHA,OAAG,EAAHA,EAAKV,SAAS,IAAIF,MAAOG,WAAa,EAC7CN,MAAS,OAAHe,QAAG,IAAHA,OAAG,EAAHA,EAAKf,OAAQ,GACnB0C,UAAa,OAAH3B,QAAG,IAAHA,OAAG,EAAHA,EAAK2B,WAAY,EAC3BG,kBAAqB,OAAH9B,QAAG,IAAHA,OAAG,EAAHA,EAAK8B,mBAAoB,EAC3CU,qBAAwB,OAAHxC,QAAG,IAAHA,OAAG,EAAHA,EAAKwC,sBAAuB,EACjDU,oBAAuB,OAAHlD,QAAG,IAAHA,OAAG,EAAHA,EAAKkD,qBAAsB,EAC/ClB,mBAAsB,OAAHhC,QAAG,IAAHA,OAAG,EAAHA,EAAKgC,oBAAqB,EAC7CW,oBAAuB,OAAH3C,QAAG,IAAHA,OAAG,EAAHA,EAAK2C,qBAAsB,EAC/CQ,qBAAwB,OAAHnD,QAAG,IAAHA,OAAG,EAAHA,EAAKmD,sBAAuB,EACjDT,iBAAoB,OAAH1C,QAAG,IAAHA,OAAG,EAAHA,EAAK0C,kBAAmB,EACzC8D,QAAW,OAAHxG,QAAG,IAAHA,OAAG,EAAHA,EAAKwG,SAAU,EACvBnD,oBAAuB,OAAHrD,QAAG,IAAHA,OAAG,EAAHA,EAAKqD,qBAAsB,EAC/CC,6BAAgC,OAAHtD,QAAG,IAAHA,OAAG,EAAHA,EAAKsD,8BAA+B,EACjET,qBAAwB,OAAH7C,QAAG,IAAHA,OAAG,EAAHA,EAAK6C,sBAAuB,EACjDE,kCAAqC,OAAH/C,QAAG,IAAHA,OAAG,EAAHA,EAAK+C,mCAAoC,EAC3EK,UAAa,OAAHpD,QAAG,IAAHA,OAAG,EAAHA,EAAKoD,YAAY,EAC3Bd,oBAAuB,OAAHtC,QAAG,IAAHA,OAAG,EAAHA,EAAKsC,sBAAsB,EAC/CW,uBAA0B,OAAHjD,QAAG,IAAHA,OAAG,EAAHA,EAAKiD,yBAAyB,EACrDe,OAAQhE,EAAMA,EAAIgE,OAAS,SAC3BpI,KAAMoE,EAAMA,EAAIpE,KAAO,GACvB6K,YAAazG,EAAMA,EAAIyG,YAAc,GACrC1C,UAAW/D,EAAM,SAAW,YAzB5B5F,GAAQ,GAARA,SAAUC,GAAY,GAAZA,aAAcjE,GAAQ,GAARA,SAAUkE,GAAS,GAATA,UAAwBC,GAAM,GAAnBC,UAAaD,OAwClEE,IAAM1E,WAAU,WACZqE,GAAS,MACTA,GAAS,QACTA,GAAS,UACTA,GAAS,QACTA,GAAS,SACTA,GAAS,aACTA,GAAS,YACTA,GAAS,sBACTA,GAAS,yBACTA,GAAS,kBAAmB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC9HT,GAAS,eACTA,GAAS,OAAQ,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBAC9ET,GAAS,WAAY,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBACvHT,GAAS,mBAAoB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC/HT,GAAS,sBAAuB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAClIT,GAAS,qBAAsB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBACjIT,GAAS,oBAAqB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAChIT,GAAS,qBAAsB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBACjIT,GAAS,sBAAuB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAClIT,GAAS,UACTA,GAAS,qBAAsB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBACjIT,GAAS,8BAA+B,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC1IT,GAAS,mCAAoC,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC/IT,GAAS,sBAAuB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,qBACnI,CAACoF,EAAM7F,KAEVrE,qBAAU,WACN,GAAIP,GACA,GAAKkQ,EAAW9Q,SAAY8Q,EAAWhM,OAKhC,GAAIgM,EAAWhM,MAAO,CACzB,IAAM6J,EAAe3P,EAAE8R,EAAW3L,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAASyJ,aAAaC,sBACtGhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE9N,IAAY,GACZ/B,EAASyC,aAAa,UARtBzC,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoM,EAAMhG,IAASC,gBAAkBD,IAAS2M,wBAC9GjR,GAAaA,IACbhC,EAASyC,aAAa,IACtBkK,EAAgB,YAQzB,CAACqF,EAAYlQ,KAEhB,IAAMsF,GAAWT,IAAa,SAACxF,GAO3BnB,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAASkB,mBACrBC,SATa,WACbzH,EAASS,YAAQ2P,YAAwBjP,KACzCnB,EAASyC,aAAa,IACtBV,IAAY,UAUpB,OACI,qBAAK4F,MAAO,CAAEpI,MAAO,QAAS,SAC1B,uBAAM6H,SAAUA,GAAS,UACrB,sBAAKO,MAAO,CAAEC,QAAS,OAAQC,eAAgB,iBAAkB,UAC7D,gCACI,cAAC,IAAmB,CAChBqL,YAAaR,GACbS,YAAaxG,IAEjB,cAAC,IAAW,CACRyG,MAAO9G,EAAG,UAAMA,EAAIyG,aAAgB7S,EAAEoG,IAAS+M,gCAGvD,sBAAK1L,MAAO,CAAEC,QAAS,OAAQE,IAAK,OAAQC,WAAY,UAAW,UAC/D,cAAC,IAAM,CACHE,QAAQ,YACRC,KAAK,SACL1I,MAAM,UACN2I,UAAW,cAAC,IAAS,CAAC3I,MAAM,cAC5BmI,MAAO,CAAES,gBAAiB,WAC1B8I,QAAS,kBAAMvE,EAAgB,WAAU,SAC3CzM,EAAEoG,IAASgN,QACZ/G,GACG,cAAC,IAAM,CACHvE,UAAW5H,EAAQxB,OACnBqJ,QAAQ,YACRzI,MAAM,UACN0I,KAAK,SACLC,UAAW,cAAC,IAAQ,CAAC3I,MAAM,cAC3BmI,MAAO,CAAES,gBAAiB,WAAY,SACxClI,EAAEoG,IAAS+B,cAKzB,sBAAKL,UAAW5H,EAAQ7B,gBAAgB,UACpC,qBAAKyJ,UAAU,UAAS,SACpB,cAAC,IAAS,CACN+E,GAAG,OACH/E,UAAU,SACVE,KAAK,QACLD,QAAQ,WACRU,SAAU,SAAC4K,GAAC,OA9GpC,SAA0BA,GACtB,GAAU,KAANA,EAAU,CACV,IAAIC,EAAe,IAAI9H,KAAK6H,EAAI,OAC5BE,GAAkB,OAAZD,QAAY,IAAZA,OAAY,EAAZA,EAAc3H,YAAa,EACjCL,EAAmB,OAAZgI,QAAY,IAAZA,OAAY,EAAZA,EAAc7H,cACzBwG,EAAc,GAAD,OAAI3G,EAAI,YAAIC,OAAOgI,GAAK1H,SAAS,EAAG,OACjDrJ,GAAS,OAAQ8I,GACjB9I,GAAS,QAAS+Q,IAuGeC,CAAiBH,EAAEI,OAAO1M,QAC3CA,MAAOiL,EACP0B,KAAK,YAGb,sBAAK5L,UAAU,UAAS,UACpB,cAAC,IAAW,CACRQ,MAAM,OACNR,UAAU,QACVU,aAAc9B,GAAU,QACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,OAAa,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAOsE,OAC7CpK,KAAMpB,EACNmJ,WAAW,OACXC,YAAY,OACZnD,MAAa,OAANa,SAAM,IAANA,IAAY,QAAN,EAANA,GAAQ0E,YAAI,WAAN,EAAN,EAAcnF,QACrBgD,cAAc,IAElB,cAAC,IAAS,CACNZ,MAAOtI,EAAEoG,IAASyH,8BAClBpF,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,WAAYuE,IAC1CyB,aAAc9B,GAAU,YACxBZ,MAAa,OAANa,SAAM,IAANA,IAAgB,QAAV,EAANA,GAAQoH,gBAAQ,WAAV,EAAN,EAAkB7H,QACzB8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAAS6H,qBAClBxF,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,mBAAoBuE,IAClDyB,aAAc9B,GAAU,oBACxBZ,MAAa,OAANa,SAAM,IAANA,IAAwB,QAAlB,EAANA,GAAQuH,wBAAgB,WAAlB,EAAN,EAA0BhI,QACjC8B,KAAK,SACLF,UAAU,UAEd,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASgI,mBAClB3F,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,oBAAqBuE,IACnDyB,aAAc9B,GAAU,qBACxBZ,MAAa,OAANa,SAAM,IAANA,IAAyB,QAAnB,EAANA,GAAQyH,yBAAiB,WAAnB,EAAN,EAA2BlI,QAClC8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,qBAAK9B,UAAU,UAAS,SACpB,sBAAKA,UAAW,QAASL,MAAO,CAAEW,cAAe,OAAQ,UACrD,cAAC,IAAG,CAACzJ,WAAY,IAAKgV,WAAW,OAAO/U,SAAU,GAAIgV,GAAI,EAAGtU,MAAM,cAAa,SAAEU,EAAEoG,IAASkI,qBAC7F,cAAC,IAAgB,CACb7G,MAAO,CAAEoM,YAAa,IACtBC,QAAS,cAAC,IAAS,CAACC,QAAS3B,GAAa3J,SAAU,SAAC4K,GAAQhB,GAAegB,EAAEI,OAAOM,SAAUvR,GAAS,qBAAsB6Q,EAAEI,OAAOM,YACvIzL,MAAO,UAInB,sBAAKR,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASwI,qBAClBnG,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,sBAAuBuE,IACrDyB,aAAc9B,GAAU,uBACxBZ,MAAa,OAANa,SAAM,IAANA,IAA2B,QAArB,EAANA,GAAQiI,2BAAmB,WAArB,EAAN,EAA6B1I,QACpC8B,KAAK,SACLF,UAAU,UAEd,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASyI,+BAClBpG,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,kBAAmBuE,IACjDyB,aAAc9B,GAAU,mBACxBZ,MAAa,OAANa,SAAM,IAANA,IAAuB,QAAjB,EAANA,GAAQmI,uBAAe,WAAjB,EAAN,EAAyB5I,QAChC8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAAS4I,mCAClBvG,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,sBAAuBuE,IACrDyB,aAAc9B,GAAU,uBACxBZ,MAAa,OAANa,SAAM,IAANA,IAA2B,QAArB,EAANA,GAAQsI,2BAAmB,WAArB,EAAN,EAA6B/I,QACpC8B,KAAK,SACLF,UAAU,UAEd,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAAS2I,oBAClBtG,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,qBAAsBuE,IACpDyB,aAAc9B,GAAU,sBACxBZ,MAAa,OAANa,SAAM,IAANA,IAA0B,QAApB,EAANA,GAAQoI,0BAAkB,WAApB,EAAN,EAA4B7I,QACnC8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAAS8I,wCAClBzG,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,mCAAoCuE,IAClEyB,aAAc9B,GAAU,oCACxBZ,MAAa,OAANa,SAAM,IAANA,IAAwC,QAAlC,EAANA,GAAQwI,wCAAgC,WAAlC,EAAN,EAA0CjJ,QACjD8B,KAAK,SACLF,UAAU,UAEd,sBAAKA,UAAW,QAASL,MAAO,CAAEW,cAAe,OAAQ,UACrD,cAAC,IAAG,CAACzJ,WAAY,IAAKgV,WAAW,OAAO/U,SAAU,GAAIgV,GAAI,EAAGtU,MAAM,cAAa,SAAEU,EAAEoG,IAASgJ,wBAC7F,cAAC,IAAgB,CACb3H,MAAO,CAAEoM,YAAa,IACtBC,QAAS,cAAC,IAAS,CAACC,QAASzB,GAAgB7J,SAAU,SAAC4K,GAAQd,GAAkBc,EAAEI,OAAOM,SAAUvR,GAAS,wBAAyB6Q,EAAEI,OAAOM,YAChJzL,MAAO,WAInB,sBAAKR,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASkJ,oBAClB7G,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,qBAAsBuE,IACpDyB,aAAc9B,GAAU,sBACxBZ,MAAa,OAANa,SAAM,IAANA,IAA0B,QAApB,EAANA,GAAQ2I,0BAAkB,WAApB,EAAN,EAA4BpJ,QACnC8B,KAAK,SACLF,UAAU,UAEd,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASmJ,qBAClB9G,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,sBAAuBuE,IACrDyB,aAAc9B,GAAU,uBACxBZ,MAAa,OAANa,SAAM,IAANA,IAA2B,QAArB,EAANA,GAAQ4I,2BAAmB,WAArB,EAAN,EAA6BrJ,QACpC8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,sBAAKA,UAAW,QAASL,MAAO,CAAEW,cAAe,OAAQ,UACrD,cAAC,IAAG,CAACzJ,WAAY,IAAKgV,WAAW,OAAO/U,SAAU,GAAIgV,GAAI,EAAGtU,MAAM,cAAa,SAAEU,EAAEoG,IAASoJ,YAC7F,cAAC,IAAgB,CACb/H,MAAO,CAAEoM,YAAa,IACtBC,QAAS,cAAC,IAAS,CAACC,QAAS7B,EAAYzJ,SAAU,SAAC4K,GAAQlB,EAAckB,EAAEI,OAAOM,SAAUvR,GAAS,WAAY6Q,EAAEI,OAAOM,YAC3HzL,MAAO,QAGf,cAAC,IAAS,CACNA,MAAOtI,EAAEoG,IAASqJ,oBAClBhH,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,qBAAsBuE,IACpDyB,aAAc9B,GAAU,sBACxBZ,MAAa,OAANa,SAAM,IAANA,IAA0B,QAApB,EAANA,GAAQ8I,0BAAkB,WAApB,EAAN,EAA4BvJ,QACnC8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,qBAAK9B,UAAU,UAAS,SACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASsJ,6BAClBjH,SAAU,SAAC1B,GAAK,OAAKvE,GAAS,8BAA+BuE,IAC7DyB,aAAc9B,GAAU,+BACxBZ,MAAa,OAANa,SAAM,IAANA,IAAmC,QAA7B,EAANA,GAAQ+I,mCAA2B,WAA7B,EAAN,EAAqCxJ,QAC5C8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,oBAS1CoK,EAAqB,qBACrBC,EAAgD,SAAH,GAAsB,IAAhBpU,EAAQ,EAARA,SAC/CC,EAAWC,cAETC,EAAMC,cAAND,EAEFE,EAAUhC,IACViC,EAAgBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAChDC,EAAaJ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACxC8K,EAAchL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK8K,eAEpD,EAAgCzK,mBAAS,CACrCuT,YAAa,GACb5I,KAAMC,QAAO,IAAIC,MAAOC,eACxBC,QAAQ,IAAIF,MAAOG,WAAa,GAAGC,WAAWC,SAAS,EAAG,OAC5D,mBAJKC,EAAQ,KAAEC,EAAW,KAM5B,EAA0CpL,oBAAS,GAAM,mBAAlDqL,EAAa,KAAEC,EAAgB,KACtC,EAAsCtL,oBAAS,GAAM,mBAA9CuL,EAAW,KAAEC,EAAc,KAClC,EAAsCxL,mBAAsB,CAAEyL,IAAK,KAAMC,MAAM,IAAQ,mBAAhFC,EAAW,KAAEC,EAAc,KAClC,EAAwC5L,mBAAS,UAAS,mBAAnD6L,EAAY,KAAEC,EAAe,KACpC,EAAgC9L,oBAAS,GAAM,mBAAxCiB,EAAQ,KAAEC,EAAW,KAE5B,SAAS6K,IACL5M,EAASyC,aAAa,IACtBzC,EAASiC,YAAcoS,aAA0BrI,KAGrD3J,qBAAU,WACN8J,EAAmC,KAAlBH,EAASR,QAC3B,CAACQ,IAEJ3J,qBAAU,WAKN,OAJAuK,IACA5M,EAAS8M,YAAe,CACpBC,GAAImH,KAED,WACHlU,EAASgN,kBAEd,IAEH3K,qBAAU,WACD3B,EAAW8B,SAAStB,SACrBlB,EAASyC,aAAa,MAE3B,CAAC/B,IAEJ,IAAMuM,EAAUlG,IAAMmG,SAClB,iBAAM,CACF,CACIC,SAAU,wBACVC,aAAa,EACbC,SAAU,GACV9N,MAAO,KACP+N,KAAM,SAACC,GACH,IAAMjB,EAAMiB,EAAMC,KAAKlB,IAAImB,SAC3B,OACI,cAAC,IAAa,CACVC,eAAgB,kBAAMC,GAAarB,IACnCsB,aAAc,kBAAMC,GAAWvB,QAO/C,CACIwB,OAAQ5N,EAAEoG,IAASkF,MACnB2B,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAASsF,OACnBuB,SAAU,SAEd,CACIW,OAAQ5N,EAAEoG,IAAS8N,aACnBjH,SAAU,eAEd,CACIW,OAAQ5N,EAAEoG,IAAStD,SACnBmK,SAAU,WAEd,CACIW,OAAQ5N,EAAEoG,IAASgO,sBACnBnH,SAAU,kBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQgH,EAAoBhH,EAAMC,KAAKlB,IAAImB,SAAnC8G,gBACR,OAAOhG,aAAyBgG,GAAmB,KAG3D,CACIzG,OAAQ5N,EAAEoG,IAASkO,uBACnBrH,SAAU,iBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQkH,EAAmBlH,EAAMC,KAAKlB,IAAImB,SAAlCgH,eACR,OAAOlG,aAAyBkG,GAAkB,QAI9D,IAGEzS,EAAY,WAAH,OAAShC,EAASiC,YAAcoS,aAA0BrI,MAEzE3J,qBAAU,WACN,GAAIP,EACA,GAAKzB,EAAca,SAAYb,EAAc2F,OAWtC,GAAI3F,EAAc2F,MAAO,CAC5B,IAAM6J,EAAe3P,EAAEG,EAAcgG,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAASoO,kBAAkB1E,sBAC9GhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE7P,EAASyC,aAAa,IACtBV,GAAY,SAdRqK,GACAC,GAAe,GACfrM,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS2J,0BAG7EjQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS4J,sBAEjFlO,IACAhC,EAASyC,aAAa,IACtBV,GAAY,KAQrB,CAAC1B,EAAeyB,IAEnB,IAKM+L,GAAa,SAACvB,GAChBK,EAAgB,UAChBF,EAAe,CAAEH,MAAKC,MAAM,KAG1BoB,GAAe,SAACrB,GAOlBtM,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAAS6J,qBACrB1I,SATa,WACbzH,EAASS,YAAQkU,YAAuB,2BAAKrI,GAAG,IAAE+D,UAAW,SAAUC,OAAQ,YAAavD,GAAIT,EAAIsI,2BACpG5U,EAASyC,aAAa,IACtBV,GAAY,QAUpB,MAAqB,WAAjB2K,EAEI,cAAC,WAAQ,UACL,cAAC,IAAQ,CACL8D,WAAY3C,GACZZ,QAASA,EACTwD,eAAgB,kBACZ,sBAAK9I,MAAO,CAAEC,QAAS,OAAQE,IAAK,EAAG4I,SAAU,QAAS,UACtD,cAAC,IAAW,CACRlI,MAAOtI,EAAEoG,IAASkF,MAClB7D,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASR,KACvBvD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEnF,MAAW,OAALvE,QAAK,IAALA,OAAK,EAALA,EAAOA,QAAS,QAC3E9F,KAAMyP,IACN1H,WAAW,QACXC,YAAY,UAEhB,cAAC,IAAgB,CACbX,MAAOtI,EAAEoG,IAASsF,OAClBjE,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASJ,MACvB3D,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAE/E,MAAO3E,EAAM4J,KAAI,SAACC,GAAa,OAAKA,EAAEC,OAAKC,aAChG7P,KAAM8P,IACNzH,MAAM,EACNC,kBAAkB,SAClBP,WAAW,MACXC,YAAY,QAEhB,cAAC,IAAgB,CACbX,MAAOtI,EAAEoG,IAAStD,SAClBgF,UAAW5H,EAAQX,aACnBiJ,aAAcsD,EAASoI,YACvBnM,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEyD,YAAanN,EAAM4J,KAAI,SAACC,GAAa,OAAKA,EAAEzK,QAAM2K,aACvG7P,KAAMpB,EACNmJ,WAAW,cACXC,YAAY,SAEhB,cAAC,IAAM,CACHH,SAAUtI,EAAW8B,SAAStB,SAAWgL,EACzCjE,QAAQ,YACRzI,MAAM,UACNmI,MAAO,CAAEpI,MAAO,IAAK6I,gBAAiB,WACtCD,UAAW,cAAC,IAAU,CAACR,MAAO,CAAEnI,MAAO,WACvC0R,QAAS,kBAAMtE,KAAS,SAC1B1M,EAAEoG,IAASsG,cAIrBzL,KAAMT,EAAW8B,SAASrB,KAC1BgQ,eAAe,EACfC,UAAU,EACVlQ,QAASR,EAAW8B,SAAStB,QAC7BwF,UAAU,EACV2K,eAhFO,WACnB1E,EAAgB,UAChBF,EAAe,CAAEH,IAAK,KAAMC,MAAM,KA+EtB+E,gBAAiB4C,IAAuB5I,EAAYyB,IAA+B,IAA1BzB,EAAYiG,SAAkB,GAAKjG,EAAYiG,SAAW,GACnHC,iBAAkB0C,IAAuB5I,EAAYyB,IAA2B,IAAtBzB,EAAYmG,KAAc,EAAInG,EAAYmG,KAAO,EAC3GC,mBAAoBwC,IAAuB5I,EAAYyB,GAAK4E,OAAOC,QAAQtG,EAAYuG,SAAShB,KAAI,mCAAY,MAAO,CAAE9D,GAAhB,KAAyB9F,MAAlB,cAA8B6K,MAKpI,WAAjBpF,EAED,cAACmI,EAAsB,CACnB1T,KAAMqL,EACNG,gBAAiBA,EACjB3K,UAAWA,EACXjC,SAAUA,IAIX,MAGT8U,EAA2D,SAAH,GAAuE,IAAD,YAAhE1T,KAAQmL,EAAG,EAAHA,IAAKC,EAAI,EAAJA,KAAQI,EAAe,EAAfA,gBAAiB3K,EAAS,EAATA,UAAWjC,EAAQ,EAARA,SAC3GC,EAAWC,cACTC,EAAMC,cAAND,EAEFE,EAAUhC,IACV4T,EAAa1R,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WACnD,EAAoCI,mBAChCyL,EAAG,UAAMA,EAAId,KAAI,YAAIC,OAAOa,EAAIV,OAAOG,SAAS,EAAG,MAAI,UAAQ,IAAIL,MAAK,IAAIA,MAAOuG,QAAQ,IAAItG,cAAa,YAAIF,OAAO,IAAIC,MAAK,IAAIA,MAAOuG,QAAQ,IAAIpG,WAAa,GAAGE,SAAS,EAAG,OACtL,mBAFMmG,EAAU,KAAEC,EAAa,KAGhC,EAAgCtR,oBAAS,GAAM,mBAAxCiB,EAAQ,KAAEC,EAAW,KAEtB+S,EAA6B,CAC/B,CAAE/H,GAAI,SAAU4F,KAAMzS,EAAEoG,IAASoO,mBACjC,CAAE3H,GAAI,SAAU4F,KAAMzS,EAAEoG,IAASyO,0BAGrC,EAA+EvO,YAAQ,CACnFC,cAAe,CACXsG,GAAIT,EAAMA,EAAIsI,sBAAwB,EACtCpJ,MAAS,OAAHc,QAAG,IAAHA,OAAG,EAAHA,EAAKd,QAAQ,IAAIE,MAAOC,cAC9BC,OAAU,OAAHU,QAAG,IAAHA,OAAG,EAAHA,EAAKV,SAAS,IAAIF,MAAOG,WAAa,EAC7CuI,aAAgB,OAAH9H,QAAG,IAAHA,OAAG,EAAHA,EAAK8H,cAAe,KACjCG,iBAAoB,OAAHjI,QAAG,IAAHA,OAAG,EAAHA,EAAKiI,kBAAmB,EACzCE,gBAAmB,OAAHnI,QAAG,IAAHA,OAAG,EAAHA,EAAKmI,iBAAkB,EACvCO,cAAiB,OAAH1I,QAAG,IAAHA,OAAG,EAAHA,EAAK0I,eAAgB,EACnCC,mBAAsB,OAAH3I,QAAG,IAAHA,OAAG,EAAHA,EAAK2I,oBAAqB,EAC7ClC,aAAgB,OAAHzG,QAAG,IAAHA,OAAG,EAAHA,EAAKyG,cAAe,GACjCzC,OAAQhE,EAAMA,EAAIgE,OAAS,SAC3BpI,KAAMoE,EAAMA,EAAIpE,KAAO,GACvBmI,UAAW/D,EAAM,SAAW,YAb5B5F,EAAQ,EAARA,SAAUC,EAAY,EAAZA,aAAcjE,EAAQ,EAARA,SAAUkE,EAAS,EAATA,UAAwBC,EAAM,EAAnBC,UAAaD,OA4BlEE,IAAM1E,WAAU,WACZqE,EAAS,MACTA,EAAS,QACTA,EAAS,UACTA,EAAS,QACTA,EAAS,SACTA,EAAS,aACTA,EAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBACrFT,EAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBACrFT,EAAS,kBAAmB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC9HT,EAAS,iBAAkB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC7HT,EAAS,oBAAqB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAChIT,EAAS,kBACV,CAAC6F,EAAM7F,IAEVrE,qBAAU,WACN,GAAIP,EACA,GAAKkQ,EAAW9Q,SAAY8Q,EAAWhM,OAKhC,GAAIgM,EAAWhM,MAAO,CACzB,IAAM6J,EAAe3P,EAAE8R,EAAW3L,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAASoO,kBAAkB1E,sBAC3GhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE9N,GAAY,GACZ/B,EAASyC,aAAa,UARtBzC,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoM,EAAMhG,IAASC,gBAAkBD,IAAS2M,wBAC9GjR,GAAaA,IACbhC,EAASyC,aAAa,IACtBkK,EAAgB,YAQzB,CAACqF,EAAYlQ,IAEhB,IAAMsF,EAAWT,GAAa,SAACxF,GAO3BnB,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAASkB,mBACrBC,SATa,WACbzH,EAASS,YAAQkU,YAAuBxT,KACxCnB,EAASyC,aAAa,IACtBV,GAAY,UAUpB,OACI,qBAAK4F,MAAO,CAAEpI,MAAO,QAAS,SAC1B,uBAAM6H,SAAUA,EAAS,UACrB,sBAAKO,MAAO,CAAEC,QAAS,OAAQC,eAAgB,iBAAkB,UAC7D,gCACI,cAAC,IAAmB,CAChBqL,YAAa4B,EACb3B,YAAaxG,IAEjB,cAAC,IAAW,CACRyG,MAAO9G,EAAG,UAAMA,EAAIyG,aAAgB7S,EAAEoG,IAAS4O,0BAGvD,sBAAKvN,MAAO,CAAEC,QAAS,OAAQE,IAAK,OAAQC,WAAY,UAAW,UAC/D,cAAC,IAAM,CACHE,QAAQ,YACRC,KAAK,SACL1I,MAAM,UACN2I,UAAW,cAAC,IAAS,CAAC3I,MAAM,cAC5BmI,MAAO,CAAES,gBAAiB,WAC1B8I,QAAS,kBAAMvE,EAAgB,WAAU,SAC3CzM,EAAEoG,IAASgN,QACZ/G,GACG,cAAC,IAAM,CACHvE,UAAW5H,EAAQxB,OACnBqJ,QAAQ,YACRzI,MAAM,UACN0I,KAAK,SACLC,UAAW,cAAC,IAAQ,CAAC3I,MAAM,cAC3BmI,MAAO,CAAES,gBAAiB,WAAY,SACxClI,EAAEoG,IAAS+B,cAKzB,sBAAKL,UAAW5H,EAAQ7B,gBAAgB,UACpC,qBAAKyJ,UAAU,UAAS,SACpB,cAAC,IAAS,CACN+E,GAAG,OACH/E,UAAU,SACVE,KAAK,QACLD,QAAQ,WACRU,SAAU,SAAC4K,GAAC,OAlGpC,SAA0BA,GACtB,GAAU,KAANA,EAAU,CACV,IAAIC,EAAe,IAAI9H,KAAK6H,EAAI,OAC5BE,GAAkB,OAAZD,QAAY,IAAZA,OAAY,EAAZA,EAAc3H,YAAa,EACjCL,EAAmB,OAAZgI,QAAY,IAAZA,OAAY,EAAZA,EAAc7H,cACzBwG,EAAc,GAAD,OAAI3G,EAAI,YAAIC,OAAOgI,GAAK1H,SAAS,EAAG,OACjDrJ,EAAS,OAAQ8I,GACjB9I,EAAS,QAAS+Q,IA2FeC,CAAiBH,EAAEI,OAAO1M,QAC3CA,MAAOiL,EACP0B,KAAK,YAGb,qBAAK5L,UAAU,UAAS,SACpB,cAAC,IAAW,CACRQ,MAAOtI,EAAEoG,IAAStD,SAClBgF,UAAU,SACVU,aAAc9B,EAAU,eACxBqB,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,cAAoB,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAOZ,OACpDL,MAAa,OAANa,QAAM,IAANA,GAAmB,QAAb,EAANA,EAAQuN,mBAAW,WAAb,EAAN,EAAqBhO,QAC5BjF,KAAMpB,EACNmJ,WAAW,cACXC,YAAY,OACZC,cAAc,MAGtB,sBAAKpB,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASgO,sBAClB3L,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,kBAAmBuE,IACjDyB,aAAc9B,EAAU,mBACxBZ,MAAa,OAANa,QAAM,IAANA,GAAuB,QAAjB,EAANA,EAAQ0N,uBAAe,WAAjB,EAAN,EAAyBnO,QAChC8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,SAExB,cAAC,IAAS,CACNtB,MAAOtI,EAAEoG,IAASkO,uBAClB7L,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,iBAAkBuE,IAChDyB,aAAc9B,EAAU,kBACxBZ,MAAa,OAANa,QAAM,IAANA,GAAsB,QAAhB,EAANA,EAAQ4N,sBAAc,WAAhB,EAAN,EAAwBrO,QAC/B8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,qBAAK9B,UAAU,UAAS,SACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASyM,aAClBpK,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,cAAeuE,IAC7CyB,aAAc9B,EAAU,eACxBZ,MAAa,OAANa,QAAM,IAANA,GAAmB,QAAb,EAANA,EAAQkM,mBAAW,WAAb,EAAN,EAAqB3M,YAGpC,qBAAK4B,UAAU,UAAS,SACpB,cAAC,IAAS,CACNQ,MAAM,GACNvB,MAAO/G,EAAEoG,IAAS6O,gBAClBnN,UAAW5H,EAAQT,wBASzCyV,EAA2B,2BAC3BC,EAAyE,SAAH,GAAoC,IAA9BC,EAAY,EAAZA,aAAcC,EAAQ,EAARA,SACtFvV,EAAWC,cAETC,EAAMC,cAAND,EAEFG,EAAgBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAChDC,EAAaJ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACxC8K,EAAchL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK8K,eAEpD,EAAgCzK,mBAAS,CACrC2U,SAAU,GACVtN,KAAM,GACNqD,KAAM,GACNC,KAAMC,QAAO,IAAIC,MAAOC,eACxBC,QAAQ,IAAIF,MAAOG,WAAa,GAAGC,WAAWC,SAAS,EAAG,OAC5D,mBANKC,EAAQ,KAAEC,EAAW,KAQ5B,EAA0CpL,mBAAS,IAAG,mBAA/C4U,EAAa,KAAEC,EAAgB,KACtC,EAAkC7U,mBAAS,IAAG,mBAAvC8U,EAAS,KAAEC,EAAY,KAC9B,EAAkC/U,mBAAS,IAAG,mBAAvCgV,EAAS,KAAEC,EAAY,KAC9B,EAA0CjV,oBAAS,GAAM,mBAAlDqL,EAAa,KAAEC,EAAgB,KACtC,EAAsCtL,mBAAsB,CAAEyL,IAAK,KAAMC,MAAM,IAAQ,mBAAhFC,EAAW,KAAEC,EAAc,KAClC,EAAwC5L,mBAAS,UAAS,mBAAnD6L,EAAY,KAAEC,EAAe,KACpC,GAAgC9L,oBAAS,GAAM,qBAAxCiB,GAAQ,MAAEC,GAAW,MAE5B,SAAS6K,KACL5M,EAASyC,aAAa,IACtBzC,EAASiC,YAAc8T,YAAiC/J,KAG5D3J,qBAAU,WACFiT,IACAI,EAAiBJ,EAAaU,QAAO,SAACC,EAA0BC,EAAYC,GAAW,OAAKA,EAAK3Q,WAAU,SAACtF,GAAQ,OAAQA,EAAEsV,WAAaS,EAAKT,cAAiBU,MACjKN,EAAaN,EAAaU,QAAO,SAACC,EAAsBC,EAAYC,GAAW,OAAKA,EAAK3Q,WAAU,SAACtF,GAAQ,OAAQA,EAAEgI,OAAS+N,EAAK/N,UAAagO,OAEjJX,GACAO,EAAaP,EAASS,QAAO,SAACC,EAA6BC,EAAYC,GAAW,OAAKA,EAAK3Q,WAAU,SAACtF,GAAQ,OAAQA,EAAE6S,cAAgBkD,EAAKlD,iBAAoBmD,QAEvK,CAACZ,EAAcC,IAElBlT,qBAAU,WAKN,OAJAuK,KACA5M,EAAS8M,YAAe,CACpBC,GAAIqI,KAED,WACHpV,EAASgN,kBAEd,IAEH3K,qBAAU,WACD3B,EAAW8B,SAAStB,SACrBlB,EAASyC,aAAa,MAE3B,CAAC/B,IAEJ,IAAMuM,GAAUlG,IAAMmG,SAClB,iBAAM,CACF,CACIC,SAAU,kCACVC,aAAa,EACbC,SAAU,GACV9N,MAAO,KACP+N,KAAM,SAACC,GACH,IAAMjB,EAAMiB,EAAMC,KAAKlB,IAAImB,SAC3B,OACI,cAAC,IAAa,CACVC,eAAgB,kBAAMC,GAAarB,IACnCsB,aAAc,kBAAMC,GAAWvB,QAK/C,CACIwB,OAAQ5N,EAAEoG,IAASkF,MACnB2B,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAASsF,OACnBuB,SAAU,SAEd,CACIW,OAAQ5N,EAAEoG,IAAS8P,uBACnBjJ,SAAU,YAEd,CACIW,OAAQ5N,EAAEoG,IAAS+P,sBACnBlJ,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAASgQ,0BACnBnJ,SAAU,eAEd,CACIW,OAAQ5N,EAAEoG,IAASiQ,mBACnBpJ,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAASkQ,kCACnBrJ,SAAU,mBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQkJ,EAAqBlJ,EAAMC,KAAKlB,IAAImB,SAApCgJ,iBACR,OAAOpI,aAAuBoI,GAAoB,KAG1D,CACI3I,OAAQ5N,EAAEoG,IAASoQ,wBACnBvJ,SAAU,WACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQU,EAAaV,EAAMC,KAAKlB,IAAImB,SAA5BQ,SACR,OAAOC,aAAaD,GAAY,KAGxC,CACIH,OAAQ5N,EAAEoG,IAASqQ,8BACnBxJ,SAAU,gBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQqJ,EAAkBrJ,EAAMC,KAAKlB,IAAImB,SAAjCmJ,cACR,OAAO1I,aAAa0I,GAAiB,QAIjD,IAGE5U,GAAY,WAAH,OAAShC,EAASiC,YAAc8T,YAAiC/J,MAEhF3J,qBAAU,WACN,GAAIP,GACA,GAAKzB,EAAca,SAAYb,EAAc2F,OAKtC,GAAI3F,EAAc2F,MAAO,CAC5B,IAAM6J,EAAe3P,EAAEG,EAAcgG,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAASuQ,aAAa7G,sBACzGhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE7P,EAASyC,aAAa,IACtBV,IAAY,SARZ/B,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS4J,sBAC7ElQ,EAASyC,aAAa,IACtBV,IAAY,GACZC,OAQT,CAAC3B,EAAeyB,KAEnBO,qBAAU,WACN8J,EAAmC,KAAlBH,EAASR,QAC3B,CAACQ,IAEJ,IAKM6B,GAAa,SAACvB,GAChBK,EAAgB,UAChBF,EAAe,CAAEH,MAAKC,MAAM,KAG1BoB,GAAe,SAACrB,GAOlBtM,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAAS6J,qBACrB1I,SATa,WACbzH,EAASS,YAAQqW,YAAiC,2BAAKxK,GAAG,IAAE+D,UAAW,SAAUC,OAAQ,YAAavD,GAAIT,EAAIyK,qCAC9G/W,EAASyC,aAAa,IACtBV,IAAY,QAUpB,MAAqB,WAAjB2K,EAEI,cAAC,WAAQ,UACL,cAAC,IAAQ,CACL8D,WAAY3C,GACZZ,QAASA,GACTwD,eAAgB,kBACZ,sBAAK9I,MAAO,CAAEC,QAAS,OAAQE,IAAK,EAAG4I,SAAU,QAAS,UACtD,cAAC,IAAW,CACRlI,MAAOtI,EAAEoG,IAASkF,MAClB7D,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASR,KACvBvD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEnF,MAAW,OAALvE,QAAK,IAALA,OAAK,EAALA,EAAOA,QAAS,QAC3E9F,KAAMyP,IACN1H,WAAW,QACXC,YAAY,UAEhB,cAAC,IAAgB,CACbX,MAAOtI,EAAEoG,IAASsF,OAClBjE,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASJ,MACvB3D,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAE/E,MAAO3E,EAAM4J,KAAI,SAACC,GAAa,OAAKA,EAAEC,OAAKC,aAChG7P,KAAM8P,IACNzH,MAAM,EACNC,kBAAkB,SAClBP,WAAW,MACXC,YAAY,QAEhB,cAAC,IAAW,CACRX,MAAOtI,EAAEoG,IAAS8P,uBAClBzO,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASwJ,SACvBvN,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAE6E,UAAe,OAALvO,QAAK,IAALA,OAAK,EAALA,EAAOuO,WAAY,SAClFrU,KAAMsU,EACNvM,WAAW,WACXC,YAAY,aAEhB,cAAC,IAAW,CACRX,MAAOtI,EAAEoG,IAAS+P,sBAClB1O,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAAS9D,KACvBD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEzI,MAAW,OAALjB,QAAK,IAALA,OAAK,EAALA,EAAOiB,OAAQ,SAC1E/G,KAAMwU,EACNzM,WAAW,OACXC,YAAY,SAEhB,cAAC,IAAW,CACRX,MAAOtI,EAAEoG,IAASiQ,mBAClB5O,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAAST,KACvBtD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEpF,MAAW,OAALtE,QAAK,IAALA,OAAK,EAALA,EAAO8L,cAAe,SACjF5R,KAAM0U,EACN3M,WAAW,cACXC,YAAY,gBAEhB,cAAC,IAAM,CACHH,SAAUtI,EAAW8B,SAAStB,SAAWgL,EACzCjE,QAAQ,YACRzI,MAAM,UACN2I,UAAW,cAAC,IAAU,CAACR,MAAO,CAAEnI,MAAO,WACvCmI,MAAO,CAAEpI,MAAO,IAAK6I,gBAAiB,WACtC8I,QAAS,kBAAMtE,MAAS,SAC1B1M,EAAEoG,IAASsG,cAIrBzL,KAAMT,EAAW8B,SAASrB,KAC1BgQ,eAAe,EACfC,UAAU,EACVlQ,QAASR,EAAW8B,SAAStB,QAC7BwF,UAAU,EACV2K,eApGO,WACnB1E,EAAgB,UAChBF,EAAe,CAAEH,IAAK,KAAMC,MAAM,KAmGtB+E,gBAAiB8D,IAA6B9J,EAAYyB,IAA+B,IAA1BzB,EAAYiG,SAAkB,GAAKjG,EAAYiG,SAAW,GACzHC,iBAAkB4D,IAA6B9J,EAAYyB,IAA2B,IAAtBzB,EAAYmG,KAAc,EAAInG,EAAYmG,KAAO,EACjHC,mBAAoB0D,IAA6B9J,EAAYyB,GAAK4E,OAAOC,QAAQtG,EAAYuG,SAAShB,KAAI,mCAAY,MAAO,CAAE9D,GAAhB,KAAyB9F,MAAlB,cAA8B6K,MAK1I,WAAjBpF,EAED,cAACsK,EAA4B,CACzB7V,KAAMqL,EACNG,gBAAiBA,EACjB3K,UAAWA,GACXsT,aAAcA,EACdC,SAAUA,IAIX,MAGTyB,EAA4E,SAAH,GAAqF,IAAD,wBAA9E7V,KAAQmL,EAAG,EAAHA,IAAKC,EAAI,EAAJA,KAAQI,EAAe,EAAfA,gBAAiB3K,EAAS,EAATA,UAAWsT,EAAY,EAAZA,aAAcC,EAAQ,EAARA,SAC1IvV,EAAWC,cAETC,EAAMC,cAAND,EAEFE,EAAUhC,IACV4T,EAAa1R,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAEnD,EAAoCI,mBAASyL,EAAG,UAAMA,EAAId,KAAI,YAAIC,OAAOa,EAAIV,OAAOG,SAAS,EAAG,MAAI,UAAQ,IAAIL,MAAK,IAAIA,MAAOuG,QAAQ,IAAItG,cAAa,YAAIF,OAAO,IAAIC,MAAK,IAAIA,MAAOuG,QAAQ,IAAIpG,WAAa,GAAGE,SAAS,EAAG,OAAO,mBAAhOmG,EAAU,KAAEC,EAAa,KAChC,EAAgCtR,oBAAS,GAAM,mBAAxCiB,EAAQ,KAAEC,EAAW,KAEtBkV,EAAa,CACf,CAAElK,GAAI,SAAU4F,KAAMzS,EAAEoG,IAAS4Q,sCACjC,CAAEnK,GAAI,SAAU4F,KAAMzS,EAAEoG,IAAS6Q,6CAGrC,EAAwF3Q,YAAQ,CAC5FC,cAAe,CACXsG,GAAIT,EAAMA,EAAIyK,gCAAkC,EAChDvL,MAAS,OAAHc,QAAG,IAAHA,OAAG,EAAHA,EAAKd,QAAQ,IAAIE,MAAOC,cAC9BC,OAAU,OAAHU,QAAG,IAAHA,OAAG,EAAHA,EAAKV,SAAS,IAAIF,MAAOG,WAAa,EAC7C2J,UAAa,OAAHlJ,QAAG,IAAHA,OAAG,EAAHA,EAAKkJ,WAAY,GAC3B4B,aAAgB,OAAH9K,QAAG,IAAHA,OAAG,EAAHA,EAAK8K,cAAe,GACjCC,WAAc,OAAH/K,QAAG,IAAHA,OAAG,EAAHA,EAAK+K,YAAa,EAC7B9L,MAAS,OAAHe,QAAG,IAAHA,OAAG,EAAHA,EAAKf,OAAQ,GACnBkL,kBAAqB,OAAHnK,QAAG,IAAHA,OAAG,EAAHA,EAAKmK,mBAAoB,EAC3CxI,UAAa,OAAH3B,QAAG,IAAHA,OAAG,EAAHA,EAAK2B,WAAY,EAC3B2I,eAAkB,OAAHtK,QAAG,IAAHA,OAAG,EAAHA,EAAKsK,gBAAiB,EACrCtG,OAAQhE,EAAMA,EAAIgE,OAAS,SAC3BpI,KAAMoE,EAAMA,EAAIpE,KAAO,GACvB6K,YAAazG,EAAMA,EAAIyG,YAAc,GACrC1C,UAAW/D,EAAM,SAAW,YAf5B5F,EAAQ,EAARA,SAAUC,EAAY,EAAZA,aAAcjE,EAAQ,EAARA,SAAUkE,EAAS,EAATA,UAAW0Q,GAAO,EAAPA,QAAsBzQ,GAAM,EAAnBC,UAAaD,OA8B3EE,IAAM1E,WAAU,WACZqE,EAAS,MACTA,EAAS,QACTA,EAAS,SACTA,EAAS,WAAY,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBAClFT,EAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBACrFT,EAAS,aACTA,EAAS,OAAQ,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBAC9ET,EAAS,mBAAoB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC/HT,EAAS,WAAY,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBACvHT,EAAS,gBAAiB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC5HT,EAAS,UACTA,EAAS,QACTA,EAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBACrFT,EAAS,eACV,CAAC6F,EAAM7F,IAEVrE,qBAAU,WACN,GAAIP,EACA,GAAKkQ,EAAW9Q,SAAY8Q,EAAWhM,OAKhC,GAAIgM,EAAWhM,MAAO,CACzB,IAAM6J,EAAe3P,EAAE8R,EAAW3L,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAAS4Q,qCAAqClH,sBAC9HhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE9N,GAAY,GACZ/B,EAASyC,aAAa,UARtBzC,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoM,EAAMhG,IAASC,gBAAkBD,IAAS2M,wBAC9GjR,GAAaA,IACbhC,EAASyC,aAAa,IACtBkK,EAAgB,YAQzB,CAACqF,EAAYlQ,IAEhB,IAAMsF,GAAWT,GAAa,SAACxF,GAO3BnB,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAASkB,mBACrBC,SATa,WACbzH,EAASS,YAAQqW,YAAiC3V,KAClDnB,EAASyC,aAAa,IACtBV,GAAY,UAiDpB,OACI,qBAAK4F,MAAO,CAAEpI,MAAO,QAAS,SAC1B,uBAAM6H,SAAUA,GAAS,UACrB,sBAAKO,MAAO,CAAEC,QAAS,OAAQC,eAAgB,iBAAkB,UAC7D,gCACI,cAAC,IAAmB,CAChBqL,YAAa+D,EACb9D,YAAaxG,IAEjB,cAAC,IAAW,CACRyG,MAAO9G,EAAG,UAAMA,EAAIkJ,SAAQ,cAAMlJ,EAAIpE,MAAShI,EAAEoG,IAASiR,6CAGlE,sBAAK5P,MAAO,CAAEC,QAAS,OAAQE,IAAK,OAAQC,WAAY,UAAW,UAC/D,cAAC,IAAM,CACHE,QAAQ,YACRC,KAAK,SACL1I,MAAM,UACN2I,UAAW,cAAC,IAAS,CAAC3I,MAAM,cAC5BmI,MAAO,CAAES,gBAAiB,WAC1B8I,QAAS,kBAAMvE,EAAgB,WAAU,SAC3CzM,EAAEoG,IAASgN,QACZ/G,GACG,cAAC,IAAM,CACHvE,UAAW5H,EAAQxB,OACnBqJ,QAAQ,YACRzI,MAAM,UACN0I,KAAK,SACLC,UAAW,cAAC,IAAQ,CAAC3I,MAAM,cAC3BmI,MAAO,CAAES,gBAAiB,WAAY,SACxClI,EAAEoG,IAAS+B,cAKzB,sBAAKL,UAAW5H,EAAQ7B,gBAAgB,UACpC,sBAAKyJ,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASyM,aAClBpK,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,cAAeuE,IAC7CyB,aAAc9B,EAAU,eACxBZ,MAAa,OAANa,SAAM,IAANA,IAAmB,QAAb,EAANA,GAAQkM,mBAAW,WAAb,EAAN,EAAqB3M,QAC5B4B,UAAU,UAEd,cAAC,IAAS,CACN+E,GAAG,OACH/E,UAAU,QACVE,KAAK,QACLD,QAAQ,WACRU,SAAU,SAAC4K,GAAC,OAlJpC,SAA0BA,GACtB,GAAU,KAANA,EAAU,CACV,IAAIC,EAAe,IAAI9H,KAAK6H,EAAI,OAC5BE,GAAkB,OAAZD,QAAY,IAAZA,OAAY,EAAZA,EAAc3H,YAAa,EACjCL,EAAmB,OAAZgI,QAAY,IAAZA,OAAY,EAAZA,EAAc7H,cACzBwG,EAAc,GAAD,OAAI3G,EAAI,YAAIC,OAAOgI,GAAK1H,SAAS,EAAG,OACjDrJ,EAAS,OAAQ8I,GACjB9I,EAAS,QAAS+Q,IA2IeC,CAAiBH,EAAEI,OAAO1M,QAC3CA,MAAOiL,EACP0B,KAAK,aAGb,sBAAK5L,UAAU,UAAS,UACpB,cAAC,IAAW,CACRQ,MAAOtI,EAAEoG,IAASkR,iBAClBxP,UAAU,QACVU,aAAY,UAAK9B,EAAU,QAAO,cAAMA,EAAU,aAClD+B,SAAU,SAAC1B,GAlGnC,IAA6B9F,KAkGsC8F,IAhG3DvE,EAAS,WAAYvB,EAAKqU,UAAY,IACtC9S,EAAS,OAAQvB,EAAK+G,MAAQ,IAC9BxF,EAAS,YAAavB,EAAKkW,WAAa,GACxC3U,EAAS,cAAevB,EAAKiW,aAAe,MAG5C1U,EAAS,WAAY,IACrBA,EAAS,OAAQ,IACjBA,EAAS,YAAa,GACtBA,EAAS,cAAe,KAG5B4U,GAAQ,YACRA,GAAQ,QACRA,GAAQ,gBAmFYtR,MAAa,OAANa,SAAM,IAANA,IAAY,QAAN,EAANA,GAAQqB,YAAI,WAAN,EAAN,EAAc9B,QACrBjF,KAAkB,OAAZmU,QAAY,IAAZA,OAAY,EAAZA,EAAcU,QAAO,SAACyB,EAAkCC,EAAQC,GAAQ,OAAKA,EAAEnS,WAAU,SAACoS,GAAiC,OAAMH,EAAEvP,OAAS0P,EAAG1P,MAAQuP,EAAEjC,WAAaoC,EAAGpC,cAAekC,KAC9LxO,WAAW,eACXC,YAAY,eACZC,cAAc,IAElB,cAAC,IAAS,CACNZ,MAAOtI,EAAEoG,IAAS8P,uBAClBpO,UAAU,QACVU,aAAc9B,EAAU,YACxBZ,MAAa,OAANa,SAAM,IAANA,IAAgB,QAAV,EAANA,GAAQ2O,gBAAQ,WAAV,EAAN,EAAkBpP,QACzB4C,UAAU,OAGlB,sBAAKhB,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAAS+P,sBAClBrO,UAAU,QACVU,aAAc9B,EAAU,QACxBZ,MAAa,OAANa,SAAM,IAANA,IAAY,QAAN,EAANA,GAAQqB,YAAI,WAAN,EAAN,EAAc9B,QACrB4C,UAAU,IAEd,cAAC,IAAS,CACNR,MAAOtI,EAAEoG,IAAS4B,MAClBF,UAAU,QACVU,aAAc9B,EAAU,QACxBZ,MAAa,OAANa,SAAM,IAANA,IAAY,QAAN,EAANA,GAAQqB,YAAI,WAAN,EAAN,EAAc9B,QACrB4C,UAAU,OAGlB,qBAAKhB,UAAU,UAAS,SACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASgQ,0BAClBtO,UAAU,QACVU,aAAc9B,EAAU,eACxBZ,MAAa,OAANa,SAAM,IAANA,IAAmB,QAAb,EAANA,GAAQuQ,mBAAW,WAAb,EAAN,EAAqBhR,QAC5B4C,UAAU,MAGlB,sBAAKhB,UAAU,UAAS,UACpB,cAAC,IAAW,CACRQ,MAAOtI,EAAEoG,IAASiQ,mBAClBvO,UAAU,QACVU,aAAc9B,EAAU,QACxB+B,SAAU,SAAC1B,GA5HnC,IAA0B9F,KA4HsC8F,IA1HxDvE,EAAS,OAAQvB,EAAK4R,aAAe,IACrCrQ,EAAS,mBAAoBvB,EAAKsV,kBAAoB,GACtD/T,EAAS,WAAYvB,EAAK8M,UAAY,GACtCvL,EAAS,gBAAiBvB,EAAKyV,eAAiB,KAGhDlU,EAAS,OAAQ,IACjBA,EAAS,mBAAoB,GAC7BA,EAAS,WAAY,GACrBA,EAAS,gBAAiB,IAG9B4U,GAAQ,QACRA,GAAQ,oBACRA,GAAQ,YACRA,GAAQ,kBA4GYtR,MAAa,OAANa,SAAM,IAANA,IAAY,QAAN,EAANA,GAAQ0E,YAAI,WAAN,EAAN,EAAcnF,QACrBjF,KAAMoU,EACNrM,WAAW,cACXC,YAAY,gBAEhB,cAAC,IAAS,CACNX,MAAOtI,EAAEoG,IAASkQ,kCAClBxO,UAAU,QACVU,aAAc9B,EAAU,oBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,mBAAoBuE,IAClDjB,MAAa,OAANa,SAAM,IAANA,IAAwB,QAAlB,EAANA,GAAQ4P,wBAAgB,WAAlB,EAAN,EAA0BrQ,QACjC8B,KAAK,cAGb,sBAAKF,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASoQ,wBAClB1O,UAAU,QACVU,aAAc9B,EAAU,YACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,WAAYuE,IAC1CjB,MAAa,OAANa,SAAM,IAANA,IAAgB,QAAV,EAANA,GAAQoH,gBAAQ,WAAV,EAAN,EAAkB7H,QACzB8B,KAAK,WAET,cAAC,IAAS,CACNM,MAAOtI,EAAEoG,IAASqQ,8BAClB3O,UAAU,QACVU,aAAc9B,EAAU,iBACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,gBAAiBuE,IAC/CjB,MAAa,OAANa,SAAM,IAANA,IAAqB,QAAf,EAANA,GAAQ+P,qBAAa,WAAf,EAAN,EAAuBxQ,QAC9B8B,KAAK,uBAS3B2P,EAAgB,gBAChBC,EAA2C,SAAH,GAAsB,IAAhB/X,EAAQ,EAARA,SAC1CC,EAAWC,cAETC,EAAMC,cAAND,EAEFE,EAAUhC,IACViC,EAAgBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAChDC,EAAaJ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACxC8K,EAAchL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK8K,eAEpD,EAAgCzK,mBAAS,CACrC0K,KAAM,GACNC,KAAMC,QAAO,IAAIC,MAAOC,eACxBC,QAAQ,IAAIF,MAAOG,WAAa,GAAGC,WAAWC,SAAS,EAAG,OAC5D,mBAJKC,EAAQ,KAAEC,EAAW,KAM5B,EAA0CpL,oBAAS,GAAM,mBAAlDqL,EAAa,KAAEC,EAAgB,KACtC,EAAsCtL,oBAAS,GAAM,mBAA9CuL,EAAW,KAAEC,EAAc,KAClC,EAAsCxL,mBAAsB,CAAEyL,IAAK,KAAMC,MAAM,IAAQ,mBAAhFC,EAAW,KAAEC,EAAc,KAClC,EAAwC5L,mBAAS,UAAS,mBAAnD6L,EAAY,KAAEC,EAAe,KACpC,EAAgC9L,oBAAS,GAAM,mBAAxCiB,EAAQ,KAAEC,EAAW,KAE5B,SAAS6K,IACL5M,EAASyC,aAAa,IACtBzC,EAASiC,YAAc8V,aAAqB/L,KAGhD3J,qBAAU,WAKN,OAJAuK,IACA5M,EAAS8M,YAAe,CACpBC,GAAI8K,KAED,WACH7X,EAASgN,kBAEd,IAEH3K,qBAAU,WACD3B,EAAW8B,SAAStB,SACrBlB,EAASyC,aAAa,MAE3B,CAAC/B,IAEJ,IAAMuM,EAAUlG,IAAMmG,SAClB,iBAAM,CACF,CACIC,SAAU,mBACVC,aAAa,EACbC,SAAU,GACV9N,MAAO,KACP+N,KAAM,SAACC,GACH,IAAMjB,EAAMiB,EAAMC,KAAKlB,IAAImB,SAC3B,OACI,cAAC,IAAa,CACVC,eAAgB,kBAAMC,GAAarB,IACnCsB,aAAc,kBAAMC,GAAWvB,QAO/C,CACIwB,OAAQ5N,EAAEoG,IAASkF,MACnB2B,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAASsF,OACnBuB,SAAU,SAEd,CACIW,OAAQ5N,EAAEoG,IAASuQ,aACnB1J,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAAS0R,cACnB7K,SAAU,WACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQU,EAAaV,EAAMC,KAAKlB,IAAImB,SAA5BQ,SACR,OAAOC,aAAaD,GAAY,KAGxC,CACIH,OAAQ5N,EAAEoG,IAAS2R,WACnB9K,SAAU,aAEd,CACIW,OAAQ5N,EAAEoG,IAAS4R,YACnB/K,SAAU,iBAGlB,IAGEnL,EAAY,WAAH,OAAShC,EAASiC,YAAc8V,aAAqB/L,MAEpE3J,qBAAU,WACN,GAAIP,EACA,GAAKzB,EAAca,SAAYb,EAAc2F,OAWtC,GAAI3F,EAAc2F,MAAO,CAC5B,IAAM6J,EAAe3P,EAAEG,EAAcgG,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAASuQ,aAAa7G,sBACzGhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE7P,EAASyC,aAAa,IACtBV,GAAY,SAdRqK,GACAC,GAAe,GACfrM,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS2J,0BAG7EjQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS4J,sBAEjFlO,IACAhC,EAASyC,aAAa,IACtBV,GAAY,KAQrB,CAAC1B,EAAeyB,IAEnBO,qBAAU,WACN8J,EAAmC,KAAlBH,EAASR,QAC3B,CAACQ,IAEJ,IAKM6B,GAAa,SAACvB,GAChBK,EAAgB,UAChBF,EAAe,CAAEH,MAAKC,MAAM,KAG1BoB,GAAe,SAACrB,GAOlBtM,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAAS6J,qBACrB1I,SATa,WACbzH,EAASS,YAAQ0X,YAAkB,2BAAK7L,GAAG,IAAE+D,UAAW,SAAUC,OAAQ,YAAavD,GAAIT,EAAI8L,sBAC/FpY,EAASyC,aAAa,IACtBV,GAAY,QAUpB,MAAqB,WAAjB2K,EAEI,cAAC,WAAQ,UACL,cAAC,IAAQ,CACL8D,WAAY3C,GACZZ,QAASA,EACTwD,eAAgB,kBACZ,sBAAK9I,MAAO,CAAEC,QAAS,OAAQE,IAAK,EAAG4I,SAAU,QAAS,UACtD,cAAC,IAAW,CACRlI,MAAOtI,EAAEoG,IAASkF,MAClB7D,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASR,KACvBvD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEnF,MAAW,OAALvE,QAAK,IAALA,OAAK,EAALA,EAAOA,QAAS,QAC3E9F,KAAMyP,IACN1H,WAAW,QACXC,YAAY,UAEhB,cAAC,IAAgB,CACbX,MAAOtI,EAAEoG,IAASsF,OAClBjE,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASJ,MACvB3D,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAE/E,MAAO3E,EAAM4J,KAAI,SAACC,GAAa,OAAKA,EAAEC,OAAKC,aAChG7P,KAAM8P,IACNzH,MAAM,EACNC,kBAAkB,SAClBP,WAAW,MACXC,YAAY,QAEhB,cAAC,IAAW,CACRX,MAAOtI,EAAEoG,IAASuQ,aAClB7O,UAAW5H,EAAQX,aACnBiJ,aAAcsD,EAAST,KACvBtD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEpF,MAAW,OAALtE,QAAK,IAALA,OAAK,EAALA,EAAO8L,cAAe,SACjF5R,KAAMpB,EACNmJ,WAAW,cACXC,YAAY,cACZC,cAAc,IAGlB,cAAC,IAAM,CACHJ,SAAUtI,EAAW8B,SAAStB,SAAWgL,EACzCjE,QAAQ,YACRzI,MAAM,UACN2I,UAAW,cAAC,IAAU,CAACR,MAAO,CAAEnI,MAAO,WACvCmI,MAAO,CAAEpI,MAAO,IAAK6I,gBAAiB,WACtC8I,QAAS,kBAAMtE,KAAS,SAC1B1M,EAAEoG,IAASsG,cAIrBzL,KAAMT,EAAW8B,SAASrB,KAC1BgQ,eAAe,EACfC,UAAU,EACVlQ,QAASR,EAAW8B,SAAStB,QAC7BwF,UAAU,EACV2K,eAlFO,WACnB1E,EAAgB,UAChBF,EAAe,CAAEH,IAAK,KAAMC,MAAM,KAiFtB+E,gBAAiBuG,IAAkBvM,EAAYyB,IAA+B,IAA1BzB,EAAYiG,SAAkB,GAAKjG,EAAYiG,SAAW,GAC9GC,iBAAkBqG,IAAkBvM,EAAYyB,IAA2B,IAAtBzB,EAAYmG,KAAc,EAAInG,EAAYmG,KAAO,EACtGC,mBAAoBmG,IAAkBvM,EAAYyB,GAAK4E,OAAOC,QAAQtG,EAAYuG,SAAShB,KAAI,mCAAY,MAAO,CAAE9D,GAAhB,KAAyB9F,MAAlB,cAA8B6K,MAK/H,WAAjBpF,EAED,cAAC2L,EAAiB,CACdlX,KAAMqL,EACNG,gBAAiBA,EACjB3K,UAAWA,EACXjC,SAAUA,IAIX,MAGTsY,EAAsD,SAAH,GAAuE,IAAD,cAAhElX,KAAQmL,EAAG,EAAHA,IAAKC,EAAI,EAAJA,KAAQI,EAAe,EAAfA,gBAAiB3K,EAAS,EAATA,UAAWjC,EAAQ,EAARA,SACtGC,EAAWC,cAETC,EAAMC,cAAND,EAEFE,EAAUhC,IACV4T,EAAa1R,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAEnD,EAAoCI,mBAChCyL,EAAG,UAAMA,EAAId,KAAI,YAAIC,OAAOa,EAAIV,OAAOG,SAAS,EAAG,MAAI,UAAQ,IAAIL,MAAK,IAAIA,MAAOuG,QAAQ,IAAItG,cAAa,YAAIF,OAAO,IAAIC,MAAK,IAAIA,MAAOuG,QAAQ,IAAIpG,WAAa,GAAGE,SAAS,EAAG,OACtL,mBAFMmG,EAAU,KAAEC,EAAa,KAGhC,EAAgCtR,oBAAS,GAAM,mBAAxCiB,EAAQ,KAAEC,EAAW,KAEtBkV,EAAa,CACf,CAAElK,GAAI,SAAU4F,KAAMzS,EAAEoG,IAASuQ,cACjC,CAAE9J,GAAI,SAAU4F,KAAMzS,EAAEoG,IAASgS,qBAGrC,EAA+E9R,YAAQ,CACnFC,cAAe,CACXsG,GAAIT,EAAMA,EAAI8L,iBAAmB,EACjCG,WAAc,OAAHjM,QAAG,IAAHA,OAAG,EAAHA,EAAKiM,YAAa,IAAI7M,MAAK,IAAIA,MAAOuG,QAAQ,IACzDuG,SAAY,OAAHlM,QAAG,IAAHA,OAAG,EAAHA,EAAKkM,UAAW,IAAI9M,MAAK,IAAIA,MAAOC,eAAe,IAAID,MAAOG,WAAa,EAAG,GACvFL,MAAS,OAAHc,QAAG,IAAHA,OAAG,EAAHA,EAAKd,QAAQ,IAAIE,MAAOC,cAC9BC,OAAU,OAAHU,QAAG,IAAHA,OAAG,EAAHA,EAAKV,SAAS,IAAIF,MAAOG,WAAa,EAC7CN,MAAS,OAAHe,QAAG,IAAHA,OAAG,EAAHA,EAAKf,OAAQ,GACnB0C,UAAa,OAAH3B,QAAG,IAAHA,OAAG,EAAHA,EAAK2B,WAAY,EAC3BgK,WAAc,OAAH3L,QAAG,IAAHA,OAAG,EAAHA,EAAK2L,aAAa,IAAIvM,MAAO+M,UACxCP,YAAe,OAAH5L,QAAG,IAAHA,OAAG,EAAHA,EAAK4L,cAAc,IAAIxM,MAAO+M,UAC1CnI,OAAQhE,EAAMA,EAAIgE,OAAS,SAC3BpI,KAAMoE,EAAMA,EAAIpE,KAAO,GACvB6K,YAAazG,EAAMA,EAAIyG,YAAc,GACrC1C,UAAW/D,EAAM,SAAW,YAd5B5F,EAAQ,EAARA,SAAUC,EAAY,EAAZA,aAAcjE,EAAQ,EAARA,SAAUkE,EAAS,EAATA,UAAwBC,EAAM,EAAnBC,UAAaD,OAiClEE,IAAM1E,WAAU,WACZqE,EAAS,MACTA,EAAS,QACTA,EAAS,UACTA,EAAS,QACTA,EAAS,SACTA,EAAS,aACTA,EAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBACrFT,EAAS,OAAQ,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBAC9ET,EAAS,WAAY,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBACvHT,EAAS,YAAa,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBACnFT,EAAS,aAAc,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,qBACrF,CAACoF,EAAM7F,IAEVrE,qBAAU,WACN,GAAIP,EACA,GAAKkQ,EAAW9Q,SAAY8Q,EAAWhM,OAKhC,GAAIgM,EAAWhM,MAAO,CACzB,IAAM6J,EAAe3P,EAAE8R,EAAW3L,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAASuQ,aAAa7G,sBACtGhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE9N,GAAY,GACZ/B,EAASyC,aAAa,UARtBzC,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoM,EAAMhG,IAASC,gBAAkBD,IAAS2M,wBAC9GjR,GAAaA,IACbhC,EAASyC,aAAa,IACtBkK,EAAgB,YAQzB,CAACqF,EAAYlQ,IAEhB,IAAMsF,EAAWT,GAAa,SAACxF,GAO3BnB,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAASkB,mBACrBC,SATa,WACbzH,EAASS,YAAQ0X,YAAkBhX,KACnCnB,EAASyC,aAAa,IACtBV,GAAY,UAUpB,OACI,qBAAK4F,MAAO,CAAEpI,MAAO,QAAS,SAC1B,uBAAM6H,SAAUA,EAAS,UACrB,sBAAKO,MAAO,CAAEC,QAAS,OAAQC,eAAgB,iBAAkB,UAC7D,gCACI,cAAC,IAAmB,CAChBqL,YAAa+D,EACb9D,YAAaxG,IAEjB,cAAC,IAAW,CACRyG,MAAO9G,EAAG,UAAMA,EAAIyG,aAAgB7S,EAAEoG,IAASoS,qBAGvD,sBAAK/Q,MAAO,CAAEC,QAAS,OAAQE,IAAK,OAAQC,WAAY,UAAW,UAC/D,cAAC,IAAM,CACHE,QAAQ,YACRC,KAAK,SACL1I,MAAM,UACN2I,UAAW,cAAC,IAAS,CAAC3I,MAAM,cAC5BmI,MAAO,CAAES,gBAAiB,WAC1B8I,QAAS,kBAAMvE,EAAgB,WAAU,SAC3CzM,EAAEoG,IAASgN,QACZ/G,GACG,cAAC,IAAM,CACHvE,UAAW5H,EAAQxB,OACnBqJ,QAAQ,YACRzI,MAAM,UACN0I,KAAK,SACLC,UAAW,cAAC,IAAQ,CAAC3I,MAAM,cAC3BmI,MAAO,CAAES,gBAAiB,WAAY,SACxClI,EAAEoG,IAAS+B,cAKzB,sBAAKL,UAAW5H,EAAQ7B,gBAAgB,UACpC,sBAAKyJ,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASyM,aAClBpK,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,cAAeuE,IAC7CyB,aAAc9B,EAAU,eACxBZ,MAAa,OAANa,QAAM,IAANA,GAAmB,QAAb,EAANA,EAAQkM,mBAAW,WAAb,EAAN,EAAqB3M,QAC5B4B,UAAU,UAEd,cAAC,IAAS,CACN+E,GAAG,OACH/E,UAAU,QACVE,KAAK,QACLD,QAAQ,WACRU,SAAU,SAAC4K,GAAC,OA5GpC,SAA0BA,GACtB,GAAU,KAANA,EAAU,CACV,IAAIC,EAAe,IAAI9H,KAAK6H,EAAI,OAC5BE,GAAkB,OAAZD,QAAY,IAAZA,OAAY,EAAZA,EAAc3H,YAAa,EACjCL,EAAmB,OAAZgI,QAAY,IAAZA,OAAY,EAAZA,EAAc7H,cACrB4M,EAAY,IAAI7M,KAAKF,EAAMiI,EAAM,EAAG,GACpC+E,EAAU,IAAI9M,KAAKF,EAAMiI,EAAK,GAClC/Q,EAAS,YAAa6V,GACtB7V,EAAS,UAAW8V,GACpBrG,EAAc,GAAD,OAAI3G,EAAI,YAAIC,OAAOgI,GAAK1H,SAAS,EAAG,OACjDrJ,EAAS,OAAQ8I,GACjB9I,EAAS,QAAS+Q,IAiGeC,CAAiBH,EAAEI,OAAO1M,QAC3CA,MAAOiL,EACP0B,KAAK,aAGb,sBAAK5L,UAAU,UAAS,UACpB,cAAC,IAAW,CACRQ,MAAM,OACNR,UAAU,QACVU,aAAc9B,EAAU,QACxB+B,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,OAAa,OAALuE,QAAK,IAALA,OAAK,EAALA,EAAO8L,cAC7C5R,KAAMpB,EACNmJ,WAAW,cACXC,YAAY,cACZnD,MAAa,OAANa,QAAM,IAANA,GAAY,QAAN,EAANA,EAAQ0E,YAAI,WAAN,EAAN,EAAcnF,QACrBgD,cAAc,IAElB,cAAC,IAAS,CACNZ,MAAOtI,EAAEoG,IAAS0R,cAClBrP,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,WAAYuE,IAC1CyB,aAAc9B,EAAU,YACxBZ,MAAa,OAANa,QAAM,IAANA,GAAgB,QAAV,EAANA,EAAQoH,gBAAQ,WAAV,EAAN,EAAkB7H,QACzB8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,sBAAK9B,UAAU,UAAS,UACpB,cAAC,IAAS,CACNE,KAAK,OACLM,MAAOtI,EAAEoG,IAAS2R,WAClBjS,MAAa,OAANa,QAAM,IAANA,GAAiB,QAAX,EAANA,EAAQoR,iBAAS,WAAX,EAAN,EAAmB7R,QAC1B4B,UAAU,QACVW,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,YAAauE,IAC3CyB,aAAc9B,EAAU,eAE5B,cAAC,IAAS,CACNsB,KAAK,OACLM,MAAOtI,EAAEoG,IAAS4R,YAClBlS,MAAa,OAANa,QAAM,IAANA,GAAkB,QAAZ,EAANA,EAAQqR,kBAAU,WAAZ,EAAN,EAAoB9R,QAC3B4B,UAAU,QACVW,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,aAAcuE,IAC5CyB,aAAc9B,EAAU,4BAS9C+R,EAAkB,kBAClBC,EAA6C,SAAH,GAAsB,IAAhB7Y,EAAQ,EAARA,SAC5CC,EAAWC,cAETC,EAAMC,cAAND,EAEFG,EAAgBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAChDC,EAAaJ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACxC8K,EAAchL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK8K,eAEpD,EAAgCzK,mBAAS,CACrCuT,YAAa,GACb5I,KAAMC,QAAO,IAAIC,MAAOC,eACxBC,QAAQ,IAAIF,MAAOG,WAAa,GAAGC,WAAWC,SAAS,EAAG,OAC5D,mBAJKC,EAAQ,KAAEC,EAAW,KAM5B,EAA0CpL,oBAAS,GAAM,mBAAlDqL,EAAa,KAAEC,EAAgB,KACtC,EAAsCtL,oBAAS,GAAM,mBAA9CuL,EAAW,KAAEC,EAAc,KAClC,EAAsCxL,mBAAsB,CAAEyL,IAAK,KAAMC,MAAM,IAAQ,mBAAhFC,EAAW,KAAEC,EAAc,KAClC,EAAwC5L,mBAAS,UAAS,mBAAnD6L,EAAY,KAAEC,EAAe,KACpC,EAAgC9L,oBAAS,GAAM,mBAAxCiB,EAAQ,KAAEC,EAAW,KAE5B,SAAS6K,IACL5M,EAASyC,aAAa,IACtBzC,EAASiC,YAAc4W,aAAuB7M,KAGlD3J,qBAAU,WACN8J,EAAmC,KAAlBH,EAASR,QAC3B,CAACQ,IAEJ3J,qBAAU,WAKN,OAJAuK,IACA5M,EAAS8M,YAAe,CACpBC,GAAI4L,KAED,WACH3Y,EAASgN,kBAEd,IAEH3K,qBAAU,WACD3B,EAAW8B,SAAStB,SACrBlB,EAASyC,aAAa,MAE3B,CAAC/B,IAEJ,IAAMuM,EAAUlG,IAAMmG,SAClB,iBAAM,CACF,CACIC,SAAU,qBACVC,aAAa,EACbC,SAAU,GACV9N,MAAO,KACP+N,KAAM,SAACC,GACH,IAAMjB,EAAMiB,EAAMC,KAAKlB,IAAImB,SAC3B,OACI,cAAC,IAAa,CACVC,eAAgB,kBAAMC,EAAarB,IACnCsB,aAAc,kBAAMC,EAAWvB,QAO/C,CACIwB,OAAQ5N,EAAEoG,IAASkF,MACnB2B,SAAU,QAEd,CACIW,OAAQ5N,EAAEoG,IAASsF,OACnBuB,SAAU,SAEd,CACIW,OAAQ5N,EAAEoG,IAASwS,aACnB3L,SAAU,cACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQuL,EAAgBvL,EAAMC,KAAKlB,IAAImB,SAA/BqL,YACR,OAAOvK,aAAyBuK,GAAe,KAGvD,CACIhL,OAAQ5N,EAAEoG,IAASyS,oBACnB5L,SAAU,qBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQwL,EAAuBxL,EAAMC,KAAKlB,IAAImB,SAAtCsL,mBACR,OAAOxK,aAAyBwK,GAAsB,KAG9D,CACIjL,OAAQ5N,EAAEoG,IAAS0S,cACnB7L,SAAU,eACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQyL,EAAiBzL,EAAMC,KAAKlB,IAAImB,SAAhCuL,aACR,OAAOzK,aAAyByK,GAAgB,KAGxD,CACIlL,OAAQ5N,EAAEoG,IAAS2S,qBACnB9L,SAAU,sBACVjF,KAAM,SACN8F,SAAU,SACVV,KAAM,SAACC,GACH,IAAQ0L,EAAwB1L,EAAMC,KAAKlB,IAAImB,SAAvCwL,oBACR,OAAO1K,aAAyB0K,GAAuB,QAInE,IAGEjX,EAAY,WAAH,OAAShC,EAASiC,YAAc4W,aAAuB7M,MAEtE3J,qBAAU,WACN,GAAIP,EACA,GAAKzB,EAAca,SAAYb,EAAc2F,OAWtC,GAAI3F,EAAc2F,MAAO,CAC5B,IAAM6J,EAAe3P,EAAEG,EAAcgG,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAAS4S,eAAelJ,sBAC3GhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE7P,EAASyC,aAAa,IACtBV,GAAY,SAdRqK,GACAC,GAAe,GACfrM,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS2J,0BAG7EjQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoG,IAAS4J,sBAEjFlO,IACAhC,EAASyC,aAAa,IACtBV,GAAY,KAQrB,CAAC1B,EAAeyB,IAEnB,IAKM+L,EAAa,SAACvB,GAChBK,EAAgB,UAChBF,EAAe,CAAEH,MAAKC,MAAM,KAG1BoB,EAAe,SAACrB,GAOlBtM,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAAS6J,qBACrB1I,SATa,WACbzH,EAASS,YAAQ0Y,YAAoB,2BAAK7M,GAAG,IAAE+D,UAAW,SAAUC,OAAQ,YAAavD,GAAIT,EAAI8M,wBACjGpZ,EAASyC,aAAa,IACtBV,GAAY,QAUpB,MAAqB,WAAjB2K,EAEI,cAAC,WAAQ,UACL,cAAC,IAAQ,CACL8D,WAAY3C,EACZZ,QAASA,EACTwD,eAAgB,kBACZ,sBAAK9I,MAAO,CAAEC,QAAS,OAAQE,IAAK,EAAG4I,SAAU,QAAS,UACtD,cAAC,IAAW,CACRlI,MAAOtI,EAAEoG,IAASkF,MAClB7D,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASR,KACvBvD,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAEnF,MAAW,OAALvE,QAAK,IAALA,OAAK,EAALA,EAAOA,QAAS,QAC3E9F,KAAMyP,IACN1H,WAAW,QACXC,YAAY,UAEhB,cAAC,IAAgB,CACbX,MAAOtI,EAAEoG,IAASsF,OAClBjE,MAAO,CAAEpI,MAAO,KAChBmJ,aAAcsD,EAASJ,MACvB3D,QAAQ,WACRU,SAAU,SAAC1B,GAAK,OAAKgF,GAAY,SAAA0E,GAAI,kCAAUA,GAAI,IAAE/E,MAAO3E,EAAM4J,KAAI,SAACC,GAAa,OAAKA,EAAEC,OAAKC,aAChG7P,KAAM8P,IACNzH,MAAM,EACNC,kBAAkB,SAClBP,WAAW,MACXC,YAAY,QAEhB,cAAC,IAAM,CACHH,SAAUtI,EAAW8B,SAAStB,SAAWgL,EACzCjE,QAAQ,YACRzI,MAAM,UACNmI,MAAO,CAAEpI,MAAO,IAAK6I,gBAAiB,WACtCD,UAAW,cAAC,IAAU,CAACR,MAAO,CAAEnI,MAAO,WACvC0R,QAAS,kBAAMtE,KAAS,SAC1B1M,EAAEoG,IAASsG,cAIrBzL,KAAMT,EAAW8B,SAASrB,KAC1BgQ,eAAe,EACfC,UAAU,EACVlQ,QAASR,EAAW8B,SAAStB,QAC7BwF,UAAU,EACV2K,eAtEO,WACnB1E,EAAgB,UAChBF,EAAe,CAAEH,IAAK,KAAMC,MAAM,KAqEtB+E,gBAAiBqH,IAAoBrN,EAAYyB,IAA+B,IAA1BzB,EAAYiG,SAAkB,GAAKjG,EAAYiG,SAAW,GAChHC,iBAAkBmH,IAAoBrN,EAAYyB,IAA2B,IAAtBzB,EAAYmG,KAAc,EAAInG,EAAYmG,KAAO,EACxGC,mBAAoBiH,IAAoBrN,EAAYyB,GAAK4E,OAAOC,QAAQtG,EAAYuG,SAAShB,KAAI,mCAAY,MAAO,CAAE9D,GAAhB,KAAyB9F,MAAlB,cAA8B6K,MAKjI,WAAjBpF,EAED,cAAC2M,EAAmB,CAChBlY,KAAMqL,EACNG,gBAAiBA,EACjB3K,UAAWA,EACXjC,SAAUA,IAIX,MAGTsZ,EAAwD,SAAH,GAAuE,IAAD,cAAhElY,KAAQmL,EAAG,EAAHA,IAAKC,EAAI,EAAJA,KAAQI,EAAe,EAAfA,gBAAiB3K,EAAS,EAATA,UAC7FhC,GADgH,EAARD,SAC7FE,eAETC,EAAMC,cAAND,EAEFE,EAAUhC,IACV4T,EAAa1R,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAEnD,EAAoCI,mBAChCyL,EAAG,UAAMA,EAAId,KAAI,YAAIC,OAAOa,EAAIV,OAAOG,SAAS,EAAG,MAAI,UAAQ,IAAIL,MAAK,IAAIA,MAAOuG,QAAQ,IAAItG,cAAa,YAAIF,OAAO,IAAIC,MAAK,IAAIA,MAAOuG,QAAQ,IAAIpG,WAAa,GAAGE,SAAS,EAAG,OACtL,mBAFMmG,EAAU,KAAEC,EAAa,KAGhC,EAAgCtR,oBAAS,GAAM,mBAAxCiB,EAAQ,KAAEC,EAAW,KAEtB+S,EAA6B,CAC/B,CAAE/H,GAAI,SAAU4F,KAAMzS,EAAEoG,IAAS4S,gBACjC,CAAEnM,GAAI,SAAU4F,KAAMzS,EAAEoG,IAASgT,uBAGrC,EAA+E9S,YAAQ,CACnFC,cAAe,CACXsG,GAAIT,EAAMA,EAAI8M,mBAAqB,EACnC5N,MAAS,OAAHc,QAAG,IAAHA,OAAG,EAAHA,EAAKd,QAAQ,IAAIE,MAAOC,cAC9BC,OAAU,OAAHU,QAAG,IAAHA,OAAG,EAAHA,EAAKV,SAAS,IAAIF,MAAOG,WAAa,EAC7CiN,aAAgB,OAAHxM,QAAG,IAAHA,OAAG,EAAHA,EAAKwM,cAAe,EACjCC,oBAAuB,OAAHzM,QAAG,IAAHA,OAAG,EAAHA,EAAKyM,qBAAsB,EAC/CC,cAAiB,OAAH1M,QAAG,IAAHA,OAAG,EAAHA,EAAK0M,eAAgB,EACnCC,qBAAwB,OAAH3M,QAAG,IAAHA,OAAG,EAAHA,EAAK2M,sBAAuB,EACjDlG,aAAgB,OAAHzG,QAAG,IAAHA,OAAG,EAAHA,EAAKyG,cAAe,GACjCzC,OAAQhE,EAAMA,EAAIgE,OAAS,SAC3BpI,KAAMoE,EAAMA,EAAIpE,KAAO,GACvBmI,UAAW/D,EAAM,SAAW,YAZ5B5F,EAAQ,EAARA,SAAUC,EAAY,EAAZA,aAAcjE,EAAQ,EAARA,SAAUkE,EAAS,EAATA,UAAwBC,EAAM,EAAnBC,UAAaD,OA2BlEE,IAAM1E,WAAU,WACZqE,EAAS,MACTA,EAAS,QACTA,EAAS,SACTA,EAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC1HT,EAAS,qBAAsB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBACjIT,EAAS,eAAgB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAC3HT,EAAS,sBAAuB,CAAEM,SAAU,SAACC,GAAK,OAAOA,GAASwE,OAAOxE,KAAW+L,WAAWvH,OAAOxE,KAAW,GAAM/G,EAAEoG,IAASa,mBAClIT,EAAS,cAAe,CAAEM,SAAU,SAACC,GAAK,OAAMA,GAASA,EAAMC,QAAWhH,EAAEoG,IAASa,mBACrFT,EAAS,UACTA,EAAS,QACTA,EAAS,eACV,CAAC6F,EAAM7F,IAEVrE,qBAAU,WACN,GAAIP,EACA,GAAKkQ,EAAW9Q,SAAY8Q,EAAWhM,OAKhC,GAAIgM,EAAWhM,MAAO,CACzB,IAAM6J,EAAe3P,EAAE8R,EAAW3L,MAAQ,yBAA0B,CAAEyJ,OAAQ5P,EAAEoG,IAAS4S,eAAelJ,sBACxGhQ,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,QAASC,QAASyJ,KAChE9N,GAAY,GACZ/B,EAASyC,aAAa,UARtBzC,EAASiG,YAAa,CAAEC,MAAM,EAAMC,SAAU,UAAWC,QAASlG,EAAEoM,EAAMhG,IAASC,gBAAkBD,IAAS2M,wBAC9GjR,GAAaA,IACbhC,EAASyC,aAAa,IACtBkK,EAAgB,YAQzB,CAACqF,EAAYlQ,IAEhB,IAAMsF,EAAWT,GAAa,SAACxF,GAO3BnB,EAASqH,YAAmB,CACxBC,SAAS,EACTC,SAAUrH,EAAEoG,IAASkB,mBACrBC,SATa,WACbzH,EAASS,YAAQ0Y,YAAoBhY,KACrCnB,EAASyC,aAAa,IACtBV,GAAY,UAUpB,OACI,qBAAK4F,MAAO,CAAEpI,MAAO,QAAS,SAC1B,uBAAM6H,SAAUA,EAAS,UACrB,sBAAKO,MAAO,CAAEC,QAAS,OAAQC,eAAgB,iBAAkB,UAC7D,gCACI,cAAC,IAAmB,CAChBqL,YAAa4B,EACb3B,YAAaxG,IAEjB,cAAC,IAAW,CACRyG,MAAO9G,EAAG,UAAMA,EAAIyG,aAAgB7S,EAAEoG,IAASiT,uBAGvD,sBAAK5R,MAAO,CAAEC,QAAS,OAAQE,IAAK,OAAQC,WAAY,UAAW,UAC/D,cAAC,IAAM,CACHE,QAAQ,YACRC,KAAK,SACL1I,MAAM,UACN2I,UAAW,cAAC,IAAS,CAAC3I,MAAM,cAC5BmI,MAAO,CAAES,gBAAiB,WAC1B8I,QAAS,kBAAMvE,EAAgB,WAAU,SAC3CzM,EAAEoG,IAASgN,QACZ/G,GACG,cAAC,IAAM,CACHvE,UAAW5H,EAAQxB,OACnBqJ,QAAQ,YACRzI,MAAM,UACN0I,KAAK,SACLC,UAAW,cAAC,IAAQ,CAAC3I,MAAM,cAC3BmI,MAAO,CAAES,gBAAiB,WAAY,SACxClI,EAAEoG,IAAS+B,cAKzB,sBAAKL,UAAW5H,EAAQ7B,gBAAgB,UACpC,sBAAKyJ,UAAU,UAAS,UACpB,cAAC,IAAS,CACN+E,GAAG,OACH/E,UAAU,QACVE,KAAK,QACLD,QAAQ,WACRU,SAAU,SAAC4K,GAAC,OAjGpC,SAA0BA,GACtB,GAAU,KAANA,EAAU,CACV,IAAIC,EAAe,IAAI9H,KAAK6H,EAAI,OAC5BE,GAAkB,OAAZD,QAAY,IAAZA,OAAY,EAAZA,EAAc3H,YAAa,EACjCL,EAAmB,OAAZgI,QAAY,IAAZA,OAAY,EAAZA,EAAc7H,cACzBwG,EAAc,GAAD,OAAI3G,EAAI,YAAIC,OAAOgI,GAAK1H,SAAS,EAAG,OACjDrJ,EAAS,OAAQ8I,GACjB9I,EAAS,QAAS+Q,IA0FeC,CAAiBH,EAAEI,OAAO1M,QAC3CA,MAAOiL,EACP0B,KAAK,UAET,cAAC,IAAS,CACN5L,UAAU,QACVQ,MAAOtI,EAAEoG,IAASyM,aAClBpK,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,cAAeuE,IAC7CyB,aAAc9B,EAAU,eACxBZ,MAAa,OAANa,QAAM,IAANA,GAAmB,QAAb,EAANA,EAAQkM,mBAAW,WAAb,EAAN,EAAqB3M,aAGpC,qBAAK4B,UAAU,UAAS,SACpB,cAAC,IAAS,CACNQ,MAAM,GACNvB,MAAO/G,EAAEoG,IAASkT,YAClBxR,UAAW5H,EAAQP,YAG3B,sBAAKmI,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAASwS,aAClBnQ,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,cAAeuE,IAC7CyB,aAAc9B,EAAU,eACxBZ,MAAa,OAANa,QAAM,IAANA,GAAmB,QAAb,EAANA,EAAQiS,mBAAW,WAAb,EAAN,EAAqB1S,QAC5B8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,SAExB,cAAC,IAAS,CACNtB,MAAOtI,EAAEoG,IAASyS,oBAClBpQ,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,qBAAsBuE,IACpDyB,aAAc9B,EAAU,sBACxBZ,MAAa,OAANa,QAAM,IAANA,GAA0B,QAApB,EAANA,EAAQkS,0BAAkB,WAApB,EAAN,EAA4B3S,QACnC8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,YAG5B,qBAAK9B,UAAU,UAAS,SACpB,cAAC,IAAS,CACNQ,MAAM,GACNvB,MAAO,IAAM/G,EAAEoG,IAASmT,sBACxBzR,UAAW5H,EAAQT,eAG3B,qBAAKqI,UAAU,UAAS,SACpB,cAAC,IAAS,CACNQ,MAAM,GACNvB,MAAO/G,EAAEoG,IAASoT,aAClB1R,UAAW5H,EAAQP,YAG3B,sBAAKmI,UAAU,UAAS,UACpB,cAAC,IAAS,CACNQ,MAAOtI,EAAEoG,IAAS0S,cAClBrQ,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,eAAgBuE,IAC9CyB,aAAc9B,EAAU,gBACxBZ,MAAa,OAANa,QAAM,IAANA,GAAoB,QAAd,EAANA,EAAQmS,oBAAY,WAAd,EAAN,EAAsB5S,QAC7B8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,SAExB,cAAC,IAAS,CACNtB,MAAOtI,EAAEoG,IAAS2S,qBAClBtQ,SAAU,SAAC1B,GAAK,OAAKvE,EAAS,sBAAuBuE,IACrDyB,aAAc9B,EAAU,uBACxBZ,MAAa,OAANa,QAAM,IAANA,GAA2B,QAArB,EAANA,EAAQoS,2BAAmB,WAArB,EAAN,EAA6B7S,QACpC8B,KAAK,SACLF,UAAU,QACV6B,WAAY,CAAEC,KAAM,qBAsHjC6P,UA7GU,WACrB,IAAM3Z,EAAWC,cAETC,EAAMC,cAAND,EAEF0Z,EAAiBtZ,aAAY,SAAAC,GAAK,OAAIA,EAAMsZ,OAAOC,eACnDC,EAAYzZ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKuZ,aAC5CC,EAAO1Z,aAAY,SAAAC,GAAK,OAAIA,EAAM0Z,MAAMC,cAAcF,QAE5D,EAAwCnZ,mBAAc,IAAG,mBAAlDsZ,EAAY,KAAEC,EAAe,KACpC,EAAgCvZ,mBAAc,IAAG,mBAA1CwZ,EAAQ,KAAEC,EAAW,KAC5B,EAAsCzZ,mBAAc,IAAG,mBAAhDiZ,EAAW,KAAES,EAAc,KAClC,EAA8C1Z,mBAAc,IAAG,mBAAxD2Z,EAAe,KAAEC,EAAkB,KAC1C,EAAgC5Z,mBAAc,IAAG,mBAA1Cd,EAAQ,KAAE2a,EAAW,KAC5B,EAAwC7Z,mBAA4B,gBAAf,OAAJmZ,QAAI,IAAJA,OAAI,EAAJA,EAAMW,UAA4B,EAAI,GAAE,mBAAlFC,EAAY,KAAEC,EAAe,KACpC,EAA0Cha,oBAAS,GAAM,mBAAlDia,EAAa,KAAEC,EAAgB,KA+BtC,OA7BA1Y,qBAAU,YACD0X,EAAU7Y,SAAW4Z,IACtBC,GAAiB,GACjBL,EAAYX,EAAU5Y,KAAK,IAAM4Y,EAAU5Y,KAAK,GAAGwE,QAAUoU,EAAU5Y,KAAK,GAAGA,KAAO,IACtFsZ,EAAmBV,EAAU5Y,KAAK,IAAM4Y,EAAU5Y,KAAK,GAAGwE,QAAUoU,EAAU5Y,KAAK,GAAGA,KAAO,IAC7FmZ,EAAYP,EAAU5Y,KAAK,IAAM4Y,EAAU5Y,KAAK,GAAGwE,QAAUoU,EAAU5Y,KAAK,GAAGA,KAAO,IACtFiZ,EAAgBL,EAAU5Y,KAAK,IAAM4Y,EAAU5Y,KAAK,GAAGwE,QAAUoU,EAAU5Y,KAAK,GAAGA,KAAO,OAE/F,CAAC4Y,IAEJ1X,qBAAU,YACDuX,EAAe1Y,SAAW0Y,EAAezY,KAAK+F,QAC/CqT,EAAeX,EAAezY,QAEnC,CAACyY,IAEJvX,qBAAU,WACN0Y,GAAiB,GACjB/a,EAASgb,eACThb,EAASib,YAAmB,CACxBC,eACAC,aAAc,GACdC,aAAW,GACXC,eACAC,YAA8B,CAAEvI,YAAa,KAC7CwI,YAAiC,CAAE/F,SAAU,GAAIgG,QAAS,UAE/D,IAGC,sBAAK7T,MAAO,CAAEpI,MAAO,QAAS,UAC1B,eAAC,IAAI,CACD0H,MAAO2T,EACPa,eAAe,UACfxT,QAAQ,YACRN,MAAO,CAAE+T,aAAc,oBAAqBtT,gBAAiB,OAAQ5J,UAAW,GAChFmd,UAAU,UACVhT,SAAU,SAACiT,EAAG3U,GAAK,OAAK4T,EAAgB5T,IAAO,UAE3B,gBAAf,OAAJ+S,QAAI,IAAJA,OAAI,EAAJA,EAAMW,WACH,cAAC,IAAM,CAACnS,MAAOtI,EAAEoG,IAASuV,oCAEV,gBAAf,OAAJ7B,QAAI,IAAJA,OAAI,EAAJA,EAAMW,WACH,cAAC,IAAM,CAACnS,MAAOtI,EAAEoG,IAASwV,0BAEV,gBAAf,OAAJ9B,QAAI,IAAJA,OAAI,EAAJA,EAAMW,WACH,cAAC,IAAM,CAACnS,MAAOtI,EAAEoG,IAASoO,oBAEV,gBAAf,OAAJsF,QAAI,IAAJA,OAAI,EAAJA,EAAMW,WACH,cAAC,IAAM,CAACnS,MAAOtI,EAAEoG,IAAS4Q,uCAEV,gBAAf,OAAJ8C,QAAI,IAAJA,OAAI,EAAJA,EAAMW,WACH,cAAC,IAAM,CAACnS,MAAOtI,EAAEoG,IAAS4S,iBAEV,gBAAf,OAAJc,QAAI,IAAJA,OAAI,EAAJA,EAAMW,WACH,cAAC,IAAM,CAACnS,MAAOtI,EAAEoG,IAASuQ,kBAGhB,IAAjB+D,GACG,qBAAKjT,MAAO,CAAEnJ,UAAW,IAAK,SAC1B,cAACsB,EAAoB,CAACC,SAAU+Z,MAGtB,IAAjBc,GACG,qBAAKjT,MAAO,CAAEnJ,UAAW,IAAK,SAC1B,cAAC6M,EAAsB,CAACtL,SAAUya,MAGxB,IAAjBI,GACG,qBAAKjT,MAAO,CAAEnJ,UAAW,IAAK,SAC1B,cAAC2V,EAAgB,CAACpU,SAAU+Z,MAGlB,IAAjBc,GACG,qBAAKjT,MAAO,CAAEnJ,UAAW,IAAK,SAC1B,cAAC6W,EAAsB,CAACE,SAAU8E,EAAU/E,aAAc6E,MAGhD,IAAjBS,GACG,qBAAKjT,MAAO,CAAEnJ,UAAW,IAAK,SAC1B,cAACoa,EAAa,CAAC7Y,SAAU+Z,MAGf,IAAjBc,GACG,qBAAKjT,MAAO,CAAEnJ,UAAW,IAAK,SAC1B,cAACsZ,EAAW,CAAC/X,SAAUA,W,iCCp8G3C,IAAIgc,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCrK,OAAOuK,eAAeC,EAAS,aAAc,CAC3ClV,OAAO,IAETkV,EAAQC,aAAU,EAElB,IAAIrV,EAAQkV,EAAwBD,EAAQ,IAIxCK,GAAW,EAFMN,EAAuBC,EAAQ,KAElBI,SAAuBrV,EAAMuV,cAAc,OAAQ,CACnFC,EAAG,0GACD,SAEJJ,EAAQC,QAAUC,G,iCCjBlB,IAAIN,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCrK,OAAOuK,eAAeC,EAAS,aAAc,CAC3ClV,OAAO,IAETkV,EAAQC,aAAU,EAElB,IAAIrV,EAAQkV,EAAwBD,EAAQ,IAIxCK,GAAW,EAFMN,EAAuBC,EAAQ,KAElBI,SAAuBrV,EAAMuV,cAAc,OAAQ,CACnFC,EAAG,mJACD,QAEJJ,EAAQC,QAAUC,G,iCClBlB,8LAaaG,EAAsB,SAACC,GAAyB,MAAmB,CAC5EC,QAAS,kBAAMC,IAAgBC,QAAQH,IACvCI,MAAO,CACH3b,QAAS4b,IAAYC,OACrBpX,QAASmX,IAAYE,eACrBC,QAASH,IAAYI,gBAEzBhV,KAAM,OAaGiV,EAAsB,SAACV,GAAyB,MAAmB,CAC5EC,QAAS,kBAAMC,IAAgBS,gBAAgBX,IAC/CI,MAAO,CACH3b,QAAS4b,IAAYO,QACrB1X,QAASmX,IAAYQ,gBACrBL,QAASH,IAAYS,iBAEzBrV,KAAM,OAGGsV,EAAa,SAACC,GAAmB,MAAmB,CAC7Df,QAAS,kBAAMC,IAAgBe,QAAQD,IACvCZ,MAAO,CACH3b,QAAS4b,IAAYa,WACrBhY,QAASmX,IAAYc,mBACrBX,QAASH,IAAYe,oBAEzB3V,KAAM,OAKG4V,EAAkB,WAAH,MAAuB,CAC/CpB,QAAS,kBAAMC,IAAgBmB,mBAC/BjB,MAAO,CACH3b,QAAS4b,IAAYiB,aACrBpY,QAASmX,IAAYkB,qBACrBf,QAASH,IAAYmB,sBAEzB/V,KAAM,OAGG8S,EAAiB,WAAH,MAAuB,CAC9C0B,QAAS,kBAAMC,IAAgB3B,kBAC/B6B,MAAO,CACH3b,QAAS4b,IAAYoB,YACrBvY,QAASmX,IAAYqB,oBACrBlB,QAASH,IAAYsB,qBAEzBlW,KAAM,Q,iCCzEV,mBAEemW,gBAA4BtX,gBAAoB,OAAQ,CACrEwV,EAAG,+OACD","file":"static/js/59.f82b3c7e.chunk.js","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, Fragment, useEffect, useState } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport { TemplateIcons, TemplateSwitch, TemplateBreadcrumbs, TitleDetail, FieldView, FieldEdit, FieldSelect, AntTab, FieldMultiSelect, IOSSwitch } from 'components';\r\nimport { billingSupportIns, getBillingConfigurationSel, getBillingSupportSel, getPlanSel, getPaymentPlanSel, billingConfigurationIns, getBillingConversationSel, billingConversationIns, getOrgSelList, getCorpSel, getAppsettingInvoiceSel, updateAppsettingInvoice, getValuesFromDomainCorp, getBillingMessagingSel, billingMessagingIns, artificialIntelligencePlanSel, artificialIntelligenceServiceSel, billingArtificialIntelligenceSel, billingArtificialIntelligenceIns } from 'common/helpers';\r\nimport { cleanMemoryTable, setMemoryTable } from 'store/main/actions';\r\nimport { Dictionary, MultiData } from \"@types\";\r\nimport TableZyx from '../components/fields/table-simple';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { useForm } from 'react-hook-form';\r\nimport { getCollection, getMultiCollection, execute, getMultiCollectionAux } from 'store/main/actions';\r\nimport { showSnackbar, showBackdrop, manageConfirmation } from 'store/popus/actions';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { Box, FormControlLabel, Tabs, TextField } from '@material-ui/core';\r\nimport { getCountryList } from 'store/signup/actions';\r\nimport { dataYears, dataMonths } from 'common/helpers';\r\nimport {\r\n    Search as SearchIcon,\r\n} from '@material-ui/icons';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { formatNumber, formatNumberFourDecimals, formatNumberNoDecimals } from 'common/helpers';\r\n\r\ninterface RowSelected {\r\n    row: Dictionary | null,\r\n    edit: boolean\r\n}\r\n\r\ninterface DetailSupportPlanProps {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n    fetchData: () => void,\r\n    dataPlan: any[];\r\n}\r\n\r\ninterface DetailArtificialIntelligenceProps {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n    fetchData: () => void,\r\n    providerData: any[];\r\n    planData: any[];\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    mb2: {\r\n        marginBottom: theme.spacing(4),\r\n    },\r\n    itemDate: {\r\n        minHeight: 40,\r\n        height: 40,\r\n        border: '1px solid #bfbfc0',\r\n        borderRadius: 4,\r\n        width: \"100%\",\r\n        color: 'rgb(143, 146, 161)'\r\n    },\r\n    fieldsfilter: {\r\n        width: 220,\r\n    },\r\n    transparent: {\r\n        color: \"transparent\",\r\n    },\r\n    commentary: {\r\n        fontStyle: \"italic\"\r\n    },\r\n    section: {\r\n        fontWeight: \"bold\"\r\n    }\r\n}));\r\n\r\nconst GeneralConfiguration: React.FC<{ dataPlan: any }> = ({ dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeResult = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main);\r\n    const multiResult = useSelector(state => state.main.multiDataAux);\r\n\r\n    const [showCountry, setShowCountry] = useState(false);\r\n    const [blockUbigee, setBlockUbigee] = useState(false);\r\n    const [domainCurrency, setDomainCurrency] = useState<{ loading: boolean; data: Dictionary[] }>({ loading: false, data: [] });\r\n    const [domainDocument, setDomainDocument] = useState<{ loading: boolean; data: Dictionary[] }>({ loading: false, data: [] });\r\n    const [domainInvoiceProvider, setDomainInvoiceProvider] = useState<{ loading: boolean; data: Dictionary[] }>({ loading: false, data: [] });\r\n    const [domainPaymentProvider, setDomainPaymentProvider] = useState<{ loading: boolean; data: Dictionary[] }>({ loading: false, data: [] });\r\n    const [domainPrinting, setDomainPrinting] = useState<{ loading: boolean; data: Dictionary[] }>({ loading: false, data: [] });\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const fetchData = () => {\r\n        setShowCountry(false);\r\n        dispatch(getCollection(getAppsettingInvoiceSel()));\r\n    }\r\n\r\n    const [fields, setFields] = useState({\r\n        \"ruc\": \"\",\r\n        \"businessname\": \"\",\r\n        \"tradename\": \"\",\r\n        \"fiscaladdress\": \"\",\r\n        \"ubigeo\": \"\",\r\n        \"country\": \"\",\r\n        \"emittertype\": \"\",\r\n        \"currency\": \"\",\r\n        \"invoiceserie\": \"\",\r\n        \"invoicecorrelative\": 0,\r\n        \"annexcode\": \"\",\r\n        \"igv\": 0.00,\r\n        \"printingformat\": \"\",\r\n        \"xmlversion\": \"\",\r\n        \"ublversion\": \"\",\r\n        \"returnpdf\": false,\r\n        \"returnxmlsunat\": false,\r\n        \"returnxml\": false,\r\n        \"invoiceprovider\": \"\",\r\n        \"sunaturl\": \"\",\r\n        \"token\": \"\",\r\n        \"sunatusername\": \"\",\r\n        \"paymentprovider\": \"\",\r\n        \"publickey\": \"\",\r\n        \"privatekey\": \"\",\r\n        \"ticketserie\": \"\",\r\n        \"ticketcorrelative\": 0,\r\n        \"invoicecreditserie\": \"\",\r\n        \"invoicecreditcorrelative\": 0,\r\n        \"ticketcreditserie\": \"\",\r\n        \"ticketcreditcorrelative\": 0,\r\n        \"detraction\": 0.00,\r\n        \"detractioncode\": \"\",\r\n        \"detractionaccount\": \"\",\r\n        \"detractionminimum\": 0.00,\r\n        \"operationcodeperu\": \"\",\r\n        \"operationcodeother\": \"\",\r\n        \"culqiurl\": \"\",\r\n        \"culqiurlcardcreate\": \"\",\r\n        \"culqiurlclient\": \"\",\r\n        \"culqiurltoken\": \"\",\r\n        \"culqiurlcharge\": \"\",\r\n        \"culqiurlcardget\": \"\",\r\n        \"culqiurlcarddelete\": \"\",\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n        setDomainCurrency({ loading: true, data: [] });\r\n        setDomainDocument({ loading: true, data: [] });\r\n        setDomainInvoiceProvider({ loading: true, data: [] });\r\n        setDomainPaymentProvider({ loading: true, data: [] });\r\n        setDomainPrinting({ loading: true, data: [] });\r\n\r\n        dispatch(getMultiCollectionAux([\r\n            getValuesFromDomainCorp('BILLINGCURRENCY', '_CURRENCY', 1, 0),\r\n            getValuesFromDomainCorp('BILLINGDOCUMENTTYPE', '_DOCUMENT', 1, 0),\r\n            getValuesFromDomainCorp('BILLINGINVOICEPROVIDER', '_INVOICEPROVIDER', 1, 0),\r\n            getValuesFromDomainCorp('BILLINGPAYMENTPROVIDER', '_PAYMENTPROVIDER', 1, 0),\r\n            getValuesFromDomainCorp('BILLINGPRINTING', '_PRINTING', 1, 0),\r\n        ]));\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.mainData.loading) {\r\n            dispatch(showBackdrop(false));\r\n            if (mainResult.mainData.data) {\r\n                if (mainResult.mainData.data[0]) {\r\n                    setValue(\"ruc\", mainResult.mainData.data[0].ruc);\r\n                    setValue(\"businessname\", mainResult.mainData.data[0].businessname);\r\n                    setValue(\"tradename\", mainResult.mainData.data[0].tradename);\r\n                    setValue(\"fiscaladdress\", mainResult.mainData.data[0].fiscaladdress);\r\n                    setValue(\"ubigeo\", mainResult.mainData.data[0].ubigeo);\r\n                    setValue(\"country\", mainResult.mainData.data[0].country);\r\n                    setValue(\"emittertype\", mainResult.mainData.data[0].emittertype);\r\n                    setValue(\"currency\", mainResult.mainData.data[0].currency);\r\n                    setValue(\"invoiceserie\", mainResult.mainData.data[0].invoiceserie);\r\n                    setValue(\"invoicecorrelative\", mainResult.mainData.data[0].invoicecorrelative);\r\n                    setValue(\"annexcode\", mainResult.mainData.data[0].annexcode);\r\n                    setValue(\"igv\", mainResult.mainData.data[0].igv);\r\n                    setValue(\"printingformat\", mainResult.mainData.data[0].printingformat);\r\n                    setValue(\"xmlversion\", mainResult.mainData.data[0].xmlversion);\r\n                    setValue(\"ublversion\", mainResult.mainData.data[0].ublversion);\r\n                    setValue(\"returnpdf\", mainResult.mainData.data[0].returnpdf);\r\n                    setValue(\"returnxmlsunat\", mainResult.mainData.data[0].returnxmlsunat);\r\n                    setValue(\"returnxml\", mainResult.mainData.data[0].returnxml);\r\n                    setValue(\"invoiceprovider\", mainResult.mainData.data[0].invoiceprovider);\r\n                    setValue(\"sunaturl\", mainResult.mainData.data[0].sunaturl);\r\n                    setValue(\"token\", mainResult.mainData.data[0].token);\r\n                    setValue(\"sunatusername\", mainResult.mainData.data[0].sunatusername);\r\n                    setValue(\"paymentprovider\", mainResult.mainData.data[0].paymentprovider);\r\n                    setValue(\"publickey\", mainResult.mainData.data[0].publickey);\r\n                    setValue(\"privatekey\", mainResult.mainData.data[0].privatekey);\r\n                    setValue(\"ticketserie\", mainResult.mainData.data[0].ticketserie);\r\n                    setValue(\"ticketcorrelative\", mainResult.mainData.data[0].ticketcorrelative);\r\n                    setValue(\"invoicecreditserie\", mainResult.mainData.data[0].invoicecreditserie);\r\n                    setValue(\"invoicecreditcorrelative\", mainResult.mainData.data[0].invoicecreditcorrelative);\r\n                    setValue(\"ticketcreditserie\", mainResult.mainData.data[0].ticketcreditserie);\r\n                    setValue(\"ticketcreditcorrelative\", mainResult.mainData.data[0].ticketcreditcorrelative);\r\n                    setValue(\"detraction\", mainResult.mainData.data[0].detraction);\r\n                    setValue(\"detractioncode\", mainResult.mainData.data[0].detractioncode);\r\n                    setValue(\"detractionaccount\", mainResult.mainData.data[0].detractionaccount);\r\n                    setValue(\"detractionminimum\", mainResult.mainData.data[0].detractionminimum);\r\n                    setValue(\"operationcodeperu\", mainResult.mainData.data[0].operationcodeperu);\r\n                    setValue(\"operationcodeother\", mainResult.mainData.data[0].operationcodeother);\r\n                    setValue(\"culqiurl\", mainResult.mainData.data[0].culqiurl);\r\n                    setValue(\"culqiurlcardcreate\", mainResult.mainData.data[0].culqiurlcardcreate);\r\n                    setValue(\"culqiurlclient\", mainResult.mainData.data[0].culqiurlclient);\r\n                    setValue(\"culqiurltoken\", mainResult.mainData.data[0].culqiurltoken);\r\n                    setValue(\"culqiurlcharge\", mainResult.mainData.data[0].culqiurlcharge);\r\n                    setValue(\"culqiurlcardget\", mainResult.mainData.data[0].culqiurlcardget);\r\n                    setValue(\"culqiurlcarddelete\", mainResult.mainData.data[0].culqiurlcarddelete);\r\n\r\n                    setFields({\r\n                        \"ruc\": mainResult.mainData.data[0].ruc,\r\n                        \"businessname\": mainResult.mainData.data[0].businessname,\r\n                        \"tradename\": mainResult.mainData.data[0].tradename,\r\n                        \"fiscaladdress\": mainResult.mainData.data[0].fiscaladdress,\r\n                        \"ubigeo\": mainResult.mainData.data[0].ubigeo,\r\n                        \"country\": mainResult.mainData.data[0].country,\r\n                        \"emittertype\": mainResult.mainData.data[0].emittertype,\r\n                        \"currency\": mainResult.mainData.data[0].currency,\r\n                        \"invoiceserie\": mainResult.mainData.data[0].invoiceserie,\r\n                        \"invoicecorrelative\": mainResult.mainData.data[0].invoicecorrelative,\r\n                        \"annexcode\": mainResult.mainData.data[0].annexcode,\r\n                        \"igv\": mainResult.mainData.data[0].igv,\r\n                        \"printingformat\": mainResult.mainData.data[0].printingformat,\r\n                        \"xmlversion\": mainResult.mainData.data[0].xmlversion,\r\n                        \"ublversion\": mainResult.mainData.data[0].ublversion,\r\n                        \"returnpdf\": mainResult.mainData.data[0].returnpdf,\r\n                        \"returnxmlsunat\": mainResult.mainData.data[0].returnxmlsunat,\r\n                        \"returnxml\": mainResult.mainData.data[0].returnxml,\r\n                        \"invoiceprovider\": mainResult.mainData.data[0].invoiceprovider,\r\n                        \"sunaturl\": mainResult.mainData.data[0].sunaturl,\r\n                        \"token\": mainResult.mainData.data[0].token,\r\n                        \"sunatusername\": mainResult.mainData.data[0].sunatusername,\r\n                        \"paymentprovider\": mainResult.mainData.data[0].paymentprovider,\r\n                        \"publickey\": mainResult.mainData.data[0].publickey,\r\n                        \"privatekey\": mainResult.mainData.data[0].privatekey,\r\n                        \"ticketserie\": mainResult.mainData.data[0].ticketserie,\r\n                        \"ticketcorrelative\": mainResult.mainData.data[0].ticketcorrelative,\r\n                        \"invoicecreditserie\": mainResult.mainData.data[0].invoicecreditserie,\r\n                        \"invoicecreditcorrelative\": mainResult.mainData.data[0].invoicecreditcorrelative,\r\n                        \"ticketcreditserie\": mainResult.mainData.data[0].ticketcreditserie,\r\n                        \"ticketcreditcorrelative\": mainResult.mainData.data[0].ticketcreditcorrelative,\r\n                        \"detraction\": mainResult.mainData.data[0].detraction,\r\n                        \"detractioncode\": mainResult.mainData.data[0].detractioncode,\r\n                        \"detractionaccount\": mainResult.mainData.data[0].detractionaccount,\r\n                        \"detractionminimum\": mainResult.mainData.data[0].detractionminimum,\r\n                        \"operationcodeperu\": mainResult.mainData.data[0].operationcodeperu,\r\n                        \"operationcodeother\": mainResult.mainData.data[0].operationcodeother,\r\n                        \"culqiurl\": mainResult.mainData.data[0].culqiurl,\r\n                        \"culqiurlcardcreate\": mainResult.mainData.data[0].culqiurlcardcreate,\r\n                        \"culqiurlclient\": mainResult.mainData.data[0].culqiurlclient,\r\n                        \"culqiurltoken\": mainResult.mainData.data[0].culqiurltoken,\r\n                        \"culqiurlcharge\": mainResult.mainData.data[0].culqiurlcharge,\r\n                        \"culqiurlcardget\": mainResult.mainData.data[0].culqiurlcardget,\r\n                        \"culqiurlcarddelete\": mainResult.mainData.data[0].culqiurlcarddelete,\r\n                    });\r\n\r\n                    setShowCountry(true);\r\n                }\r\n                else {\r\n                    setShowCountry(false);\r\n                }\r\n            }\r\n            else {\r\n                setShowCountry(false);\r\n            }\r\n        }\r\n        else {\r\n            setShowCountry(false);\r\n        }\r\n    }, [mainResult])\r\n\r\n    useEffect(() => {\r\n        const indexDomainCurrency = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_DOMAIN_LST_VALORES_CURRENCY'));\r\n\r\n        if (indexDomainCurrency > -1) {\r\n            setDomainCurrency({ loading: false, data: multiResult.data[indexDomainCurrency] && multiResult.data[indexDomainCurrency].success ? multiResult.data[indexDomainCurrency].data : [] });\r\n        }\r\n\r\n        const indexDomainDocument = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_DOMAIN_LST_VALORES_DOCUMENT'));\r\n\r\n        if (indexDomainDocument > -1) {\r\n            setDomainDocument({ loading: false, data: multiResult.data[indexDomainDocument] && multiResult.data[indexDomainDocument].success ? multiResult.data[indexDomainDocument].data : [] });\r\n        }\r\n\r\n        const indexDomainInvoiceProvider = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_DOMAIN_LST_VALORES_INVOICEPROVIDER'));\r\n\r\n        if (indexDomainInvoiceProvider > -1) {\r\n            setDomainInvoiceProvider({ loading: false, data: multiResult.data[indexDomainInvoiceProvider] && multiResult.data[indexDomainInvoiceProvider].success ? multiResult.data[indexDomainInvoiceProvider].data : [] });\r\n        }\r\n\r\n        const indexDomainPaymentProvider = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_DOMAIN_LST_VALORES_PAYMENTPROVIDER'));\r\n\r\n        if (indexDomainPaymentProvider > -1) {\r\n            setDomainPaymentProvider({ loading: false, data: multiResult.data[indexDomainPaymentProvider] && multiResult.data[indexDomainPaymentProvider].success ? multiResult.data[indexDomainPaymentProvider].data : [] });\r\n        }\r\n\r\n        const indexDomainPrinting = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_DOMAIN_LST_VALORES_PRINTING'));\r\n\r\n        if (indexDomainPrinting > -1) {\r\n            setDomainPrinting({ loading: false, data: multiResult.data[indexDomainPrinting] && multiResult.data[indexDomainPrinting].success ? multiResult.data[indexDomainPrinting].data : [] });\r\n        }\r\n    }, [multiResult]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_edit) }))\r\n                fetchData();\r\n                dispatch(showBackdrop(false));\r\n            }\r\n            else if (executeResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t(executeResult.code || \"error_unexpected_db_error\") }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeResult, waitSave])\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            ruc: fields.ruc,\r\n            businessname: fields.businessname,\r\n            tradename: fields.tradename,\r\n            fiscaladdress: fields.fiscaladdress,\r\n            ubigeo: fields.ubigeo,\r\n            country: fields.country,\r\n            emittertype: fields.emittertype,\r\n            currency: fields.currency,\r\n            invoiceserie: fields.invoiceserie,\r\n            invoicecorrelative: fields.invoicecorrelative,\r\n            annexcode: fields.annexcode,\r\n            igv: fields.igv,\r\n            printingformat: fields.printingformat,\r\n            xmlversion: fields.xmlversion,\r\n            ublversion: fields.ublversion,\r\n            returnpdf: fields.returnpdf,\r\n            returnxmlsunat: fields.returnxmlsunat,\r\n            returnxml: fields.returnxml,\r\n            invoiceprovider: fields.invoiceprovider,\r\n            sunaturl: fields.sunaturl,\r\n            token: fields.token,\r\n            sunatusername: fields.sunatusername,\r\n            paymentprovider: fields.paymentprovider,\r\n            publickey: fields.publickey,\r\n            privatekey: fields.privatekey,\r\n            ticketserie: fields.ticketserie,\r\n            ticketcorrelative: fields.ticketcorrelative,\r\n            invoicecreditserie: fields.invoicecreditserie,\r\n            invoicecreditcorrelative: fields.invoicecreditcorrelative,\r\n            ticketcreditserie: fields.ticketcreditserie,\r\n            ticketcreditcorrelative: fields.ticketcreditcorrelative,\r\n            detraction: fields.detraction,\r\n            detractioncode: fields.detractioncode,\r\n            detractionaccount: fields.detractionaccount,\r\n            detractionminimum: fields.detractionminimum,\r\n            operationcodeperu: fields.operationcodeperu,\r\n            operationcodeother: fields.operationcodeother,\r\n            culqiurl: fields.culqiurl,\r\n            culqiurlcardcreate: fields.culqiurlcardcreate,\r\n            culqiurlclient: fields.culqiurlclient,\r\n            culqiurltoken: fields.culqiurltoken,\r\n            culqiurlcharge: fields.culqiurlcharge,\r\n            culqiurlcardget: fields.culqiurlcardget,\r\n            culqiurlcarddelete: fields.culqiurlcarddelete,\r\n        }\r\n    });\r\n    React.useEffect(() => {\r\n        register('ruc', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('businessname', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('tradename', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('fiscaladdress', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('ubigeo', { validate: (value) => getValues('country') === 'PE' ? (((value && value.length > 0)) || \"\" + t(langKeys.field_required)) : true })\r\n        register('country', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('emittertype', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('currency', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoiceserie', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoicecorrelative');\r\n        register('annexcode', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('igv');\r\n        register('returnpdf');\r\n        register('returnxmlsunat');\r\n        register('returnxml');\r\n        register('printingformat', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('xmlversion', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('ublversion', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoiceprovider', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('sunaturl', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('token', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('sunatusername');\r\n        register('paymentprovider', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('publickey', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('privatekey', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('ticketserie', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('ticketcorrelative');\r\n        register('invoicecreditserie', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoicecreditcorrelative');\r\n        register('ticketcreditserie', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('ticketcreditcorrelative');\r\n        register('detraction');\r\n        register('detractioncode', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('detractionaccount', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('detractionminimum');\r\n        register('operationcodeperu', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('operationcodeother', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('culqiurl', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('culqiurlcardcreate', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('culqiurlclient', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('culqiurltoken', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('culqiurlcharge', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('culqiurlcardget', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('culqiurlcarddelete', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(execute(updateAppsettingInvoice(data)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'end' }}>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            type=\"submit\"\r\n                            startIcon={<SaveIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                        >{t(langKeys.save)}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <Typography style={{ fontSize: 20, paddingBottom: \"10px\" }} color=\"textPrimary\">{t(langKeys.billingsetupgeneralinformation)}</Typography>\r\n\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetupruc)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('ruc')}\r\n                            onChange={(value) => setValue('ruc', value)}\r\n                            error={errors?.ruc?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingcompanyname)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('businessname')}\r\n                            onChange={(value) => setValue('businessname', value)}\r\n                            error={errors?.businessname?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingcommercialname)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('tradename')}\r\n                            onChange={(value) => setValue('tradename', value)}\r\n                            error={errors?.tradename?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingfiscaladdress)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('fiscaladdress')}\r\n                            onChange={(value) => setValue('fiscaladdress', value)}\r\n                            error={errors?.fiscaladdress?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingubigeocode)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('ubigeo')}\r\n                            onChange={(value) => setValue('ubigeo', value)}\r\n                            error={errors?.ubigeo?.message}\r\n                            disabled={blockUbigee}\r\n                        />\r\n                        {showCountry ? <FieldSelect\r\n                            label={t(langKeys.billingcountry)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('country')}\r\n                            onChange={(value) => { setValue('country', value?.code); if (value?.code !== 'PE') { setValue('ubigeo', ''); setBlockUbigee(true); } else { setBlockUbigee(false); } }}\r\n                            error={errors?.country?.message}\r\n                            data={dataPlan}\r\n                            optionDesc=\"description\"\r\n                            optionValue=\"code\"\r\n                            orderbylabel={true}\r\n                        /> : <FieldEdit\r\n                            label={t(langKeys.billingcountry)}\r\n                            className=\"col-6\"\r\n                            valueDefault={''}\r\n                            error={errors?.country?.message}\r\n                            disabled={true}\r\n                        />}\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <Typography style={{ fontSize: 20, paddingBottom: \"10px\" }} color=\"textPrimary\">{t(langKeys.billingsetupbillinginformation)}</Typography>\r\n\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.billingemittertype)}\r\n                            loading={domainDocument.loading}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('emittertype')}\r\n                            onChange={(value) => setValue('emittertype', value?.domainvalue)}\r\n                            error={errors?.emittertype?.message}\r\n                            data={domainDocument.data}\r\n                            optionDesc=\"domaindesc\"\r\n                            optionValue=\"domainvalue\"\r\n                            uset={true}\r\n                            prefixTranslation='billingfield_'\r\n                            orderbylabel={true}\r\n                        />\r\n                        <FieldSelect\r\n                            label={t(langKeys.billingcurrency)}\r\n                            loading={domainCurrency.loading}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('currency')}\r\n                            onChange={(value) => setValue('currency', value?.domainvalue)}\r\n                            error={errors?.currency?.message}\r\n                            data={domainCurrency.data}\r\n                            optionDesc=\"domaindesc\"\r\n                            optionValue=\"domainvalue\"\r\n                            uset={true}\r\n                            prefixTranslation='billingfield_'\r\n                            orderbylabel={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingserial)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('invoiceserie')}\r\n                            onChange={(value) => setValue('invoiceserie', value)}\r\n                            error={errors?.invoiceserie?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingcorrelative)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('invoicecorrelative')}\r\n                            onChange={(value) => setValue('invoicecorrelative', value)}\r\n                            error={errors?.invoicecorrelative?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.ticketserial)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('ticketserie')}\r\n                            onChange={(value) => setValue('ticketserie', value)}\r\n                            error={errors?.ticketserie?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.ticketcorrelative)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('ticketcorrelative')}\r\n                            onChange={(value) => setValue('ticketcorrelative', value)}\r\n                            error={errors?.ticketcorrelative?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.invoicecreditserial)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('invoicecreditserie')}\r\n                            onChange={(value) => setValue('invoicecreditserie', value)}\r\n                            error={errors?.invoicecreditserie?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.invoicecreditcorrelative)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('invoicecreditcorrelative')}\r\n                            onChange={(value) => setValue('invoicecreditcorrelative', value)}\r\n                            error={errors?.invoicecreditcorrelative?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.ticketcreditserial)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('ticketcreditserie')}\r\n                            onChange={(value) => setValue('ticketcreditserie', value)}\r\n                            error={errors?.ticketcreditserie?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.ticketcreditcorrelative)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('ticketcreditcorrelative')}\r\n                            onChange={(value) => setValue('ticketcreditcorrelative', value)}\r\n                            error={errors?.ticketcreditcorrelative?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingannexcode)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('annexcode')}\r\n                            onChange={(value) => setValue('annexcode', value)}\r\n                            error={errors?.annexcode?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingtax)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('igv')}\r\n                            onChange={(value) => setValue('igv', value)}\r\n                            error={errors?.igv?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.detractioncode)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('detractioncode')}\r\n                            onChange={(value) => setValue('detractioncode', value)}\r\n                            error={errors?.detractioncode?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.detraction)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('detraction')}\r\n                            onChange={(value) => setValue('detraction', value)}\r\n                            error={errors?.detraction?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.detractionaccount)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('detractionaccount')}\r\n                            onChange={(value) => setValue('detractionaccount', value)}\r\n                            error={errors?.detractionaccount?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.detractionminimum)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('detractionminimum')}\r\n                            onChange={(value) => setValue('detractionminimum', value)}\r\n                            error={errors?.detractionminimum?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.operationcodeperu)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('operationcodeperu')}\r\n                            onChange={(value) => setValue('operationcodeperu', value)}\r\n                            error={errors?.operationcodeperu?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.operationcodeother)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('operationcodeother')}\r\n                            onChange={(value) => setValue('operationcodeother', value)}\r\n                            error={errors?.operationcodeother?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.billingprintingformat)}\r\n                            loading={domainPrinting.loading}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('printingformat')}\r\n                            onChange={(value) => setValue('printingformat', value?.domainvalue)}\r\n                            error={errors?.printingformat?.message}\r\n                            data={domainPrinting.data}\r\n                            optionDesc=\"domaindesc\"\r\n                            optionValue=\"domainvalue\"\r\n                            uset={true}\r\n                            prefixTranslation='billingfield_'\r\n                            orderbylabel={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingxmlversion)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('xmlversion')}\r\n                            onChange={(value) => setValue('xmlversion', value)}\r\n                            error={errors?.xmlversion?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingublversion)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('ublversion')}\r\n                            onChange={(value) => setValue('ublversion', value)}\r\n                            error={errors?.ublversion?.message}\r\n                        />\r\n                        <TemplateSwitch\r\n                            label={t(langKeys.billingreturnpdf)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('returnpdf')}\r\n                            onChange={(value) => setValue('returnpdf', value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <TemplateSwitch\r\n                            label={t(langKeys.billingreturncsv)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('returnxmlsunat')}\r\n                            onChange={(value) => setValue('returnxmlsunat', value)}\r\n                        />\r\n                        <TemplateSwitch\r\n                            label={t(langKeys.billingreturnxml)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('returnxml')}\r\n                            onChange={(value) => setValue('returnxml', value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <Typography style={{ fontSize: 20, paddingBottom: \"10px\" }} color=\"textPrimary\">{t(langKeys.billingsetupsunatinformation)}</Typography>\r\n\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.billinginvoiceprovider)}\r\n                            loading={domainInvoiceProvider.loading}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('invoiceprovider')}\r\n                            onChange={(value) => setValue('invoiceprovider', value?.domainvalue)}\r\n                            error={errors?.invoiceprovider?.message}\r\n                            data={domainInvoiceProvider.data}\r\n                            optionDesc=\"domaindesc\"\r\n                            optionValue=\"domainvalue\"\r\n                            uset={true}\r\n                            prefixTranslation='billingfield_'\r\n                            orderbylabel={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingapiendpoint)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('sunaturl')}\r\n                            onChange={(value) => setValue('sunaturl', value)}\r\n                            error={errors?.sunaturl?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingtoken)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('token')}\r\n                            onChange={(value) => setValue('token', value)}\r\n                            error={errors?.token?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingusername)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('sunatusername')}\r\n                            onChange={(value) => setValue('sunatusername', value)}\r\n                            error={errors?.sunatusername?.message}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <Typography style={{ fontSize: 20, paddingBottom: \"10px\" }} color=\"textPrimary\">{t(langKeys.billingsetuppaymentinformation)}</Typography>\r\n\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.billingpaymentprovider)}\r\n                            loading={domainPaymentProvider.loading}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('paymentprovider')}\r\n                            onChange={(value) => setValue('paymentprovider', value?.domainvalue)}\r\n                            error={errors?.paymentprovider?.message}\r\n                            data={domainPaymentProvider.data}\r\n                            optionDesc=\"domaindesc\"\r\n                            optionValue=\"domainvalue\"\r\n                            uset={true}\r\n                            prefixTranslation='billingfield_'\r\n                            orderbylabel={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingpaymentendpoint)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('culqiurl')}\r\n                            onChange={(value) => setValue('culqiurl', value)}\r\n                            error={errors?.culqiurl?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingpublickey)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('publickey')}\r\n                            onChange={(value) => setValue('publickey', value)}\r\n                            error={errors?.publickey?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingprivatekey)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('privatekey')}\r\n                            onChange={(value) => setValue('privatekey', value)}\r\n                            error={errors?.privatekey?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.culqiurlcardcreate)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('culqiurlcardcreate')}\r\n                            onChange={(value) => setValue('culqiurlcardcreate', value)}\r\n                            error={errors?.culqiurlcardcreate?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.culqiurlclient)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('culqiurlclient')}\r\n                            onChange={(value) => setValue('culqiurlclient', value)}\r\n                            error={errors?.culqiurlclient?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.culqiurltoken)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('culqiurltoken')}\r\n                            onChange={(value) => setValue('culqiurltoken', value)}\r\n                            error={errors?.culqiurltoken?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.culqiurlcharge)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('culqiurlcharge')}\r\n                            onChange={(value) => setValue('culqiurlcharge', value)}\r\n                            error={errors?.culqiurlcharge?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.culqiurlcardget)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('culqiurlcardget')}\r\n                            onChange={(value) => setValue('culqiurlcardget', value)}\r\n                            error={errors?.culqiurlcardget?.message}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.culqiurlcarddelete)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('culqiurlcarddelete')}\r\n                            onChange={(value) => setValue('culqiurlcarddelete', value)}\r\n                            error={errors?.culqiurlcarddelete?.message}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst IDCONTRACTEDPLAN = \"IDCONTRACTEDPLAN\";\r\nconst ContractedPlanByPeriod: React.FC<{ dataPlan: any }> = ({ dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeResult = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        plan: \"\",\r\n        year: String(new Date().getFullYear()),\r\n        month: (new Date().getMonth() + 1).toString().padStart(2, \"0\")\r\n    });\r\n\r\n    const [disableSearch, setdisableSearch] = useState(false);\r\n    const [duplicateop, setduplicateop] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    function search() {\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getCollection(getBillingConfigurationSel(dataMain)))\r\n    }\r\n\r\n    useEffect(() => {\r\n        setdisableSearch(dataMain.year === \"\")\r\n    }, [dataMain])\r\n\r\n    useEffect(() => {\r\n        search()\r\n        dispatch(setMemoryTable({\r\n            id: IDCONTRACTEDPLAN\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.mainData.loading) {\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [mainResult])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                accessor: 'billingconfigurationid',\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return (\r\n                        <TemplateIcons\r\n                            deleteFunction={() => handleDelete(row)}\r\n                            editFunction={() => handleEdit(row)}\r\n                        //viewFunction={() => handleView(row)} //esta es la funcion de duplicar\r\n                        //extraOption={t(langKeys.duplicate)}\r\n                        />\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.year),\r\n                accessor: 'year',\r\n            },\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'month',\r\n            },\r\n            {\r\n                Header: \"Plan\",\r\n                accessor: 'plan',\r\n            },\r\n            {\r\n                Header: t(langKeys.costbasedonthecontractedplan),\r\n                accessor: 'basicfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { basicfee } = props.cell.row.original;\r\n                    return formatNumber(basicfee || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.numberofagentshired),\r\n                accessor: 'userfreequantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { userfreequantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(userfreequantity || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.useradditionalfee),\r\n                accessor: 'useradditionalfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { useradditionalfee } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(useradditionalfee || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.allowuseroverride),\r\n                accessor: 'usercreateoverride',\r\n                NoFilter: false,\r\n                type: 'boolean',\r\n                sortType: 'basic',\r\n                editable: true,\r\n                width: 180,\r\n                maxWidth: 180,\r\n                Cell: (props: any) => {\r\n                    const { usercreateoverride } = props.cell.row.original;\r\n                    return usercreateoverride ? t(langKeys.yes) : \"No\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.channelfreequantity),\r\n                accessor: 'channelfreequantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { channelfreequantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(channelfreequantity || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.contractedplanchannelotherfee),\r\n                accessor: 'channelotherfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { channelotherfee } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(channelotherfee || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.channelwhatsappfee),\r\n                accessor: 'channelwhatsappfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { channelwhatsappfee } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(channelwhatsappfee || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.contractedplanfreewhatsappchannel),\r\n                accessor: 'freewhatsappchannel',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { freewhatsappchannel } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(freewhatsappchannel || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.contractedplanfreewhatsappconversation),\r\n                accessor: 'whatsappconversationfreequantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { whatsappconversationfreequantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(whatsappconversationfreequantity || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.allowchanneloverride),\r\n                accessor: 'channelcreateoverride',\r\n                NoFilter: false,\r\n                type: 'boolean',\r\n                sortType: 'basic',\r\n                editable: true,\r\n                width: 180,\r\n                maxWidth: 180,\r\n                Cell: (props: any) => {\r\n                    const { channelcreateoverride } = props.cell.row.original;\r\n                    return channelcreateoverride ? t(langKeys.yes) : \"No\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.clientfreequantity),\r\n                accessor: 'clientfreequantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { clientfreequantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(clientfreequantity || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.clientadditionalfee),\r\n                accessor: 'clientadditionalfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { clientadditionalfee } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(clientadditionalfee || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.allowhsm),\r\n                accessor: 'allowhsm',\r\n                NoFilter: false,\r\n                type: 'boolean',\r\n                sortType: 'basic',\r\n                editable: true,\r\n                width: 180,\r\n                maxWidth: 180,\r\n                Cell: (props: any) => {\r\n                    const { allowhsm } = props.cell.row.original;\r\n                    return allowhsm ? t(langKeys.yes) : \"No\"\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.vcacomissionperhsm),\r\n                accessor: 'vcacomissionperhsm',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { vcacomissionperhsm } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(vcacomissionperhsm || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.vcacomissionpervoicechannel),\r\n                accessor: 'vcacomissionpervoicechannel',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { vcacomissionpervoicechannel } = props.cell.row.original;\r\n                    return formatNumber(vcacomissionpervoicechannel || 0);\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    const fetchData = () => dispatch(getCollection(getBillingConfigurationSel(dataMain)));\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                if (duplicateop) {\r\n                    setduplicateop(false)\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_duplicate) }))\r\n                } else {\r\n\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_delete) }))\r\n                }\r\n                fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            } else if (executeResult.error) {\r\n                const errormessage = t(executeResult.code || \"error_unexpected_error\", { module: t(langKeys.billingplan).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeResult, waitSave])\r\n\r\n    const handleRegister = () => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: null, edit: true });\r\n    }\r\n\r\n    const handleEdit = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: true });\r\n    }\r\n\r\n    const handleDelete = (row: Dictionary) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingConfigurationIns({ ...row, operation: 'DELETE', status: 'ELIMINADO', id: row.billingconfigurationid })));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_delete),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <Fragment>\r\n                <TableZyx\r\n                    onClickRow={handleEdit}\r\n                    columns={columns}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.year)}\r\n                                style={{ width: 150 }}\r\n                                valueDefault={dataMain.year}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, year: value?.value || 0 }))}\r\n                                data={dataYears}\r\n                                optionDesc=\"value\"\r\n                                optionValue=\"value\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.month)}\r\n                                style={{ width: 300 }}\r\n                                valueDefault={dataMain.month}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, month: value.map((o: Dictionary) => o.val).join() }))}\r\n                                data={dataMonths}\r\n                                uset={true}\r\n                                prefixTranslation=\"month_\"\r\n                                optionDesc=\"val\"\r\n                                optionValue=\"val\"\r\n                            />\r\n                            <FieldSelect\r\n                                label=\"Plan\"\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.plan}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, plan: value?.plan || \"\" }))}\r\n                                data={dataPlan}\r\n                                optionDesc=\"plan\"\r\n                                optionValue=\"plan\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <Button\r\n                                disabled={mainResult.mainData.loading || disableSearch}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                onClick={() => search()}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={mainResult.mainData.data}\r\n                    filterGeneral={false}\r\n                    download={true}\r\n                    loading={mainResult.mainData.loading}\r\n                    register={true}\r\n                    handleRegister={handleRegister}\r\n                    pageSizeDefault={IDCONTRACTEDPLAN === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDCONTRACTEDPLAN === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDCONTRACTEDPLAN === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailContractedPlanByPeriod\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n                fetchData={fetchData}\r\n                dataPlan={dataPlan}\r\n            />\r\n        )\r\n    } else\r\n        return null;\r\n}\r\n\r\nconst DetailContractedPlanByPeriod: React.FC<DetailSupportPlanProps> = ({ data: { row, edit }, setViewSelected, fetchData, dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeRes = useSelector(state => state.main.execute);\r\n\r\n    const [datetoshow, setdatetoshow] = useState(\r\n        row ? `${row.year}-${String(row.month).padStart(2, '0')}` : `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth() + 1).padStart(2, '0')}`\r\n    )\r\n    const [checkedaux, setCheckedaux] = useState(row?.allowhsm || false);\r\n    const [checkeduser, setCheckeduser] = useState(row?.usercreateoverride || false);\r\n    const [checkedchannel, setCheckedchannel] = useState(row?.channelcreateoverride || false);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const arrayBreadContractedPlan = [\r\n        { id: \"view-1\", name: t(langKeys.contractedplan) },\r\n        { id: \"view-2\", name: t(langKeys.contractedplandetail) }\r\n    ];\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            id: row?.billingconfigurationid || 0,\r\n            year: row?.year || new Date().getFullYear(),\r\n            month: row?.month || new Date().getMonth() + 1,\r\n            plan: row?.plan || \"\",\r\n            basicfee: row?.basicfee || 0,\r\n            userfreequantity: row?.userfreequantity || 0,\r\n            channelfreequantity: row?.channelfreequantity || 0,\r\n            clientfreequantity: row?.clientfreequantity || 0,\r\n            useradditionalfee: row?.useradditionalfee || 0,\r\n            channelwhatsappfee: row?.channelwhatsappfee || 0,\r\n            clientadditionalfee: row?.clientadditionalfee || 0,\r\n            channelotherfee: row?.channelotherfee || 0,\r\n            hsmfee: row?.hsmfee || 0,\r\n            vcacomissionperhsm: row?.vcacomissionperhsm || 0,\r\n            vcacomissionpervoicechannel: row?.vcacomissionpervoicechannel || 0,\r\n            freewhatsappchannel: row?.freewhatsappchannel || 0,\r\n            whatsappconversationfreequantity: row?.whatsappconversationfreequantity || 0,\r\n            allowhsm: row?.allowhsm || false,\r\n            usercreateoverride: row?.usercreateoverride || false,\r\n            channelcreateoverride: row?.channelcreateoverride || false,\r\n            status: row ? row.status : 'ACTIVO',\r\n            type: row ? row.type : '',\r\n            description: row ? row.description : '',\r\n            operation: row ? \"UPDATE\" : \"INSERT\",\r\n        }\r\n    });\r\n\r\n    function handleDateChange(e: any) {\r\n        if (e !== \"\") {\r\n            let datetochange = new Date(e + \"-02\")\r\n            let mes = datetochange?.getMonth() + 1\r\n            let year = datetochange?.getFullYear()\r\n            setdatetoshow(`${year}-${String(mes).padStart(2, '0')}`)\r\n            setValue('year', year)\r\n            setValue('month', mes)\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        register('id');\r\n        register('type');\r\n        register('status');\r\n        register('year');\r\n        register('month');\r\n        register('operation');\r\n        register('allowhsm');\r\n        register('usercreateoverride');\r\n        register('channelcreateoverride');\r\n        register('channelotherfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('description');\r\n        register('plan', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('basicfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('userfreequantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('channelfreequantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('clientfreequantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('useradditionalfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('channelwhatsappfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('clientadditionalfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('hsmfee');\r\n        register('vcacomissionperhsm', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('vcacomissionpervoicechannel', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('whatsappconversationfreequantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('freewhatsappchannel', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n    }, [edit, register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(row ? langKeys.successful_edit : langKeys.successful_register) }))\r\n                fetchData && fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\")\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.billingplan).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingConfigurationIns(data)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true)\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={arrayBreadContractedPlan}\r\n                            handleClick={setViewSelected}\r\n                        />\r\n                        <TitleDetail\r\n                            title={row ? `${row.description}` : t(langKeys.newcontractedplanbyperiod)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {edit &&\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                startIcon={<SaveIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.save)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        <TextField\r\n                            id=\"date\"\r\n                            className=\"col-12\"\r\n                            type=\"month\"\r\n                            variant=\"outlined\"\r\n                            onChange={(e) => handleDateChange(e.target.value)}\r\n                            value={datetoshow}\r\n                            size=\"small\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label=\"Plan\"\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues(\"plan\")}\r\n                            onChange={(value) => setValue('plan', value?.plan)}\r\n                            data={dataPlan}\r\n                            optionDesc=\"plan\"\r\n                            optionValue=\"plan\"\r\n                            error={errors?.plan?.message}\r\n                            orderbylabel={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.costbasedonthecontractedplan)}\r\n                            onChange={(value) => setValue('basicfee', value)}\r\n                            valueDefault={getValues('basicfee')}\r\n                            error={errors?.basicfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.numberofagentshired)}\r\n                            onChange={(value) => setValue('userfreequantity', value)}\r\n                            valueDefault={getValues('userfreequantity')}\r\n                            error={errors?.userfreequantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.useradditionalfee)}\r\n                            onChange={(value) => setValue('useradditionalfee', value)}\r\n                            valueDefault={getValues('useradditionalfee')}\r\n                            error={errors?.useradditionalfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <div className={\"col-6\"} style={{ paddingBottom: '3px' }}>\r\n                            <Box fontWeight={500} lineHeight=\"18px\" fontSize={14} mb={2} color=\"textPrimary\">{t(langKeys.allowuseroverride)}</Box>\r\n                            <FormControlLabel\r\n                                style={{ paddingLeft: 10 }}\r\n                                control={<IOSSwitch checked={checkeduser} onChange={(e) => { setCheckeduser(e.target.checked); setValue('usercreateoverride', e.target.checked) }} />}\r\n                                label={\"\"}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.channelfreequantity)}\r\n                            onChange={(value) => setValue('channelfreequantity', value)}\r\n                            valueDefault={getValues('channelfreequantity')}\r\n                            error={errors?.channelfreequantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.contractedplanchannelotherfee)}\r\n                            onChange={(value) => setValue('channelotherfee', value)}\r\n                            valueDefault={getValues('channelotherfee')}\r\n                            error={errors?.channelotherfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.contractedplanfreewhatsappchannel)}\r\n                            onChange={(value) => setValue('freewhatsappchannel', value)}\r\n                            valueDefault={getValues('freewhatsappchannel')}\r\n                            error={errors?.freewhatsappchannel?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.channelwhatsappfee)}\r\n                            onChange={(value) => setValue('channelwhatsappfee', value)}\r\n                            valueDefault={getValues('channelwhatsappfee')}\r\n                            error={errors?.channelwhatsappfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.contractedplanfreewhatsappconversation)}\r\n                            onChange={(value) => setValue('whatsappconversationfreequantity', value)}\r\n                            valueDefault={getValues('whatsappconversationfreequantity')}\r\n                            error={errors?.whatsappconversationfreequantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        />\r\n                        <div className={\"col-6\"} style={{ paddingBottom: '3px' }}>\r\n                            <Box fontWeight={500} lineHeight=\"18px\" fontSize={14} mb={2} color=\"textPrimary\">{t(langKeys.allowchanneloverride)}</Box>\r\n                            <FormControlLabel\r\n                                style={{ paddingLeft: 10 }}\r\n                                control={<IOSSwitch checked={checkedchannel} onChange={(e) => { setCheckedchannel(e.target.checked); setValue('channelcreateoverride', e.target.checked) }} />}\r\n                                label={\"\"}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.clientfreequantity)}\r\n                            onChange={(value) => setValue('clientfreequantity', value)}\r\n                            valueDefault={getValues('clientfreequantity')}\r\n                            error={errors?.clientfreequantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.clientadditionalfee)}\r\n                            onChange={(value) => setValue('clientadditionalfee', value)}\r\n                            valueDefault={getValues('clientadditionalfee')}\r\n                            error={errors?.clientadditionalfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <div className={\"col-6\"} style={{ paddingBottom: '3px' }}>\r\n                            <Box fontWeight={500} lineHeight=\"18px\" fontSize={14} mb={2} color=\"textPrimary\">{t(langKeys.allowhsm)}</Box>\r\n                            <FormControlLabel\r\n                                style={{ paddingLeft: 10 }}\r\n                                control={<IOSSwitch checked={checkedaux} onChange={(e) => { setCheckedaux(e.target.checked); setValue('allowhsm', e.target.checked) }} />}\r\n                                label={\"\"}\r\n                            />\r\n                        </div>\r\n                        <FieldEdit\r\n                            label={t(langKeys.vcacomissionperhsm)}\r\n                            onChange={(value) => setValue('vcacomissionperhsm', value)}\r\n                            valueDefault={getValues('vcacomissionperhsm')}\r\n                            error={errors?.vcacomissionperhsm?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.vcacomissionpervoicechannel)}\r\n                            onChange={(value) => setValue('vcacomissionpervoicechannel', value)}\r\n                            valueDefault={getValues('vcacomissionpervoicechannel')}\r\n                            error={errors?.vcacomissionpervoicechannel?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst IDCONVERSATIONCOST = 'IDCONVERSATIONCOST';\r\nconst ConversationCost: React.FC<{ dataPlan: any }> = ({ dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeResult = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        countrycode: \"\",\r\n        year: String(new Date().getFullYear()),\r\n        month: (new Date().getMonth() + 1).toString().padStart(2, \"0\")\r\n    });\r\n\r\n    const [disableSearch, setdisableSearch] = useState(false);\r\n    const [duplicateop, setduplicateop] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    function search() {\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getCollection(getBillingConversationSel(dataMain)))\r\n    }\r\n\r\n    useEffect(() => {\r\n        setdisableSearch(dataMain.year === \"\")\r\n    }, [dataMain])\r\n\r\n    useEffect(() => {\r\n        search()\r\n        dispatch(setMemoryTable({\r\n            id: IDCONVERSATIONCOST\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.mainData.loading) {\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [mainResult])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                accessor: 'billingconversationid',\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return (\r\n                        <TemplateIcons\r\n                            deleteFunction={() => handleDelete(row)}\r\n                            editFunction={() => handleEdit(row)}\r\n                        //viewFunction={() => handleView(row)} //esta es la funcion de duplicar\r\n                        //extraOption={t(langKeys.duplicate)}\r\n                        />\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.year),\r\n                accessor: 'year',\r\n            },\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'month',\r\n            },\r\n            {\r\n                Header: t(langKeys.countrycode),\r\n                accessor: 'countrycode',\r\n            },\r\n            {\r\n                Header: t(langKeys.country),\r\n                accessor: 'country',\r\n            },\r\n            {\r\n                Header: t(langKeys.coststartedbycompany),\r\n                accessor: 'companystartfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { companystartfee } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(companystartfee || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.customerinitiatedcost),\r\n                accessor: 'clientstartfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { clientstartfee } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(clientstartfee || 0);\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    const fetchData = () => dispatch(getCollection(getBillingConversationSel(dataMain)));\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                if (duplicateop) {\r\n                    setduplicateop(false)\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_duplicate) }))\r\n                } else {\r\n\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_delete) }))\r\n                }\r\n                fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            } else if (executeResult.error) {\r\n                const errormessage = t(executeResult.code || \"error_unexpected_error\", { module: t(langKeys.conversationcost).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeResult, waitSave])\r\n\r\n    const handleRegister = () => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: null, edit: true });\r\n    }\r\n\r\n    const handleEdit = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: true });\r\n    }\r\n\r\n    const handleDelete = (row: Dictionary) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingConversationIns({ ...row, operation: 'DELETE', status: 'ELIMINADO', id: row.billingconversationid })));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_delete),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <Fragment>\r\n                <TableZyx\r\n                    onClickRow={handleEdit}\r\n                    columns={columns}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.year)}\r\n                                style={{ width: 150 }}\r\n                                valueDefault={dataMain.year}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, year: value?.value || 0 }))}\r\n                                data={dataYears}\r\n                                optionDesc=\"value\"\r\n                                optionValue=\"value\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.month)}\r\n                                style={{ width: 300 }}\r\n                                valueDefault={dataMain.month}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, month: value.map((o: Dictionary) => o.val).join() }))}\r\n                                data={dataMonths}\r\n                                uset={true}\r\n                                prefixTranslation=\"month_\"\r\n                                optionDesc=\"val\"\r\n                                optionValue=\"val\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.country)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.countrycode}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, countrycode: value.map((o: Dictionary) => o.code).join() }))}\r\n                                data={dataPlan}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"code\"\r\n                            />\r\n                            <Button\r\n                                disabled={mainResult.mainData.loading || disableSearch}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                onClick={() => search()}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={mainResult.mainData.data}\r\n                    filterGeneral={false}\r\n                    download={true}\r\n                    loading={mainResult.mainData.loading}\r\n                    register={true}\r\n                    handleRegister={handleRegister}\r\n                    pageSizeDefault={IDCONVERSATIONCOST === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDCONVERSATIONCOST === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDCONVERSATIONCOST === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailConversationCost\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n                fetchData={fetchData}\r\n                dataPlan={dataPlan}\r\n            />\r\n        )\r\n    } else\r\n        return null;\r\n}\r\n\r\nconst DetailConversationCost: React.FC<DetailSupportPlanProps> = ({ data: { row, edit }, setViewSelected, fetchData, dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeRes = useSelector(state => state.main.execute);\r\n    const [datetoshow, setdatetoshow] = useState(\r\n        row ? `${row.year}-${String(row.month).padStart(2, '0')}` : `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth() + 1).padStart(2, '0')}`\r\n    )\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const arrayBreadConversationCost = [\r\n        { id: \"view-1\", name: t(langKeys.conversationcost) },\r\n        { id: \"view-2\", name: t(langKeys.conversationcostdetail) }\r\n    ];\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            id: row ? row.billingconversationid : 0,\r\n            year: row?.year || new Date().getFullYear(),\r\n            month: row?.month || new Date().getMonth() + 1,\r\n            countrycode: row?.countrycode || 'PE',\r\n            companystartfee: row?.companystartfee || 0.0,\r\n            clientstartfee: row?.clientstartfee || 0.0,\r\n            vcacomission: row?.vcacomission || 0.0,\r\n            freeconversations: row?.freeconversations || 0,\r\n            description: row?.description || \"\",\r\n            status: row ? row.status : 'ACTIVO',\r\n            type: row ? row.type : '',\r\n            operation: row ? \"UPDATE\" : \"INSERT\",\r\n        }\r\n    });\r\n\r\n    function handleDateChange(e: any) {\r\n        if (e !== \"\") {\r\n            let datetochange = new Date(e + \"-02\")\r\n            let mes = datetochange?.getMonth() + 1\r\n            let year = datetochange?.getFullYear()\r\n            setdatetoshow(`${year}-${String(mes).padStart(2, '0')}`)\r\n            setValue('year', year)\r\n            setValue('month', mes)\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        register('id');\r\n        register('type');\r\n        register('status');\r\n        register('year');\r\n        register('month');\r\n        register('operation');\r\n        register('description', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('countrycode', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('companystartfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('clientstartfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('freeconversations', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('vcacomission');\r\n    }, [edit, register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(row ? langKeys.successful_edit : langKeys.successful_register) }))\r\n                fetchData && fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\")\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.conversationcost).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingConversationIns(data)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true)\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={arrayBreadConversationCost}\r\n                            handleClick={setViewSelected}\r\n                        />\r\n                        <TitleDetail\r\n                            title={row ? `${row.description}` : t(langKeys.newconversationplan)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {edit &&\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                startIcon={<SaveIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.save)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        <TextField\r\n                            id=\"date\"\r\n                            className=\"col-12\"\r\n                            type=\"month\"\r\n                            variant=\"outlined\"\r\n                            onChange={(e) => handleDateChange(e.target.value)}\r\n                            value={datetoshow}\r\n                            size=\"small\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.country)}\r\n                            className=\"col-12\"\r\n                            valueDefault={getValues(\"countrycode\")}\r\n                            variant=\"outlined\"\r\n                            onChange={(value) => setValue(\"countrycode\", value?.code)}\r\n                            error={errors?.countrycode?.message}\r\n                            data={dataPlan}\r\n                            optionDesc=\"description\"\r\n                            optionValue=\"code\"\r\n                            orderbylabel={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.coststartedbycompany)}\r\n                            onChange={(value) => setValue('companystartfee', value)}\r\n                            valueDefault={getValues('companystartfee')}\r\n                            error={errors?.companystartfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.customerinitiatedcost)}\r\n                            onChange={(value) => setValue('clientstartfee', value)}\r\n                            valueDefault={getValues('clientstartfee')}\r\n                            error={errors?.clientstartfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.description)}\r\n                            onChange={(value) => setValue('description', value)}\r\n                            valueDefault={getValues('description')}\r\n                            error={errors?.description?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            label=''\r\n                            value={t(langKeys.costcommentary)}\r\n                            className={classes.commentary}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst IDARTIFICIALINTELLIGENCE = 'IDARTIFICIALINTELLIGENCE';\r\nconst ArtificialIntelligence: React.FC<{ providerData: any, planData: any }> = ({ providerData, planData }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const executeResult = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        provider: \"\",\r\n        type: \"\",\r\n        plan: \"\",\r\n        year: String(new Date().getFullYear()),\r\n        month: (new Date().getMonth() + 1).toString().padStart(2, \"0\")\r\n    });\r\n\r\n    const [providerCombo, setProviderCombo] = useState([]);\r\n    const [typeCombo, setTypeCombo] = useState([]);\r\n    const [planCombo, setPlanCombo] = useState([]);\r\n    const [disableSearch, setdisableSearch] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    function search() {\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getCollection(billingArtificialIntelligenceSel(dataMain)))\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (providerData) {\r\n            setProviderCombo(providerData.filter((elem: { provider: any; }, index: any, self: any[]) => self.findIndex((t) => { return (t.provider === elem.provider) }) === index));\r\n            setTypeCombo(providerData.filter((elem: { type: any; }, index: any, self: any[]) => self.findIndex((t) => { return (t.type === elem.type) }) === index));\r\n        }\r\n        if (planData) {\r\n            setPlanCombo(planData.filter((elem: { description: any; }, index: any, self: any[]) => self.findIndex((t) => { return (t.description === elem.description) }) === index));\r\n        }\r\n    }, [providerData, planData])\r\n\r\n    useEffect(() => {\r\n        search()\r\n        dispatch(setMemoryTable({\r\n            id: IDARTIFICIALINTELLIGENCE\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.mainData.loading) {\r\n            dispatch(showBackdrop(false));\r\n        }\r\n    }, [mainResult])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                accessor: 'billingartificialintelligenceid',\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return (\r\n                        <TemplateIcons\r\n                            deleteFunction={() => handleDelete(row)}\r\n                            editFunction={() => handleEdit(row)}\r\n                        />\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.year),\r\n                accessor: 'year',\r\n            },\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'month',\r\n            },\r\n            {\r\n                Header: t(langKeys.billingsetup_provider),\r\n                accessor: 'provider',\r\n            },\r\n            {\r\n                Header: t(langKeys.billingsetup_service),\r\n                accessor: 'type',\r\n            },\r\n            {\r\n                Header: t(langKeys.billingsetup_measureunit),\r\n                accessor: 'measureunit',\r\n            },\r\n            {\r\n                Header: t(langKeys.billingsetup_plan),\r\n                accessor: 'plan',\r\n            },\r\n            {\r\n                Header: t(langKeys.billingsetup_minimuminteractions),\r\n                accessor: 'freeinteractions',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { freeinteractions } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(freeinteractions || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.billingsetup_baseprice),\r\n                accessor: 'basicfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { basicfee } = props.cell.row.original;\r\n                    return formatNumber(basicfee || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.billingsetup_additionalprice),\r\n                accessor: 'additionalfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { additionalfee } = props.cell.row.original;\r\n                    return formatNumber(additionalfee || 0);\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    const fetchData = () => dispatch(getCollection(billingArtificialIntelligenceSel(dataMain)));\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_delete) }));\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n                fetchData();\r\n            } else if (executeResult.error) {\r\n                const errormessage = t(executeResult.code || \"error_unexpected_error\", { module: t(langKeys.supportplan).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeResult, waitSave])\r\n\r\n    useEffect(() => {\r\n        setdisableSearch(dataMain.year === \"\")\r\n    }, [dataMain])\r\n\r\n    const handleRegister = () => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: null, edit: true });\r\n    }\r\n\r\n    const handleEdit = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: true });\r\n    }\r\n\r\n    const handleDelete = (row: Dictionary) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingArtificialIntelligenceIns({ ...row, operation: 'DELETE', status: 'ELIMINADO', id: row.billingartificialintelligenceid })));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_delete),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <Fragment>\r\n                <TableZyx\r\n                    onClickRow={handleEdit}\r\n                    columns={columns}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.year)}\r\n                                style={{ width: 150 }}\r\n                                valueDefault={dataMain.year}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, year: value?.value || 0 }))}\r\n                                data={dataYears}\r\n                                optionDesc=\"value\"\r\n                                optionValue=\"value\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.month)}\r\n                                style={{ width: 300 }}\r\n                                valueDefault={dataMain.month}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, month: value.map((o: Dictionary) => o.val).join() }))}\r\n                                data={dataMonths}\r\n                                uset={true}\r\n                                prefixTranslation=\"month_\"\r\n                                optionDesc=\"val\"\r\n                                optionValue=\"val\"\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.billingsetup_provider)}\r\n                                style={{ width: 200 }}\r\n                                valueDefault={dataMain.provider}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, provider: value?.provider || '' }))}\r\n                                data={providerCombo}\r\n                                optionDesc=\"provider\"\r\n                                optionValue=\"provider\"\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.billingsetup_service)}\r\n                                style={{ width: 200 }}\r\n                                valueDefault={dataMain.type}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, type: value?.type || '' }))}\r\n                                data={typeCombo}\r\n                                optionDesc=\"type\"\r\n                                optionValue=\"type\"\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.billingsetup_plan)}\r\n                                style={{ width: 200 }}\r\n                                valueDefault={dataMain.plan}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, plan: value?.description || '' }))}\r\n                                data={planCombo}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"description\"\r\n                            />\r\n                            <Button\r\n                                disabled={mainResult.mainData.loading || disableSearch}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                onClick={() => search()}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={mainResult.mainData.data}\r\n                    filterGeneral={false}\r\n                    download={true}\r\n                    loading={mainResult.mainData.loading}\r\n                    register={true}\r\n                    handleRegister={handleRegister}\r\n                    pageSizeDefault={IDARTIFICIALINTELLIGENCE === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDARTIFICIALINTELLIGENCE === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDARTIFICIALINTELLIGENCE === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailArtificialIntelligence\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n                fetchData={fetchData}\r\n                providerData={providerData}\r\n                planData={planData}\r\n            />\r\n        )\r\n    } else\r\n        return null;\r\n}\r\n\r\nconst DetailArtificialIntelligence: React.FC<DetailArtificialIntelligenceProps> = ({ data: { row, edit }, setViewSelected, fetchData, providerData, planData }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeRes = useSelector(state => state.main.execute);\r\n\r\n    const [datetoshow, setdatetoshow] = useState(row ? `${row.year}-${String(row.month).padStart(2, '0')}` : `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth() + 1).padStart(2, '0')}`)\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const arrayBread = [\r\n        { id: \"view-1\", name: t(langKeys.billingsetup_artificialintelligence) },\r\n        { id: \"view-2\", name: t(langKeys.billingsetup_artificialintelligencedetail) }\r\n    ];\r\n\r\n    const { register, handleSubmit, setValue, getValues, trigger, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            id: row ? row.billingartificialintelligenceid : 0,\r\n            year: row?.year || new Date().getFullYear(),\r\n            month: row?.month || new Date().getMonth() + 1,\r\n            provider: row?.provider || \"\",\r\n            measureunit: row?.measureunit || \"\",\r\n            charlimit: row?.charlimit || 0,\r\n            plan: row?.plan || \"\",\r\n            freeinteractions: row?.freeinteractions || 0,\r\n            basicfee: row?.basicfee || 0.00,\r\n            additionalfee: row?.additionalfee || 0.00,\r\n            status: row ? row.status : 'ACTIVO',\r\n            type: row ? row.type : '',\r\n            description: row ? row.description : '',\r\n            operation: row ? \"UPDATE\" : \"INSERT\",\r\n        }\r\n    });\r\n\r\n    function handleDateChange(e: any) {\r\n        if (e !== \"\") {\r\n            let datetochange = new Date(e + \"-02\");\r\n            let mes = datetochange?.getMonth() + 1;\r\n            let year = datetochange?.getFullYear();\r\n            setdatetoshow(`${year}-${String(mes).padStart(2, '0')}`);\r\n            setValue('year', year);\r\n            setValue('month', mes);\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        register('id');\r\n        register('year');\r\n        register('month');\r\n        register('provider', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('measureunit', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('charlimit');\r\n        register('plan', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('freeinteractions', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('basicfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('additionalfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('status');\r\n        register('type');\r\n        register('description', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('operation');\r\n    }, [edit, register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(row ? langKeys.successful_edit : langKeys.successful_register) }))\r\n                fetchData && fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\")\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.billingsetup_artificialintelligence).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingArtificialIntelligenceIns(data)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true)\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    function handleServiceChange(data: any) {\r\n        if (data) {\r\n            setValue(\"provider\", data.provider || '');\r\n            setValue(\"type\", data.type || '');\r\n            setValue(\"charlimit\", data.charlimit || 0);\r\n            setValue(\"measureunit\", data.measureunit || '');\r\n        }\r\n        else {\r\n            setValue(\"provider\", '');\r\n            setValue(\"type\", '');\r\n            setValue(\"charlimit\", 0);\r\n            setValue(\"measureunit\", '');\r\n        }\r\n\r\n        trigger(\"provider\");\r\n        trigger(\"type\");\r\n        trigger(\"measureunit\");\r\n    }\r\n\r\n    function handlePlanChange(data: any) {\r\n        if (data) {\r\n            setValue(\"plan\", data.description || '');\r\n            setValue(\"freeinteractions\", data.freeinteractions || 0);\r\n            setValue(\"basicfee\", data.basicfee || 0.00);\r\n            setValue(\"additionalfee\", data.additionalfee || 0.00);\r\n        }\r\n        else {\r\n            setValue(\"plan\", '');\r\n            setValue(\"freeinteractions\", 0);\r\n            setValue(\"basicfee\", 0.00);\r\n            setValue(\"additionalfee\", 0.00);\r\n        }\r\n\r\n        trigger(\"plan\");\r\n        trigger(\"freeinteractions\");\r\n        trigger(\"basicfee\");\r\n        trigger(\"additionalfee\");\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={arrayBread}\r\n                            handleClick={setViewSelected}\r\n                        />\r\n                        <TitleDetail\r\n                            title={row ? `${row.provider} - ${row.type}` : t(langKeys.billingsetup_artificialintelligencenew)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {edit &&\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                startIcon={<SaveIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.save)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.description)}\r\n                            onChange={(value) => setValue('description', value)}\r\n                            valueDefault={getValues('description')}\r\n                            error={errors?.description?.message}\r\n                            className=\"col-6\"\r\n                        />\r\n                        <TextField\r\n                            id=\"date\"\r\n                            className=\"col-6\"\r\n                            type=\"month\"\r\n                            variant=\"outlined\"\r\n                            onChange={(e) => handleDateChange(e.target.value)}\r\n                            value={datetoshow}\r\n                            size=\"small\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.billingsetup_ai)}\r\n                            className=\"col-6\"\r\n                            valueDefault={`${getValues('type')} - ${getValues('provider')}`}\r\n                            onChange={(value) => { handleServiceChange(value) }}\r\n                            error={errors?.type?.message}\r\n                            data={providerData?.filter((v: { type: any; provider: any; }, i: any, a: any[]) => a.findIndex((v2: { type: any; provider: any; }) => (v.type === v2.type && v.provider === v2.provider)) === i)}\r\n                            optionDesc=\"typeprovider\"\r\n                            optionValue=\"typeprovider\"\r\n                            orderbylabel={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_provider)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('provider')}\r\n                            error={errors?.provider?.message}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_service)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('type')}\r\n                            error={errors?.type?.message}\r\n                            disabled={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.type)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('type')}\r\n                            error={errors?.type?.message}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_measureunit)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('measureunit')}\r\n                            error={errors?.measureunit?.message}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.billingsetup_plan)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('plan')}\r\n                            onChange={(value) => { handlePlanChange(value) }}\r\n                            error={errors?.plan?.message}\r\n                            data={planData}\r\n                            optionDesc=\"description\"\r\n                            optionValue=\"description\"\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_minimuminteractions)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('freeinteractions')}\r\n                            onChange={(value) => setValue('freeinteractions', value)}\r\n                            error={errors?.freeinteractions?.message}\r\n                            type=\"number\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_baseprice)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('basicfee')}\r\n                            onChange={(value) => setValue('basicfee', value)}\r\n                            error={errors?.basicfee?.message}\r\n                            type=\"number\"\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_additionalprice)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('additionalfee')}\r\n                            onChange={(value) => setValue('additionalfee', value)}\r\n                            error={errors?.additionalfee?.message}\r\n                            type=\"number\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst IDSUPPORTPLAN = 'IDSUPPORTPLAN';\r\nconst SupportPlan: React.FC<{ dataPlan: any }> = ({ dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeResult = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        plan: \"\",\r\n        year: String(new Date().getFullYear()),\r\n        month: (new Date().getMonth() + 1).toString().padStart(2, \"0\")\r\n    });\r\n\r\n    const [disableSearch, setdisableSearch] = useState(false);\r\n    const [duplicateop, setduplicateop] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    function search() {\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getCollection(getBillingSupportSel(dataMain)))\r\n    }\r\n\r\n    useEffect(() => {\r\n        search()\r\n        dispatch(setMemoryTable({\r\n            id: IDSUPPORTPLAN\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.mainData.loading) {\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [mainResult])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                accessor: 'billingsupportid',\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return (\r\n                        <TemplateIcons\r\n                            deleteFunction={() => handleDelete(row)}\r\n                            editFunction={() => handleEdit(row)}\r\n                        //viewFunction={() => handleView(row)} //esta es la funcion de duplicar\r\n                        //extraOption={t(langKeys.duplicate)}\r\n                        />\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.year),\r\n                accessor: 'year',\r\n            },\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'month',\r\n            },\r\n            {\r\n                Header: t(langKeys.supportplan),\r\n                accessor: 'plan',\r\n            },\r\n            {\r\n                Header: t(langKeys.supportprice),\r\n                accessor: 'basicfee',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { basicfee } = props.cell.row.original;\r\n                    return formatNumber(basicfee || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.starttime),\r\n                accessor: 'starttime',\r\n            },\r\n            {\r\n                Header: t(langKeys.finishtime),\r\n                accessor: 'finishtime',\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    const fetchData = () => dispatch(getCollection(getBillingSupportSel(dataMain)));\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                if (duplicateop) {\r\n                    setduplicateop(false)\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_duplicate) }))\r\n                } else {\r\n\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_delete) }))\r\n                }\r\n                fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            } else if (executeResult.error) {\r\n                const errormessage = t(executeResult.code || \"error_unexpected_error\", { module: t(langKeys.supportplan).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeResult, waitSave])\r\n\r\n    useEffect(() => {\r\n        setdisableSearch(dataMain.year === \"\")\r\n    }, [dataMain])\r\n\r\n    const handleRegister = () => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: null, edit: true });\r\n    }\r\n\r\n    const handleEdit = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: true });\r\n    }\r\n\r\n    const handleDelete = (row: Dictionary) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingSupportIns({ ...row, operation: 'DELETE', status: 'ELIMINADO', id: row.billingsupportid })));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_delete),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <Fragment>\r\n                <TableZyx\r\n                    onClickRow={handleEdit}\r\n                    columns={columns}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.year)}\r\n                                style={{ width: 150 }}\r\n                                valueDefault={dataMain.year}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, year: value?.value || 0 }))}\r\n                                data={dataYears}\r\n                                optionDesc=\"value\"\r\n                                optionValue=\"value\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.month)}\r\n                                style={{ width: 300 }}\r\n                                valueDefault={dataMain.month}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, month: value.map((o: Dictionary) => o.val).join() }))}\r\n                                data={dataMonths}\r\n                                uset={true}\r\n                                prefixTranslation=\"month_\"\r\n                                optionDesc=\"val\"\r\n                                optionValue=\"val\"\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.supportplan)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.plan}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, plan: value?.description || \"\" }))}\r\n                                data={dataPlan}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"description\"\r\n                                orderbylabel={true}\r\n                            />\r\n\r\n                            <Button\r\n                                disabled={mainResult.mainData.loading || disableSearch}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                onClick={() => search()}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={mainResult.mainData.data}\r\n                    filterGeneral={false}\r\n                    download={true}\r\n                    loading={mainResult.mainData.loading}\r\n                    register={true}\r\n                    handleRegister={handleRegister}\r\n                    pageSizeDefault={IDSUPPORTPLAN === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDSUPPORTPLAN === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDSUPPORTPLAN === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailSupportPlan\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n                fetchData={fetchData}\r\n                dataPlan={dataPlan}\r\n            />\r\n        )\r\n    } else\r\n        return null;\r\n}\r\n\r\nconst DetailSupportPlan: React.FC<DetailSupportPlanProps> = ({ data: { row, edit }, setViewSelected, fetchData, dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeRes = useSelector(state => state.main.execute);\r\n\r\n    const [datetoshow, setdatetoshow] = useState(\r\n        row ? `${row.year}-${String(row.month).padStart(2, '0')}` : `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth() + 1).padStart(2, '0')}`\r\n    )\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const arrayBread = [\r\n        { id: \"view-1\", name: t(langKeys.supportplan) },\r\n        { id: \"view-2\", name: t(langKeys.supportplandetail) }\r\n    ];\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            id: row ? row.billingsupportid : 0,\r\n            startdate: row?.startdate || new Date(new Date().setDate(1)),\r\n            enddate: row?.enddate || new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\r\n            year: row?.year || new Date().getFullYear(),\r\n            month: row?.month || new Date().getMonth() + 1,\r\n            plan: row?.plan || \"\",\r\n            basicfee: row?.basicfee || 0,\r\n            starttime: row?.starttime || new Date().getTime(),\r\n            finishtime: row?.finishtime || new Date().getTime(),\r\n            status: row ? row.status : 'ACTIVO',\r\n            type: row ? row.type : '',\r\n            description: row ? row.description : '',\r\n            operation: row ? \"UPDATE\" : \"INSERT\",\r\n        }\r\n    });\r\n\r\n    function handleDateChange(e: any) {\r\n        if (e !== \"\") {\r\n            let datetochange = new Date(e + \"-02\")\r\n            let mes = datetochange?.getMonth() + 1\r\n            let year = datetochange?.getFullYear()\r\n            let startdate = new Date(year, mes - 1, 1)\r\n            let enddate = new Date(year, mes, 0)\r\n            setValue('startdate', startdate)\r\n            setValue('enddate', enddate)\r\n            setdatetoshow(`${year}-${String(mes).padStart(2, '0')}`)\r\n            setValue('year', year)\r\n            setValue('month', mes)\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        register('id');\r\n        register('type');\r\n        register('status');\r\n        register('year');\r\n        register('month');\r\n        register('operation');\r\n        register('description', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('plan', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('basicfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('starttime', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('finishtime', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n    }, [edit, register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(row ? langKeys.successful_edit : langKeys.successful_register) }))\r\n                fetchData && fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\")\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.supportplan).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingSupportIns(data)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true)\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={arrayBread}\r\n                            handleClick={setViewSelected}\r\n                        />\r\n                        <TitleDetail\r\n                            title={row ? `${row.description}` : t(langKeys.newsupportplan)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {edit &&\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                startIcon={<SaveIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.save)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.description)}\r\n                            onChange={(value) => setValue('description', value)}\r\n                            valueDefault={getValues('description')}\r\n                            error={errors?.description?.message}\r\n                            className=\"col-6\"\r\n                        />\r\n                        <TextField\r\n                            id=\"date\"\r\n                            className=\"col-6\"\r\n                            type=\"month\"\r\n                            variant=\"outlined\"\r\n                            onChange={(e) => handleDateChange(e.target.value)}\r\n                            value={datetoshow}\r\n                            size=\"small\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label=\"Plan\"\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues(\"plan\")}\r\n                            onChange={(value) => setValue('plan', value?.description)}\r\n                            data={dataPlan}\r\n                            optionDesc=\"description\"\r\n                            optionValue=\"description\"\r\n                            error={errors?.plan?.message}\r\n                            orderbylabel={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.supportprice)}\r\n                            onChange={(value) => setValue('basicfee', value)}\r\n                            valueDefault={getValues('basicfee')}\r\n                            error={errors?.basicfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            type=\"time\"\r\n                            label={t(langKeys.starttime)}\r\n                            error={errors?.starttime?.message}\r\n                            className=\"col-6\"\r\n                            onChange={(value) => setValue('starttime', value)}\r\n                            valueDefault={getValues(\"starttime\")}\r\n                        />\r\n                        <FieldEdit\r\n                            type=\"time\"\r\n                            label={t(langKeys.finishtime)}\r\n                            error={errors?.finishtime?.message}\r\n                            className=\"col-6\"\r\n                            onChange={(value) => setValue('finishtime', value)}\r\n                            valueDefault={getValues(\"finishtime\")}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst IDMESSAGINGCOST = 'IDMESSAGINGCOST';\r\nconst MessagingCost: React.FC<{ dataPlan: any }> = ({ dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const executeResult = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        countrycode: \"\",\r\n        year: String(new Date().getFullYear()),\r\n        month: (new Date().getMonth() + 1).toString().padStart(2, \"0\")\r\n    });\r\n\r\n    const [disableSearch, setdisableSearch] = useState(false);\r\n    const [duplicateop, setduplicateop] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    function search() {\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getCollection(getBillingMessagingSel(dataMain)))\r\n    }\r\n\r\n    useEffect(() => {\r\n        setdisableSearch(dataMain.year === \"\")\r\n    }, [dataMain])\r\n\r\n    useEffect(() => {\r\n        search()\r\n        dispatch(setMemoryTable({\r\n            id: IDMESSAGINGCOST\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.mainData.loading) {\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [mainResult])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                accessor: 'billingmessagingid',\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return (\r\n                        <TemplateIcons\r\n                            deleteFunction={() => handleDelete(row)}\r\n                            editFunction={() => handleEdit(row)}\r\n                        //viewFunction={() => handleView(row)} //esta es la funcion de duplicar\r\n                        //extraOption={t(langKeys.duplicate)}\r\n                        />\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.year),\r\n                accessor: 'year',\r\n            },\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'month',\r\n            },\r\n            {\r\n                Header: t(langKeys.pricepersms),\r\n                accessor: 'pricepersms',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { pricepersms } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(pricepersms || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.vcacomissionpersms),\r\n                accessor: 'vcacomissionpersms',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { vcacomissionpersms } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(vcacomissionpersms || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.pricepermail),\r\n                accessor: 'pricepermail',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { pricepermail } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(pricepermail || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.vcacomissionpermail),\r\n                accessor: 'vcacomissionpermail',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { vcacomissionpermail } = props.cell.row.original;\r\n                    return formatNumberFourDecimals(vcacomissionpermail || 0);\r\n                }\r\n            }\r\n        ],\r\n        []\r\n    );\r\n\r\n    const fetchData = () => dispatch(getCollection(getBillingMessagingSel(dataMain)));\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                if (duplicateop) {\r\n                    setduplicateop(false)\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_duplicate) }))\r\n                } else {\r\n\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_delete) }))\r\n                }\r\n                fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            } else if (executeResult.error) {\r\n                const errormessage = t(executeResult.code || \"error_unexpected_error\", { module: t(langKeys.messagingcost).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeResult, waitSave])\r\n\r\n    const handleRegister = () => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: null, edit: true });\r\n    }\r\n\r\n    const handleEdit = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: true });\r\n    }\r\n\r\n    const handleDelete = (row: Dictionary) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingMessagingIns({ ...row, operation: 'DELETE', status: 'ELIMINADO', id: row.billingmessagingid })));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_delete),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <Fragment>\r\n                <TableZyx\r\n                    onClickRow={handleEdit}\r\n                    columns={columns}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.year)}\r\n                                style={{ width: 150 }}\r\n                                valueDefault={dataMain.year}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, year: value?.value || 0 }))}\r\n                                data={dataYears}\r\n                                optionDesc=\"value\"\r\n                                optionValue=\"value\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.month)}\r\n                                style={{ width: 300 }}\r\n                                valueDefault={dataMain.month}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, month: value.map((o: Dictionary) => o.val).join() }))}\r\n                                data={dataMonths}\r\n                                uset={true}\r\n                                prefixTranslation=\"month_\"\r\n                                optionDesc=\"val\"\r\n                                optionValue=\"val\"\r\n                            />\r\n                            <Button\r\n                                disabled={mainResult.mainData.loading || disableSearch}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                onClick={() => search()}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={mainResult.mainData.data}\r\n                    filterGeneral={false}\r\n                    download={true}\r\n                    loading={mainResult.mainData.loading}\r\n                    register={true}\r\n                    handleRegister={handleRegister}\r\n                    pageSizeDefault={IDMESSAGINGCOST === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDMESSAGINGCOST === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDMESSAGINGCOST === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailMessagingCost\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n                fetchData={fetchData}\r\n                dataPlan={dataPlan}\r\n            />\r\n        )\r\n    } else\r\n        return null;\r\n}\r\n\r\nconst DetailMessagingCost: React.FC<DetailSupportPlanProps> = ({ data: { row, edit }, setViewSelected, fetchData, dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeRes = useSelector(state => state.main.execute);\r\n\r\n    const [datetoshow, setdatetoshow] = useState(\r\n        row ? `${row.year}-${String(row.month).padStart(2, '0')}` : `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth() + 1).padStart(2, '0')}`\r\n    )\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const arrayBreadConversationCost = [\r\n        { id: \"view-1\", name: t(langKeys.messagingcost) },\r\n        { id: \"view-2\", name: t(langKeys.messagingcostdetail) }\r\n    ];\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            id: row ? row.billingmessagingid : 0,\r\n            year: row?.year || new Date().getFullYear(),\r\n            month: row?.month || new Date().getMonth() + 1,\r\n            pricepersms: row?.pricepersms || 0.0,\r\n            vcacomissionpersms: row?.vcacomissionpersms || 0.0,\r\n            pricepermail: row?.pricepermail || 0.0,\r\n            vcacomissionpermail: row?.vcacomissionpermail || 0.0,\r\n            description: row?.description || \"\",\r\n            status: row ? row.status : 'ACTIVO',\r\n            type: row ? row.type : '',\r\n            operation: row ? \"UPDATE\" : \"INSERT\",\r\n        }\r\n    });\r\n\r\n    function handleDateChange(e: any) {\r\n        if (e !== \"\") {\r\n            let datetochange = new Date(e + \"-02\")\r\n            let mes = datetochange?.getMonth() + 1\r\n            let year = datetochange?.getFullYear()\r\n            setdatetoshow(`${year}-${String(mes).padStart(2, '0')}`)\r\n            setValue('year', year)\r\n            setValue('month', mes)\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        register('id');\r\n        register('year');\r\n        register('month');\r\n        register('pricepersms', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('vcacomissionpersms', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('pricepermail', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('vcacomissionpermail', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('description', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('status');\r\n        register('type');\r\n        register('operation');\r\n    }, [edit, register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(row ? langKeys.successful_edit : langKeys.successful_register) }))\r\n                fetchData && fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\")\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.messagingcost).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(execute(billingMessagingIns(data)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true)\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={arrayBreadConversationCost}\r\n                            handleClick={setViewSelected}\r\n                        />\r\n                        <TitleDetail\r\n                            title={row ? `${row.description}` : t(langKeys.newmessagingplan)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {edit &&\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                startIcon={<SaveIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.save)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        <TextField\r\n                            id=\"date\"\r\n                            className=\"col-6\"\r\n                            type=\"month\"\r\n                            variant=\"outlined\"\r\n                            onChange={(e) => handleDateChange(e.target.value)}\r\n                            value={datetoshow}\r\n                            size=\"small\"\r\n                        />\r\n                        <FieldEdit\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.description)}\r\n                            onChange={(value) => setValue('description', value)}\r\n                            valueDefault={getValues('description')}\r\n                            error={errors?.description?.message}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            label=''\r\n                            value={t(langKeys.smssection)}\r\n                            className={classes.section}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.pricepersms)}\r\n                            onChange={(value) => setValue('pricepersms', value)}\r\n                            valueDefault={getValues('pricepersms')}\r\n                            error={errors?.pricepersms?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.vcacomissionpersms)}\r\n                            onChange={(value) => setValue('vcacomissionpersms', value)}\r\n                            valueDefault={getValues('vcacomissionpersms')}\r\n                            error={errors?.vcacomissionpersms?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            label=''\r\n                            value={'*' + t(langKeys.messagingcostsmsnote)}\r\n                            className={classes.commentary}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            label=''\r\n                            value={t(langKeys.mailsection)}\r\n                            className={classes.section}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.pricepermail)}\r\n                            onChange={(value) => setValue('pricepermail', value)}\r\n                            valueDefault={getValues('pricepermail')}\r\n                            error={errors?.pricepermail?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.vcacomissionpermail)}\r\n                            onChange={(value) => setValue('vcacomissionpermail', value)}\r\n                            valueDefault={getValues('vcacomissionpermail')}\r\n                            error={errors?.vcacomissionpermail?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst BillingSetup: FC = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const countryListreq = useSelector(state => state.signup.countryList);\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [providerList, setProviderList] = useState<any>([]);\r\n    const [planList, setPlanList] = useState<any>([]);\r\n    const [countryList, setcountryList] = useState<any>([]);\r\n    const [dataPaymentPlan, setdataPaymentPlan] = useState<any>([]);\r\n    const [dataPlan, setdataPlan] = useState<any>([]);\r\n    const [pageSelected, setPageSelected] = useState(user?.roledesc === \"SUPERADMIN\" ? 0 : 6);\r\n    const [sentfirstinfo, setsentfirstinfo] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!multiData.loading && sentfirstinfo) {\r\n            setsentfirstinfo(false);\r\n            setdataPlan(multiData.data[0] && multiData.data[0].success ? multiData.data[0].data : []);\r\n            setdataPaymentPlan(multiData.data[3] && multiData.data[3].success ? multiData.data[3].data : []);\r\n            setPlanList(multiData.data[4] && multiData.data[4].success ? multiData.data[4].data : []);\r\n            setProviderList(multiData.data[5] && multiData.data[5].success ? multiData.data[5].data : []);\r\n        }\r\n    }, [multiData])\r\n\r\n    useEffect(() => {\r\n        if (!countryListreq.loading && countryListreq.data.length) {\r\n            setcountryList(countryListreq.data);\r\n        }\r\n    }, [countryListreq])\r\n\r\n    useEffect(() => {\r\n        setsentfirstinfo(true)\r\n        dispatch(getCountryList())\r\n        dispatch(getMultiCollection([\r\n            getPlanSel(),\r\n            getOrgSelList(0),\r\n            getCorpSel(0),\r\n            getPaymentPlanSel(),\r\n            artificialIntelligencePlanSel({ description: '' }),\r\n            artificialIntelligenceServiceSel({ provider: '', service: '' }),\r\n        ]));\r\n    }, [])\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <Tabs\r\n                value={pageSelected}\r\n                indicatorColor=\"primary\"\r\n                variant=\"fullWidth\"\r\n                style={{ borderBottom: '1px solid #EBEAED', backgroundColor: '#FFF', marginTop: 8 }}\r\n                textColor=\"primary\"\r\n                onChange={(_, value) => setPageSelected(value)}\r\n            >\r\n                {user?.roledesc === \"SUPERADMIN\" &&\r\n                    <AntTab label={t(langKeys.billingsetupgeneralconfiguration)} />\r\n                }\r\n                {user?.roledesc === \"SUPERADMIN\" &&\r\n                    <AntTab label={t(langKeys.contractedplanbyperiod)} />\r\n                }\r\n                {user?.roledesc === \"SUPERADMIN\" &&\r\n                    <AntTab label={t(langKeys.conversationcost)} />\r\n                }\r\n                {user?.roledesc === \"SUPERADMIN\" &&\r\n                    <AntTab label={t(langKeys.billingsetup_artificialintelligence)} />\r\n                }\r\n                {user?.roledesc === \"SUPERADMIN\" &&\r\n                    <AntTab label={t(langKeys.messagingcost)} />\r\n                }\r\n                {user?.roledesc === \"SUPERADMIN\" &&\r\n                    <AntTab label={t(langKeys.supportplan)} />\r\n                }\r\n            </Tabs>\r\n            {pageSelected === 0 &&\r\n                <div style={{ marginTop: 16 }}>\r\n                    <GeneralConfiguration dataPlan={countryList} />\r\n                </div>\r\n            }\r\n            {pageSelected === 1 &&\r\n                <div style={{ marginTop: 16 }}>\r\n                    <ContractedPlanByPeriod dataPlan={dataPaymentPlan} />\r\n                </div>\r\n            }\r\n            {pageSelected === 2 &&\r\n                <div style={{ marginTop: 16 }}>\r\n                    <ConversationCost dataPlan={countryList} />\r\n                </div>\r\n            }\r\n            {pageSelected === 3 &&\r\n                <div style={{ marginTop: 16 }}>\r\n                    <ArtificialIntelligence planData={planList} providerData={providerList} />\r\n                </div>\r\n            }\r\n            {pageSelected === 4 &&\r\n                <div style={{ marginTop: 16 }}>\r\n                    <MessagingCost dataPlan={countryList} />\r\n                </div>\r\n            }\r\n            {pageSelected === 5 &&\r\n                <div style={{ marginTop: 16 }}>\r\n                    <SupportPlan dataPlan={dataPlan} />\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BillingSetup;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","import { IActionCall, IRequestBody } from \"@types\";\r\nimport { ChannelsService } from \"network\";\r\nimport actionTypes from \"./actionTypes\";\r\n\r\nexport const getChannelsListSub = (accessToken: String, appId: String): IActionCall => ({\r\n    callAPI: () => ChannelsService.getPagelistSub(accessToken, appId),\r\n    types: {\r\n        loading: actionTypes.PAGELIST,\r\n        success: actionTypes.PAGELIST_SUCCESS,\r\n        failure: actionTypes.PAGELIST_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const executeSubscription = (requestBody: IRequestBody): IActionCall => ({\r\n    callAPI: () => ChannelsService.execSub(requestBody),\r\n    types: {\r\n        loading: actionTypes.SIGNUP,\r\n        success: actionTypes.SIGNUP_SUCCESS,\r\n        failure: actionTypes.SIGNUP_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const validatechannels = (requestBody: IRequestBody): IActionCall => ({\r\n    callAPI: () => ChannelsService.valChannels(requestBody),\r\n    types: {\r\n        loading: actionTypes.VALCHANNELS,\r\n        success: actionTypes.VALCHANNELS_SUCCESS,\r\n        failure: actionTypes.VALCHANNELS_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const executeCheckNewUser = (requestBody: IRequestBody): IActionCall => ({\r\n    callAPI: () => ChannelsService.validateNewUser(requestBody),\r\n    types: {\r\n        loading: actionTypes.ISVALID,\r\n        success: actionTypes.ISVALID_SUCCESS,\r\n        failure: actionTypes.ISVALID_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const verifyPlan = (accessToken: String): IActionCall => ({\r\n    callAPI: () => ChannelsService.vrfplan(accessToken),\r\n    types: {\r\n        loading: actionTypes.VERIFYPLAN,\r\n        success: actionTypes.VERIFYPLAN_SUCCESS,\r\n        failure: actionTypes.VERIFYPLAN_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetGetChannelsListSub = (): IActionCall => ({type: actionTypes.PAGELIST_RESET});\r\n\r\nexport const getCurrencyList = (): IActionCall => ({\r\n    callAPI: () => ChannelsService.getCurrencyList(),\r\n    types: {\r\n        loading: actionTypes.CURRENCYLIST,\r\n        success: actionTypes.CURRENCYLIST_SUCCESS,\r\n        failure: actionTypes.CURRENCYLIST_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const getCountryList = (): IActionCall => ({\r\n    callAPI: () => ChannelsService.getCountryList(),\r\n    types: {\r\n        loading: actionTypes.COUNTRYLIST,\r\n        success: actionTypes.COUNTRYLIST_SUCCESS,\r\n        failure: actionTypes.COUNTRYLIST_FAILURE,\r\n    },\r\n    type: null,\r\n});","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');"],"sourceRoot":""}