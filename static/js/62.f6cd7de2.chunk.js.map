{"version":3,"sources":["pages/Invoice.tsx","store/signup/actions.ts","store/culqi/actions.ts","components/fields/CulqiModal.tsx"],"names":["StyledTableCell","withStyles","theme","head","backgroundColor","color","palette","common","white","body","fontSize","TableCell","StyledTableRow","TableRow","getTaxableAmount","igv","num","toFixed","replace","getIgv","toISOLocalString","date","z","n","slice","off","getTimezoneOffset","sign","Math","abs","Date","getTime","toISOString","useStyles","makeStyles","title","text","primary","fieldView","container","display","flexWrap","gap","containerField","borderRadius","spacing","flex","flexDirection","border","padding","titleCard","fontWeight","button","textTransform","buttoncomments","imgContainer","width","height","alignItems","justifyContent","img","paddingTop","icon","cursor","main","containerDetail","marginTop","background","fieldsfilter","transparent","commentary","fontStyle","section","CssPhonemui","styled","MuiPhoneNumber","borderBottomColor","borderColor","IDCOSTPERPERIOD","CostPerPeriod","dataCorp","dataOrg","dataPaymentPlan","dataPlan","dispatch","useDispatch","t","useTranslation","classes","executeResult","useSelector","state","execute","mainResult","memoryTable","user","login","validateToken","useState","billingplan","corpid","month","getMonth","toString","padStart","orgid","supportplan","year","String","getFullYear","dataMain","setdataMain","disableSearch","setdisableSearch","row","edit","rowSelected","setRowSelected","viewSelected","setViewSelected","waitCalculate","setWaitCalculate","waitSave","setWaitSave","search","showBackdrop","getCollection","getBillingPeriodSel","useEffect","setMemoryTable","id","cleanMemoryTable","mainData","loading","columns","React","useMemo","Header","langKeys","corporation","accessor","partner","organization","contractedplan","taxableamount","type","sortType","Cell","props","cell","original","formatNumber","totalcharge","uniquecontacts","clientquantity","formatNumberNoDecimals","conversation_plural","conversationquantity","interaction_plural","interactionquantity","supervisor_plural","supervisorquantity","agent_plural","asesorquantity","fetchData","error","errormessage","code","module","toLocaleLowerCase","showSnackbar","show","severity","message","successful_calculate","successful_delete","onClickRow","ButtonsElement","style","label","valueDefault","variant","onChange","value","prev","data","dataYears","optionDesc","optionValue","map","o","val","join","dataMonths","uset","prefixTranslation","className","disabled","includes","roledesc","orderbylabel","filter","e","plan","description","startIcon","onClick","filterGeneral","download","register","calculate","handleCalculate","manageConfirmation","visible","question","confirmation_calculate","callback","getBillingPeriodCalcRefreshAll","parseInt","pageSizeDefault","pageSize","initialPageIndex","page","initialStateFilter","Object","entries","filters","undefined","DetailCostPerPeriod","auxRes","mainAux","executeRes","multiRes","multiData","allIndex","setAllIndex","canEdit","setCanEdit","channelcreateoverride","checkedChannel","setCheckedChannel","usercreateoverride","checkedUser","setCheckedUser","dataArtificialBilling","setDataArtificialBilling","dataArtificialIntelligence","setDataArtificialIntelligence","dataArtificialIntelligenceDelete","setDataArtificialIntelligenceDelete","pageSelected","setPageSelected","triggerSave","setTriggerSave","waitAiBilling","setWaitAiBilling","arrayBreadCostPerPeriod","name","costperperiod","costperperioddetail","array","index","forEach","allOk","success","getPeriodArtificialIntelligence","getCollectionAux","billingPeriodArtificialIntelligenceSel","provider","getMultiCollection","billingArtificialIntelligenceSel","invoicestatus","paymentstatus","useForm","defaultValues","additionalservicefee1","additionalservicefee2","additionalservicefee3","additionalservicename1","additionalservicename2","additionalservicename3","basicfee","callchannelcost","callothercost","callphonecost","callpubliccost","callrecordingcost","callvoipcost","channelcharge","channelfreequantity","channelothercharge","channelotherfee","channelotherquantity","channelwhatsappcharge","channelwhatsappfee","channelwhatsappquantity","clientadditionalcharge","clientadditionalfee","clientfreequantity","conversationclientwhatcharge","conversationclientwhatfee","conversationclientwhatfreequantity","conversationclientwhatquantity","conversationcompanywhatcharge","conversationcompanywhatfee","conversationcompanywhatfreequantity","conversationcompanywhatquantity","conversationwhatcharge","corpdesc","force","freewhatsappchannel","freewhatsappconversations","mailcost","mailquantity","minimummailquantity","minimumsmsquantity","orgdesc","smscost","smsquantity","supportbasicfee","unitepricepermail","unitpricepersms","useradditionalcharge","useradditionalfee","userfreequantity","userquantity","vcacomissionperconversation","vcacomissionperhsm","vcacomissionpermail","vcacomissionpersms","vcacomissionpervoicechannel","voximplantcallothercost","voximplantcallothervcacost","voximplantcallphonecost","voximplantcallphonevcacost","voximplantcallpubliccost","voximplantcallpublicvcacost","voximplantcallrecordingcost","voximplantcallrecordingvcacost","voximplantcallvoipcost","voximplantcallvoipvcacost","handleSubmit","setValue","getValues","errors","formState","validate","parseFloat","field_required","length","successful_edit","successful_register","some","x","self","findIndex","status","aiduplicatealert","confirmation_save","dataArtificialInsert","object","header","billingPeriodUpd","detail","billingPeriodArtificialIntelligenceInsArray","onSubmit","handleDelete","operation","p","filterDataArtificialIntelligence","i","breadcrumbs","handleClick","neworganization","back","save","indicatorColor","borderBottom","textColor","_","generalinformation","agents_plural","channel_plural","contact_plural","messaging","billingperiodvoice","billingsetup_ai","contractedsupportplan","costbasedonthecontractedplan","inputProps","step","costbasedonthesupportplan","numberofagentshired","numberofactiveadvisers","numberofactivesupervisors","numberofactiveagents","paddingBottom","lineHeight","mb","allowuseroverride","paddingLeft","control","checked","target","contractedplanchannelotherfee","formatNumberFourDecimals","contractedplanfreewhatsappchannel","reportfreeconversations","allowchanneloverride","marginBottom","aitotalcost","totalaicost","aicost","aiquantity","addnewai","ListItemSkeleton","item","DetailArtificialIntelligence","updateRecords","preData","intelligenceData","typeprovider","additionalservicename","additionalservicefee","trigger","reset","updatefield","field","itmp","a","measureunit","charlimit","freeinteractions","additionalfee","defaultExpanded","expandIcon","newai","aiservice","billingsetup_provider","billingsetup_service","billingsetup_plan","billingsetup_measureunit","billingsetup_minimuminteractions","billingsetup_baseprice","billingsetup_additionalprice","quantity","textAlign","delete","paddingRight","flexGrow","direction","sm","xl","xs","md","lg","margin","PeriodReport","customSearch","executeCalculate","resExportData","exportData","resultPdf","culqi","requestReportPdf","datetoshow","setDate","totalize","canSearch","setCanSearch","disableOrg","setDisableOrg","datareport","setdatareport","requestType","setRequestType","waitExport","setWaitExport","waitSearch","setWaitSearch","waitPdf","setWaitPdf","el","useRef","datatotalize","getBillingPeriodSummarySel","getBillingPeriodSummarySelCorp","tipification","triggerExportDataHsmHistory","datatype","billingReportHsmHistory","person","window","open","url","datacard","datetochange","mes","handleDateChange","size","intelligenceDetail","artificialintelligencedata","element","push","service","taxrate","reportbody","method","parameters","generalinformationclient","generalinformationplan","generalinformationperiod","basecost1","basecost2","basecost3","basecost4","basecost5","agentcontracted1","agentcontracted2","agentcontracted3","agentcontracted4","agentcontracted5","agentadditional1","useradditionalquantity","agentadditional2","agentadditional3","agentadditional4","agentadditional5","channelcontracted1","channelcontracted2","channelcontracted3","channelcontracted4","channelcontracted5","channelwhatsappfree1","channelwhatsappfree2","channelwhatsappfree3","channelwhatsappfree4","channelwhatsappfree5","channelwhatsapptotal1","channelwhatsapptotal2","channelwhatsapptotal3","channelwhatsapptotal4","channelwhatsapptotal5","channelwhatsappadditional1","channelwhatsappadditional2","channelwhatsappadditional3","channelwhatsappadditional4","channelwhatsappadditional5","channelother1","channelother2","channelother3","channelother4","channelother5","conversationwhatsappfree1","conversationwhatsappfree2","conversationwhatsappfree3","conversationwhatsappfree4","conversationwhatsappfree5","conversationwhatsappclient1","conversationwhatsappclient2","conversationwhatsappclient3","conversationwhatsappclient4","conversationwhatsappclient5","conversationwhatsappbusiness1","conversationwhatsappbusiness2","conversationwhatsappbusiness3","conversationwhatsappbusiness4","conversationwhatsappbusiness5","messagingminimumsms1","messagingminimumsms2","messagingminimumsms3","messagingminimumsms4","messagingminimumsms5","messagingsms1","messagingsms2","messagingsms3","messagingsms4","messagingsms5","messagingminimummail1","messagingminimummail2","messagingminimummail3","messagingminimummail4","messagingminimummail5","messagingmail1","messagingmail2","messagingmail3","messagingmail4","messagingmail5","voicephone1","voicephone2","voicephone3","voicephone4","voicephone5","voicecall1","voicecall2","voicecall3","voicecall4","voicecall5","voicevoip1","voicevoip2","voicevoip3","voicevoip4","voicevoip5","voicerecording1","voicerecording2","voicerecording3","voicerecording4","voicerecording5","voiceothers1","voiceothers2","voiceothers3","voiceothers4","voiceothers5","contactfree1","contactfree2","contactfree3","contactfree4","contactfree5","contacttotal1","contacttotal2","contacttotal3","contacttotal4","contacttotal5","contactadditional1","clientadditionalquantity","contactadditional2","contactadditional3","contactadditional4","contactadditional5","supportplan1","supportplan2","supportplan3","supportplan4","supportplan5","additional01service","additional01service1","additional01service2","additional01service3","additional01service4","additional01service5","additional02service","additional02service1","additional02service2","additional02service3","additional02service4","additional02service5","additional03service","additional03service1","additional03service2","additional03service3","additional03service4","additional03service5","totalamount1","totalamount2","totalamount3","totalamount4","totalamount5","totalcontact","totalconversation","totalinteraction","totalagent","totalsupervisor","intelligencedetail","dataonparameters","template","billingreport_template","reportname","key","reportPdf","handleReportPdf","billingpersonreportsel","report","billinguserreportsel","billingReportConversationWhatsApp","conversationwhatsapp","sms","mail","ref","client","period","component","Paper","overflow","align","billingreportitem","billingreportquantity","billingreportrate","billingreporttaxableamount","billingreporttaxableiva","billingreportamount","basecost","contracted","additional","whatsappfreechannel","whatsappchannel","whatsappadditionalchannel","otherchannels","billingreportconversations","userinitiatedconversations","businessinitiatedconversations","billingreportmessaging","billingreportsms","billingreportmail","periodreportvoice","periodreportphone","periodreportpstn","periodreportvoip","periodreportrecording","periodreportother","billingreportcontacts","freecontacts","billingreporttotalcontacts","billingreportadditionalcontacts","clsx","periodamount","servicedata","clientwhatquantity","billingreport_unique","billingreport_other","billingreport_conversation","billingreport_interaction","billingreport_supervisor","billingreport_agent","billingperiodnotfound","IDPAYMENTS","Payments","setCustomSearch","currency","dataInvoice","setDataInvoice","rowSelect","setRowSelect","waitRefresh","setWaitRefresh","modalRowSelect","setModalRowSelect","modalRowSend","setModalRowSend","dataCurrency","dataPayment","PENDING","PAID","NONE","selInvoiceClient","organization_plural","invoicesuccessfullyvoided","invoicestatuscolumn","paymentstatuscolumn","hasreportcolumn","hasreport","toreport","none","docnumbercolumn","serie","correlative","urlxmlcolumn","urlxml","xmldocumentopen","pendingpayment","urlcdrcolumn","urlcdr","cdrdocumentopen","NoFilter","isComponent","minWidth","showPayButton","showUpdateButton","totalamount","marginRight","pay","confirmation_invoicerefresh","invoiceRefresh","refresh","gotoreport","selectedrow","textDecoration","billingvoucher","urlpdf","docnumber","href","rel","xmldocument","cdrdocument","PaymentsDetail","culqiSelector","request","multiResult","multiDataAux","exchangeRequest","requestGetExchangeRate","cardList","setCardList","comments","setComments","purchaseOrder","setPurchaseOrder","commentsError","setCommentsError","purchaseOrderError","setPurchaseOrderError","paymentDisabled","setPaymentDisabled","publicKey","setPublicKey","showCulqi","setShowCulqi","totalAmount","setTotalAmount","totalPay","setTotalPay","waitPay","setWaitPay","override","setOverride","detractionAlert","setDetractionAlert","detractionAmount","setDetractionAmount","paymentCardId","setPaymentCardId","paymentCardCode","setPaymentCardCode","paymentType","setPaymentType","favoriteCardId","setFavoriteCardId","favoriteCardNumber","setFavoriteCardNumber","favoriteCardCode","setFavoriteCardCode","paymentfavorite","paymentcard","paymentculqi","getAppsettingInvoiceSel","getExchangeRate","getMultiCollectionAux","listPaymentCard","indexCard","favoriteCard","find","favorite","paymentcardid","cardnumber","cardcode","resetCharge","handleCulqiSuccess","error_cos_unexpected","appsetting","country","orgcountry","corpcountry","doctype","orgdoctype","corpdoctype","compareamount","exchangerate","detractionminimum","round","detraction","Number","EPSILON","publickey","paymentBread","payment","paymentdetail","invoiceid","productdescription","amount","callbackOnSuccess","buttontitle","proceedpayment","purchaseorder","successmessage","culqipaysuccess","totalpay","confirmation_payment","charge","settings","token","metadata","paymentcardcode","iscard","paymentmethod","paymentmethodtype","paymentmethodcard","paymentinformation","servicedescription","totaltopay","detractionnotepay1","detractionnotepay2","additional_information","additionalinformation2","validation15char","handlePurchaseOrder","validation150char","handleComments","additionalinformation1","IDBILLING","Billing","insertexcel","setinsertexcel","openModal","setOpenModal","openModalData","setOpenModalData","isCreditNote","setIsCreditNote","isRegularize","setIsRegularize","operationName","setOperationName","waitSaveImport","setwaitSaveImport","selInvoice","getDocumentType","documenttype","getCorpSel","getMeasureUnit","getValuesFromDomain","deleteinvoicesuccess","receiverdoctypecolumn","receiverdoctype","receiverdocnumcolumn","receiverdocnum","receiverbusinessnamecolumn","receiverbusinessname","invoicetypecolumn","getInvoiceType","invoicetype","seriecolumn","extraFunction","handleCreditNote","extraOption","generatecreditnote","deleteFunction","billingclienttype","documentnumber","businessname","invoice_serviceyear","invoice_servicemonth","stopPropagation","invoicedate","expirationdate","taxbase","subtotal","billingtax","taxes","commentcontent","rowdata","substring","openInvoiceComment","seeMore","successful_import","importCSV","files","file","indexCorp","corplist","receiverdoctypeList","invoicetypeList","uploadExcel","d","receiverfiscaladdress","receivercountry","receivermail","keys","reduce","insInvoice","paymentdate","paidby","paymenttype","credittype","cancelinvoice","deleteInvoice","InvoiceCommentModal","onTrigger","handleTemplate","indexOrg","orglist","exportExcel","invoice","templateMaker","handleRegister","registertext","generateinvoice","BillingOperation","creditNote","regularize","BillingRegister","mainAux2","dataInvoiceComment","setDataInvoiceComment","waitLoad","setWaitLoad","contentValidation","setContentValidation","reloadExit","setReloadExit","fields","setFields","getCollectionAux2","selInvoiceComment","invoicecommentid","partialFields","commenttype","commentcaption","invoicecomments","buttonText1","close","handleClickButton1","overflowY","borderStyle","borderWidth","createby","invoiceat","convertLocalDate","createdate","toLocaleString","confirmation_delete","fieldTemporal","insInvoiceComment","handleCommentDelete","new","invoicecomment","required_fields_missing","partialf","culqiResult","requestCreateCreditNote","emitResult","requestEmitInvoice","measureList","setMeasureList","productList","setProductList","showDiscount","setShowDiscount","invocesBread","billingtitle","billinginvoicedetail","datacreditnote","billingcreditnote01","billingcreditnote04","trueinvoiceid","referenceinvoiceid","getInvoiceDetail","productInformationList","productcode","productmeasure","productquantity","productsubtotal","productnetprice","fieldsAppend","indexMeasure","indexProduct","creditnotetype","creditnotemotive","creditnotediscount","productdetail","useFieldArray","append","field_required_shorter","discountvalidmessage","confirmatiom_reemit","confirmation_emit","emitInvoice","createCreditNote","RegularizeModal","billinginvoiceview","reemitinvoice","emitinvoice","regulatepayment","billinginvoicedata","billingadditionalinfo","docType","billingname","dueDate","referenceddocument","referenceserie","referencecorrelative","ticket_reason","getCreditNoteType","globaldiscount","unitaryprice","billingsubtotal","invoiceinformation","errordescription","billingerror","billingusername","changeby","paymentnote","invoicepaymentnote","paymentcommentary","invoicereferencefile","paymentreferenceview","paymentfile","requestRegularizeInvoice","uploadResult","uploadFile","waitUploadFile","setWaitUploadFile","fileAttachment","setFileAttachment","invoicepaymentcommentary","regularizeInvoice","onClickAttachment","useCallback","document","getElementById","click","onChangeAttachment","fd","FormData","handleCleanMediaInput","f","input","split","cancel","buttonText2","handleClickButton2","button2Type","evidenceofpayment","Fragment","accept","FilePreview","src","onClose","useFilePreviewStyles","root","maxWidth","maxHeight","infoContainer","btnContainer","isUrl","getFileName","m","match","getFileExt","pop","toUpperCase","elevation","textOverflow","whiteSpace","requestCreateInvoice","invoicehasreport","appsettingData","setAppsettingData","creditTypeList","setCreditTypeList","corpList","setCorpList","orgList","setOrgList","savedCorp","setSavedCorp","waitOrgLoad","setWaitOrgLoad","waitOrg","setWaitOrg","showInsertMessage","setShowInsertMessage","amountTax","setAmountTax","amountTotal","setAmountTotal","setShowUpdateButton","billinggeneration","corporationdata","getOrgSel","billbyorg","setSubmitData","organizationdata","netamount","onProductChange","indexCreditType","indexAppsetting","clientdoctype","clientdocnumber","clientbusinessname","clientfiscaladdress","clientcountry","clientmail","clientcredittype","invoicecreatedate","setHours","getHours","invoiceduedate","invoicecurrency","invoicetotalamount","invoicepurchaseorder","autosendinvoice","onlyinsert","fieldRemove","remove","billingamountvalidation","docnum","fiscaladdress","sunatcountry","contactemail","getDate","invoiceamount","productDetail","invoiceconfirmation01","invoiceconfirmation02","invoiceconfirmation03","invoiceconfirmation04","invoiceconfirmation05","invoiceconfirmation06","invoiceconfirmation07","invoiceconfirmation08","invoiceconfirmation09","invoiceconfirmation10","invoiceconfirmation11","invoiceconfirmation12","createInvoice","emiteinvoicetitle","saveasdraft","refreshInvoice","clientsearch","billingtypevalidation","onCorpChange","onOrgChange","pendingsave","domainvalue","onCreditTypeChange","marginLeft","fregister","validation250char","IDMESSAGINGPACKAGES","MessagingPackages","dataBalance","setDataBalance","canRegister","setCanRegister","balanceid","operationtype","all","transactionType","HSM","MAIL","SMS","GENERAL","operationType","ENVIO","COMPRA","selBalanceData","typecolumn","descriptioncolumn","operationtypecolumn","messagetemplatedesccolumn","messagetemplatedesc","documenttypecolumn","documentnumbercolumn","transactiondate","transactionmessagetype","transactionreference","transactionbalance","balance","transactionoperationtype","transactionbuy","MessagingPackagesDetail","corp","setCorp","corpError","setCorpError","org","setOrg","orgError","setOrgError","reference","setReference","referenceError","setReferenceError","beforeAmount","setBeforeAmount","afterAmount","setAfterAmount","buyAmount","setBuyAmount","buyAmountError","setBuyAmountError","currentCountry","setCurrentCountry","currentDoctype","setCurrentDoctype","currentBillbyorg","setCurrentBillbyorg","confirmButton","setConfirmButton","disableInput","setDisableInput","messagingList","setMessagingList","priceSms","setPriceSms","priceMail","setPriceMail","priceHsm","setPriceHsm","balanceSent","setBalanceSent","paymentTax","setPaymentTax","getBillingMessagingCurrent","countrycode","getBalanceSelSent","messagetemplateid","indexMessaging","indexSent","resetBalance","companystartfee","vcacomission","pricepersms","pricepermail","updateTotalPay","messagingpackages","messagingpackagesnew","messagingpackagesdetail","transactionconfirm","buyamount","required","handleCorp","handleOrg","handleReference","transactionbuyamount","handleBuyAmount","billingtaxes","transactionlastbalance","transactionafterbalance","transactionrechargetitle","culqiamount","onclick","styles","transactionreceiver","transactioncost","transactiondatetime","receiver","transactionuser","transactioninformation","pricemessagesms","pricemessagemail","pricemessagehsm","pricemessagenote1","pricemessagenote2","pricemessagenote","IDPAYMENTMETHODS","PaymentMethods","deleteRequest","requestCardDelete","executeRequest","dataPaymentMethods","setDataPaymentMethods","waitDelete","setWaitDelete","favoritecolumn","affirmative","negative","msg","markpreferred_success","paymentmethod_preferreddelete","cardDelete","username","usr","confirmation_paymentcard","paymentCardInsert","handleFavorite","markpreferred","name_plural","ticket_lastname","ticket_email","phone","creditcardnumber","preferred","create","PaymentMethodsDetails","createRequest","requestCardCreate","checkedFavorite","setCheckedFavorite","setIcon","datamonth","desc","arrayBreadPaymentMethods","paymentmethodsdetail","emailRequired","test","emailverification","firstname","lastname","securitycode","expirationmonth","expirationyear","cardlimit","alt","creditcardvalidate","cardCreate","paymentmethodnew","addpaymentmethodsub","email","rules","validationphone","render","fullWidth","defaultCountry","helperText","creditcard","defaultValue","onPaste","preventDefault","spaces","floor","partialvalue","trim","onInput","InputProps","endAdornment","maxLength","finishregwarn","finishregwarn2","Invoice","setDataCorp","setDataOrg","setDataPaymentPlan","setDataPlan","sentFirstInfo","setSentFirstInfo","getCountryList","getPlanSel","getOrgSelList","getPaymentPlanSel","getCorpSelVariant","periodreport","payments","paymentmethods","executeSubscription","requestBody","callAPI","ChannelsService","execSub","types","actionTypes","SIGNUP","SIGNUP_SUCCESS","failure","SIGNUP_FAILURE","executeCheckNewUser","validateNewUser","ISVALID","ISVALID_SUCCESS","ISVALID_FAILURE","verifyPlan","accessToken","vrfplan","VERIFYPLAN","VERIFYPLAN_SUCCESS","VERIFYPLAN_FAILURE","getCurrencyList","CURRENCYLIST","CURRENCYLIST_SUCCESS","CURRENCYLIST_FAILURE","COUNTRYLIST","COUNTRYLIST_SUCCESS","COUNTRYLIST_FAILURE","CulqiService","CHARGE","CHARGE_SUCCESS","CHARGE_FAILURE","CHARGE_RESET","BALANCE","BALANCE_SUCCESS","BALANCE_FAILURE","BALANCE_RESET","paymentOrder","PAYMENTORDER","PAYMENTORDER_SUCCESS","PAYMENTORDER_FAILURE","resetPaymentOrder","PAYMENTORDER_RESET","subscribe","SUBSCRIBE","SUBSCRIBE_SUCCESS","SUBSCRIBE_FAILURE","resetSubscribe","SUBSCRIBE_RESET","CREATE_INVOICE","CREATE_INVOICE_SUCCESS","CREATE_INVOICE_FAILURE","CREATE_CREDITNOTE","CREATE_CREDITNOTE_SUCCESS","CREATE_CREDITNOTE_FAILURE","REGULARIZE_INVOICE","REGULARIZE_INVOICE_SUCCESS","REGULARIZE_INVOICE_FAILURE","GET_EXCHANGERATE","GET_EXCHANGERATE_SUCCESS","GET_EXCHANGERATE_FAILURE","EMIT_INVOICE","EMIT_INVOICE_SUCCESS","EMIT_INVOICE_FAILURE","CARD_CREATE_FAILURE","CARD_CREATE","CARD_CREATE_SUCCESS","CARD_DELETE_FAILURE","CARD_DELETE","CARD_DELETE_SUCCESS","DRAW_REPORTPDF_FAILURE","DRAW_REPORTPDF","DRAW_REPORTPDF_SUCCESS","globalpublickey","apiUrls","CULQIKEY","CulqiModal","interval","interval_count","paymentorderid","limit","options","resetRequest","onError","onToken","createBalance","createCharge","createPaymentOrder","createSubscription","maincolor","buttontext","maintext","openCulqi"],"mappings":"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","file":"static/js/62.f6cd7de2.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { FC, useCallback, Fragment, useEffect, useState, useMemo } from 'react'; // we need this to make JSX compile\r\nimport { useSelector } from 'hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport { cleanMemoryTable, getCollectionAux, getCollectionAux2, setMemoryTable, uploadFile } from 'store/main/actions';\r\nimport { TemplateBreadcrumbs, TitleDetail, FieldView, FieldEdit, FieldSelect, AntTab, FieldMultiSelect, DialogZyx, FieldEditArray, TemplateIcons, IOSSwitch, FieldEditMulti } from 'components';\r\nimport { selInvoice, deleteInvoice, selInvoiceClient, getBillingPeriodSel, billingPeriodUpd, getPlanSel, getOrgSelList, getCorpSel, getPaymentPlanSel, getBillingPeriodCalcRefreshAll, getBillingPeriodSummarySel, getBillingPeriodSummarySelCorp, billingpersonreportsel, billinguserreportsel, billingReportConversationWhatsApp, billingReportHsmHistory, invoiceRefresh, getAppsettingInvoiceSel, getOrgSel, getMeasureUnit, getValuesFromDomain, getInvoiceDetail, selBalanceData, getBillingMessagingCurrent, getBalanceSelSent, getCorpSelVariant, listPaymentCard, paymentCardInsert, uploadExcel, insInvoice, templateMaker, exportExcel, selInvoiceComment, insInvoiceComment, convertLocalDate, billingArtificialIntelligenceSel, billingPeriodArtificialIntelligenceSel, billingPeriodArtificialIntelligenceInsArray } from 'common/helpers';\r\nimport { Dictionary, MultiData } from \"@types\";\r\nimport TableZyx from '../components/fields/table-simple';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { langKeys } from 'lang/keys';\r\nimport { useForm, useFieldArray } from 'react-hook-form';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { getCollection, getMultiCollection, execute, exportData, getMultiCollectionAux } from 'store/main/actions';\r\nimport { createInvoice, regularizeInvoice, createCreditNote, getExchangeRate, emitInvoice, cardDelete, cardCreate, reportPdf } from 'store/culqi/actions';\r\nimport { showSnackbar, showBackdrop, manageConfirmation } from 'store/popus/actions';\r\nimport { CircularProgress, IconButton, Tabs, TextField, Box, FormControlLabel, Divider, Grid, ListItem } from '@material-ui/core';\r\nimport { DownloadIcon } from 'icons';\r\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\r\nimport { dataYears, dataMonths } from 'common/helpers';\r\nimport {\r\n    Close,\r\n    FileCopy,\r\n    Search as SearchIcon,\r\n    Refresh as RefreshIcon,\r\n    Add as AddIcon,\r\n    GetApp\r\n} from '@material-ui/icons';\r\nimport PaymentIcon from '@material-ui/icons/Payment';\r\nimport CulqiModal from 'components/fields/CulqiModal';\r\nimport { getCountryList } from 'store/signup/actions';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport clsx from 'clsx';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport { charge, resetCharge, balance, resetBalance } from 'store/culqi/actions';\r\nimport { formatNumber, formatNumberFourDecimals, formatNumberNoDecimals } from 'common/helpers';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Controller } from \"react-hook-form\";\r\n\r\ninterface RowSelected {\r\n    row: Dictionary | null,\r\n    edit: boolean\r\n}\r\n\r\ninterface DetailPropsPaymentMethod {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n    fetchData: () => void,\r\n}\r\n\r\ninterface DetailProps {\r\n    data?: Dictionary | null;\r\n    creditNote?: boolean;\r\n    regularize?: boolean;\r\n    operationName?: string;\r\n    setViewSelected: (view: string) => void;\r\n    fetchData: () => void,\r\n}\r\n\r\ninterface DetailSupportPlanProps2 {\r\n    data: RowSelected;\r\n    setViewSelected: (view: string) => void;\r\n    fetchData: () => void,\r\n    dataCorp: any;\r\n    dataOrg: any;\r\n    dataPaymentPlan: any;\r\n    dataPlan: any;\r\n}\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n    head: {\r\n        backgroundColor: \"#7721ad\",\r\n        color: theme.palette.common.white,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n}))(TableRow);\r\n\r\nfunction getTaxableAmount(igv: number, num: number) {\r\n    if (num && igv)\r\n        return (num / (igv + 1)).toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n    return \"0.00\"\r\n}\r\n\r\nfunction getIgv(igv: number, num: number) {\r\n    if (num && igv)\r\n        return (num - (num / (igv + 1))).toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n    return \"0.00\"\r\n}\r\n\r\nfunction toISOLocalString(date: { getTimezoneOffset: () => number; getTime: () => number; }) {\r\n    const z = (n: string | number) => ('0' + n).slice(-2);\r\n    let off = date.getTimezoneOffset();\r\n    const sign = off < 0 ? '+' : '-';\r\n    off = Math.abs(off);\r\n    return new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0, -1) + sign + z(off / 60 | 0) + ':' + z(off % 60);\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        fontSize: '22px',\r\n        color: theme.palette.text.primary,\r\n    },\r\n    fieldView: {\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: 16\r\n    },\r\n    containerField: {\r\n        borderRadius: theme.spacing(2),\r\n        flex: '0 0 300px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexWrap: 'wrap',\r\n        gap: 16,\r\n        border: '1px solid #e1e1e1',\r\n        padding: theme.spacing(2),\r\n    },\r\n    titleCard: {\r\n        fontSize: 16,\r\n        fontWeight: 'bold',\r\n    },\r\n    button: {\r\n        padding: 12,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    buttoncomments: {\r\n        padding: 6,\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        textTransform: 'initial'\r\n    },\r\n    text: {\r\n        fontWeight: 500,\r\n        fontSize: 15,\r\n    },\r\n    imgContainer: {\r\n        borderRadius: 20,\r\n        backgroundColor: 'white',\r\n        width: 300,\r\n        height: 200,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    img: {\r\n        paddingTop: 10,\r\n        height: '100%',\r\n        width: 'auto',\r\n    },\r\n    icon: {\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            color: theme.palette.primary.main,\r\n        }\r\n    },\r\n    containerDetail: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(2),\r\n        background: '#fff',\r\n    },\r\n    fieldsfilter: {\r\n        width: 220,\r\n    },\r\n    transparent: {\r\n        color: \"transparent\",\r\n    },\r\n    commentary: {\r\n        fontStyle: \"italic\"\r\n    },\r\n    section: {\r\n        fontWeight: \"bold\"\r\n    }\r\n}));\r\n\r\nconst CssPhonemui = styled(MuiPhoneNumber)({\r\n    '& label.Mui-focused': {\r\n        color: '#7721ad',\r\n    },\r\n    '& .MuiInput-underline:after': {\r\n        borderBottomColor: '#7721ad',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n        '&.Mui-focused fieldset': {\r\n            borderColor: '#7721ad',\r\n        },\r\n    },\r\n});\r\n\r\nconst IDCOSTPERPERIOD = \"IDCOSTPERPERIOD\";\r\nconst CostPerPeriod: React.FC<{ dataCorp: any, dataOrg: any, dataPaymentPlan: any, dataPlan: any }> = ({ dataCorp, dataOrg, dataPaymentPlan, dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeResult = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        billingplan: \"\",\r\n        corpid: user?.corpid || 0,\r\n        month: (new Date().getMonth() + 1).toString().padStart(2, \"0\"),\r\n        orgid: 0,\r\n        supportplan: \"\",\r\n        year: String(new Date().getFullYear())\r\n    });\r\n\r\n    const [disableSearch, setdisableSearch] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: false });\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [waitCalculate, setWaitCalculate] = useState(false);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    function search() {\r\n        dispatch(showBackdrop(true))\r\n        dispatch(getCollection(getBillingPeriodSel(dataMain)))\r\n    }\r\n\r\n    useEffect(() => {\r\n        search()\r\n        dispatch(setMemoryTable({\r\n            id: IDCOSTPERPERIOD\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.mainData.loading) {\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [mainResult])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.corporation),\r\n                accessor: 'corpdesc',\r\n            },\r\n            {\r\n                Header: t(langKeys.partner),\r\n                accessor: 'partner',\r\n            },\r\n            {\r\n                Header: t(langKeys.organization),\r\n                accessor: 'orgdesc',\r\n            },\r\n            {\r\n                Header: t(langKeys.year),\r\n                accessor: 'year',\r\n            },\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'month',\r\n            },\r\n            {\r\n                Header: t(langKeys.contractedplan),\r\n                accessor: 'billingplan',\r\n            },\r\n            {\r\n                Header: t(langKeys.supportplan),\r\n                accessor: 'supportplan',\r\n            },\r\n            {\r\n                Header: t(langKeys.taxableamount),\r\n                accessor: 'taxableamount',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { taxableamount } = props.cell.row.original;\r\n                    return formatNumber(taxableamount || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.totalcharge),\r\n                accessor: 'totalcharge',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { totalcharge } = props.cell.row.original;\r\n                    return formatNumber(totalcharge || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.uniquecontacts),\r\n                accessor: 'clientquantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { clientquantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(clientquantity || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.conversation_plural),\r\n                accessor: 'conversationquantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { conversationquantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(conversationquantity || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.interaction_plural),\r\n                accessor: 'interactionquantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { interactionquantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(interactionquantity || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.supervisor_plural),\r\n                accessor: 'supervisorquantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { supervisorquantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(supervisorquantity || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.agent_plural),\r\n                accessor: 'asesorquantity',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { asesorquantity } = props.cell.row.original;\r\n                    return formatNumberNoDecimals(asesorquantity || 0);\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    const fetchData = () => dispatch(getCollection(getBillingPeriodSel(dataMain)));\r\n\r\n    useEffect(() => {\r\n        setdisableSearch(dataMain.year === \"\")\r\n    }, [dataMain])\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                if (waitCalculate) {\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_calculate) }))\r\n                    setWaitCalculate(false);\r\n                }\r\n                else {\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_delete) }))\r\n                }\r\n                fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            } else if (executeResult.error) {\r\n                const errormessage = t(executeResult.code || \"error_unexpected_error\", { module: t(langKeys.billingplan).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitCalculate(false);\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeResult, waitSave, waitCalculate])\r\n\r\n    const handleEdit = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row, edit: true });\r\n    }\r\n\r\n    const handleCalculate = () => {\r\n        const callback = () => {\r\n            dispatch(execute(getBillingPeriodCalcRefreshAll(parseInt(dataMain.year || '0'), parseInt(dataMain.month || '0'), dataMain.corpid, dataMain.orgid)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n            setWaitCalculate(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_calculate),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <Fragment>\r\n                <TableZyx\r\n                    columns={columns}\r\n                    onClickRow={handleEdit}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.year)}\r\n                                style={{ width: 140 }}\r\n                                valueDefault={dataMain.year}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, year: value?.value || 0 }))}\r\n                                data={dataYears}\r\n                                optionDesc=\"value\"\r\n                                optionValue=\"value\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.month)}\r\n                                style={{ width: 214 }}\r\n                                valueDefault={dataMain.month}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, month: value.map((o: Dictionary) => o.val).join() }))}\r\n                                data={dataMonths}\r\n                                uset={true}\r\n                                prefixTranslation=\"month_\"\r\n                                optionDesc=\"val\"\r\n                                optionValue=\"val\"\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.corporation)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.corpid}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, corpid: value?.corpid || 0, orgid: 0 }))}\r\n                                data={dataCorp}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"corpid\"\r\n                                disabled={[\"ADMINISTRADOR\", \"ADMINISTRADOR P\", \"ADMINISTRADOR LIMADERMA\"].includes(user?.roledesc || '')}\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.organization)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.orgid}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, orgid: value?.orgid || 0 }))}\r\n                                data={dataOrg.filter((e: any) => { return e.corpid === dataMain.corpid })}\r\n                                optionDesc=\"orgdesc\"\r\n                                optionValue=\"orgid\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.contractedplan)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.billingplan}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, billingplan: value ? value.plan : \"\" }))}\r\n                                data={dataPaymentPlan}\r\n                                optionDesc=\"plan\"\r\n                                optionValue=\"plan\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.supportplan)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.supportplan}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, supportplan: value ? value.description : \"\" }))}\r\n                                data={dataPlan}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"description\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <Button\r\n                                disabled={mainResult.mainData.loading || disableSearch}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                onClick={() => search()}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={mainResult.mainData.data}\r\n                    filterGeneral={false}\r\n                    download={true}\r\n                    loading={mainResult.mainData.loading}\r\n                    register={false}\r\n                    calculate={true}\r\n                    handleCalculate={handleCalculate}\r\n                    pageSizeDefault={IDCOSTPERPERIOD === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDCOSTPERPERIOD === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDCOSTPERPERIOD === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n    else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <DetailCostPerPeriod\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n                fetchData={fetchData}\r\n                dataCorp={dataCorp}\r\n                dataOrg={dataOrg}\r\n                dataPaymentPlan={dataPaymentPlan}\r\n                dataPlan={dataPlan}\r\n            />\r\n        )\r\n    } else\r\n        return null;\r\n}\r\n\r\nconst DetailCostPerPeriod: React.FC<DetailSupportPlanProps2> = ({ data: { row, edit }, setViewSelected, fetchData, dataPaymentPlan, dataPlan }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const auxRes = useSelector(state => state.main.mainAux);\r\n    const executeRes = useSelector(state => state.main.execute);\r\n    const multiRes = useSelector(state => state.main.multiData);\r\n\r\n    const [allIndex, setAllIndex] = useState<any[]>([]);\r\n    const [canEdit, setCanEdit] = useState(false);\r\n    const [checkedChannel, setCheckedChannel] = useState(row?.channelcreateoverride || false);\r\n    const [checkedUser, setCheckedUser] = useState(row?.usercreateoverride || false);\r\n    const [dataArtificialBilling, setDataArtificialBilling] = useState<Dictionary[]>([]);\r\n    const [dataArtificialIntelligence, setDataArtificialIntelligence] = useState<Dictionary[]>([]);\r\n    const [dataArtificialIntelligenceDelete, setDataArtificialIntelligenceDelete] = useState<Dictionary[]>([]);\r\n    const [pageSelected, setPageSelected] = useState(0);\r\n    const [triggerSave, setTriggerSave] = useState(false);\r\n    const [waitAiBilling, setWaitAiBilling] = useState(false);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const arrayBreadCostPerPeriod = [\r\n        { id: \"view-1\", name: t(langKeys.costperperiod) },\r\n        { id: \"view-2\", name: t(langKeys.costperperioddetail) }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        if (!auxRes.loading && !auxRes.error) {\r\n            setDataArtificialIntelligence(auxRes.data);\r\n            var array: any = [];\r\n            var index = 0;\r\n            auxRes.data?.forEach(() => {\r\n                array = [...array, { index: index, allOk: true }];\r\n                index++;\r\n            });\r\n            setAllIndex(array);\r\n        }\r\n    }, [auxRes]);\r\n\r\n    useEffect(() => {\r\n        if (waitAiBilling) {\r\n            if (multiRes.data[0] && multiRes.data[0].success && multiRes.data[0].data) {\r\n                if (multiRes.data[0].data[0]) {\r\n                    if (multiRes.data[0].data[0].type) {\r\n                        setDataArtificialBilling(multiRes.data[0] && multiRes.data[0].success ? multiRes.data[0].data : []);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [multiRes.data, waitAiBilling]);\r\n\r\n    const getPeriodArtificialIntelligence = () => dispatch(getCollectionAux(billingPeriodArtificialIntelligenceSel({ corpid: row?.corpid, orgid: (row?.orgid || 0), year: row?.year, month: row?.month, provider: '', type: '', plan: '' })));\r\n\r\n    useEffect(() => {\r\n        if (row?.year && row?.month) {\r\n            dispatch(getMultiCollection([\r\n                billingArtificialIntelligenceSel({ year: row?.year, month: row?.month, provider: '', type: '', plan: '' }),\r\n            ]));\r\n            setWaitAiBilling(true);\r\n        }\r\n\r\n        if (row?.invoicestatus && row?.paymentstatus) {\r\n            if (row?.invoicestatus !== \"INVOICED\" && row?.paymentstatus !== \"PAID\") {\r\n                setCanEdit(true);\r\n            }\r\n        }\r\n        else {\r\n            setCanEdit(true);\r\n        }\r\n\r\n        getPeriodArtificialIntelligence();\r\n    }, [])\r\n\r\n    const { register, handleSubmit, setValue, getValues, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            additionalservicefee1: row?.additionalservicefee1 || 0,\r\n            additionalservicefee2: row?.additionalservicefee2 || 0,\r\n            additionalservicefee3: row?.additionalservicefee3 || 0,\r\n            additionalservicename1: row?.additionalservicename1 || \"\",\r\n            additionalservicename2: row?.additionalservicename2 || \"\",\r\n            additionalservicename3: row?.additionalservicename3 || \"\",\r\n            asesorquantity: row?.asesorquantity || 0,\r\n            basicfee: row?.basicfee || 0,\r\n            billingplan: row?.billingplan || \"\",\r\n            callchannelcost: row?.callchannelcost || 0,\r\n            callothercost: row?.callothercost || 0,\r\n            callphonecost: row?.callphonecost || 0,\r\n            callpubliccost: row?.callpubliccost || 0,\r\n            callrecordingcost: row?.callrecordingcost || 0,\r\n            callvoipcost: row?.callvoipcost || 0,\r\n            channelcharge: row?.channelcharge || 0,\r\n            channelcreateoverride: row?.channelcreateoverride || false,\r\n            channelfreequantity: row?.channelfreequantity || 0,\r\n            channelothercharge: row?.channelothercharge || 0,\r\n            channelotherfee: row?.channelotherfee || 0,\r\n            channelotherquantity: row?.channelotherquantity || 0,\r\n            channelwhatsappcharge: row?.channelwhatsappcharge || 0,\r\n            channelwhatsappfee: row?.channelwhatsappfee || 0,\r\n            channelwhatsappquantity: row?.channelwhatsappquantity || 0,\r\n            clientadditionalcharge: row?.clientadditionalcharge || 0,\r\n            clientadditionalfee: row?.clientadditionalfee || 0,\r\n            clientfreequantity: row?.clientfreequantity || 0,\r\n            clientquantity: row?.clientquantity || 0,\r\n            conversationclientwhatcharge: row?.conversationclientwhatcharge || 0,\r\n            conversationclientwhatfee: row?.conversationclientwhatfee || 0,\r\n            conversationclientwhatfreequantity: row?.conversationclientwhatfreequantity || 0,\r\n            conversationclientwhatquantity: row?.conversationclientwhatquantity || 0,\r\n            conversationcompanywhatcharge: row?.conversationcompanywhatcharge || 0,\r\n            conversationcompanywhatfee: row?.conversationcompanywhatfee || 0,\r\n            conversationcompanywhatfreequantity: row?.conversationcompanywhatfreequantity || 0,\r\n            conversationcompanywhatquantity: row?.conversationcompanywhatquantity || 0,\r\n            conversationquantity: row?.conversationquantity || 0,\r\n            conversationwhatcharge: row?.conversationwhatcharge || 0,\r\n            corpdesc: row?.corpdesc || \"\",\r\n            corpid: row?.corpid || 0,\r\n            force: row?.force || true,\r\n            freewhatsappchannel: row?.freewhatsappchannel || 0,\r\n            freewhatsappconversations: row?.freewhatsappconversations || 0,\r\n            interactionquantity: row?.interactionquantity || 0,\r\n            mailcost: row?.mailcost || 0,\r\n            mailquantity: row?.mailquantity || 0,\r\n            minimummailquantity: row?.minimummailquantity || 0,\r\n            minimumsmsquantity: row?.minimumsmsquantity || 0,\r\n            month: row?.month || new Date().getMonth() + 1,\r\n            orgdesc: row?.orgdesc || \"\",\r\n            orgid: row?.orgid || 0,\r\n            smscost: row?.smscost || 0,\r\n            smsquantity: row?.smsquantity || 0,\r\n            supervisorquantity: row?.supervisorquantity || 0,\r\n            supportbasicfee: row?.supportbasicfee || 0,\r\n            supportplan: row?.supportplan || \"\",\r\n            totalcharge: row?.totalcharge || 0,\r\n            unitepricepermail: row?.unitepricepermail || 0,\r\n            unitpricepersms: row?.unitpricepersms || 0,\r\n            useradditionalcharge: row?.useradditionalcharge || 0,\r\n            useradditionalfee: row?.useradditionalfee || 0,\r\n            usercreateoverride: row?.usercreateoverride || false,\r\n            userfreequantity: row?.userfreequantity || 0,\r\n            userquantity: row?.userquantity || 0,\r\n            vcacomissionperconversation: row?.vcacomissionperconversation || 0,\r\n            vcacomissionperhsm: row?.vcacomissionperhsm || 0,\r\n            vcacomissionpermail: row?.vcacomissionpermail || 0,\r\n            vcacomissionpersms: row?.vcacomissionpersms || 0,\r\n            vcacomissionpervoicechannel: row?.vcacomissionpervoicechannel || 0,\r\n            voximplantcallothercost: row?.voximplantcallothercost || 0,\r\n            voximplantcallothervcacost: row?.voximplantcallothervcacost || 0,\r\n            voximplantcallphonecost: row?.voximplantcallphonecost || 0,\r\n            voximplantcallphonevcacost: row?.voximplantcallphonevcacost || 0,\r\n            voximplantcallpubliccost: row?.voximplantcallpubliccost || 0,\r\n            voximplantcallpublicvcacost: row?.voximplantcallpublicvcacost || 0,\r\n            voximplantcallrecordingcost: row?.voximplantcallrecordingcost || 0,\r\n            voximplantcallrecordingvcacost: row?.voximplantcallrecordingvcacost || 0,\r\n            voximplantcallvoipcost: row?.voximplantcallvoipcost || 0,\r\n            voximplantcallvoipvcacost: row?.voximplantcallvoipvcacost || 0,\r\n            year: row?.year || new Date().getFullYear(),\r\n        }\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        register('additionalservicefee1');\r\n        register('additionalservicefee2');\r\n        register('additionalservicefee3');\r\n        register('additionalservicename1');\r\n        register('additionalservicename2');\r\n        register('additionalservicename3');\r\n        register('basicfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('billingplan', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('callchannelcost');\r\n        register('callothercost');\r\n        register('callphonecost');\r\n        register('callpubliccost');\r\n        register('callrecordingcost');\r\n        register('callvoipcost');\r\n        register('channelcreateoverride');\r\n        register('channelfreequantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('channelotherfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('channelwhatsappfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('clientadditionalfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('clientfreequantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('conversationclientwhatfreequantity');\r\n        register('conversationcompanywhatfreequantity');\r\n        register('corpid');\r\n        register('force');\r\n        register('freewhatsappchannel', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('freewhatsappconversations');\r\n        register('mailcost');\r\n        register('mailquantity');\r\n        register('minimummailquantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('minimumsmsquantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('month');\r\n        register('orgid');\r\n        register('smscost');\r\n        register('smsquantity');\r\n        register('supportbasicfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('supportplan', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('totalcharge');\r\n        register('unitepricepermail');\r\n        register('unitpricepersms');\r\n        register('useradditionalfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('usercreateoverride');\r\n        register('userfreequantity', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('vcacomissionperconversation');\r\n        register('vcacomissionperhsm', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('vcacomissionpermail');\r\n        register('vcacomissionpersms');\r\n        register('vcacomissionpervoicechannel', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('voximplantcallothercost');\r\n        register('voximplantcallothervcacost');\r\n        register('voximplantcallphonecost');\r\n        register('voximplantcallphonevcacost');\r\n        register('voximplantcallpubliccost');\r\n        register('voximplantcallpublicvcacost');\r\n        register('voximplantcallrecordingcost');\r\n        register('voximplantcallrecordingvcacost');\r\n        register('voximplantcallvoipcost');\r\n        register('voximplantcallvoipvcacost');\r\n        register('year');\r\n    }, [edit, register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(row ? langKeys.successful_edit : langKeys.successful_register) }));\r\n                fetchData && fetchData();\r\n                getPeriodArtificialIntelligence && getPeriodArtificialIntelligence();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\");\r\n            } else if (executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.billingplan).toLocaleLowerCase() }) }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    useEffect(() => {\r\n        if (allIndex.length === dataArtificialIntelligence.length && triggerSave) {\r\n            setTriggerSave(false);\r\n\r\n            const error = allIndex.some((x: any) => !x.allOk);\r\n\r\n            if (error) {\r\n                return\r\n            }\r\n\r\n            if (dataArtificialIntelligence.length > 0) {\r\n                let duplicateCount = dataArtificialIntelligence.filter((value, index, self) => index === self.findIndex((t) => (t.type === value.type && t.provider === value.provider && t.status === 'ACTIVO')))?.length || 0;\r\n\r\n                if (duplicateCount < dataArtificialIntelligence.length) {\r\n                    dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.aiduplicatealert) }));\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const data = getValues();\r\n\r\n            const callback = () => {\r\n                const dataArtificialInsert = [...dataArtificialIntelligence, ...dataArtificialIntelligenceDelete];\r\n\r\n                if (dataArtificialInsert.length > 0) {\r\n                    dataArtificialInsert.map(function (object) {\r\n                        object.corpid = row?.corpid || 0;\r\n                        object.orgid = row?.orgid || 0;\r\n                        return object;\r\n                    });\r\n                }\r\n\r\n                if (dataArtificialInsert.length > 0) {\r\n                    dispatch(execute({\r\n                        header: billingPeriodUpd(data),\r\n                        detail: [billingPeriodArtificialIntelligenceInsArray(row?.corpid || 0, row?.orgid || 0, dataArtificialInsert)]!,\r\n                    }, true));\r\n                }\r\n                else {\r\n                    dispatch(execute(billingPeriodUpd(data)));\r\n                }\r\n\r\n                dispatch(showBackdrop(true));\r\n                setWaitSave(true);\r\n            }\r\n\r\n            dispatch(manageConfirmation({\r\n                visible: true,\r\n                question: t(langKeys.confirmation_save),\r\n                callback\r\n            }))\r\n        }\r\n    }, [allIndex, triggerSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        setTriggerSave(true);\r\n        if (pageSelected === 7) {\r\n            setAllIndex([]);\r\n        }\r\n    });\r\n\r\n    const handleDelete = (row: Dictionary | null, index: number) => {\r\n        if (row && row.operation !== \"INSERT\") {\r\n            setDataArtificialIntelligenceDelete(p => [...p, { ...row, operation: \"DELETE\", status: 'ELIMINADO' }]);\r\n        }\r\n        const filterDataArtificialIntelligence = dataArtificialIntelligence.filter((x, i) => i !== index);\r\n        setDataArtificialIntelligence(filterDataArtificialIntelligence);\r\n    }\r\n\r\n    const handleRegister = () => {\r\n        setDataArtificialIntelligence(p => [...p, { id: 0, corpid: row?.corpid || 0, orgid: row?.orgid || 0, year: row?.year || 0, month: row?.month || 0, aicost: 0, aiquantity: 0, operation: \"INSERT\", status: \"ACTIVO\" }]);\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={arrayBreadCostPerPeriod}\r\n                            handleClick={(id) => { setViewSelected(id); fetchData(); }}\r\n                        />\r\n                        <TitleDetail\r\n                            title={row ? `${row.corpdesc} - ${row.orgdesc}` : t(langKeys.neworganization)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => { setViewSelected(\"view-1\"); fetchData(); }}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {canEdit &&\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                startIcon={<SaveIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.save)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <Tabs\r\n                    value={pageSelected}\r\n                    indicatorColor=\"primary\"\r\n                    variant=\"fullWidth\"\r\n                    style={{ borderBottom: '1px solid #EBEAED', backgroundColor: '#FFF', marginTop: 8 }}\r\n                    textColor=\"primary\"\r\n                    onChange={(_, value) => setPageSelected(value)}\r\n                >\r\n                    <AntTab label={t(langKeys.generalinformation)} />\r\n                    <AntTab label={t(langKeys.agents_plural)} />\r\n                    <AntTab label={t(langKeys.channel_plural)} />\r\n                    <AntTab label={t(langKeys.conversation_plural)} />\r\n                    <AntTab label={t(langKeys.contact_plural)} />\r\n                    <AntTab label={t(langKeys.messaging)} />\r\n                    <AntTab label={t(langKeys.billingperiodvoice)} />\r\n                    <AntTab label={t(langKeys.billingsetup_ai)} />\r\n                    <AntTab label=\"Extras\" />\r\n                </Tabs>\r\n                {pageSelected === 0 && <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.corporation)}\r\n                            value={getValues(\"corpdesc\")}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.organization)}\r\n                            value={getValues(\"orgdesc\")}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.year)}\r\n                            value={getValues(\"year\")}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.month)}\r\n                            value={getValues(\"month\")}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldSelect\r\n                            label={t(langKeys.contractedplan)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues(\"billingplan\")}\r\n                            variant=\"outlined\"\r\n                            onChange={(value) => setValue('billingplan', value?.plan)}\r\n                            data={dataPaymentPlan}\r\n                            error={errors?.billingplan?.message}\r\n                            optionDesc=\"plan\"\r\n                            optionValue=\"plan\"\r\n                            orderbylabel={true}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.contractedplan)}\r\n                                value={getValues(\"billingplan\")}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldSelect\r\n                            label={t(langKeys.contractedsupportplan)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues(\"supportplan\")}\r\n                            variant=\"outlined\"\r\n                            onChange={(value) => setValue('supportplan', value?.description)}\r\n                            data={dataPlan}\r\n                            error={errors?.supportplan?.message}\r\n                            optionDesc=\"description\"\r\n                            optionValue=\"description\"\r\n                            orderbylabel={true}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.contractedsupportplan)}\r\n                                value={getValues(\"supportplan\")}\r\n                            />\r\n                        }\r\n\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.costbasedonthecontractedplan)}\r\n                            onChange={(value) => setValue('basicfee', value)}\r\n                            valueDefault={getValues('basicfee')}\r\n                            error={errors?.basicfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.costbasedonthecontractedplan)}\r\n                                value={getValues('basicfee')}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.costbasedonthesupportplan)}\r\n                            onChange={(value) => setValue('supportbasicfee', value)}\r\n                            valueDefault={getValues('supportbasicfee')}\r\n                            error={errors?.supportbasicfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.costbasedonthesupportplan)}\r\n                                value={formatNumber(getValues('supportbasicfee') || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.totalcharge)}\r\n                            value={formatNumber(getValues('totalcharge') || 0)}\r\n                        />\r\n                    </div>\r\n                </div>}\r\n                {pageSelected === 1 && <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.numberofagentshired)}\r\n                            onChange={(value) => setValue('userfreequantity', value)}\r\n                            valueDefault={getValues('userfreequantity')}\r\n                            error={errors?.userfreequantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.numberofagentshired)}\r\n                                value={String(getValues('userfreequantity'))}\r\n                            />\r\n                        }\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.numberofactiveadvisers)}\r\n                            value={String(getValues(\"userquantity\"))}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.numberofactivesupervisors)}\r\n                            value={String(getValues(\"supervisorquantity\"))}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.numberofactiveagents)}\r\n                            value={String(getValues(\"asesorquantity\"))}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.useradditionalfee)}\r\n                            onChange={(value) => setValue('useradditionalfee', value)}\r\n                            valueDefault={getValues('useradditionalfee')}\r\n                            error={errors?.useradditionalfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.useradditionalfee)}\r\n                                value={formatNumber(getValues('useradditionalfee') || 0)}\r\n                            />\r\n                        }\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.useradditionalcharge)}\r\n                            value={formatNumber(getValues(\"useradditionalcharge\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <div className={\"col-6\"} style={{ paddingBottom: '3px' }}>\r\n                            <Box fontWeight={500} lineHeight=\"18px\" fontSize={14} mb={2} color=\"textPrimary\">{t(langKeys.allowuseroverride)}</Box>\r\n                            <FormControlLabel\r\n                                style={{ paddingLeft: 10 }}\r\n                                control={<IOSSwitch disabled={canEdit === false} checked={checkedUser} onChange={(e) => { setCheckedUser(e.target.checked); setValue('usercreateoverride', e.target.checked) }} />}\r\n                                label={\"\"}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n                {pageSelected === 2 && <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.channelfreequantity)}\r\n                            onChange={(value) => setValue('channelfreequantity', value)}\r\n                            valueDefault={getValues('channelfreequantity')}\r\n                            error={errors?.channelfreequantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.channelfreequantity)}\r\n                                value={getValues('channelfreequantity')}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.contractedplanchannelotherfee)}\r\n                            onChange={(value) => setValue('channelotherfee', value)}\r\n                            valueDefault={getValues('channelotherfee')}\r\n                            error={errors?.channelotherfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.contractedplanchannelotherfee)}\r\n                                value={formatNumberFourDecimals(getValues('channelotherfee') || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.contractedplanfreewhatsappchannel)}\r\n                            onChange={(value) => setValue('freewhatsappchannel', value)}\r\n                            valueDefault={getValues('freewhatsappchannel')}\r\n                            error={errors?.freewhatsappchannel?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.contractedplanfreewhatsappchannel)}\r\n                                value={getValues(\"freewhatsappchannel\").toString()}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.channelwhatsappfee)}\r\n                            onChange={(value) => setValue('channelwhatsappfee', value)}\r\n                            valueDefault={getValues('channelwhatsappfee')}\r\n                            error={errors?.channelwhatsappfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.channelwhatsappfee)}\r\n                                value={formatNumberFourDecimals(getValues('channelwhatsappfee') || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.channelotherquantity)}\r\n                            value={getValues(\"channelotherquantity\").toString()}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.channelwhatsappquantity)}\r\n                            value={getValues(\"channelwhatsappquantity\").toString()}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.channelcharge)}\r\n                            value={formatNumber(getValues(\"channelcharge\") || 0)}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.reportfreeconversations)}\r\n                            value={getValues(\"freewhatsappconversations\").toString()}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <div className={\"col-6\"} style={{ paddingBottom: '3px' }}>\r\n                            <Box fontWeight={500} lineHeight=\"18px\" fontSize={14} mb={2} color=\"textPrimary\">{t(langKeys.allowchanneloverride)}</Box>\r\n                            <FormControlLabel\r\n                                style={{ paddingLeft: 10 }}\r\n                                control={<IOSSwitch disabled={canEdit === false} checked={checkedChannel} onChange={(e) => { setCheckedChannel(e.target.checked); setValue('channelcreateoverride', e.target.checked) }} />}\r\n                                label={\"\"}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n                {pageSelected === 3 && <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.conversationquantity)}\r\n                            value={getValues(\"conversationquantity\").toString()}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.interactionquantity)}\r\n                            value={getValues(\"interactionquantity\").toString()}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.conversationclientwhatquantity)}\r\n                            value={getValues(\"conversationclientwhatquantity\").toString()}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.conversationclientwhatfreequantity)}\r\n                            value={getValues(\"conversationclientwhatfreequantity\").toString()}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.conversationclientwhatcharge)}\r\n                            value={formatNumber(getValues(\"conversationclientwhatcharge\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.conversationcompanywhatquantity)}\r\n                            value={getValues(\"conversationcompanywhatquantity\").toString()}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.conversationcompanywhatfreequantity)}\r\n                            value={getValues(\"conversationcompanywhatfreequantity\").toString()}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.conversationcompanywhatcharge)}\r\n                            value={formatNumber(getValues(\"conversationcompanywhatcharge\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit && <FieldEdit\r\n                            label={t(langKeys.vcacomissionperhsm)}\r\n                            onChange={(value) => setValue('vcacomissionperhsm', value)}\r\n                            valueDefault={getValues('vcacomissionperhsm')}\r\n                            error={errors?.vcacomissionperhsm?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        />}\r\n                        {!canEdit && <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.vcacomissionperhsm)}\r\n                            value={formatNumberFourDecimals(getValues('vcacomissionperhsm') || 0)}\r\n                        />}\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.conversationwhatcharge)}\r\n                            value={formatNumber(getValues(\"conversationwhatcharge\") || 0)}\r\n                        />\r\n                    </div>\r\n                </div>}\r\n                {pageSelected === 4 && <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.clientfreequantity)}\r\n                            onChange={(value) => setValue('clientfreequantity', value)}\r\n                            valueDefault={getValues('clientfreequantity')}\r\n                            error={errors?.clientfreequantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.clientfreequantity)}\r\n                                value={getValues(\"clientfreequantity\").toString()}\r\n                            />\r\n                        }\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.clientquantity)}\r\n                            value={getValues(\"clientquantity\").toString()}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.clientadditionalfee)}\r\n                            onChange={(value) => setValue('clientadditionalfee', value)}\r\n                            valueDefault={getValues('clientadditionalfee')}\r\n                            error={errors?.clientadditionalfee?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.clientadditionalfee)}\r\n                                value={formatNumberFourDecimals(getValues(\"clientadditionalfee\") || 0)}\r\n                            />\r\n                        }\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.clientadditionalcharge)}\r\n                            value={formatNumber(getValues(\"clientadditionalcharge\") || 0)}\r\n                        />\r\n                    </div>\r\n                </div>}\r\n                {pageSelected === 5 && <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.unitpricepersms)}\r\n                            onChange={(value) => setValue('unitpricepersms', value)}\r\n                            valueDefault={getValues('unitpricepersms')}\r\n                            error={errors?.unitpricepersms?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.unitpricepersms)}\r\n                                value={formatNumberFourDecimals(getValues(\"unitpricepersms\") || 0)}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.vcacomissionpersms)}\r\n                            onChange={(value) => setValue('vcacomissionpersms', value)}\r\n                            valueDefault={getValues('vcacomissionpersms')}\r\n                            error={errors?.vcacomissionpersms?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.vcacomissionpersms)}\r\n                                value={formatNumberFourDecimals(getValues(\"vcacomissionpersms\") || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.smsquantity)}\r\n                            value={formatNumberNoDecimals(getValues(\"smsquantity\") || 0)}\r\n                        />\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.minimumsmsquantity)}\r\n                            onChange={(value) => setValue('minimumsmsquantity', value)}\r\n                            valueDefault={getValues('minimumsmsquantity')}\r\n                            error={errors?.minimumsmsquantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.minimumsmsquantity)}\r\n                                value={formatNumberFourDecimals(getValues(\"minimumsmsquantity\") || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.smscost)}\r\n                            value={formatNumber(getValues(\"smscost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.unitepricepermail)}\r\n                            onChange={(value) => setValue('unitepricepermail', value)}\r\n                            valueDefault={getValues('unitepricepermail')}\r\n                            error={errors?.unitepricepermail?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.unitepricepermail)}\r\n                                value={formatNumberFourDecimals(getValues(\"unitepricepermail\") || 0)}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.vcacomissionpermail)}\r\n                            onChange={(value) => setValue('vcacomissionpermail', value)}\r\n                            valueDefault={getValues('vcacomissionpermail')}\r\n                            error={errors?.vcacomissionpermail?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.vcacomissionpermail)}\r\n                                value={formatNumberFourDecimals(getValues(\"vcacomissionpermail\") || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.mailquantity)}\r\n                            value={formatNumberNoDecimals(getValues(\"mailquantity\") || 0)}\r\n                        />\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.minimummailquantity)}\r\n                            onChange={(value) => setValue('minimummailquantity', value)}\r\n                            valueDefault={getValues('minimummailquantity')}\r\n                            error={errors?.minimummailquantity?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.minimummailquantity)}\r\n                                value={formatNumberFourDecimals(getValues(\"minimummailquantity\") || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.mailcost)}\r\n                            value={formatNumber(getValues(\"mailcost\") || 0)}\r\n                        />\r\n                    </div>\r\n                </div>}\r\n                {pageSelected === 6 && <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={t(langKeys.vcacomissionpervoicechannel)}\r\n                            onChange={(value) => setValue('vcacomissionpervoicechannel', value)}\r\n                            valueDefault={getValues('vcacomissionpervoicechannel')}\r\n                            error={errors?.vcacomissionpervoicechannel?.message}\r\n                            type=\"number\"\r\n                            className=\"col-12\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.vcacomissionpervoicechannel)}\r\n                                value={formatNumber(getValues(\"vcacomissionpervoicechannel\") || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallphonecost)}\r\n                            value={formatNumber(getValues(\"voximplantcallphonecost\") || 0)}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallphonevcacost)}\r\n                            value={formatNumber(getValues(\"voximplantcallphonevcacost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.callphonecost)}\r\n                            value={formatNumber(getValues(\"callphonecost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallpubliccost)}\r\n                            value={formatNumber(getValues(\"voximplantcallpubliccost\") || 0)}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallpublicvcacost)}\r\n                            value={formatNumber(getValues(\"voximplantcallpublicvcacost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.callpubliccost)}\r\n                            value={formatNumber(getValues(\"callpubliccost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallvoipcost)}\r\n                            value={formatNumber(getValues(\"voximplantcallvoipcost\") || 0)}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallvoipvcacost)}\r\n                            value={formatNumber(getValues(\"voximplantcallvoipvcacost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.callvoipcost)}\r\n                            value={formatNumber(getValues(\"callvoipcost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallrecordingcost)}\r\n                            value={formatNumber(getValues(\"voximplantcallrecordingcost\") || 0)}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallrecordingvcacost)}\r\n                            value={formatNumber(getValues(\"voximplantcallrecordingvcacost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.callrecordingcost)}\r\n                            value={formatNumber(getValues(\"callrecordingcost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallothercost)}\r\n                            value={formatNumber(getValues(\"voximplantcallothercost\") || 0)}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.voximplantcallothervcacost)}\r\n                            value={formatNumber(getValues(\"voximplantcallothervcacost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.callothercost)}\r\n                            value={formatNumber(getValues(\"callothercost\") || 0)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.callchannelcost)}\r\n                            value={formatNumber(getValues(\"callchannelcost\") || 0)}\r\n                        />\r\n                    </div>\r\n                </div>}\r\n                {pageSelected === 7 && <div className={classes.containerDetail}>\r\n                    <div style={{ marginBottom: '16px', display: 'flex', justifyContent: 'space-between' }}>\r\n                        <div className={classes.title}>{t(langKeys.aitotalcost)}: {formatNumber(row?.totalaicost || 0)}</div>\r\n                        <div>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={auxRes.loading || !canEdit}\r\n                                startIcon={<AddIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                                onClick={handleRegister}\r\n                            >{t(langKeys.addnewai)}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    {auxRes.loading ?\r\n                        <ListItemSkeleton /> :\r\n                        dataArtificialIntelligence.map((item, index) => (\r\n                            <DetailArtificialIntelligence\r\n                                key={`ai-${item?.provider}-${item?.typeprovider}-${index * 1000}`}\r\n                                index={index}\r\n                                data={{ row: item, edit: canEdit }}\r\n                                updateRecords={setDataArtificialIntelligence}\r\n                                preData={dataArtificialIntelligence}\r\n                                triggerSave={triggerSave}\r\n                                handleDelete={handleDelete}\r\n                                setAllIndex={setAllIndex}\r\n                                intelligenceData={dataArtificialBilling}\r\n                            />\r\n                        ))\r\n                    }\r\n                </div>}\r\n                {pageSelected === 8 && <div className={classes.containerDetail}>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={`${t(langKeys.additionalservicename)} 1`}\r\n                            onChange={(value) => setValue('additionalservicename1', value)}\r\n                            valueDefault={getValues('additionalservicename1')}\r\n                            error={errors?.additionalservicename1?.message}\r\n                            className=\"col-6\"\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={`${t(langKeys.additionalservicename)} 1`}\r\n                                value={getValues(\"additionalservicename1\")}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldEdit\r\n                            label={`${t(langKeys.additionalservicefee)} 1`}\r\n                            onChange={(value) => setValue('additionalservicefee1', value)}\r\n                            valueDefault={getValues('additionalservicefee1')}\r\n                            error={errors?.additionalservicefee1?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={`${t(langKeys.additionalservicefee)} 1`}\r\n                                value={formatNumberFourDecimals(getValues(\"additionalservicefee1\") || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={`${t(langKeys.additionalservicename)} 2`}\r\n                            onChange={(value) => setValue('additionalservicename2', value)}\r\n                            valueDefault={getValues('additionalservicename2')}\r\n                            error={errors?.additionalservicename2?.message}\r\n                            className=\"col-6\"\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={`${t(langKeys.additionalservicename)} 2`}\r\n                                value={getValues(\"additionalservicename2\")}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldEdit\r\n                            label={`${t(langKeys.additionalservicefee)} 2`}\r\n                            onChange={(value) => setValue('additionalservicefee2', value)}\r\n                            valueDefault={getValues('additionalservicefee2')}\r\n                            error={errors?.additionalservicefee2?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={`${t(langKeys.additionalservicefee)} 2`}\r\n                                value={formatNumberFourDecimals(getValues(\"additionalservicefee2\") || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {canEdit ? <FieldEdit\r\n                            label={`${t(langKeys.additionalservicename)} 3`}\r\n                            onChange={(value) => setValue('additionalservicename3', value)}\r\n                            valueDefault={getValues('additionalservicename3')}\r\n                            error={errors?.additionalservicename3?.message}\r\n                            className=\"col-6\"\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={`${t(langKeys.additionalservicename)} 3`}\r\n                                value={getValues(\"additionalservicename3\")}\r\n                            />\r\n                        }\r\n                        {canEdit ? <FieldEdit\r\n                            label={`${t(langKeys.additionalservicefee)} 3`}\r\n                            onChange={(value) => setValue('additionalservicefee3', value)}\r\n                            valueDefault={getValues('additionalservicefee3')}\r\n                            error={errors?.additionalservicefee3?.message}\r\n                            type=\"number\"\r\n                            className=\"col-6\"\r\n                            inputProps={{ step: \"any\" }}\r\n                        /> :\r\n                            <FieldView\r\n                                className=\"col-6\"\r\n                                label={`${t(langKeys.additionalservicefee)} 3`}\r\n                                value={formatNumberFourDecimals(getValues(\"additionalservicefee3\") || 0)}\r\n                            />\r\n                        }\r\n                    </div>\r\n                </div>}\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\ninterface ModalProps {\r\n    data: RowSelected;\r\n    preData: (Dictionary | null)[];\r\n    intelligenceData: Dictionary[];\r\n    openModal?: boolean;\r\n    setOpenModal?: (open: boolean) => void;\r\n    updateRecords?: (record: any) => void;\r\n    triggerSave?: boolean;\r\n    index: number;\r\n    setAllIndex: (index: any) => void;\r\n    handleDelete: (row: Dictionary | null, index: number) => void;\r\n}\r\n\r\nconst DetailArtificialIntelligence: React.FC<ModalProps> = ({ index, data: { row, edit }, updateRecords, preData, triggerSave, setAllIndex, handleDelete, intelligenceData }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const { register, handleSubmit, setValue, getValues, trigger, formState: { errors }, reset } = useForm();\r\n\r\n    useEffect(() => {\r\n        if (triggerSave) {\r\n            (async () => {\r\n                const allOk = await trigger();\r\n                const data = getValues();\r\n                if (allOk) {\r\n                    updateRecords && updateRecords((p: Dictionary[], itmp: number) => {\r\n                        p[index] = { ...data, operation: p[index].operation === \"INSERT\" ? \"INSERT\" : \"UPDATE\" }\r\n                        return p;\r\n                    })\r\n                }\r\n                setAllIndex((p: number[]) => [...p, { index, allOk }]);\r\n            })()\r\n        }\r\n    }, [triggerSave])\r\n\r\n    function updatefield(field: string, value: any) {\r\n        updateRecords && updateRecords((p: Dictionary[], itmp: number) => {\r\n            p[index] = { ...p[index], [field]: value }\r\n            return p;\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        reset({\r\n            id: row ? row.id : 0,\r\n            corpid: row ? row.corpid : 0,\r\n            orgid: row ? row.orgid : 0,\r\n            year: row ? row.year : 0,\r\n            month: row ? row.month : 0,\r\n            provider: row ? row.provider : '',\r\n            measureunit: row ? row.measureunit : '',\r\n            charlimit: row ? row.charlimit : 0,\r\n            plan: row ? row.plan : '',\r\n            freeinteractions: row ? row.freeinteractions : 0,\r\n            basicfee: row ? row.basicfee : 0.00,\r\n            additionalfee: row ? row.additionalfee : 0.00,\r\n            description: row ? row.description : '',\r\n            aiquantity: row ? row.aiquantity : 0,\r\n            aicost: row ? row.aicost : 0.00,\r\n            status: row ? row.status : 'ACTIVO',\r\n            type: row ? row.type : '',\r\n            operation: row ? 'UPDATE' : 'INSERT',\r\n        })\r\n\r\n        register('id');\r\n        register('corpid');\r\n        register('orgid');\r\n        register('year');\r\n        register('month');\r\n        register('provider', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('measureunit');\r\n        register('charlimit', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('plan', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('freeinteractions', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('basicfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('additionalfee', { validate: (value) => ((value || String(value)) && parseFloat(String(value)) >= 0) || t(langKeys.field_required) });\r\n        register('description');\r\n        register('aiquantity');\r\n        register('aicost');\r\n        register('status');\r\n        register('type', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('operation');\r\n    }, [preData])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        if (!row)\r\n            updateRecords && updateRecords((p: Dictionary[]) => [...p, { ...data, operation: \"INSERT\" }])\r\n        else\r\n            updateRecords && updateRecords((p: Dictionary[]) => p.map(x => x.orgid === row ? { ...x, ...data, operation: (x.operation || \"UPDATE\") } : x))\r\n    });\r\n\r\n    const onChangeArtificialIntelligence = (value: Dictionary) => {\r\n        setValue('provider', value?.provider || '');\r\n        setValue('measureunit', value?.measureunit || '');\r\n        setValue('charlimit', value?.charlimit || 0);\r\n        setValue('plan', value?.plan || '');\r\n        setValue('freeinteractions', value?.freeinteractions || 0);\r\n        setValue('basicfee', value?.basicfee || 0.00);\r\n        setValue('additionalfee', value?.additionalfee || 0.00);\r\n        setValue('description', value?.description || '');\r\n        setValue('type', value?.type || '');\r\n\r\n        updatefield('provider', value?.provider || '');\r\n        updatefield('measureunit', value?.measureunit || '');\r\n        updatefield('charlimit', value?.charlimit || 0);\r\n        updatefield('plan', value?.plan || '');\r\n        updatefield('freeinteractions', value?.freeinteractions || 0);\r\n        updatefield('basicfee', value?.basicfee || 0.00);\r\n        updatefield('additionalfee', value?.additionalfee || 0.00);\r\n        updatefield('description', value?.description || '');\r\n        updatefield('type', value?.type || '');\r\n\r\n        trigger('provider');\r\n        trigger('measureunit');\r\n        trigger('charlimit');\r\n        trigger('plan');\r\n        trigger('freeinteractions');\r\n        trigger('basicfee');\r\n        trigger('additionalfee');\r\n        trigger('description');\r\n        trigger('type');\r\n\r\n        updateRecords && updateRecords((p: Dictionary[], itmp: number) => {\r\n            p[index] = { ...p[index], corpid: value?.corpid, orgid: value?.orgid || 0 }\r\n            return p;\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Accordion defaultExpanded={row?.id === 0} style={{ marginBottom: '8px' }}>\r\n            <AccordionSummary\r\n                expandIcon={<ExpandMoreIcon />}\r\n                aria-controls=\"panel1a-content\"\r\n                id=\"panel1a-header\"\r\n            >\r\n                <Typography>{(row?.type) ? `${row.type} - ${row.provider} (${row.plan})` : t(langKeys.newai)}</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n                <form onSubmit={onSubmit} style={{ width: '100%' }}>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.aiservice)}\r\n                            className=\"col-6\"\r\n                            valueDefault={`${getValues('type')} - ${getValues('provider')} (${getValues('plan')})`}\r\n                            onChange={onChangeArtificialIntelligence}\r\n                            error={errors?.type?.message}\r\n                            data={intelligenceData}\r\n                            optionDesc=\"typeproviderplan\"\r\n                            optionValue=\"typeproviderplan\"\r\n                            disabled={!edit}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_provider)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('provider')}\r\n                            error={errors?.provider?.message}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_service)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('type')}\r\n                            error={errors?.type?.message}\r\n                            disabled={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_plan)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('plan')}\r\n                            error={errors?.plan?.message}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_measureunit)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('measureunit')}\r\n                            error={errors?.measureunit?.message}\r\n                            disabled={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_minimuminteractions)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('freeinteractions')}\r\n                            error={errors?.freeinteractions?.message}\r\n                            type=\"number\"\r\n                            onChange={(value) => {\r\n                                setValue('freeinteractions', value || 0);\r\n                                updatefield('freeinteractions', value || 0);\r\n                            }}\r\n                            disabled={!edit}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_baseprice)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('basicfee')}\r\n                            error={errors?.basicfee?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                            onChange={(value) => {\r\n                                setValue('basicfee', value || 0.00);\r\n                                updatefield('basicfee', value || 0.00);\r\n                            }}\r\n                            disabled={!edit}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.billingsetup_additionalprice)}\r\n                            className=\"col-6\"\r\n                            valueDefault={getValues('additionalfee')}\r\n                            error={errors?.additionalfee?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                            onChange={(value) => {\r\n                                setValue('additionalfee', value || 0.00);\r\n                                updatefield('additionalfee', value || 0.00);\r\n                            }}\r\n                            disabled={!edit}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.quantity)}\r\n                            className=\"col-6\"\r\n                            valueDefault={formatNumberNoDecimals(getValues('aiquantity') || 0)}\r\n                            error={errors?.aiquantity?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                            disabled={true}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.aicost)}\r\n                            className=\"col-6\"\r\n                            valueDefault={formatNumber(getValues('aicost') || 0)}\r\n                            error={errors?.aicost?.message}\r\n                            type=\"number\"\r\n                            inputProps={{ step: \"any\" }}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                    <div style={{ textAlign: 'right' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<DeleteIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => handleDelete(row, index)}\r\n                            disabled={!edit}\r\n                        >{t(langKeys.delete)}</Button>\r\n                    </div>\r\n                </form>\r\n            </AccordionDetails>\r\n        </Accordion>\r\n    );\r\n}\r\n\r\nconst ListItemSkeleton: FC = () => (\r\n    <ListItem style={{ display: 'flex', paddingLeft: 0, paddingRight: 0, paddingBottom: 8 }}>\r\n        <Box style={{ padding: 20, backgroundColor: 'white', display: 'flex', flexDirection: 'column', flexGrow: 1, }}>\r\n            <Grid container direction=\"column\">\r\n                <Grid container direction=\"row\" spacing={1}>\r\n                    <Grid item sm={12} xl={12} xs={12} md={12} lg={12}>\r\n                        <Skeleton />\r\n                    </Grid>\r\n                </Grid>\r\n                <Divider style={{ margin: '10px 0' }} />\r\n                <Grid container direction=\"row\" spacing={1}>\r\n                    <Grid item sm={12} xl={12} xs={12} md={12} lg={12}>\r\n                        <Skeleton />\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </Box>\r\n    </ListItem>\r\n)\r\n\r\nconst PeriodReport: React.FC<{ dataCorp: any, dataOrg: any, customSearch: any }> = ({ dataCorp, dataOrg, customSearch }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeCalculate = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main);\r\n    const resExportData = useSelector(state => state.main.exportData);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n    const resultPdf = useSelector(state => state.culqi.requestReportPdf);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        datetoshow: `${new Date(new Date().setDate(1)).getFullYear()}-${String(new Date(new Date().setDate(1)).getMonth() + 1).padStart(2, '0')}`,\r\n        year: new Date().getFullYear(),\r\n        month: new Date().getMonth() + 1,\r\n        corpid: user?.corpid || 0,\r\n        orgid: user?.orgid || 0,\r\n        totalize: 2,\r\n    });\r\n\r\n    const [canSearch, setCanSearch] = useState(false);\r\n    const [disableOrg, setDisableOrg] = useState(false);\r\n    const [datareport, setdatareport] = useState<any>([]);\r\n    const [requestType, setRequestType] = useState(2);\r\n    const [waitCalculate, setWaitCalculate] = useState(false);\r\n    const [waitExport, setWaitExport] = useState(false);\r\n    const [waitSearch, setWaitSearch] = useState(false);\r\n    const [waitPdf, setWaitPdf] = useState(false);\r\n\r\n    const el = React.useRef<null | HTMLDivElement>(null);\r\n\r\n    const datatotalize = [{ value: 1, description: t(langKeys.corporation) }, { value: 2, description: t(langKeys.organization) }]\r\n\r\n    function handleDateChange(e: any) {\r\n        if (e !== \"\") {\r\n            let datetochange = new Date(e + \"-02\")\r\n            let mes = datetochange?.getMonth() + 1\r\n            let year = datetochange?.getFullYear()\r\n            let datetoshow = `${year}-${String(mes).padStart(2, '0')}`\r\n            setdataMain(prev => ({ ...prev, datetoshow, year, month: mes }))\r\n        }\r\n    }\r\n\r\n    function search() {\r\n        dispatch(showBackdrop(true))\r\n        setRequestType(dataMain.totalize)\r\n        if (dataMain.totalize === 2) {\r\n            dispatch(getCollection(getBillingPeriodSummarySel(dataMain)))\r\n        } else {\r\n            dispatch(getCollection(getBillingPeriodSummarySelCorp(dataMain)))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        search()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setCanSearch(false);\r\n\r\n        if (dataMain) {\r\n            if (dataMain.totalize) {\r\n                if (dataMain.totalize === 1) {\r\n                    setDisableOrg(true);\r\n\r\n                    if (dataMain.corpid) {\r\n                        setCanSearch(true);\r\n                    }\r\n                }\r\n                if (dataMain.totalize === 2) {\r\n                    setDisableOrg(false);\r\n\r\n                    if (dataMain.corpid && dataMain.orgid) {\r\n                        setCanSearch(true);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [dataMain])\r\n\r\n    useEffect(() => {\r\n        if (customSearch?.corpid !== 0) {\r\n            setdataMain(prev => ({\r\n                ...prev,\r\n                datetoshow: `${customSearch?.year}-${String(customSearch?.month).padStart(2, '0')}`,\r\n                year: customSearch?.year,\r\n                month: customSearch?.month,\r\n                corpid: customSearch?.corpid,\r\n                orgid: customSearch?.orgid,\r\n                totalize: customSearch?.totalize,\r\n            }));\r\n            setWaitSearch(true);\r\n        }\r\n    }, [customSearch])\r\n\r\n    useEffect(() => {\r\n        if (waitSearch) {\r\n            setWaitSearch(false);\r\n            search();\r\n        }\r\n    }, [dataMain, waitSearch])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.mainData.loading) {\r\n            if (mainResult.mainData.data.length) {\r\n                setdatareport(mainResult.mainData.data[0]);\r\n            }\r\n            else {\r\n                setdatareport(null);\r\n            }\r\n            dispatch(showBackdrop(false))\r\n        }\r\n    }, [mainResult.mainData])\r\n\r\n    useEffect(() => {\r\n        if (waitCalculate) {\r\n            if (!executeCalculate.loading && !executeCalculate.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_calculate) }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitCalculate(false);\r\n                search();\r\n            } else if (executeCalculate.error) {\r\n                const message = t(executeCalculate.code || \"error_unexpected_error\", { module: t(langKeys.tipification).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitCalculate(false);\r\n            }\r\n        }\r\n    }, [executeCalculate, waitCalculate])\r\n\r\n    const triggerExportDataPerson = () => {\r\n        dispatch(exportData(billingpersonreportsel(dataMain), \"BillingPersonReport\", \"excel\", true))\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n\r\n    const triggerExportDataUser = () => {\r\n        dispatch(exportData(billinguserreportsel(dataMain), \"BillingUserReport\", \"excel\", true))\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n\r\n    const triggerExportDataConversation = () => {\r\n        dispatch(exportData(billingReportConversationWhatsApp(dataMain), \"BillingUserConversation\", \"excel\", true))\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n\r\n    const triggerExportDataHsmHistory = (datatype: string) => {\r\n        dispatch(exportData(billingReportHsmHistory({ corpid: dataMain.corpid, orgid: dataMain.orgid, year: dataMain.year, month: dataMain.month, type: datatype }), \"BillingUserHsmHistory\", \"excel\", true))\r\n        dispatch(showBackdrop(true));\r\n        setWaitExport(true);\r\n    };\r\n\r\n    const handleCalculate = () => {\r\n        const callback = () => {\r\n            dispatch(execute(getBillingPeriodCalcRefreshAll(dataMain.year, dataMain.month, dataMain.corpid, dataMain.orgid)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitCalculate(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_calculate),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    const handleReportPdf = () => {\r\n        if (datareport) {\r\n            var intelligenceDetail: {}[] = [];\r\n\r\n            if (datareport.artificialintelligencedata) {\r\n                datareport.artificialintelligencedata.forEach((element: any) => {\r\n                    intelligenceDetail.push({\r\n                        service: element.type,\r\n                        provider: element.provider,\r\n                        plan: element.plan,\r\n                        freeinteractions: formatNumberNoDecimals(element.freeinteractions || 0),\r\n                        aiquantity: formatNumberNoDecimals(element.aiquantity || 0),\r\n                        additionalfee: ((element.aiquantity || 0) <= (element.freeinteractions || 0)) ? '' : `$${formatNumberFourDecimals(element.additionalfee || 0)}`,\r\n                        taxableamount: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), element.aicost || 0) : formatNumber(element.aicost)}`,\r\n                        igv: `$${datareport.taxrate !== 1 ? getIgv(datareport.igv, element.aicost) : \"0.00\"}`,\r\n                        aicost: `$${formatNumber(element.aicost || 0)}`,\r\n                    });\r\n                });\r\n            }\r\n\r\n            var reportbody = {\r\n                method: \"\",\r\n                parameters: {\r\n                    generalinformationclient: (requestType === 2 ? datareport.orgdesc : datareport.corpdesc),\r\n                    generalinformationplan: (datareport.billingplan),\r\n                    generalinformationperiod: `${datareport.year}-${String(datareport.month).padStart(2, '0')}`,\r\n                    basecost1: \"\",\r\n                    basecost2: \"\",\r\n                    basecost3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.basicfee || 0) : formatNumber(datareport.basicfee)}`,\r\n                    basecost4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.basicfee || 0) : \"0.00\"}`,\r\n                    basecost5: `$${datareport.basicfee ? formatNumber(datareport.basicfee || 0) : \"0.00\"}`,\r\n                    agentcontracted1: formatNumberNoDecimals(datareport.userfreequantity || 0),\r\n                    agentcontracted2: \"\",\r\n                    agentcontracted3: \"\",\r\n                    agentcontracted4: \"\",\r\n                    agentcontracted5: \"\",\r\n                    agentadditional1: formatNumberNoDecimals(datareport.useradditionalquantity || 0),\r\n                    agentadditional2: `$${formatNumberFourDecimals(datareport.useradditionalfee || 0)}`,\r\n                    agentadditional3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.useradditionalcharge || 0) : formatNumber(datareport.useradditionalcharge)}`,\r\n                    agentadditional4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.useradditionalcharge || 0) : \"0.00\"}`,\r\n                    agentadditional5: `$${formatNumber(datareport.useradditionalcharge || 0)}`,\r\n                    channelcontracted1: formatNumberNoDecimals(datareport.channelfreequantity || 0),\r\n                    channelcontracted2: \"\",\r\n                    channelcontracted3: \"\",\r\n                    channelcontracted4: \"\",\r\n                    channelcontracted5: \"\",\r\n                    channelwhatsappfree1: formatNumberNoDecimals(datareport.freewhatsappchannel || 0),\r\n                    channelwhatsappfree2: \"\",\r\n                    channelwhatsappfree3: \"\",\r\n                    channelwhatsappfree4: \"\",\r\n                    channelwhatsappfree5: \"\",\r\n                    channelwhatsapptotal1: formatNumberNoDecimals(datareport.channelwhatsappquantity || 0),\r\n                    channelwhatsapptotal2: \"\",\r\n                    channelwhatsapptotal3: \"\",\r\n                    channelwhatsapptotal4: \"\",\r\n                    channelwhatsapptotal5: \"\",\r\n                    channelwhatsappadditional1: formatNumberNoDecimals(((datareport.channelwhatsappquantity - datareport.freewhatsappchannel) < 0 ? 0 : (datareport.channelwhatsappquantity - datareport.freewhatsappchannel)) || 0),\r\n                    channelwhatsappadditional2: `$${formatNumberFourDecimals(datareport.channelwhatsappfee || 0)}`,\r\n                    channelwhatsappadditional3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.channelwhatsappcharge || 0) : formatNumber(datareport.channelwhatsappcharge)}`,\r\n                    channelwhatsappadditional4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.channelwhatsappcharge || 0) : \"0.00\"}`,\r\n                    channelwhatsappadditional5: `$${formatNumber(datareport.channelwhatsappcharge || 0)}`,\r\n                    channelother1: formatNumberNoDecimals(datareport.channelotherquantity || 0),\r\n                    channelother2: `$${formatNumberFourDecimals(datareport.channelotherfee || 0)}`,\r\n                    channelother3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.channelothercharge || 0) : formatNumber(datareport.channelothercharge)}`,\r\n                    channelother4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.channelothercharge || 0) : \"0.00\"}`,\r\n                    channelother5: `$${formatNumber(datareport.channelothercharge || 0)}`,\r\n                    conversationwhatsappfree1: formatNumberNoDecimals((datareport.channelwhatsappquantity || 0) * (datareport.freewhatsappconversations || 0)),\r\n                    conversationwhatsappfree2: \"\",\r\n                    conversationwhatsappfree3: \"\",\r\n                    conversationwhatsappfree4: \"\",\r\n                    conversationwhatsappfree5: \"\",\r\n                    conversationwhatsappclient1: formatNumberNoDecimals(datareport.conversationclientwhatquantity || 0),\r\n                    conversationwhatsappclient2: \"\",\r\n                    conversationwhatsappclient3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.conversationclientwhatcharge || 0) : formatNumber(datareport.conversationclientwhatcharge)}`,\r\n                    conversationwhatsappclient4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.conversationclientwhatcharge || 0) : \"0.00\"}`,\r\n                    conversationwhatsappclient5: `$${formatNumber(datareport.conversationclientwhatcharge || 0)}`,\r\n                    conversationwhatsappbusiness1: formatNumberNoDecimals(datareport.conversationcompanywhatquantity || 0),\r\n                    conversationwhatsappbusiness2: \"\",\r\n                    conversationwhatsappbusiness3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.conversationcompanywhatcharge || 0) : formatNumber(datareport.conversationcompanywhatcharge)}`,\r\n                    conversationwhatsappbusiness4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.conversationcompanywhatcharge || 0) : \"0.00\"}`,\r\n                    conversationwhatsappbusiness5: `$${formatNumber(datareport.conversationcompanywhatcharge || 0)}`,\r\n                    messagingminimumsms1: formatNumberNoDecimals(datareport.minimumsmsquantity || 0),\r\n                    messagingminimumsms2: \"\",\r\n                    messagingminimumsms3: \"\",\r\n                    messagingminimumsms4: \"\",\r\n                    messagingminimumsms5: \"\",\r\n                    messagingsms1: formatNumberNoDecimals(datareport.smsquantity || 0),\r\n                    messagingsms2: `$${formatNumberFourDecimals((datareport.unitpricepersms || 0) + (datareport.vcacomissionpersms || 0))}`,\r\n                    messagingsms3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.smscost || 0) : formatNumber(datareport.smscost)}`,\r\n                    messagingsms4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.smscost || 0) : \"0.00\"}`,\r\n                    messagingsms5: `$${formatNumber(datareport.smscost || 0)}`,\r\n                    messagingminimummail1: formatNumberNoDecimals(datareport.minimummailquantity || 0),\r\n                    messagingminimummail2: \"\",\r\n                    messagingminimummail3: \"\",\r\n                    messagingminimummail4: \"\",\r\n                    messagingminimummail5: \"\",\r\n                    messagingmail1: formatNumberNoDecimals(datareport.mailquantity || 0),\r\n                    messagingmail2: `$${formatNumberFourDecimals((datareport.unitepricepermail || 0) + (datareport.vcacomissionpermail || 0))}`,\r\n                    messagingmail3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.mailcost || 0) : formatNumber(datareport.mailcost)}`,\r\n                    messagingmail4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.mailcost || 0) : \"0.00\"}`,\r\n                    messagingmail5: `$${formatNumber(datareport.mailcost || 0)}`,\r\n                    voicephone1: \"\",\r\n                    voicephone2: \"\",\r\n                    voicephone3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callphonecost || 0) : formatNumber(datareport.callphonecost)}`,\r\n                    voicephone4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callphonecost || 0) : \"0.00\"}`,\r\n                    voicephone5: `$${formatNumber(datareport.callphonecost || 0)}`,\r\n                    voicecall1: \"\",\r\n                    voicecall2: \"\",\r\n                    voicecall3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callpubliccost || 0) : formatNumber(datareport.callpubliccost)}`,\r\n                    voicecall4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callpubliccost || 0) : \"0.00\"}`,\r\n                    voicecall5: `$${formatNumber(datareport.callpubliccost || 0)}`,\r\n                    voicevoip1: \"\",\r\n                    voicevoip2: \"\",\r\n                    voicevoip3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callvoipcost || 0) : formatNumber(datareport.callvoipcost)}`,\r\n                    voicevoip4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callvoipcost || 0) : \"0.00\"}`,\r\n                    voicevoip5: `$${formatNumber(datareport.callvoipcost || 0)}`,\r\n                    voicerecording1: \"\",\r\n                    voicerecording2: \"\",\r\n                    voicerecording3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callrecordingcost || 0) : formatNumber(datareport.callrecordingcost)}`,\r\n                    voicerecording4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callrecordingcost || 0) : \"0.00\"}`,\r\n                    voicerecording5: `$${formatNumber(datareport.callrecordingcost || 0)}`,\r\n                    voiceothers1: \"\",\r\n                    voiceothers2: \"\",\r\n                    voiceothers3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callothercost || 0) : formatNumber(datareport.callothercost)}`,\r\n                    voiceothers4: `$${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callothercost || 0) : \"0.00\"}`,\r\n                    voiceothers5: `$${formatNumber(datareport.callothercost || 0)}`,\r\n                    contactfree1: formatNumberNoDecimals(datareport.clientfreequantity || 0),\r\n                    contactfree2: \"\",\r\n                    contactfree3: \"\",\r\n                    contactfree4: \"\",\r\n                    contactfree5: \"\",\r\n                    contacttotal1: formatNumberNoDecimals(datareport.clientquantity || 0),\r\n                    contacttotal2: \"\",\r\n                    contacttotal3: \"\",\r\n                    contacttotal4: \"\",\r\n                    contacttotal5: \"\",\r\n                    contactadditional1: formatNumberNoDecimals(datareport.clientadditionalquantity || 0),\r\n                    contactadditional2: `$${formatNumberFourDecimals(datareport.clientadditionalfee || 0)}`,\r\n                    contactadditional3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.clientadditionalcharge || 0) : formatNumber(datareport.clientadditionalcharge)}`,\r\n                    contactadditional4: `$${datareport.taxrate !== 1 ? getIgv(datareport.igv, datareport.clientadditionalcharge) : \"0.00\"}`,\r\n                    contactadditional5: `$${formatNumber(datareport.clientadditionalcharge || 0)}`,\r\n                    supportplan: datareport.supportplan,\r\n                    supportplan1: \"\",\r\n                    supportplan2: \"\",\r\n                    supportplan3: `$${datareport.taxrate !== 1 ? getTaxableAmount(datareport.igv, datareport.supportbasicfee) : formatNumber(datareport.supportbasicfee)}`,\r\n                    supportplan4: `$${datareport.taxrate !== 1 ? getIgv(datareport.igv, datareport.supportbasicfee) : \"0.00\"}`,\r\n                    supportplan5: `$${formatNumber(datareport.supportbasicfee)}`,\r\n                    additional01service: datareport.additionalservicefee1 ? datareport.additionalservicename1 : \"\",\r\n                    additional01service1: \"\",\r\n                    additional01service2: \"\",\r\n                    additional01service3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), ((datareport.additionalservicefee1 || 0) * datareport.taxrate)) : formatNumber((datareport.additionalservicefee1 || 0) * datareport.taxrate)}`,\r\n                    additional01service4: `$${datareport.taxrate !== 1 ? getIgv(datareport.igv, ((datareport.additionalservicefee1 || 0) * datareport.taxrate)) : \"0.00\"}`,\r\n                    additional01service5: `$${formatNumber((datareport.additionalservicefee1 || 0) * datareport.taxrate)}`,\r\n                    additional02service: datareport.additionalservicefee2 ? datareport.additionalservicename2 : \"\",\r\n                    additional02service1: \"\",\r\n                    additional02service2: \"\",\r\n                    additional02service3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), ((datareport.additionalservicefee2 || 0) * datareport.taxrate)) : formatNumber((datareport.additionalservicefee2 || 0) * datareport.taxrate)}`,\r\n                    additional02service4: `$${datareport.taxrate !== 1 ? getIgv(datareport.igv, ((datareport.additionalservicefee2 || 0) * datareport.taxrate)) : \"0.00\"}`,\r\n                    additional02service5: `$${formatNumber((datareport.additionalservicefee2 || 0) * datareport.taxrate)}`,\r\n                    additional03service: datareport.additionalservicefee3 ? datareport.additionalservicename3 : \"\",\r\n                    additional03service1: \"\",\r\n                    additional03service2: \"\",\r\n                    additional03service3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), ((datareport.additionalservicefee3 || 0) * datareport.taxrate)) : formatNumber((datareport.additionalservicefee3 || 0) * datareport.taxrate)}`,\r\n                    additional03service4: `$${datareport.taxrate !== 1 ? getIgv(datareport.igv, ((datareport.additionalservicefee3 || 0) * datareport.taxrate)) : \"0.00\"}`,\r\n                    additional03service5: `$${formatNumber((datareport.additionalservicefee3 || 0) * datareport.taxrate)}`,\r\n                    totalamount1: \"\",\r\n                    totalamount2: \"\",\r\n                    totalamount3: `$${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.totalcharge || 0) : formatNumber(datareport.totalcharge)}`,\r\n                    totalamount4: `$${datareport.taxrate !== 1 ? getIgv(datareport.igv, datareport.totalcharge) : \"0.00\"}`,\r\n                    totalamount5: `$${formatNumber(datareport.totalcharge || 0)}`,\r\n                    totalcontact: datareport.clientquantity,\r\n                    totalconversation: datareport.conversationquantity,\r\n                    totalinteraction: datareport.interactionquantity,\r\n                    totalagent: datareport.asesorquantity,\r\n                    totalsupervisor: datareport.supervisorquantity,\r\n                    intelligencedetail: intelligenceDetail,\r\n                },\r\n                dataonparameters: true,\r\n                template: t(langKeys.billingreport_template),\r\n                reportname: \"period-report\",\r\n                key: \"period-report\",\r\n            }\r\n\r\n            dispatch(reportPdf(reportbody));\r\n            dispatch(showBackdrop(true));\r\n            setWaitPdf(true);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (waitExport) {\r\n            if (!resExportData.loading && !resExportData.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n                window.open(resExportData.url, '_blank');\r\n            } else if (resExportData.error) {\r\n                const errormessage = t(resExportData.code || \"error_unexpected_error\", { module: t(langKeys.person).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitExport(false);\r\n            }\r\n        }\r\n    }, [resExportData, waitExport]);\r\n\r\n    useEffect(() => {\r\n        if (waitPdf) {\r\n            if (!resultPdf.loading && !resultPdf.error) {\r\n                dispatch(showBackdrop(false));\r\n                setWaitPdf(false);\r\n                if (resultPdf.datacard) {\r\n                    window.open(resultPdf.datacard, '_blank');\r\n                }\r\n            } else if (resultPdf.error) {\r\n                const errormessage = t(resultPdf.code || \"error_unexpected_error\", { module: t(langKeys.person).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitPdf(false);\r\n            }\r\n        }\r\n    }, [resultPdf, waitPdf]);\r\n\r\n    return (\r\n        <Fragment>\r\n            <div>\r\n                <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                    <TextField\r\n                        id=\"date\"\r\n                        className={classes.fieldsfilter}\r\n                        type=\"month\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e) => handleDateChange(e.target.value)}\r\n                        value={dataMain.datetoshow}\r\n                        size=\"small\"\r\n                    />\r\n                    <FieldSelect\r\n                        label={t(langKeys.corporation)}\r\n                        className={classes.fieldsfilter}\r\n                        valueDefault={dataMain.corpid}\r\n                        variant=\"outlined\"\r\n                        onChange={(value) => setdataMain(prev => ({ ...prev, corpid: value?.corpid || 0, orgid: 0 }))}\r\n                        data={dataCorp}\r\n                        optionDesc=\"description\"\r\n                        optionValue=\"corpid\"\r\n                        disabled={[\"ADMINISTRADOR\", \"ADMINISTRADOR P\", \"ADMINISTRADOR LIMADERMA\"].includes(user?.roledesc || '')}\r\n                        orderbylabel={true}\r\n                    />\r\n                    <FieldSelect\r\n                        label={t(langKeys.organization)}\r\n                        className={classes.fieldsfilter}\r\n                        valueDefault={dataMain.orgid}\r\n                        variant=\"outlined\"\r\n                        onChange={(value) => setdataMain(prev => ({ ...prev, orgid: value?.orgid || 0 }))}\r\n                        data={dataOrg.filter((e: any) => { return e.corpid === dataMain.corpid })}\r\n                        optionDesc=\"orgdesc\"\r\n                        optionValue=\"orgid\"\r\n                        orderbylabel={true}\r\n                        disabled={disableOrg}\r\n                    />\r\n                    <FieldSelect\r\n                        label={t(langKeys.totalize)}\r\n                        className={classes.fieldsfilter}\r\n                        valueDefault={dataMain.totalize}\r\n                        variant=\"outlined\"\r\n                        onChange={(value) => setdataMain(prev => ({ ...prev, totalize: value?.value || 0 }))}\r\n                        data={datatotalize}\r\n                        optionDesc=\"description\"\r\n                        optionValue=\"value\"\r\n                        orderbylabel={true}\r\n                    />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        disabled={mainResult.mainData.loading || !canSearch}\r\n                        startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                        style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                        onClick={() => search()}\r\n                    >{t(langKeys.search)}\r\n                    </Button>\r\n                    {!mainResult.mainData.loading && (\r\n                        datareport && <Fragment>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={resExportData.loading}\r\n                                startIcon={<RefreshIcon color=\"secondary\" />}\r\n                                onClick={() => handleCalculate()}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{`${t(langKeys.calculate)}`}\r\n                            </Button>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={resExportData.loading}\r\n                                onClick={() => handleReportPdf()}\r\n                                startIcon={<DownloadIcon />}\r\n                            >{t(langKeys.download)}\r\n                            </Button>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={resExportData.loading}\r\n                                onClick={() => triggerExportDataPerson()}\r\n                                startIcon={<DownloadIcon />}\r\n                            >{`${t(langKeys.report)} ${t(langKeys.uniquecontacts)}`}\r\n                            </Button>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={resExportData.loading}\r\n                                onClick={() => triggerExportDataUser()}\r\n                                startIcon={<DownloadIcon />}\r\n                            >{`${t(langKeys.report)} ${t(langKeys.agents_plural)}`}\r\n                            </Button>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={resExportData.loading}\r\n                                onClick={() => triggerExportDataConversation()}\r\n                                startIcon={<DownloadIcon />}\r\n                            >{`${t(langKeys.report)} ${t(langKeys.conversationwhatsapp)}`}\r\n                            </Button>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={resExportData.loading}\r\n                                onClick={() => triggerExportDataHsmHistory('SMS')}\r\n                                startIcon={<DownloadIcon />}\r\n                            >{`${t(langKeys.report)} ${t(langKeys.sms)}`}\r\n                            </Button>\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={resExportData.loading}\r\n                                onClick={() => triggerExportDataHsmHistory('MAIL')}\r\n                                startIcon={<DownloadIcon />}\r\n                            >{`${t(langKeys.report)} ${t(langKeys.mail)}`}\r\n                            </Button>\r\n                        </Fragment>)\r\n                    }\r\n                </div>\r\n            </div>\r\n            {\r\n                !mainResult.mainData.loading && (\r\n                    <div style={{ width: \"100%\" }} ref={el}>\r\n                        {datareport && <div className={classes.containerDetail}>\r\n                            <div className=\"row-zyx\" >\r\n                                <FieldView\r\n                                    className=\"col-6\"\r\n                                    label={t(langKeys.client)}\r\n                                    value={requestType === 2 ? datareport.orgdesc : datareport.corpdesc}\r\n                                />\r\n                            </div>\r\n                            <div className=\"row-zyx\">\r\n                                <FieldView\r\n                                    className=\"col-6\"\r\n                                    label={\"Plan\"}\r\n                                    value={datareport.billingplan}\r\n                                />\r\n                            </div>\r\n                            <div className=\"row-zyx\">\r\n                                <FieldView\r\n                                    className=\"col-6\"\r\n                                    label={t(langKeys.period)}\r\n                                    value={`${datareport.year}-${String(datareport.month).padStart(2, '0')}`}\r\n                                />\r\n                            </div>\r\n                            <TableContainer component={Paper} style={{ overflow: \"hidden\" }}>\r\n                                <Table aria-label=\"customized table\">\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <StyledTableCell align=\"left\">{t(langKeys.billingreportitem)}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">{t(langKeys.billingreportquantity)}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">{t(langKeys.billingreportrate)}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">{t(langKeys.billingreporttaxableamount)}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">{t(langKeys.billingreporttaxableiva)}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">{t(langKeys.billingreportamount)}</StyledTableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell><b>{t(langKeys.basecost)}</b></StyledTableCell>\r\n                                            <StyledTableCell></StyledTableCell>\r\n                                            <StyledTableCell></StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.basicfee || 0) : formatNumber(datareport.basicfee)}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.basicfee || 0) : \"0.00\"}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">${datareport.basicfee ? formatNumber(datareport.basicfee || 0) : \"0.00\"}</StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell>\r\n                                                <div><b>{t(langKeys.agents_plural)}</b></div>\r\n                                                <div>{t(langKeys.contracted)}</div>\r\n                                                <div>{t(langKeys.additional)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.userfreequantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.useradditionalquantity || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumberFourDecimals(datareport.useradditionalfee || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.useradditionalcharge || 0) : formatNumber(datareport.useradditionalcharge)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.useradditionalcharge || 0) : \"0.00\"}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumber(datareport.useradditionalcharge || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell>\r\n                                                <div><b>{t(langKeys.channel_plural)}</b></div>\r\n                                                <div>{t(langKeys.contracted)}</div>\r\n                                                <div>{t(langKeys.whatsappfreechannel)}</div>\r\n                                                <div>{t(langKeys.whatsappchannel)}</div>\r\n                                                <div>{t(langKeys.whatsappadditionalchannel)}</div>\r\n                                                <div>{t(langKeys.otherchannels)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.channelfreequantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.freewhatsappchannel || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.channelwhatsappquantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(((datareport.channelwhatsappquantity - datareport.freewhatsappchannel) < 0 ? 0 : (datareport.channelwhatsappquantity - datareport.freewhatsappchannel)) || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.channelotherquantity || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumberFourDecimals(datareport.channelwhatsappfee || 0)}</div>\r\n                                                <div>${formatNumberFourDecimals(datareport.channelotherfee || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.channelwhatsappcharge || 0) : formatNumber(datareport.channelwhatsappcharge)}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.channelothercharge || 0) : formatNumber(datareport.channelothercharge)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.channelwhatsappcharge || 0) : \"0.00\"}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.channelothercharge || 0) : \"0.00\"}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumber(datareport.channelwhatsappcharge || 0)}</div>\r\n                                                <div>${formatNumber(datareport.channelothercharge || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell>\r\n                                                <div><b>{t(langKeys.billingreportconversations)}</b></div>\r\n                                                <div>{t(langKeys.reportfreeconversations)}</div>\r\n                                                <div>{t(langKeys.userinitiatedconversations)}</div>\r\n                                                <div>{t(langKeys.businessinitiatedconversations)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>{formatNumberNoDecimals((datareport.channelwhatsappquantity || 0) * (datareport.freewhatsappconversations || 0))}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.conversationclientwhatquantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.conversationcompanywhatquantity || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.conversationclientwhatcharge || 0) : formatNumber(datareport.conversationclientwhatcharge)}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.conversationcompanywhatcharge || 0) : formatNumber(datareport.conversationcompanywhatcharge)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.conversationclientwhatcharge || 0) : \"0.00\"}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.conversationcompanywhatcharge || 0) : \"0.00\"}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumber(datareport.conversationclientwhatcharge || 0)}</div>\r\n                                                <div>${formatNumber(datareport.conversationcompanywhatcharge || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell>\r\n                                                <div><b>{t(langKeys.billingreportmessaging)}</b></div>\r\n                                                <div>{t(langKeys.minimumsmsquantity)}</div>\r\n                                                <div>{t(langKeys.billingreportsms)}</div>\r\n                                                <div>{t(langKeys.minimummailquantity)}</div>\r\n                                                <div>{t(langKeys.billingreportmail)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.minimumsmsquantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.smsquantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.minimummailquantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.mailquantity || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumberFourDecimals((datareport.unitpricepersms || 0) + (datareport.vcacomissionpersms || 0))}</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumberFourDecimals((datareport.unitepricepermail || 0) + (datareport.vcacomissionpermail || 0))}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.smscost || 0) : formatNumber(datareport.smscost)}</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.mailcost || 0) : formatNumber(datareport.mailcost)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.smscost || 0) : \"0.00\"}</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.mailcost || 0) : \"0.00\"}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumber(datareport.smscost || 0)}</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumber(datareport.mailcost || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell>\r\n                                                <div><b>{t(langKeys.periodreportvoice)}</b></div>\r\n                                                <div>{t(langKeys.periodreportphone)}</div>\r\n                                                <div>{t(langKeys.periodreportpstn)}</div>\r\n                                                <div>{t(langKeys.periodreportvoip)}</div>\r\n                                                <div>{t(langKeys.periodreportrecording)}</div>\r\n                                                <div>{t(langKeys.periodreportother)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callphonecost || 0) : formatNumber(datareport.callphonecost)}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callpubliccost || 0) : formatNumber(datareport.callpubliccost)}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callvoipcost || 0) : formatNumber(datareport.callvoipcost)}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callrecordingcost || 0) : formatNumber(datareport.callrecordingcost)}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callothercost || 0) : formatNumber(datareport.callothercost)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callphonecost || 0) : \"0.00\"}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callpubliccost || 0) : \"0.00\"}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callvoipcost || 0) : \"0.00\"}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callrecordingcost || 0) : \"0.00\"}</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.callothercost || 0) : \"0.00\"}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumber(datareport.callphonecost || 0)}</div>\r\n                                                <div>${formatNumber(datareport.callpubliccost || 0)}</div>\r\n                                                <div>${formatNumber(datareport.callvoipcost || 0)}</div>\r\n                                                <div>${formatNumber(datareport.callrecordingcost || 0)}</div>\r\n                                                <div>${formatNumber(datareport.callothercost || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell>\r\n                                                <div><b>{t(langKeys.billingreportcontacts)}</b></div>\r\n                                                <div>{t(langKeys.freecontacts)}</div>\r\n                                                <div>{t(langKeys.billingreporttotalcontacts)}</div>\r\n                                                <div>{t(langKeys.billingreportadditionalcontacts)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.clientfreequantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.clientquantity || 0)}</div>\r\n                                                <div>{formatNumberNoDecimals(datareport.clientadditionalquantity || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumberFourDecimals(datareport.clientadditionalfee || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.clientadditionalcharge || 0) : formatNumber(datareport.clientadditionalcharge)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${datareport.taxrate !== 1 ? getIgv(datareport.igv, datareport.clientadditionalcharge) : \"0.00\"}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div style={{ color: \"transparent\" }}>.</div>\r\n                                                <div>${formatNumber(datareport.clientadditionalcharge || 0)}</div>\r\n                                            </StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        {datareport?.artificialintelligencedata?.map((item: any) => (\r\n                                            <StyledTableRow>\r\n                                                <StyledTableCell>\r\n                                                    <div><b>{item.type} - {item.provider} ({item.plan})</b></div>\r\n                                                </StyledTableCell>\r\n                                                <StyledTableCell align=\"right\">\r\n                                                    <div>{formatNumberNoDecimals(item.aiquantity || 0)}</div>\r\n                                                </StyledTableCell>\r\n                                                <StyledTableCell align=\"right\">\r\n                                                    {((item.aiquantity || 0) > (item.freeinteractions || 0)) && <div>${formatNumberFourDecimals(item.additionalfee || 0)}</div>}\r\n                                                    {((item.aiquantity || 0) <= (item.freeinteractions || 0)) && <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                </StyledTableCell>\r\n                                                <StyledTableCell align=\"right\">\r\n                                                    <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), item.aicost || 0) : formatNumber(item.aicost)}</div>\r\n                                                </StyledTableCell>\r\n                                                <StyledTableCell align=\"right\">\r\n                                                    <div>${datareport.taxrate !== 1 ? getIgv(datareport.igv, item.aicost) : \"0.00\"}</div>\r\n                                                </StyledTableCell>\r\n                                                <StyledTableCell align=\"right\">\r\n                                                    <div>${formatNumber(item.aicost || 0)}</div>\r\n                                                </StyledTableCell>\r\n                                            </StyledTableRow>\r\n                                        ))}\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell><b>{t(langKeys.supportplan)} {datareport.supportplan}</b></StyledTableCell>\r\n                                            <StyledTableCell></StyledTableCell>\r\n                                            <StyledTableCell></StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">${datareport.taxrate !== 1 ? getTaxableAmount(datareport.igv, datareport.supportbasicfee) : formatNumber(datareport.supportbasicfee)}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">${datareport.taxrate !== 1 ? getIgv(datareport.igv, datareport.supportbasicfee) : \"0.00\"}</StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">${formatNumber(datareport.supportbasicfee)}</StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell>\r\n                                                {datareport.additionalservicefee1 ? <div className={clsx({ [classes.transparent]: datareport.additionalservicename1 === \"\" })}>{datareport.additionalservicename1 === \"\" ? <div style={{ color: \"transparent\" }}>.</div> : datareport.additionalservicename1}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                {datareport.additionalservicefee2 ? <div className={clsx({ [classes.transparent]: datareport.additionalservicename2 === \"\" })}>{datareport.additionalservicename2 === \"\" ? <div style={{ color: \"transparent\" }}>.</div> : datareport.additionalservicename2}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                {datareport.additionalservicefee3 ? <div className={clsx({ [classes.transparent]: datareport.additionalservicename3 === \"\" })}>{datareport.additionalservicename3 === \"\" ? <div style={{ color: \"transparent\" }}>.</div> : datareport.additionalservicename3}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {datareport.additionalservicefee1 ? <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), ((datareport.additionalservicefee1 || 0) * datareport.taxrate)) : formatNumber((datareport.additionalservicefee1 || 0) * datareport.taxrate)}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                {datareport.additionalservicefee2 ? <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), ((datareport.additionalservicefee2 || 0) * datareport.taxrate)) : formatNumber((datareport.additionalservicefee2 || 0) * datareport.taxrate)}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                {datareport.additionalservicefee3 ? <div>${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), ((datareport.additionalservicefee3 || 0) * datareport.taxrate)) : formatNumber((datareport.additionalservicefee3 || 0) * datareport.taxrate)}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {datareport.additionalservicefee1 ? <div>${datareport.taxrate !== 1 ? getIgv(datareport.igv, ((datareport.additionalservicefee1 || 0) * datareport.taxrate)) : \"0.00\"}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                {datareport.additionalservicefee2 ? <div>${datareport.taxrate !== 1 ? getIgv(datareport.igv, ((datareport.additionalservicefee2 || 0) * datareport.taxrate)) : \"0.00\"}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                {datareport.additionalservicefee3 ? <div>${datareport.taxrate !== 1 ? getIgv(datareport.igv, ((datareport.additionalservicefee3 || 0) * datareport.taxrate)) : \"0.00\"}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {datareport.additionalservicefee1 ? <div>${formatNumber((datareport.additionalservicefee1 || 0) * datareport.taxrate)}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                {datareport.additionalservicefee2 ? <div>${formatNumber((datareport.additionalservicefee2 || 0) * datareport.taxrate)}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                                {datareport.additionalservicefee3 ? <div>${formatNumber((datareport.additionalservicefee3 || 0) * datareport.taxrate)}</div> : <div style={{ color: \"transparent\" }}>.</div>}\r\n                                            </StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                        <StyledTableRow>\r\n                                            <StyledTableCell>\r\n                                                <b>{t(langKeys.periodamount)}</b>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                ${datareport.taxrate !== 1 ? getTaxableAmount((datareport.taxrate ? datareport.taxrate - 1 : 0), datareport.totalcharge || 0) : formatNumber(datareport.totalcharge)}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                ${datareport.taxrate !== 1 ? getIgv(datareport.igv, datareport.totalcharge) : \"0.00\"}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"right\">\r\n                                                ${formatNumber(datareport.totalcharge || 0)}\r\n                                            </StyledTableCell>\r\n                                        </StyledTableRow>\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                            <div style={{ paddingTop: 20, paddingBottom: 20, fontWeight: \"bold\", fontSize: \"1.5em\" }}>{t(langKeys.servicedata)}</div>\r\n                            <TableContainer component={Paper} style={{ overflow: \"hidden\" }}>\r\n                                <Table aria-label=\"customized table\">\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                <div>{datareport.clientwhatquantity}</div>\r\n                                                <div>{t(langKeys.billingreport_unique)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                <div>{datareport.clientquantity - datareport.clientwhatquantity}</div>\r\n                                                <div>{t(langKeys.billingreport_other)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                <div>{datareport.conversationquantity}</div>\r\n                                                <div>{t(langKeys.billingreport_conversation)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                <div>{datareport.interactionquantity}</div>\r\n                                                <div>{t(langKeys.billingreport_interaction)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                <div>{datareport.supervisorquantity}</div>\r\n                                                <div>{t(langKeys.billingreport_supervisor)}</div>\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                <div>{datareport.asesorquantity}</div>\r\n                                                <div>{t(langKeys.billingreport_agent)}</div>\r\n                                            </StyledTableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        </div>}\r\n                        {!datareport && <div className={classes.containerDetail}>\r\n                            <div className=\"row-zyx\" >\r\n                                <FieldView\r\n                                    className=\"col-6\"\r\n                                    label={\"\"}\r\n                                    value={t(langKeys.billingperiodnotfound)}\r\n                                />\r\n                            </div>\r\n                        </div>}\r\n                    </div>\r\n                )\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nconst IDPAYMENTS = \"IDPAYMENTS\";\r\nconst Payments: React.FC<{ dataCorp: any, dataOrg: any, setCustomSearch(value: React.SetStateAction<{ year: number; month: number; corpid: number; orgid: number; totalize: number; }>): void }> = ({ dataCorp, dataOrg, setCustomSearch }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeRes = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main.mainData);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        corpid: user?.corpid || 0,\r\n        month: (new Date().getMonth() + 1).toString().padStart(2, \"0\"),\r\n        orgid: 0,\r\n        year: String(new Date().getFullYear()),\r\n        paymentstatus: \"\",\r\n        currency: \"\"\r\n    });\r\n\r\n    const [dataInvoice, setDataInvoice] = useState<Dictionary[]>([]);\r\n    const [disableSearch, setdisableSearch] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<Dictionary | null>(null);\r\n    const [rowSelect, setRowSelect] = useState(false);\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitRefresh, setWaitRefresh] = useState(false);\r\n    const [modalRowSelect, setModalRowSelect] = useState<Dictionary | null>(null);\r\n    const [modalRowSend, setModalRowSend] = useState(false);\r\n\r\n    const dataCurrency = [{ value: \"PEN\", description: \"PEN\" }, { value: \"USD\", description: \"USD\" }]\r\n    const dataPayment = [{ value: \"PENDING\", description: t(langKeys.PENDING) }, { value: \"PAID\", description: t(langKeys.PAID) }, { value: \"NONE\", description: t(langKeys.NONE) }]\r\n\r\n    const fetchData = () => dispatch(getCollection(selInvoiceClient(dataMain)));\r\n\r\n    const search = () => dispatch(getCollection(selInvoiceClient(dataMain)));\r\n\r\n    const refreshInvoice = (data: any) => {\r\n        const callback = () => {\r\n            dispatch(execute(invoiceRefresh(data)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitRefresh(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_invoicerefresh),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n        dispatch(setMemoryTable({\r\n            id: IDPAYMENTS\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (rowSelect) {\r\n            if (rowSelected) {\r\n                setCustomSearch(prev => ({\r\n                    ...prev,\r\n                    year: rowSelected?.year,\r\n                    month: rowSelected?.month,\r\n                    corpid: rowSelected?.corpid,\r\n                    orgid: rowSelected?.orgid,\r\n                    totalize: rowSelected?.orgid === 0 ? 1 : 2,\r\n                }));\r\n                setRowSelect(false);\r\n            }\r\n        }\r\n    }, [rowSelected, rowSelect])\r\n\r\n    useEffect(() => {\r\n        if (modalRowSend) {\r\n            setViewSelected(\"view-2\");\r\n            setRowSelected(modalRowSelect);\r\n            setModalRowSend(false);\r\n        }\r\n    }, [modalRowSelect, modalRowSend])\r\n\r\n    useEffect(() => {\r\n        setdisableSearch(dataMain.year === \"\")\r\n    }, [dataMain])\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.invoicesuccessfullyvoided) }))\r\n                fetchData && fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\")\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.organization_plural).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    useEffect(() => {\r\n        if (waitRefresh) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.success) }))\r\n                fetchData && fetchData();\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\")\r\n            } else if (executeRes.error) {\r\n                const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.organization_plural).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitRefresh(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRes, waitRefresh])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.loading && !mainResult.error) {\r\n            setDataInvoice(mainResult.data.filter(x => x.invoicestatus !== 'CANCELED')?.map(x => ({\r\n                ...x,\r\n                invoicestatuscolumn: t(x.invoicestatus),\r\n                paymentstatuscolumn: t(x.paymentstatus),\r\n                hasreportcolumn: x.hasreport ? t(langKeys.toreport) : t(langKeys.none),\r\n                docnumbercolumn: (x.serie && x.correlative) ? (x.serie + '-' + x.correlative.toString().padStart(8, '0')) : 'X000-00000000',\r\n                urlxmlcolumn: x.urlxml ? t(langKeys.xmldocumentopen) : t(langKeys.pendingpayment),\r\n                urlcdrcolumn: x.urlcdr ? t(langKeys.cdrdocumentopen) : t(langKeys.pendingpayment),\r\n            })))\r\n        }\r\n    }, [mainResult])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                NoFilter: true,\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                accessor: 'orgid',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n\r\n                    var showPayButton = false;\r\n                    var showUpdateButton = false;\r\n\r\n                    if (!(((row.invoicestatus === \"ERROR\" || row.invoicestatus === \"PENDING\" || row.invoicestatus === \"CANCELED\") || row.paymentstatus !== \"PENDING\") || row.totalamount <= 0)) {\r\n                        showPayButton = true;\r\n                    }\r\n\r\n                    if (row.invoicestatus !== \"INVOICED\" && row.paymentstatus !== \"PAID\" && row.hasreport && user?.roledesc === \"SUPERADMIN\") {\r\n                        showUpdateButton = true;\r\n                    }\r\n\r\n                    return (\r\n                        <>\r\n                            {showPayButton && <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ backgroundColor: \"#55BD84\", marginRight: \"10px\" }}\r\n                                startIcon={<PaymentIcon style={{ color: 'white' }} />}\r\n                                onClick={() => { setModalRowSelect(row); setModalRowSend(true) }}\r\n                            >{t(langKeys.pay)}\r\n                            </Button>}\r\n                            {showUpdateButton && <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                                startIcon={<RefreshIcon style={{ color: 'white' }} />}\r\n                                onClick={() => { refreshInvoice(row) }}\r\n                            >{t(langKeys.refresh)}\r\n                            </Button>}\r\n                        </>\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.corporation),\r\n                accessor: 'corpdesc',\r\n            },\r\n            {\r\n                Header: t(langKeys.organization),\r\n                accessor: 'orgdesc',\r\n            },\r\n            {\r\n                Header: t(langKeys.year),\r\n                accessor: 'year',\r\n            },\r\n            {\r\n                Header: t(langKeys.month),\r\n                accessor: 'month',\r\n            },\r\n            {\r\n                Header: t(langKeys.currency),\r\n                accessor: 'currency',\r\n            },\r\n            {\r\n                Header: t(langKeys.totalamount),\r\n                accessor: 'totalamount',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { totalamount } = props.cell.row.original;\r\n                    return formatNumber(totalamount || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.invoicestatus),\r\n                accessor: 'invoicestatuscolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.paymentstatus),\r\n                accessor: 'paymentstatuscolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.gotoreport),\r\n                accessor: 'hasreportcolumn',\r\n                Cell: (props: any) => {\r\n                    const selectedrow = props.cell.row.original;\r\n                    const hasreport = selectedrow?.hasreport;\r\n\r\n                    if (hasreport) {\r\n                        return (\r\n                            <Fragment>\r\n                                <div>\r\n                                    {<span onClick={() => { setRowSelected(selectedrow); setRowSelect(true) }} style={{ display: \"block\", cursor: \"pointer\", color: \"blue\", textDecoration: \"underline\" }}>{t(langKeys.toreport)}</span>}\r\n                                </div>\r\n                            </Fragment>\r\n                        )\r\n                    } else {\r\n                        return t(langKeys.none);\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.billingvoucher),\r\n                accessor: 'docnumbercolumn',\r\n                Cell: (props: any) => {\r\n                    const urlpdf = props.cell.row.original.urlpdf;\r\n                    const docnumber = (props.cell.row.original.serie ? props.cell.row.original.serie : 'X000') + '-' + (props.cell.row.original.correlative ? props.cell.row.original.correlative.toString().padStart(8, '0') : '00000000');\r\n                    return (\r\n                        <Fragment>\r\n                            <div>\r\n                                {(urlpdf ?\r\n                                    <a href={urlpdf} target=\"_blank\" style={{ display: \"block\" }} rel=\"noreferrer\">{docnumber}</a>\r\n                                    :\r\n                                    <span style={{ display: \"block\" }}>{docnumber}</span>)\r\n                                }\r\n                            </div>\r\n                        </Fragment>\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.xmldocument),\r\n                accessor: 'urlxmlcolumn',\r\n                Cell: (props: any) => {\r\n                    const urlxml = props.cell.row.original.urlxml;\r\n                    return (\r\n                        <Fragment>\r\n                            <div>\r\n                                {(urlxml ?\r\n                                    <a href={urlxml} target=\"_blank\" style={{ display: \"block\" }} rel=\"noreferrer\">{t(langKeys.xmldocumentopen)}</a>\r\n                                    :\r\n                                    <span style={{ display: \"block\" }}>{t(langKeys.pendingpayment)}</span>)\r\n                                }\r\n                            </div>\r\n                        </Fragment>\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.cdrdocument),\r\n                accessor: 'urlcdrcolumn',\r\n                Cell: (props: any) => {\r\n                    const urlcdr = props.cell.row.original.urlcdr;\r\n                    return (\r\n                        <Fragment>\r\n                            <div>\r\n                                {(urlcdr ?\r\n                                    <a href={urlcdr} target=\"_blank\" style={{ display: \"block\" }} rel=\"noreferrer\">{t(langKeys.cdrdocumentopen)}</a>\r\n                                    :\r\n                                    <span style={{ display: \"block\" }}>{t(langKeys.pendingpayment)}</span>)\r\n                                }\r\n                            </div>\r\n                        </Fragment>\r\n                    )\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <div style={{ width: '100%' }}>\r\n                <TableZyx\r\n                    columns={columns}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.year)}\r\n                                style={{ width: 140 }}\r\n                                valueDefault={dataMain.year}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, year: value?.value || 0 }))}\r\n                                data={dataYears}\r\n                                optionDesc=\"value\"\r\n                                optionValue=\"value\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.month)}\r\n                                style={{ width: 214 }}\r\n                                valueDefault={dataMain.month}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, month: value.map((o: Dictionary) => o.val).join() }))}\r\n                                data={dataMonths}\r\n                                uset={true}\r\n                                prefixTranslation=\"month_\"\r\n                                optionDesc=\"val\"\r\n                                optionValue=\"val\"\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.corporation)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.corpid}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, corpid: value?.corpid || 0, orgid: 0 }))}\r\n                                data={dataCorp}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"corpid\"\r\n                                disabled={[\"ADMINISTRADOR\", \"ADMINISTRADOR P\", \"ADMINISTRADOR LIMADERMA\"].includes(user?.roledesc || '')}\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.organization)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.orgid}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, orgid: value?.orgid || 0 }))}\r\n                                data={dataOrg.filter((e: any) => { return e.corpid === dataMain.corpid })}\r\n                                optionDesc=\"orgdesc\"\r\n                                optionValue=\"orgid\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.currency)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.currency}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, currency: value?.value || '' }))}\r\n                                data={dataCurrency}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"value\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.paymentstatus)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.paymentstatus}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, paymentstatus: value?.value || '' }))}\r\n                                data={dataPayment}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"value\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <Button\r\n                                disabled={mainResult.loading || disableSearch}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                onClick={search}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={dataInvoice}\r\n                    filterGeneral={false}\r\n                    loading={mainResult.loading}\r\n                    download={true}\r\n                    register={false}\r\n                    pageSizeDefault={IDPAYMENTS === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDPAYMENTS === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDPAYMENTS === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <PaymentsDetail\r\n                fetchData={fetchData}\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst PaymentsDetail: FC<DetailProps> = ({ data, setViewSelected, fetchData }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const culqiSelector = useSelector(state => state.culqi.request);\r\n    const mainResult = useSelector(state => state.main);\r\n    const multiResult = useSelector(state => state.main.multiDataAux);\r\n    const exchangeRequest = useSelector(state => state.culqi.requestGetExchangeRate);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [cardList, setCardList] = useState<any>([]);\r\n    const [comments, setComments] = useState('');\r\n    const [purchaseOrder, setPurchaseOrder] = useState('');\r\n    const [commentsError, setCommentsError] = useState('');\r\n    const [purchaseOrderError, setPurchaseOrderError] = useState('');\r\n    const [paymentDisabled, setPaymentDisabled] = useState(false);\r\n    const [publicKey, setPublicKey] = useState('');\r\n    const [showCulqi, setShowCulqi] = useState(false);\r\n    const [totalAmount, setTotalAmount] = useState(0);\r\n    const [totalPay, setTotalPay] = useState(0);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitPay, setWaitPay] = useState(false);\r\n    const [override, setOverride] = useState(false);\r\n    const [detractionAlert, setDetractionAlert] = useState(false);\r\n    const [detractionAmount, setDetractionAmount] = useState(0);\r\n    const [paymentCardId, setPaymentCardId] = useState(0);\r\n    const [paymentCardCode, setPaymentCardCode] = useState('');\r\n    const [paymentType, setPaymentType] = useState('FAVORITE');\r\n    const [favoriteCardId, setFavoriteCardId] = useState(0);\r\n    const [favoriteCardNumber, setFavoriteCardNumber] = useState('');\r\n    const [favoriteCardCode, setFavoriteCardCode] = useState('');\r\n\r\n    const dataPayment = [{ val: \"FAVORITE\", description: t(langKeys.paymentfavorite) }, { val: \"CARD\", description: t(langKeys.paymentcard) }, { val: \"CULQI\", description: t(langKeys.paymentculqi) }];\r\n\r\n    const handlePay = () => {\r\n        const callback = () => {\r\n            dispatch(showBackdrop(true));\r\n            dispatch(charge({\r\n                invoiceid: data?.invoiceid,\r\n                settings: {\r\n                    title: data?.description,\r\n                    description: data?.productdescription,\r\n                    currency: data?.currency,\r\n                    amount: Math.round(((totalPay * 100) + Number.EPSILON) * 100) / 100,\r\n                },\r\n                token: null,\r\n                metadata: {},\r\n                purchaseorder: purchaseOrder,\r\n                comments: comments,\r\n                corpid: data?.corpid,\r\n                orgid: data?.orgid,\r\n                override: override,\r\n                paymentcardid: paymentCardId,\r\n                paymentcardcode: paymentCardCode,\r\n                iscard: true,\r\n            }));\r\n            setWaitPay(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_payment),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(getCollection(getAppsettingInvoiceSel()));\r\n        dispatch(getExchangeRate(null));\r\n        dispatch(getMultiCollectionAux([listPaymentCard({ corpid: user?.corpid || 0, id: 0, orgid: 0 })]));\r\n        dispatch(showBackdrop(true));\r\n        setWaitSave(true);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const indexCard = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_PAYMENTCARD_LST'));\r\n\r\n        if (indexCard > -1) {\r\n            setCardList({ loading: false, data: multiResult.data[indexCard] && multiResult.data[indexCard].success ? multiResult.data[indexCard].data : [] });\r\n        }\r\n    }, [multiResult]);\r\n\r\n    useEffect(() => {\r\n        if (cardList) {\r\n            if (cardList.data) {\r\n                if (cardList.data.length > 0) {\r\n                    var favoriteCard = cardList.data.find((o: { favorite: boolean; }) => o.favorite === true);\r\n\r\n                    if (favoriteCard) {\r\n                        setFavoriteCardId(favoriteCard.paymentcardid);\r\n                        setFavoriteCardNumber(favoriteCard.cardnumber);\r\n                        setFavoriteCardCode(favoriteCard.cardcode);\r\n                        setPaymentCardId(favoriteCard.paymentcardid);\r\n                        setPaymentCardCode(favoriteCard.cardcode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [cardList]);\r\n\r\n    useEffect(() => {\r\n        if (paymentType) {\r\n            if (paymentType === \"FAVORITE\") {\r\n                setPaymentCardId(favoriteCardId);\r\n                setPaymentCardCode(favoriteCardCode);\r\n            }\r\n\r\n            if (paymentType === \"CARD\" || paymentType === \"CULQI\") {\r\n                setPaymentCardId(0);\r\n                setPaymentCardCode('');\r\n            }\r\n        }\r\n    }, [paymentType]);\r\n\r\n    useEffect(() => {\r\n        if (waitPay) {\r\n            if (!culqiSelector.loading && culqiSelector.data) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: '' + t(culqiSelector.message || langKeys.success) }))\r\n                dispatch(showBackdrop(false));\r\n                dispatch(resetCharge());\r\n                handleCulqiSuccess && handleCulqiSuccess();\r\n                setWaitPay(false);\r\n            }\r\n            else if (culqiSelector.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: '' + t(culqiSelector.message || langKeys.error_cos_unexpected) }))\r\n                dispatch(showBackdrop(false));\r\n                dispatch(resetCharge());\r\n                setWaitPay(false);\r\n            }\r\n        }\r\n    }, [culqiSelector, waitPay]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!mainResult.mainData.loading && !exchangeRequest.loading) {\r\n                dispatch(showBackdrop(false));\r\n\r\n                if (mainResult.mainData.data) {\r\n                    if (mainResult.mainData.data[0]) {\r\n                        var appsetting = mainResult.mainData.data[0];\r\n                        var country = (data?.orgcountry || data?.corpcountry);\r\n                        var doctype = (data?.orgdoctype || data?.corpdoctype);\r\n\r\n                        if (country && doctype) {\r\n                            if (country === 'PE' && doctype === '6') {\r\n                                var compareamount = (data?.totalamount || 0);\r\n\r\n                                if (data?.currency === 'USD') {\r\n                                    compareamount = compareamount * (exchangeRequest?.exchangerate || 0);\r\n                                }\r\n\r\n                                if (compareamount > appsetting.detractionminimum) {\r\n                                    setTotalPay(Math.round(((data?.totalamount || 0) - ((data?.totalamount || 0) * (appsetting.detraction || 0)) + Number.EPSILON) * 100) / 100);\r\n                                    setTotalAmount(Math.round(((data?.totalamount || 0) + Number.EPSILON) * 100) / 100);\r\n                                    setOverride(true);\r\n                                    setShowCulqi(true);\r\n                                    setDetractionAlert(true);\r\n                                    setDetractionAmount(Math.round((((appsetting.detraction || 0) * 100) + Number.EPSILON) * 100) / 100);\r\n                                }\r\n                                else {\r\n                                    setTotalPay(Math.round(((data?.totalamount || 0) + Number.EPSILON) * 100) / 100);\r\n                                    setTotalAmount(Math.round(((data?.totalamount || 0) + Number.EPSILON) * 100) / 100);\r\n                                    setShowCulqi(true);\r\n                                }\r\n                            }\r\n                            else {\r\n                                setTotalPay(Math.round(((data?.totalamount || 0) + Number.EPSILON) * 100) / 100);\r\n                                setTotalAmount(Math.round(((data?.totalamount || 0) + Number.EPSILON) * 100) / 100);\r\n                                setShowCulqi(true);\r\n                            }\r\n                        }\r\n\r\n                        setPublicKey(appsetting.publickey);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [mainResult, exchangeRequest, waitSave])\r\n\r\n    const handleCulqiSuccess = () => {\r\n        fetchData();\r\n        setViewSelected(\"view-1\");\r\n    }\r\n\r\n    const handlePurchaseOrder = (value: any) => {\r\n        setPurchaseOrder(value);\r\n        if (value.length > 15) {\r\n            setPurchaseOrderError(t(langKeys.validation15char));\r\n            setPaymentDisabled(true);\r\n        }\r\n        else {\r\n            setPurchaseOrderError('');\r\n            if (comments.length <= 150) {\r\n                setPaymentDisabled(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleComments = (value: any) => {\r\n        setComments(value);\r\n        if (value.length > 150) {\r\n            setCommentsError(t(langKeys.validation150char));\r\n            setPaymentDisabled(true);\r\n        }\r\n        else {\r\n            setCommentsError('');\r\n            if (purchaseOrder.length <= 15) {\r\n                setPaymentDisabled(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    const paymentBread = [\r\n        { id: \"view-1\", name: t(langKeys.payment) },\r\n        { id: \"view-2\", name: t(langKeys.paymentdetail) }\r\n    ];\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={paymentBread}\r\n                            handleClick={(id) => { setViewSelected(id); fetchData(); }}\r\n                        />\r\n                        <TitleDetail\r\n                            title={data?.description}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => { setViewSelected(\"view-1\"); fetchData(); }}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {(data?.paymentstatus === \"PENDING\" && (data?.invoicestatus === \"INVOICED\" || data?.invoicestatus === \"DRAFT\") && paymentType === \"CULQI\" && publicKey && showCulqi) &&\r\n                            <CulqiModal\r\n                                type=\"CHARGE\"\r\n                                invoiceid={data?.invoiceid}\r\n                                title={data?.description}\r\n                                description={data?.productdescription}\r\n                                currency={data?.currency}\r\n                                amount={Math.round(((totalPay * 100) + Number.EPSILON) * 100) / 100}\r\n                                callbackOnSuccess={() => { handleCulqiSuccess() }}\r\n                                buttontitle={t(langKeys.proceedpayment)}\r\n                                purchaseorder={purchaseOrder}\r\n                                comments={comments}\r\n                                corpid={data?.corpid}\r\n                                orgid={data?.orgid}\r\n                                disabled={paymentDisabled}\r\n                                successmessage={t(langKeys.culqipaysuccess)}\r\n                                publickey={publicKey}\r\n                                override={override}\r\n                                totalpay={totalPay}\r\n                            >\r\n                            </CulqiModal>\r\n                        }\r\n                        {(data?.paymentstatus === \"PENDING\" && (data?.invoicestatus === \"INVOICED\" || data?.invoicestatus === \"DRAFT\") && (paymentType === \"FAVORITE\" || paymentType === \"CARD\")) &&\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"button\"\r\n                                startIcon={<AttachMoneyIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                                onClick={handlePay}\r\n                                disabled={paymentDisabled || !paymentCardId || !paymentCardCode}\r\n                            >{t(langKeys.proceedpayment)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div style={{ backgroundColor: 'white', padding: 16 }}>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className={classes.section}\r\n                            label={''}\r\n                            value={t(langKeys.paymentmethod)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldSelect\r\n                            label={t(langKeys.paymentmethodtype)}\r\n                            onChange={(value) => { setPaymentType(value?.val || 0) }}\r\n                            className=\"col-6\"\r\n                            valueDefault={paymentType}\r\n                            data={dataPayment}\r\n                            optionDesc=\"description\"\r\n                            optionValue=\"val\"\r\n                            orderbylabel={true}\r\n                        />\r\n                        {(paymentType === \"CARD\") && <FieldSelect\r\n                            label={t(langKeys.paymentmethodcard)}\r\n                            onChange={(value) => { setPaymentCardCode(value?.cardcode || ''); setPaymentCardId(value?.paymentcardid || 0); }}\r\n                            className=\"col-6\"\r\n                            valueDefault={paymentCardId}\r\n                            data={cardList.data ? cardList.data.filter((e: { favorite: boolean; }) => e.favorite !== true) : []}\r\n                            optionDesc=\"cardnumber\"\r\n                            optionValue=\"paymentcardid\"\r\n                            loading={cardList.loading}\r\n                            orderbylabel={true}\r\n                        />}\r\n                        {(paymentType === \"FAVORITE\") && <FieldEdit\r\n                            className=\"col-6\"\r\n                            label={t(langKeys.paymentmethodcard)}\r\n                            valueDefault={favoriteCardNumber}\r\n                            disabled={true}\r\n                        />}\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className={classes.section}\r\n                            label={''}\r\n                            value={t(langKeys.paymentinformation)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-4\"\r\n                            label={t(langKeys.servicedescription)}\r\n                            value={data?.productdescription || ''}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-4\"\r\n                            label={t(langKeys.totalamount)}\r\n                            value={(data?.currency === 'USD' ? '$' : 'S/') + formatNumber((totalAmount || 0))}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-4\"\r\n                            label={t(langKeys.totaltopay)}\r\n                            value={(data?.currency === 'USD' ? '$' : 'S/') + formatNumber((totalPay || 0))}\r\n                        />\r\n                    </div>\r\n                    {detractionAlert && <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className={classes.commentary}\r\n                            label={''}\r\n                            value={t(langKeys.detractionnotepay1) + `${detractionAmount}` + t(langKeys.detractionnotepay2)}\r\n                        />\r\n                    </div>}\r\n                    <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className={classes.section}\r\n                            label={''}\r\n                            value={t(langKeys.additional_information)}\r\n                        />\r\n                    </div>\r\n                    {data?.invoicestatus === \"DRAFT\" && <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className={classes.commentary}\r\n                            label={''}\r\n                            value={t(langKeys.additionalinformation2)}\r\n                        />\r\n                    </div>}\r\n                    <div className=\"row-zyx\">\r\n                        {data?.invoicestatus === \"DRAFT\" && <FieldEdit\r\n                            label={t(langKeys.purchaseorder)}\r\n                            onChange={(value) => handlePurchaseOrder(value)}\r\n                            valueDefault={purchaseOrder}\r\n                            error={purchaseOrderError}\r\n                            className=\"col-12\"\r\n                        />}\r\n                        {data?.invoicestatus !== \"DRAFT\" && <FieldView\r\n                            label={t(langKeys.purchaseorder)}\r\n                            value={data?.purchaseorder}\r\n                            className=\"col-12\"\r\n                        />}\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        {data?.invoicestatus === \"DRAFT\" && <FieldEdit\r\n                            label={t(langKeys.comments)}\r\n                            onChange={(value) => handleComments(value)}\r\n                            valueDefault={comments}\r\n                            error={commentsError}\r\n                            className=\"col-12\"\r\n                        />}\r\n                        {data?.invoicestatus !== \"DRAFT\" && <FieldView\r\n                            label={t(langKeys.comments)}\r\n                            value={data?.comments}\r\n                            className=\"col-12\"\r\n                        />}\r\n                    </div>\r\n                    {data?.invoicestatus === \"DRAFT\" && <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className={classes.commentary}\r\n                            label={''}\r\n                            value={t(langKeys.additionalinformation1)}\r\n                        />\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nconst IDBILLING = \"IDBILLING\";\r\nconst Billing: React.FC<{ dataCorp: any, dataOrg: any }> = ({ dataCorp, dataOrg }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const executeRes = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main.mainData);\r\n    const multiResult = useSelector(state => state.main.multiData);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        corpid: user?.corpid || 0,\r\n        month: (new Date().getMonth() + 1).toString().padStart(2, \"0\"),\r\n        orgid: 0,\r\n        year: String(new Date().getFullYear()),\r\n        paymentstatus: \"\",\r\n        currency: \"\"\r\n    });\r\n\r\n    const [insertexcel, setinsertexcel] = useState(false);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [openModalData, setOpenModalData] = useState<Dictionary | null>(null);\r\n    const [dataInvoice, setDataInvoice] = useState<Dictionary[]>([]);\r\n    const [disableSearch, setdisableSearch] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<Dictionary | null>(null);\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [isCreditNote, setIsCreditNote] = useState(false);\r\n    const [isRegularize, setIsRegularize] = useState(false);\r\n    const [operationName, setOperationName] = useState('');\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitSaveImport, setwaitSaveImport] = useState(false);\r\n\r\n    const dataCurrency = [{ value: \"PEN\", description: \"PEN\" }, { value: \"USD\", description: \"USD\" }]\r\n    const dataPayment = [{ value: \"PENDING\", description: t(langKeys.PENDING) }, { value: \"PAID\", description: t(langKeys.PAID) }, { value: \"NONE\", description: t(langKeys.NONE) }]\r\n\r\n    const fetchData = () => dispatch(getCollection(selInvoice(dataMain)));\r\n\r\n    const getDocumentType = (documenttype: string) => {\r\n        switch (documenttype) {\r\n            case '0':\r\n                return 'billingfield_billingno';\r\n            case '1':\r\n                return 'billingfield_billingdni';\r\n            case '4':\r\n                return 'billingfield_billingextra';\r\n            case '6':\r\n                return 'billingfield_billingruc';\r\n            case '7':\r\n                return 'billingfield_billingpass';\r\n            default:\r\n                return 'pendingpayment';\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n        dispatch(setMemoryTable({\r\n            id: IDBILLING\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n            dispatch(getMultiCollection([\r\n                getCorpSel(user?.roledesc === \"ADMINISTRADOR\" ? user?.corpid : 0),\r\n                getMeasureUnit(),\r\n                getValuesFromDomain(\"TYPECREDIT\", null, user?.orgid, user?.corpid),\r\n                getAppsettingInvoiceSel()]));\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setdisableSearch(dataMain.year === \"\")\r\n    }, [dataMain])\r\n\r\n    useEffect(() => {\r\n        if (!openModal) {\r\n            if (waitSave) {\r\n                if (!executeRes.loading && !executeRes.error) {\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.deleteinvoicesuccess) }))\r\n                    fetchData && fetchData();\r\n                    dispatch(showBackdrop(false));\r\n                    setViewSelected(\"view-1\")\r\n                } else if (executeRes.error) {\r\n                    const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.organization_plural).toLocaleLowerCase() })\r\n                    dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                    setWaitSave(false);\r\n                    dispatch(showBackdrop(false));\r\n                }\r\n            }\r\n        }\r\n    }, [executeRes, waitSave])\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.loading && !mainResult.error) {\r\n            setDataInvoice(mainResult.data.map(x => ({\r\n                ...x,\r\n                receiverdoctypecolumn: t(getDocumentType(x.receiverdoctype)),\r\n                receiverdocnumcolumn: x.receiverdocnum ? x.receiverdocnum : t(langKeys.pendingpayment),\r\n                receiverbusinessnamecolumn: x.receiverbusinessname ? x.receiverbusinessname : t(langKeys.pendingpayment),\r\n                invoicestatuscolumn: t(x.invoicestatus),\r\n                paymentstatuscolumn: t(x.paymentstatus),\r\n                invoicetypecolumn: t(getInvoiceType(x.invoicetype)),\r\n                seriecolumn: (x.serie && x.correlative) ? (x.serie + '-' + x.correlative.toString().padStart(8, '0')) : null,\r\n            })))\r\n        }\r\n    }, [mainResult])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                NoFilter: true,\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                accessor: 'corpid',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n\r\n                    if ((row.hasreport === false || row.hasreport === true) && row.invoicestatus !== \"INVOICED\" && row.paymentstatus !== 'PAID') {\r\n                        return (\r\n                            <TemplateIcons\r\n                                deleteFunction={() => handleDelete(row)}\r\n                            />\r\n                        )\r\n                    }\r\n                    else {\r\n                        if (row.invoicestatus !== \"INVOICED\" || row.type === 'CREDITNOTE') {\r\n                            return null;\r\n                        }\r\n                        else {\r\n                            return (\r\n                                <TemplateIcons\r\n                                    extraFunction={() => handleCreditNote(row)}\r\n                                    extraOption={t(langKeys.generatecreditnote)}\r\n                                />\r\n                            )\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.invoiceid),\r\n                accessor: 'invoiceid',\r\n            },\r\n            {\r\n                Header: t(langKeys.corporation),\r\n                accessor: 'corpdesc',\r\n            },\r\n            {\r\n                Header: t(langKeys.organization),\r\n                accessor: 'orgdesc',\r\n            },\r\n            {\r\n                Header: t(langKeys.billingclienttype),\r\n                accessor: 'receiverdoctypecolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.documentnumber),\r\n                accessor: 'receiverdocnumcolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.businessname),\r\n                accessor: 'receiverbusinessnamecolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.invoice_serviceyear),\r\n                accessor: 'year',\r\n            },\r\n            {\r\n                Header: t(langKeys.invoice_servicemonth),\r\n                accessor: 'month',\r\n            },\r\n            {\r\n                Header: t(langKeys.invoicestatus),\r\n                accessor: 'invoicestatuscolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.paymentstatus),\r\n                accessor: 'paymentstatuscolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.documenttype),\r\n                accessor: 'invoicetypecolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.billingvoucher),\r\n                accessor: 'seriecolumn',\r\n                Cell: (props: any) => {\r\n                    const urlpdf = props.cell.row.original.urlpdf;\r\n                    const docnumber = (props.cell.row.original.serie && props.cell.row.original.correlative) ? (props.cell.row.original.serie + '-' + props.cell.row.original.correlative.toString().padStart(8, '0')) : null;\r\n                    return (\r\n                        <Fragment>\r\n                            <div>\r\n                                {(urlpdf ?\r\n                                    <a onClick={(e) => { e.stopPropagation(); }} href={urlpdf} target=\"_blank\" style={{ display: \"block\" }} rel=\"noreferrer\">{docnumber}</a>\r\n                                    :\r\n                                    <span style={{ display: \"block\" }}>{docnumber}</span>)\r\n                                }\r\n                            </div>\r\n                        </Fragment>\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.invoicedate),\r\n                accessor: 'invoicedate',\r\n                Cell: (props: any) => {\r\n                    const { invoicedate } = props.cell.row.original;\r\n                    return (invoicedate || null);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.expirationdate),\r\n                accessor: 'expirationdate',\r\n                Cell: (props: any) => {\r\n                    const { expirationdate } = props.cell.row.original;\r\n                    return (expirationdate || null);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.currency),\r\n                accessor: 'currency',\r\n            },\r\n            {\r\n                Header: t(langKeys.taxbase),\r\n                accessor: 'subtotal',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { subtotal } = props.cell.row.original;\r\n                    return formatNumber(subtotal || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.billingtax),\r\n                accessor: 'taxes',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { taxes } = props.cell.row.original;\r\n                    return formatNumber(taxes || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.totalamount),\r\n                accessor: 'totalamount',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { totalamount } = props.cell.row.original;\r\n                    return formatNumber(totalamount || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.comments),\r\n                accessor: 'commentcontent',\r\n                Cell: (props: any) => {\r\n                    const { commentcontent } = props.cell.row.original;\r\n                    const rowdata = props.cell.row.original;\r\n                    if (commentcontent) {\r\n                        return (<Fragment>\r\n                            <div style={{ display: 'inline-block' }}>\r\n                                {(commentcontent || '').substring(0, 50)}... <a onClick={(e) => { e.stopPropagation(); openInvoiceComment(rowdata); }} style={{ cursor: 'pointer', textDecoration: 'underline', color: 'blue' }} rel=\"noreferrer\">{t(langKeys.seeMore)}</a>\r\n                            </div>\r\n                        </Fragment>)\r\n                    }\r\n                    else {\r\n                        return (<Fragment>\r\n                            <div style={{ display: 'inline-block' }}>\r\n                                <a onClick={(e) => { e.stopPropagation(); openInvoiceComment(rowdata); }} style={{ display: \"block\", cursor: 'pointer', textDecoration: 'underline', color: 'blue' }} rel=\"noreferrer\">{t(langKeys.seeMore)}</a>\r\n                            </div>\r\n                        </Fragment>)\r\n                    }\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (!openModal) {\r\n            if (waitSaveImport) {\r\n                if (!executeRes.loading && !executeRes.error) {\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(insertexcel ? langKeys.successful_import : langKeys.successful_delete) }))\r\n                    setinsertexcel(false)\r\n                    fetchData();\r\n                    dispatch(showBackdrop(false));\r\n                    setwaitSaveImport(false);\r\n                } else if (executeRes.error) {\r\n                    const errormessage = t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.tipification).toLocaleLowerCase() })\r\n                    dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                    dispatch(showBackdrop(false));\r\n                    setwaitSaveImport(false);\r\n                }\r\n            }\r\n        }\r\n    }, [executeRes, waitSaveImport])\r\n\r\n    const handleTemplate = () => {\r\n        const indexCorp = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_CORP_SEL'));\r\n        const indexOrg = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_ORG_SEL'));\r\n        const dataCurrency = [{ value: \"PEN\", description: \"PEN\" }, { value: \"USD\", description: \"USD\" }]\r\n        const receiverdoctype = [{ value: 0, description: \"NO DOMICILIADO\" }, { value: 1, description: \"DNI\" }, { value: 4, description: \"CARNE EXT.\" }, { value: 6, description: \"RUC\" }, { value: 7, description: \"PASAPORTE\" }]\r\n        const invoicetype = [{ value: \"01\", description: \"FACTURA\" }, { value: \"03\", description: \"BOLETA\" }]\r\n        let corplist = multiResult.data[indexCorp] && multiResult.data[indexCorp].success ? multiResult.data[indexCorp].data : []\r\n        let orglist = multiResult.data[indexOrg] && multiResult.data[indexOrg].success ? multiResult.data[indexOrg].data : []\r\n\r\n        const data = [\r\n            corplist.reduce((a, d) => ({ ...a, [d.corpid]: t(`${d.description}`) }), {}), //\"corpid\"\r\n            orglist.reduce((a, d) => ({ ...a, [d.orgid]: t(`${d.orgdesc}`) }), {}), //\"orgid\"\r\n            dataYears.reduce((a, d) => ({ ...a, [d?.value]: t(`${d?.value}`) }), {}), //\"year\"\r\n            dataMonths.reduce((a, d) => ({ ...a, [+d.val]: t(`${+d.val}`) }), {}), //\"month\"\r\n            {}, //\"description\"\r\n            receiverdoctype.reduce((a, d) => ({ ...a, [d.value]: t(`${d.description}`) }), {}), //\"receiverdoctype\"\r\n            {}, //\"receiverdocnum\"\r\n            {}, //\"receiverbusinessname\"\r\n            {}, //\"receiverfiscaladdress\"\r\n            { \"CODIGO DE PAIS\": \"CODIGO DE PAIS\" }, //\"receivercountry\"\r\n            {}, //\"receivermail\"\r\n            invoicetype.reduce((a, d) => ({ ...a, [d.value]: t(`${d.description}`) }), {}), //\"invoicetype\"\r\n            {}, //\"serie\"\r\n            {}, //\"correlative\"\r\n            {}, //\"invoicedate\"\r\n            {}, //\"expirationdate\"\r\n            { \"DRAFT\": \"DRAFT\", \"INVOICED\": \"INVOICED\", \"ERROR\": \"ERROR\" }, //\"invoicestatus\"\r\n            { \"PENDING\": \"PENDING\", \"PAID\": \"PAID\" }, //\"paymentstatus\"\r\n            {}, //\"paymentdate\"\r\n            {}, //\"paidby\"\r\n            { \"CARD\": \"CARD\", \"REGISTEREDCARD\": \"REGISTEREDCARD\" }, //\"paymenttype\"\r\n            {}, //\"totalamount\"\r\n            {}, //\"exchangerate\"\r\n            dataCurrency.reduce((a, d) => ({ ...a, [d.value]: t(`${d.description}`) }), {}), //\"currency\"\r\n            {}, //\"urlcdr\"\r\n            {}, //\"urlpdf\"\r\n            {}, //\"urlxml\"\r\n            {}, //\"purchaseorder\"\r\n            {}, //\"comments\"\r\n            { \"typecredit_alcontado\": \"typecredit_alcontado\", \"typecredit_15\": \"typecredit_15\", \"typecredit_30\": \"typecredit_30\", \"typecredit_45\": \"typecredit_45\", \"typecredit_60\": \"typecredit_60\", \"typecredit_90\": \"typecredit_90\" }, //\"credittype\"\r\n        ];\r\n        const header = [\"corpid\", \"orgid\", \"year\", \"month\", \"description\", \"receiverdoctype\", \"receiverdocnum\", \"receiverbusinessname\", \"receiverfiscaladdress\", \"receivercountry\", \"receivermail\", \"invoicetype\", \"serie\", \"correlative\", \"invoicedate\", \"expirationdate\", \"invoicestatus\", \"paymentstatus\", \"paymentdate\", \"paidby\", \"paymenttype\", \"totalamount\", \"exchangerate\", \"currency\", \"urlcdr\", \"urlpdf\", \"urlxml\", \"purchaseorder\", \"comments\", \"credittype\"];\r\n        exportExcel(`${t(langKeys.template)} - ${t(langKeys.invoice)}`, templateMaker(data, header));\r\n    }\r\n\r\n    const importCSV = async (files: any[]) => {\r\n        setinsertexcel(true)\r\n        const file = files[0];\r\n        if (file) {\r\n            const indexCorp = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_CORP_SEL'));\r\n            const dataCurrency = [{ value: \"PEN\", description: \"PEN\" }, { value: \"USD\", description: \"USD\" }]\r\n            let corplist = multiResult.data[indexCorp] && multiResult.data[indexCorp].success ? multiResult.data[indexCorp].data : []\r\n            const receiverdoctypeList = [{ value: 0, description: \"NO DOMICILIADO\" }, { value: 1, description: \"DNI\" }, { value: 4, description: \"CARNE EXT.\" }, { value: 6, description: \"RUC\" }, { value: 7, description: \"PASAPORTE\" }]\r\n            const invoicetypeList = [{ value: \"01\", description: \"FACTURA\" }, { value: \"03\", description: \"BOLETA\" }]\r\n\r\n            let data: any = (await uploadExcel(file, undefined) as any[]);\r\n            data = data.filter((d: any) => !['', null, undefined].includes(d.description)\r\n                && !['', null, undefined].includes(d.receiverdocnum)\r\n                && !['', null, undefined].includes(d.receiverbusinessname)\r\n                && !['', null, undefined].includes(d.receiverfiscaladdress)\r\n                && !['', null, undefined].includes(d.receivercountry)\r\n                && !['', null, undefined].includes(d.receivermail)\r\n                && !['', null, undefined].includes(d.invoicestatus)\r\n                && !['', null, undefined].includes(d.paymentstatus)\r\n                && !['', null, undefined].includes(d.totalamount)\r\n                && !['', null, undefined].includes(d.exchangerate)\r\n                && Object.keys(invoicetypeList.reduce((a, d) => ({ ...a, [d.value]: d.description }), {})).includes(d.invoicetype)\r\n                && Object.keys(receiverdoctypeList.reduce((a, d) => ({ ...a, [d.value]: d.description }), {})).includes('' + d.receiverdoctype)\r\n                && Object.keys(corplist.reduce((a, d) => ({ ...a, [d.corpid]: d.description }), {})).includes('' + d.corpid)\r\n                && Object.keys(dataYears.reduce((a, d) => ({ ...a, [d.value]: d.value }), {})).includes('' + d.year)\r\n                && Object.keys(dataMonths.reduce((a, d) => ({ ...a, [d.val]: d.val }), {})).includes(`${d.month}`.padStart(2, '0'))\r\n                && Object.keys(dataCurrency.reduce((a, d) => ({ ...a, [d.value]: d.description }), {})).includes('' + d.currency)\r\n            );\r\n\r\n            if (data.length > 0) {\r\n                dispatch(showBackdrop(true));\r\n                dispatch(execute({\r\n                    header: null,\r\n                    detail: data.map((x: any) => insInvoice({\r\n                        ...x,\r\n                        corpid: Number(x.corpid) || 0,\r\n                        orgid: Number(x.orgid) || 0,\r\n                        year: Number(x.year),\r\n                        month: Number(x.month),\r\n                        receiverdoctype: String(x.receiverdoctype),\r\n                        receiverdocnum: String(x.receiverdocnum),\r\n                        receiverbusinessname: String(x.receiverbusinessname),\r\n                        receiverfiscaladdress: String(x.receiverfiscaladdress),\r\n                        receivercountry: String(x.receivercountry),\r\n                        receivermail: String(x.receivermail),\r\n                        invoicetype: String(x.invoicetype),\r\n                        serie: String(x.serie || ''),\r\n                        correlative: Number(x.correlative) || 0,\r\n                        invoicedate: new Date(x.invoicedate),\r\n                        expirationdate: new Date(x.expirationdate),\r\n                        invoicestatus: String(x.invoicestatus),\r\n                        paymentstatus: String(x.paymentstatus),\r\n                        paymentdate: new Date(x.paymentdate),\r\n                        paidby: String(x.paidby || ''),\r\n                        paymenttype: String(x.paymenttype || ''),\r\n                        totalamount: Number(x.totalamount),\r\n                        exchangerate: Number(x.exchangerate),\r\n                        currency: String(x.currency),\r\n                        urlcdr: String(x.urlcdr || ''),\r\n                        urlpdf: String(x.urlpdf || ''),\r\n                        urlxml: String(x.urlxml || ''),\r\n                        purchaseorder: String(x.purchaseorder || ''),\r\n                        comments: String(x.comments || ''),\r\n                        credittype: String(x.credittype),\r\n                        description: String(x.description),\r\n                        status: \"ACTIVO\",\r\n                    }))\r\n                }, true));\r\n                setwaitSaveImport(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const openInvoiceComment = (row: Dictionary) => {\r\n        setViewSelected(\"view-1\");\r\n        setOpenModalData(row);\r\n        setOpenModal(true);\r\n    }\r\n\r\n    const onModalSuccess = () => {\r\n        setOpenModal(false);\r\n        fetchData();\r\n        setViewSelected(\"view-1\");\r\n    }\r\n\r\n    const handleDelete = (row: Dictionary) => {\r\n        const callback = () => {\r\n            dispatch(execute(deleteInvoice(row)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true)\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.cancelinvoice),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    const handleView = (row: Dictionary) => {\r\n        if (row.invoicestatus === 'PENDING' || (row.invoicestatus === 'DRAFT' && row.hasreport === true)) {\r\n            setViewSelected(\"view-3\");\r\n            setRowSelected({ row: row, edit: true });\r\n        }\r\n        else {\r\n            setViewSelected(\"view-2\");\r\n            setIsCreditNote(false);\r\n            setIsRegularize(true);\r\n            setOperationName('');\r\n            setRowSelected(row);\r\n        }\r\n    }\r\n\r\n    const handleCreditNote = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setIsCreditNote(true);\r\n        setIsRegularize(false);\r\n        setOperationName('generatecreditnote');\r\n        setRowSelected(row);\r\n    }\r\n\r\n    const handleRegister = () => {\r\n        setViewSelected(\"view-3\");\r\n        setRowSelected({ row: null, edit: true });\r\n    }\r\n\r\n    const getInvoiceType = (invoicetype: string) => {\r\n        switch (invoicetype) {\r\n            case '01':\r\n                return 'emissorinvoice';\r\n            case '03':\r\n                return 'emissorticket';\r\n            case '07':\r\n                return 'emissorcreditnote';\r\n            default:\r\n                return 'emissornone';\r\n        }\r\n    }\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <div style={{ width: '100%' }}>\r\n                <InvoiceCommentModal\r\n                    data={openModalData}\r\n                    openModal={openModal}\r\n                    setOpenModal={setOpenModal}\r\n                    onTrigger={onModalSuccess}\r\n                />\r\n                <TableZyx\r\n                    onClickRow={handleView}\r\n                    columns={columns}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.year)}\r\n                                style={{ width: 140 }}\r\n                                valueDefault={dataMain.year}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, year: value?.value || 0 }))}\r\n                                data={dataYears}\r\n                                optionDesc=\"value\"\r\n                                optionValue=\"value\"\r\n                            />\r\n                            <FieldMultiSelect\r\n                                label={t(langKeys.month)}\r\n                                style={{ width: 214 }}\r\n                                valueDefault={dataMain.month}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, month: value.map((o: Dictionary) => o.val).join() }))}\r\n                                data={dataMonths}\r\n                                uset={true}\r\n                                prefixTranslation=\"month_\"\r\n                                optionDesc=\"val\"\r\n                                optionValue=\"val\"\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.corporation)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.corpid}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, corpid: value?.corpid || 0, orgid: 0 }))}\r\n                                data={dataCorp}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"corpid\"\r\n                                disabled={[\"ADMINISTRADOR\", \"ADMINISTRADOR P\", \"ADMINISTRADOR LIMADERMA\"].includes(user?.roledesc || '')}\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.organization)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.orgid}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, orgid: value?.orgid || 0 }))}\r\n                                data={dataOrg.filter((e: any) => { return e.corpid === dataMain.corpid })}\r\n                                optionDesc=\"orgdesc\"\r\n                                optionValue=\"orgid\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.currency)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.currency}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, currency: value?.value || '' }))}\r\n                                data={dataCurrency}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"value\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.paymentstatus)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.paymentstatus}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, paymentstatus: value?.value || '' }))}\r\n                                data={dataPayment}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"value\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <Button\r\n                                disabled={mainResult.loading || disableSearch}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                onClick={fetchData}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={dataInvoice}\r\n                    filterGeneral={false}\r\n                    importCSV={importCSV}\r\n                    handleTemplate={handleTemplate}\r\n                    download={true}\r\n                    loading={mainResult.loading || multiResult.loading}\r\n                    register={true}\r\n                    handleRegister={handleRegister}\r\n                    registertext={langKeys.generateinvoice}\r\n                    pageSizeDefault={IDBILLING === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDBILLING === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDBILLING === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </div>\r\n        )\r\n    } else if (viewSelected === \"view-2\") {\r\n        return (\r\n            <BillingOperation\r\n                data={rowSelected}\r\n                fetchData={fetchData}\r\n                setViewSelected={setViewSelected}\r\n                creditNote={isCreditNote}\r\n                regularize={isRegularize}\r\n                operationName={operationName}\r\n            />\r\n        );\r\n    } else {\r\n        return (\r\n            <BillingRegister\r\n                data={rowSelected}\r\n                fetchData={fetchData}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst InvoiceCommentModal: FC<{ data: any, openModal: boolean, setOpenModal: (param: any) => void, onTrigger: () => void }> = ({ data, openModal, setOpenModal, onTrigger }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const mainResult = useSelector(state => state.main.mainAux2);\r\n    const executeResult = useSelector(state => state.main.execute);\r\n\r\n    const [dataInvoiceComment, setDataInvoiceComment] = useState<Dictionary[]>([]);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitLoad, setWaitLoad] = useState(false);\r\n    const [contentValidation, setContentValidation] = useState('');\r\n    const [reloadExit, setReloadExit] = useState(false);\r\n\r\n    const [fields, setFields] = useState({\r\n        \"corpid\": data?.corpid,\r\n        \"orgid\": data?.orgid,\r\n        \"invoiceid\": data?.invoiceid,\r\n        \"invoicecommentid\": 0,\r\n        \"description\": '',\r\n        \"status\": 'ACTIVO',\r\n        \"type\": '',\r\n        \"commentcontent\": '',\r\n        \"commenttype\": 'text',\r\n        \"commentcaption\": '',\r\n    })\r\n\r\n    const fetchData = () => {\r\n        dispatch(getCollectionAux2(selInvoiceComment({\r\n            corpid: data?.corpid,\r\n            orgid: data?.orgid,\r\n            invoiceid: data?.invoiceid,\r\n            invoicecommentid: 0,\r\n        })));\r\n        setWaitLoad(true);\r\n        dispatch(showBackdrop(true));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (openModal && data) {\r\n            setDataInvoiceComment([]);\r\n            setContentValidation('');\r\n            setReloadExit(false);\r\n\r\n            let partialFields = fields;\r\n            partialFields.corpid = data?.corpid;\r\n            partialFields.orgid = data?.orgid;\r\n            partialFields.invoiceid = data?.invoiceid;\r\n            partialFields.invoicecommentid = 0;\r\n            partialFields.description = '';\r\n            partialFields.status = 'ACTIVO';\r\n            partialFields.type = '';\r\n            partialFields.commentcontent = '';\r\n            partialFields.commenttype = 'text';\r\n            partialFields.commentcaption = '';\r\n            setFields(partialFields);\r\n\r\n            fetchData();\r\n        }\r\n    }, [data, openModal]);\r\n\r\n    useEffect(() => {\r\n        if (waitLoad) {\r\n            if (!mainResult.loading && !mainResult.error) {\r\n                setDataInvoiceComment(mainResult.data);\r\n                dispatch(showBackdrop(false));\r\n                setWaitLoad(false);\r\n            } else if (mainResult.error) {\r\n                setWaitLoad(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [mainResult, waitLoad])\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeResult.loading && !executeResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.success) }));\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n\r\n                setDataInvoiceComment([]);\r\n\r\n                let partialFields = fields;\r\n                partialFields.commentcontent = '';\r\n                setFields(partialFields);\r\n\r\n                fetchData();\r\n\r\n                setReloadExit(true);\r\n            } else if (executeResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t(executeResult.code || \"error_unexpected_error\", { module: t(langKeys.organization_plural).toLocaleLowerCase() }) }));\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [executeResult, waitSave])\r\n\r\n    const handleCommentRegister = () => {\r\n        if (fields) {\r\n            if (fields.commentcontent) {\r\n                setContentValidation('');\r\n\r\n                const callback = () => {\r\n                    dispatch(execute(insInvoiceComment(fields)));\r\n                    dispatch(showBackdrop(true));\r\n                    setWaitSave(true);\r\n                }\r\n\r\n                dispatch(manageConfirmation({\r\n                    visible: true,\r\n                    question: t(langKeys.confirmation_save),\r\n                    callback\r\n                }))\r\n            }\r\n            else {\r\n                setContentValidation(t(langKeys.required_fields_missing));\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleCommentDelete = (data: any) => {\r\n        if (fields && data) {\r\n            const callback = () => {\r\n                var fieldTemporal = fields;\r\n\r\n                fieldTemporal.corpid = data?.corpid;\r\n                fieldTemporal.orgid = data?.orgid;\r\n                fieldTemporal.invoiceid = data?.invoiceid;\r\n                fieldTemporal.invoicecommentid = data?.invoicecommentid;\r\n                fieldTemporal.description = data?.description;\r\n                fieldTemporal.status = 'ELIMINADO';\r\n                fieldTemporal.type = data?.type;\r\n                fieldTemporal.commentcontent = data?.commentcontent;\r\n                fieldTemporal.commenttype = data?.commenttype;\r\n                fieldTemporal.commentcaption = data?.commentcaption;\r\n\r\n                dispatch(execute(insInvoiceComment(fieldTemporal)));\r\n                dispatch(showBackdrop(true));\r\n                setWaitSave(true);\r\n            }\r\n\r\n            dispatch(manageConfirmation({\r\n                visible: true,\r\n                question: t(langKeys.confirmation_delete),\r\n                callback\r\n            }))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.invoicecomments)}\r\n            buttonText1={t(langKeys.close)}\r\n            handleClickButton1={() => { setOpenModal(false); if (reloadExit) { onTrigger(); } }}\r\n        >\r\n            <div style={{ overflowY: 'auto' }}>\r\n                {dataInvoiceComment.map((item, index) => (\r\n                    <div style={{ borderStyle: \"solid\", borderWidth: \"1px\", borderColor: \"#762AA9\", borderRadius: \"4px\", padding: \"10px\", margin: \"10px\" }}>\r\n                        <div style={{ display: 'flex' }}>\r\n                            <b style={{ width: '100%' }}>{item.createby} {t(langKeys.invoiceat)} {convertLocalDate(item.createdate || '').toLocaleString()}</b>\r\n                            <Button\r\n                                className={classes.buttoncomments}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type='button'\r\n                                style={{ backgroundColor: \"#FB5F5F\" }}\r\n                                onClick={() => handleCommentDelete(item)}\r\n                            >{t(langKeys.delete)}\r\n                            </Button>\r\n                        </div>\r\n                        <FieldEditMulti\r\n                            className=\"col-12\"\r\n                            label={''}\r\n                            valueDefault={item.commentcontent}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                ))}\r\n                <div style={{ padding: \"10px\", margin: \"10px\" }}>\r\n                    <div style={{ display: 'flex' }}>\r\n                        <b style={{ width: '100%' }}>{t(langKeys.new)} {t(langKeys.invoicecomment)}</b>\r\n                        <Button\r\n                            className={classes.buttoncomments}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            type='button'\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                            onClick={() => handleCommentRegister()}\r\n                        >{t(langKeys.save)}\r\n                        </Button>\r\n                    </div>\r\n                    <FieldEditMulti\r\n                        className=\"col-12\"\r\n                        label={''}\r\n                        valueDefault={fields.commentcontent}\r\n                        error={contentValidation}\r\n                        onChange={(value) => {\r\n                            let partialf = fields;\r\n                            partialf.commentcontent = value;\r\n                            setFields(partialf);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\nconst BillingOperation: FC<DetailProps> = ({ data, creditNote, regularize, operationName, setViewSelected, fetchData }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const culqiResult = useSelector(state => state.culqi.requestCreateCreditNote);\r\n    const emitResult = useSelector(state => state.culqi.requestEmitInvoice);\r\n    const multiResult = useSelector(state => state.main.multiDataAux);\r\n\r\n    const [measureList, setMeasureList] = useState<any>([]);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [pageSelected, setPageSelected] = useState(0);\r\n    const [productList, setProductList] = useState<any>([]);\r\n    const [showDiscount, setShowDiscount] = useState(false);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const invocesBread = [\r\n        { id: \"view-1\", name: t(langKeys.billingtitle) },\r\n        { id: \"view-2\", name: t(langKeys.billinginvoicedetail) }\r\n    ];\r\n\r\n    const datacreditnote = [\r\n        { value: \"01\", description: t(langKeys.billingcreditnote01) },\r\n        { value: \"04\", description: t(langKeys.billingcreditnote04) }\r\n    ]\r\n\r\n    useEffect(() => {\r\n        if (!data) {\r\n            setViewSelected(\"view-1\");\r\n        }\r\n\r\n        setMeasureList({ loading: false, data: [] });\r\n        setProductList({ loading: false, data: [] });\r\n\r\n        const trueinvoiceid = (data?.referenceinvoiceid ? data.referenceinvoiceid : data?.invoiceid);\r\n\r\n        dispatch(getMultiCollectionAux([getMeasureUnit(), getInvoiceDetail(data?.corpid, data?.orgid, trueinvoiceid)]));\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setValue('productdetail', []);\r\n\r\n        if (productList) {\r\n            if (productList.data) {\r\n                var productInformationList: Partial<unknown>[] = [];\r\n\r\n                productList.data.forEach((element: { description: any; productcode: any; measureunit: any; quantity: any; productnetprice: any; }) => {\r\n                    productInformationList.push({\r\n                        productdescription: element.description,\r\n                        productcode: element.productcode,\r\n                        productmeasure: element.measureunit,\r\n                        productquantity: element.quantity,\r\n                        productsubtotal: element.productnetprice,\r\n                    })\r\n                });\r\n\r\n                fieldsAppend(productInformationList);\r\n            }\r\n        }\r\n    }, [productList]);\r\n\r\n    useEffect(() => {\r\n        const indexMeasure = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_MEASUREUNIT_SEL'));\r\n\r\n        if (indexMeasure > -1) {\r\n            setMeasureList({ loading: false, data: multiResult.data[indexMeasure] && multiResult.data[indexMeasure].success ? multiResult.data[indexMeasure].data : [] });\r\n        }\r\n\r\n        const indexProduct = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_INVOICEDETAIL_SELBYINVOICEID'));\r\n\r\n        if (indexProduct > -1) {\r\n            setProductList({ loading: false, data: multiResult.data[indexProduct] && multiResult.data[indexProduct].success ? multiResult.data[indexProduct].data : [] });\r\n        }\r\n    }, [multiResult]);\r\n\r\n    const { control, handleSubmit, register, setValue, getValues, formState: { errors } } = useForm<any>({\r\n        defaultValues: {\r\n            corpid: data?.corpid,\r\n            orgid: data?.orgid,\r\n            invoiceid: data?.invoiceid,\r\n            creditnotetype: '',\r\n            creditnotemotive: '',\r\n            creditnotediscount: 0.0,\r\n            invoicestatus: data?.invoicestatus,\r\n            productdetail: [],\r\n            hasreport: data?.hasreport,\r\n        }\r\n    });\r\n\r\n    const { fields, append: fieldsAppend } = useFieldArray({\r\n        control,\r\n        name: 'productdetail',\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        register('corpid', { validate: (value) => (value && value > 0) || \"\" + t(langKeys.field_required) });\r\n        register('orgid');\r\n        register('invoiceid', { validate: (value) => (value && value > 0) || \"\" + t(langKeys.field_required) });\r\n        register('creditnotetype', { validate: (value) => (regularize || (value && value.length > 0)) || \"\" + t(langKeys.field_required) });\r\n        register('creditnotemotive', { validate: (value) => (regularize || (value && value.length > 10)) || \"\" + t(langKeys.field_required_shorter) });\r\n        register('creditnotediscount', { validate: (value) => (regularize || ((getValues('creditnotetype') !== '04') || (value && value > 0 && value < data?.subtotal))) || \"\" + t(langKeys.discountvalidmessage) });\r\n    }, [register]);\r\n\r\n    const getDocumentType = (documenttype: string) => {\r\n        switch (documenttype) {\r\n            case '0':\r\n                return 'billingfield_billingno';\r\n            case '1':\r\n                return 'billingfield_billingdni';\r\n            case '4':\r\n                return 'billingfield_billingextra';\r\n            case '6':\r\n                return 'billingfield_billingruc';\r\n            case '7':\r\n                return 'billingfield_billingpass';\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n\r\n    const getInvoiceType = (invoicetype: string) => {\r\n        switch (invoicetype) {\r\n            case '01':\r\n                return 'emissorinvoice';\r\n            case '03':\r\n                return 'emissorticket';\r\n            case '07':\r\n                return 'emissorcreditnote';\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n\r\n    const getCreditNoteType = (creditnotetype: string) => {\r\n        switch (creditnotetype) {\r\n            case '01':\r\n                return 'billingcreditnote01';\r\n            case '04':\r\n                return 'billingcreditnote04';\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        if (data?.invoicestatus === 'ERROR' || ((data?.invoicestatus !== 'INVOICED' && data?.invoicestatus !== 'ERROR') && data?.hasreport)) {\r\n            const callback = () => {\r\n                dispatch(emitInvoice(data));\r\n                dispatch(showBackdrop(true));\r\n                setWaitSave(true);\r\n            }\r\n\r\n            dispatch(manageConfirmation({\r\n                visible: true,\r\n                question: data?.invoicestatus === 'ERROR' ? t(langKeys.confirmatiom_reemit) : t(langKeys.confirmation_emit),\r\n                callback\r\n            }))\r\n        }\r\n        else {\r\n            if (creditNote) {\r\n                const callback = () => {\r\n                    dispatch(createCreditNote(data));\r\n                    dispatch(showBackdrop(true));\r\n                    setWaitSave(true);\r\n                }\r\n\r\n                dispatch(manageConfirmation({\r\n                    visible: true,\r\n                    question: t(langKeys.confirmation_save),\r\n                    callback\r\n                }))\r\n            }\r\n\r\n            if (regularize) {\r\n                setOpenModal(true);\r\n            }\r\n        }\r\n    });\r\n\r\n    const onModalSuccess = () => {\r\n        setOpenModal(false);\r\n        fetchData();\r\n        setViewSelected(\"view-1\");\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (data?.invoicestatus === 'ERROR' || ((data?.invoicestatus !== 'INVOICED' && data?.invoicestatus !== 'ERROR') && data?.hasreport)) {\r\n                if (!emitResult.loading && !emitResult.error) {\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(emitResult.code || \"success\") }))\r\n                    dispatch(showBackdrop(false));\r\n                    fetchData();\r\n                    setViewSelected('view-1');\r\n                    setWaitSave(false);\r\n                }\r\n                else if (emitResult.error) {\r\n                    dispatch(showSnackbar({ show: true, severity: \"error\", message: t(emitResult.code || \"error_unexpected_db_error\") }))\r\n                    dispatch(showBackdrop(false));\r\n                    fetchData();\r\n                    setViewSelected('view-1');\r\n                    setWaitSave(false);\r\n                }\r\n            }\r\n            else {\r\n                if (!culqiResult.loading && !culqiResult.error) {\r\n                    dispatch(showSnackbar({ show: true, severity: \"success\", message: t(culqiResult.code || \"success\") }))\r\n                    dispatch(showBackdrop(false));\r\n                    fetchData();\r\n                    setViewSelected('view-1');\r\n                    setWaitSave(false);\r\n                }\r\n                else if (culqiResult.error) {\r\n                    dispatch(showSnackbar({ show: true, severity: \"error\", message: t(culqiResult.code || \"error_unexpected_db_error\") }))\r\n                    dispatch(showBackdrop(false));\r\n                    fetchData();\r\n                    setViewSelected('view-1');\r\n                    setWaitSave(false);\r\n                }\r\n            }\r\n        }\r\n    }, [culqiResult, emitResult, waitSave])\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <RegularizeModal\r\n                data={data}\r\n                openModal={openModal}\r\n                setOpenModal={setOpenModal}\r\n                onTrigger={onModalSuccess}\r\n            />\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={invocesBread}\r\n                            handleClick={(id) => { setViewSelected(id); fetchData(); }}\r\n                        />\r\n                        <TitleDetail\r\n                            title={operationName ? t(operationName) : t(langKeys.billinginvoiceview)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => { setViewSelected(\"view-1\"); fetchData(); }}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {(data?.invoicestatus === 'ERROR' && data?.invoicetype !== '07') ? (\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type='submit'\r\n                                startIcon={<PaymentIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.reemitinvoice)}\r\n                            </Button>\r\n                        ) : null\r\n                        }\r\n                        {((data?.invoicestatus !== 'INVOICED' && data?.invoicestatus !== 'ERROR') && data?.invoicetype !== '07' && data?.hasreport) ? (\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type='submit'\r\n                                startIcon={<PaymentIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.emitinvoice)}\r\n                            </Button>\r\n                        ) : null\r\n                        }\r\n                        {(data?.invoicestatus === 'INVOICED' && creditNote) ? (\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type='submit'\r\n                                startIcon={<PaymentIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.emitinvoice)}\r\n                            </Button>\r\n                        ) : null\r\n                        }\r\n                        {(data?.invoicestatus === 'INVOICED' && data?.paymentstatus !== 'PAID' && data?.invoicetype !== '07' && regularize) ? (\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type='submit'\r\n                                startIcon={<PaymentIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.regulatepayment)}\r\n                            </Button>\r\n                        ) : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div style={{ backgroundColor: 'white', padding: 16 }}>\r\n                    <Tabs\r\n                        value={pageSelected}\r\n                        indicatorColor=\"primary\"\r\n                        variant=\"fullWidth\"\r\n                        style={{ borderBottom: '1px solid #EBEAED', backgroundColor: '#FFF', marginTop: 8 }}\r\n                        textColor=\"primary\"\r\n                        onChange={(_, value) => setPageSelected(value)}\r\n                    >\r\n                        <AntTab label={t(langKeys.billinginvoicedata)} />\r\n                        <AntTab label={t(langKeys.billingadditionalinfo)} />\r\n                    </Tabs>\r\n                    {pageSelected === 0 && <div className={classes.containerDetail}>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={t(langKeys.invoice_serviceyear)}\r\n                                value={data?.year}\r\n                                className=\"col-6\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.invoice_servicemonth)}\r\n                                value={data?.month}\r\n                                className=\"col-6\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={t(langKeys.docType)}\r\n                                value={t(getDocumentType(data?.receiverdoctype))}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.documentnumber)}\r\n                                value={data?.receiverdocnum}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.billingname)}\r\n                                value={data?.receiverbusinessname}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.invoicestatus)}\r\n                                value={t(data?.invoicestatus)}\r\n                                className=\"col-3\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={t(langKeys.invoiceid)}\r\n                                value={data?.invoiceid}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.documenttype)}\r\n                                value={t(getInvoiceType(data?.invoicetype))}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.billingvoucher)}\r\n                                value={(data?.serie ? data.serie : 'X000') + '-' + (data?.correlative ? data?.correlative.toString().padStart(8, '0') : '00000000')}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.invoicedate)}\r\n                                value={data?.invoicedate}\r\n                                className=\"col-3\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={t(langKeys.credittype)}\r\n                                value={t(data?.credittype)}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.dueDate)}\r\n                                value={data?.expirationdate}\r\n                                className=\"col-3\"\r\n                            />\r\n                            {(data?.type === 'CREDITNOTE') ? (\r\n                                <FieldView\r\n                                    label={t(langKeys.referenceddocument)}\r\n                                    value={(data?.referenceserie ? data.referenceserie : 'X000') + '-' + (data?.referencecorrelative ? data?.referencecorrelative.toString().padStart(8, '0') : '00000000')}\r\n                                    className=\"col-3\"\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    label={t(langKeys.purchaseorder)}\r\n                                    value={data?.purchaseorder}\r\n                                    className=\"col-3\"\r\n                                />\r\n                            )}\r\n                            {(data?.type === 'CREDITNOTE') ? (\r\n                                <FieldView\r\n                                    label={t(langKeys.ticket_reason)}\r\n                                    value={(data?.creditnotemotive)}\r\n                                    className=\"col-3\"\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    label={t(langKeys.comments)}\r\n                                    value={data?.comments}\r\n                                    className=\"col-3\"\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={t(langKeys.currency)}\r\n                                value={data?.currency}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.taxbase)}\r\n                                value={formatNumber(data?.subtotal || 0)}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.billingtax)}\r\n                                value={formatNumber(data?.taxes || 0)}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.totalamount)}\r\n                                value={formatNumber(data?.totalamount || 0)}\r\n                                className=\"col-3\"\r\n                            />\r\n                        </div>\r\n                        {(data?.type === 'CREDITNOTE') ? (\r\n                            <div className=\"row-zyx\">\r\n                                <FieldView\r\n                                    label={t(langKeys.creditnotetype)}\r\n                                    value={t(getCreditNoteType(data?.creditnotetype))}\r\n                                    className=\"col-3\"\r\n                                />\r\n                                {(data?.creditnotetype === '04') ? (\r\n                                    <FieldView\r\n                                        label={t(langKeys.globaldiscount)}\r\n                                        value={formatNumber(data?.creditnotediscount || 0)}\r\n                                        className=\"col-3\"\r\n                                    />\r\n                                ) : null}\r\n                            </div>\r\n                        ) : null}\r\n                        {(creditNote) ? (\r\n                            <div className=\"row-zyx\">\r\n                                <FieldSelect\r\n                                    className=\"col-3\"\r\n                                    label={t(langKeys.creditnotetype)}\r\n                                    onChange={(value) => { setValue('creditnotetype', value?.value); setShowDiscount(value?.value === '04') }}\r\n                                    valueDefault={getValues('creditnotetype')}\r\n                                    data={datacreditnote}\r\n                                    optionDesc=\"description\"\r\n                                    optionValue=\"value\"\r\n                                    error={errors?.creditnotetype?.message}\r\n                                    orderbylabel={true}\r\n                                />\r\n                                <FieldEdit\r\n                                    label={t(langKeys.ticket_reason)}\r\n                                    className=\"col-3\"\r\n                                    valueDefault={getValues('creditnotemotive')}\r\n                                    onChange={(value) => setValue('creditnotemotive', value)}\r\n                                    error={errors?.creditnotemotive?.message}\r\n                                />\r\n                                {(showDiscount) ? (\r\n                                    <FieldEdit\r\n                                        label={t(langKeys.globaldiscount)}\r\n                                        className=\"col-3\"\r\n                                        valueDefault={getValues('creditnotediscount')}\r\n                                        onChange={(value) => setValue('creditnotediscount', value)}\r\n                                        error={errors?.creditnotediscount?.message}\r\n                                        type=\"number\"\r\n                                        inputProps={{ step: \"any\" }}\r\n                                    />\r\n                                ) : null}\r\n                            </div>\r\n                        ) : null}\r\n                        <div className=\"row-zyx\">\r\n                            <TableContainer>\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.description)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.measureunit)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.unitaryprice)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.quantity)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.billingsubtotal)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                        {fields.map((item, i) => (\r\n                                            <TableRow key={item.id}>\r\n                                                <TableCell>\r\n                                                    <FieldView\r\n                                                        label={''}\r\n                                                        value={getValues(`productdetail.${i}.productdescription`)}\r\n                                                        className={classes.fieldView}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <FieldSelect\r\n                                                        className={classes.fieldView}\r\n                                                        loading={measureList.loading}\r\n                                                        valueDefault={getValues(`productdetail.${i}.productmeasure`)}\r\n                                                        data={measureList.data}\r\n                                                        optionDesc=\"description\"\r\n                                                        optionValue=\"code\"\r\n                                                        disabled={true}\r\n                                                        orderbylabel={true}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <FieldView\r\n                                                        label={''}\r\n                                                        value={formatNumber(getValues(`productdetail.${i}.productsubtotal`) || 0)}\r\n                                                        className={classes.fieldView}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <FieldView\r\n                                                        label={''}\r\n                                                        value={formatNumber(getValues(`productdetail.${i}.productquantity`) || 0)}\r\n                                                        className={classes.fieldView}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <FieldView\r\n                                                        label={''}\r\n                                                        value={formatNumber((getValues(`productdetail.${i}.productsubtotal`) || 0) * (getValues(`productdetail.${i}.productquantity`) || 0))}\r\n                                                        className={classes.fieldView}\r\n                                                    />\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        ))}\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        </div>\r\n                    </div>}\r\n                    {pageSelected === 1 && <div className={classes.containerDetail}>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={''}\r\n                                value={t(langKeys.invoiceinformation)}\r\n                                className={classes.section}\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            {(data?.urlpdf) ? (\r\n                                <div className='col-4'>\r\n                                    <a href={data?.urlpdf} target=\"_blank\" rel=\"noreferrer\">{t(langKeys.urlpdf)}</a>\r\n                                </div>\r\n                            ) : (\r\n                                <FieldView\r\n                                    label={t(langKeys.urlpdf)}\r\n                                    value={t(langKeys.pendingpayment)}\r\n                                    className=\"col-4\"\r\n                                />\r\n                            )}\r\n                            {(data?.urlcdr) ? (\r\n                                <div className='col-4'>\r\n                                    <a href={data?.urlcdr} target=\"_blank\" rel=\"noreferrer\">{t(langKeys.urlcdr)}</a>\r\n                                </div>\r\n                            ) : (\r\n                                <FieldView\r\n                                    label={t(langKeys.urlcdr)}\r\n                                    value={t(langKeys.pendingpayment)}\r\n                                    className=\"col-4\"\r\n                                />\r\n                            )}\r\n                            {(data?.urlxml) ? (\r\n                                <div className='col-4'>\r\n                                    <a href={data?.urlxml} target=\"_blank\" rel=\"noreferrer\">{t(langKeys.urlxml)}</a>\r\n                                </div>\r\n                            ) : (\r\n                                <FieldView\r\n                                    label={t(langKeys.urlxml)}\r\n                                    value={t(langKeys.pendingpayment)}\r\n                                    className=\"col-4\"\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        {(data?.errordescription) ? (\r\n                            <div className=\"row-zyx\">\r\n                                <FieldView\r\n                                    label={t(langKeys.billingerror)}\r\n                                    value={data?.errordescription}\r\n                                    className=\"col-12\"\r\n                                />\r\n                            </div>\r\n                        ) : null}\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={''}\r\n                                value={t(langKeys.paymentinformation)}\r\n                                className={classes.section}\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={t(langKeys.paymentstatus)}\r\n                                value={t(data?.paymentstatus)}\r\n                                className=\"col-4\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.paymentdate)}\r\n                                value={data?.paymentdate ? toISOLocalString(new Date(data?.paymentdate)).replace(\"T\", \" \").substring(0, 19) : t(langKeys.none)}\r\n                                className=\"col-4\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.billingusername)}\r\n                                value={data?.paymentdate ? data?.changeby : t(langKeys.none)}\r\n                                className=\"col-4\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={t(langKeys.paymentnote)}\r\n                                value={t(data?.invoicepaymentnote || langKeys.none)}\r\n                                className=\"col-4\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.paymentcommentary)}\r\n                                value={t(data?.paymentcommentary || langKeys.none)}\r\n                                className=\"col-4\"\r\n                            />\r\n                            {(data?.invoicereferencefile) ? (\r\n                                <div className='col-4'>\r\n                                    <a href={data?.invoicereferencefile} target=\"_blank\" rel=\"noreferrer\">{t(langKeys.paymentreferenceview)}</a>\r\n                                </div>\r\n                            ) : (\r\n                                <FieldView\r\n                                    label={t(langKeys.paymentfile)}\r\n                                    value={t(langKeys.none)}\r\n                                    className=\"col-4\"\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    </div>}\r\n                </div>\r\n            </form>\r\n        </div >\r\n    )\r\n}\r\n\r\nconst RegularizeModal: FC<{ data: any, openModal: boolean, setOpenModal: (param: any) => void, onTrigger: () => void }> = ({ data, openModal, setOpenModal, onTrigger }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const culqiResult = useSelector(state => state.culqi.requestRegularizeInvoice);\r\n    const uploadResult = useSelector(state => state.main.uploadFile);\r\n\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitUploadFile, setWaitUploadFile] = useState(false);\r\n    const [fileAttachment, setFileAttachment] = useState<File | null>(null);\r\n\r\n    const { register, trigger, handleSubmit, setValue, getValues, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            corpid: data?.corpid,\r\n            orgid: data?.orgid,\r\n            invoiceid: data?.invoiceid,\r\n            invoicereferencefile: '',\r\n            invoicepaymentnote: '',\r\n            invoicepaymentcommentary: '',\r\n        }\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        register('corpid', { validate: (value) => (value && value > 0) || \"\" + t(langKeys.field_required) });\r\n        register('orgid');\r\n        register('invoiceid', { validate: (value) => (value && value > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoicereferencefile', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoicepaymentnote', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoicepaymentcommentary', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!culqiResult.loading && !culqiResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(culqiResult.code || \"success\") }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n                onTrigger();\r\n            }\r\n            else if (culqiResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t(culqiResult.code || \"error_unexpected_db_error\") }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [culqiResult, waitSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(regularizeInvoice(data));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    const onClickAttachment = useCallback(() => {\r\n        const input = document.getElementById('attachmentInput');\r\n        input!.click();\r\n    }, []);\r\n\r\n    const onChangeAttachment = useCallback((files: any) => {\r\n        const file = files?.item(0);\r\n        if (file) {\r\n            setFileAttachment(file);\r\n            let fd = new FormData();\r\n            fd.append('file', file, file.name);\r\n            dispatch(uploadFile(fd));\r\n            setWaitUploadFile(true);\r\n        }\r\n    }, [])\r\n\r\n    const handleCleanMediaInput = async (f: string) => {\r\n        const input = document.getElementById('attachmentInput') as HTMLInputElement;\r\n        if (input) {\r\n            input.value = \"\";\r\n        }\r\n        setFileAttachment(null);\r\n        setValue('invoicereferencefile', getValues('invoicereferencefile').split(',').filter((a: string) => a !== f).join(''));\r\n        await trigger('invoicereferencefile');\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (waitUploadFile) {\r\n            if (!uploadResult.loading && !uploadResult.error) {\r\n                setValue('invoicereferencefile', [getValues('invoicereferencefile'), uploadResult?.url || ''].join(''))\r\n                setWaitUploadFile(false);\r\n            } else if (uploadResult.error) {\r\n                setWaitUploadFile(false);\r\n            }\r\n        }\r\n    }, [waitUploadFile, uploadResult])\r\n\r\n    return (\r\n        <DialogZyx\r\n            open={openModal}\r\n            title={t(langKeys.regulatepayment)}\r\n            buttonText1={t(langKeys.cancel)}\r\n            handleClickButton1={() => setOpenModal(false)}\r\n            buttonText2={t(langKeys.save)}\r\n            handleClickButton2={onSubmit}\r\n            button2Type=\"submit\"\r\n        >\r\n            <FieldEdit\r\n                label={t(langKeys.paymentnote)}\r\n                valueDefault={getValues('invoicepaymentnote')}\r\n                error={errors?.invoicepaymentnote?.message}\r\n                onChange={(value) => setValue('invoicepaymentnote', value)}\r\n                className=\"col-12\"\r\n            />\r\n            <FieldEdit\r\n                label={t(langKeys.paymentcommentary)}\r\n                valueDefault={getValues('invoicepaymentcommentary')}\r\n                error={errors?.invoicepaymentcommentary?.message}\r\n                onChange={(value) => setValue('invoicepaymentcommentary', value)}\r\n                className=\"col-12\"\r\n            />\r\n            <FieldEdit\r\n                label={t(langKeys.evidenceofpayment)}\r\n                valueDefault={getValues('invoicereferencefile')}\r\n                error={errors?.invoicereferencefile?.message}\r\n                disabled={true}\r\n            />\r\n            <React.Fragment>\r\n                <input\r\n                    accept=\"image/*\"\r\n                    style={{ display: 'none' }}\r\n                    id=\"attachmentInput\"\r\n                    type=\"file\"\r\n                    onChange={(e) => onChangeAttachment(e.target.files)}\r\n                />\r\n                {<IconButton\r\n                    onClick={onClickAttachment}\r\n                    disabled={(waitUploadFile || fileAttachment !== null)}\r\n                >\r\n                    <AttachFileIcon color=\"primary\" />\r\n                </IconButton>}\r\n                {!!getValues(\"invoicereferencefile\") && getValues(\"invoicereferencefile\").split(',').map((f: string, i: number) => (\r\n                    <FilePreview key={`attachment-${i}`} src={f} onClose={(f) => handleCleanMediaInput(f)} />\r\n                ))}\r\n                {waitUploadFile && fileAttachment && <FilePreview key={`attachment-x`} src={fileAttachment} />}\r\n            </React.Fragment>\r\n        </DialogZyx>\r\n    )\r\n}\r\n\r\ninterface FilePreviewProps {\r\n    src: File | string;\r\n    onClose?: (f: string) => void;\r\n}\r\n\r\nconst useFilePreviewStyles = makeStyles(theme => ({\r\n    root: {\r\n        backgroundColor: 'white',\r\n        margin: theme.spacing(1),\r\n        padding: theme.spacing(1),\r\n        borderRadius: 4,\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        maxWidth: 300,\r\n        maxHeight: 80,\r\n        alignItems: 'center',\r\n        width: 'fit-content',\r\n        overflow: 'hidden'\r\n    },\r\n    infoContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: '100%',\r\n    },\r\n    btnContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        color: 'lightgrey',\r\n    },\r\n}));\r\n\r\nconst FilePreview: FC<FilePreviewProps> = ({ src, onClose }) => {\r\n    const classes = useFilePreviewStyles();\r\n\r\n    const isUrl = useCallback(() => typeof src === \"string\" && src.includes('http'), [src]);\r\n\r\n    const getFileName = useCallback(() => {\r\n        if (isUrl()) {\r\n            const m = (src as string).match(/.*\\/(.+?)\\./);\r\n            return m && m.length > 1 ? m[1] : \"\";\r\n        };\r\n        return (src as File).name;\r\n    }, [isUrl, src]);\r\n\r\n    const getFileExt = useCallback(() => {\r\n        if (isUrl()) {\r\n            return (src as string).split('.').pop()?.toUpperCase() || \"-\";\r\n        }\r\n        return (src as File).name?.split('.').pop()?.toUpperCase() || \"-\";\r\n    }, [isUrl, src]);\r\n\r\n    return (\r\n        <Paper className={classes.root} elevation={2}>\r\n            <FileCopy />\r\n            <div style={{ width: '0.5em' }} />\r\n            <div className={classes.infoContainer}>\r\n                <div>\r\n                    <div style={{ fontWeight: 'bold', textOverflow: 'ellipsis', overflow: 'hidden', maxWidth: 190, whiteSpace: 'nowrap' }}>{getFileName()}</div>{getFileExt()}\r\n                </div>\r\n            </div>\r\n            <div style={{ width: '0.5em' }} />\r\n            {!isUrl() && !onClose && <CircularProgress color=\"primary\" />}\r\n            <div className={classes.btnContainer}>\r\n                {onClose && (\r\n                    <IconButton size=\"small\" onClick={() => onClose(src as string)}>\r\n                        <Close />\r\n                    </IconButton>\r\n                )}\r\n                {isUrl() && <div style={{ height: '10%' }} />}\r\n                {isUrl() && (\r\n                    <a href={src as string} target=\"_blank\" rel=\"noreferrer\" download={`${getFileName()}.${getFileExt()}`}>\r\n                        <IconButton size=\"small\">\r\n                            <GetApp />\r\n                        </IconButton>\r\n                    </a>\r\n                )}\r\n            </div>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nconst BillingRegister: FC<DetailProps> = ({ data, setViewSelected, fetchData }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const culqiResult = useSelector(state => state.culqi.requestCreateInvoice);\r\n    const executeRes = useSelector(state => state.main.execute);\r\n    const invoicehasreport = data?.row?.hasreport || false;\r\n    const multiResult = useSelector(state => state.main.multiDataAux);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [appsettingData, setAppsettingData] = useState<any>([]);\r\n    const [creditTypeList, setCreditTypeList] = useState<any>([]);\r\n    const [corpList, setCorpList] = useState<any>([]);\r\n    const [orgList, setOrgList] = useState<any>([]);\r\n    const [measureList, setMeasureList] = useState<any>([]);\r\n    const [productList, setProductList] = useState<any>([]);\r\n    const [savedCorp, setSavedCorp] = useState<any>();\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitLoad, setWaitLoad] = useState(false);\r\n    const [waitOrgLoad, setWaitOrgLoad] = useState(false);\r\n    const [waitOrg, setWaitOrg] = useState(false);\r\n    const [showInsertMessage, setShowInsertMessage] = useState(false);\r\n    const [pageSelected, setPageSelected] = useState(0);\r\n    const [amountTax, setAmountTax] = useState(0);\r\n    const [amountTotal, setAmountTotal] = useState(0);\r\n    const [showUpdateButton, setShowUpdateButton] = useState(false);\r\n    const [waitRefresh, setWaitRefresh] = useState(false);\r\n\r\n    const dataCurrency = [{ value: \"PEN\", description: \"PEN\" }, { value: \"USD\", description: \"USD\" }]\r\n\r\n    const invocesBread = [\r\n        { id: \"view-1\", name: t(langKeys.billingtitle) },\r\n        { id: \"view-3\", name: t(langKeys.billinggeneration) }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        setCreditTypeList({ loading: true, data: [] });\r\n        setCorpList({ loading: true, data: [] });\r\n        setMeasureList({ loading: true, data: [] });\r\n        setOrgList({ loading: false, data: [] });\r\n        setProductList({ loading: false, data: [] });\r\n\r\n        dispatch(getMultiCollectionAux([getCorpSel(user?.roledesc === \"ADMINISTRADOR\" ? user?.corpid : 0), getMeasureUnit(), getValuesFromDomain(\"TYPECREDIT\", null, user?.orgid, user?.corpid), getAppsettingInvoiceSel()]));\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (waitLoad) {\r\n            if (data?.row) {\r\n                if (data?.row.invoicestatus !== \"INVOICED\" && data?.row.paymentstatus !== \"PAID\" && invoicehasreport && user?.roledesc === \"SUPERADMIN\") {\r\n                    setShowUpdateButton(true);\r\n                }\r\n\r\n                dispatch(getMultiCollectionAux([getInvoiceDetail(data?.row.corpid, data?.row.orgid, data?.row.invoiceid)]));\r\n\r\n                setValue('invoicecurrency', data?.row.currency);\r\n                setValue('invoicepurchaseorder', data?.row.purchaseorder);\r\n                setValue('invoicecomments', data?.row.comments);\r\n\r\n                if (data?.row.orgid) {\r\n                    var corporationdata = corpList.data.find((x: { corpid: any; }) => x.corpid === data?.row.corpid);\r\n\r\n                    dispatch(getMultiCollectionAux([getOrgSel(0, corporationdata.corpid)]));\r\n                    setValue('billbyorg', corporationdata?.billbyorg);\r\n                    setSavedCorp(corporationdata);\r\n                    setWaitOrg(true);\r\n                }\r\n                else {\r\n                    if (corpList) {\r\n                        if (corpList.data) {\r\n                            corporationdata = corpList.data.find((x: { corpid: any; }) => x.corpid === data?.row.corpid);\r\n\r\n                            setSubmitData(corporationdata);\r\n                            setValue('billbyorg', corporationdata?.billbyorg);\r\n                            setSavedCorp(null);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [waitLoad]);\r\n\r\n    useEffect(() => {\r\n        if (waitLoad && waitOrgLoad) {\r\n            setWaitOrg(false);\r\n\r\n            if (data?.row) {\r\n                var organizationdata = orgList.data.find((x: { orgid: any; }) => x.orgid === data?.row.orgid);\r\n\r\n                if (organizationdata) {\r\n                    setSubmitData(organizationdata);\r\n                }\r\n                else {\r\n                    setSubmitData(savedCorp);\r\n                }\r\n            }\r\n        }\r\n    }, [waitOrg, waitOrgLoad]);\r\n\r\n    useEffect(() => {\r\n        setValue('productdetail', []);\r\n\r\n        if (data?.row) {\r\n            if (productList) {\r\n                if (productList.data) {\r\n                    var productInformationList: Partial<unknown>[] = [];\r\n\r\n                    productList.data.forEach((element: { description: any; productcode: any; measureunit: any; quantity: any; netamount: any; }) => {\r\n                        productInformationList.push({\r\n                            productdescription: element.description,\r\n                            productcode: element.productcode,\r\n                            productmeasure: element.measureunit,\r\n                            productquantity: element.quantity,\r\n                            productsubtotal: element.netamount,\r\n                        })\r\n                    });\r\n\r\n                    fieldsAppend(productInformationList);\r\n\r\n                    onProductChange();\r\n                }\r\n            }\r\n        }\r\n    }, [productList]);\r\n\r\n    useEffect(() => {\r\n        const indexCorp = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_CORP_SEL'));\r\n\r\n        if (indexCorp > -1) {\r\n            setCorpList({ loading: false, data: multiResult.data[indexCorp] && multiResult.data[indexCorp].success ? multiResult.data[indexCorp].data : [] });\r\n            setWaitLoad(true);\r\n        }\r\n\r\n        const indexOrg = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_ORG_SEL'));\r\n\r\n        if (indexOrg > -1) {\r\n            setOrgList({ loading: false, data: multiResult.data[indexOrg] && multiResult.data[indexOrg].success ? multiResult.data[indexOrg].data : [] });\r\n            setWaitOrgLoad(true);\r\n        }\r\n\r\n        const indexMeasure = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_MEASUREUNIT_SEL'));\r\n\r\n        if (indexMeasure > -1) {\r\n            setMeasureList({ loading: false, data: multiResult.data[indexMeasure] && multiResult.data[indexMeasure].success ? multiResult.data[indexMeasure].data : [] });\r\n        }\r\n\r\n        const indexCreditType = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_DOMAIN_LST_VALORES'));\r\n\r\n        if (indexCreditType > -1) {\r\n            setCreditTypeList({ loading: false, data: multiResult.data[indexCreditType] && multiResult.data[indexCreditType].success ? multiResult.data[indexCreditType].data : [] });\r\n        }\r\n\r\n        const indexProduct = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_INVOICEDETAIL_SELBYINVOICEID'));\r\n\r\n        if (indexProduct > -1) {\r\n            setProductList({ loading: false, data: multiResult.data[indexProduct] && multiResult.data[indexProduct].success ? multiResult.data[indexProduct].data : [] });\r\n        }\r\n\r\n        const indexAppsetting = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_APPSETTING_INVOICE_SEL'));\r\n\r\n        if (indexAppsetting > -1) {\r\n            setAppsettingData({ loading: false, data: multiResult.data[indexAppsetting] && multiResult.data[indexAppsetting].success ? multiResult.data[indexAppsetting].data : [] });\r\n        }\r\n    }, [multiResult]);\r\n\r\n    const { control, handleSubmit, register, trigger, setValue, getValues, formState: { errors } } = useForm<any>({\r\n        defaultValues: {\r\n            corpid: 0,\r\n            orgid: 0,\r\n            clientdoctype: '',\r\n            clientdocnumber: '',\r\n            clientbusinessname: '',\r\n            clientfiscaladdress: '',\r\n            clientcountry: '',\r\n            clientmail: '',\r\n            clientcredittype: '',\r\n            invoicecreatedate: new Date(new Date().setHours(new Date().getHours() - 5)).toISOString().split('T')[0],\r\n            invoiceduedate: '',\r\n            invoicecurrency: 'USD',\r\n            invoicetotalamount: 0.00,\r\n            invoicepurchaseorder: '',\r\n            invoicecomments: '',\r\n            autosendinvoice: null,\r\n            productdetail: [],\r\n            billbyorg: false,\r\n            onlyinsert: false,\r\n            invoiceid: data?.row ? data?.row.invoiceid : 0,\r\n            year: data?.row ? data?.row.year : 0,\r\n            month: data?.row ? data?.row.month : 0,\r\n        }\r\n    });\r\n\r\n    const { fields, append: fieldsAppend, remove: fieldRemove } = useFieldArray({\r\n        control,\r\n        name: 'productdetail',\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        register('corpid', { validate: (value) => (value && value > 0) || \"\" + t(langKeys.field_required) });\r\n        register('orgid', { validate: (value) => ((getValues('billbyorg') === false) || (value && value > 0)) || \"\" + t(langKeys.field_required) });\r\n        register('clientdoctype', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('clientdocnumber', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('clientbusinessname', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('clientfiscaladdress');\r\n        register('clientcountry');\r\n        register('clientmail');\r\n        register('clientcredittype');\r\n        register('invoicecreatedate', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoiceduedate');\r\n        register('invoicecurrency', { validate: (value) => (value && value.length > 0) || \"\" + t(langKeys.field_required) });\r\n        register('invoicetotalamount', { validate: (value) => (value && value > 0) || \"\" + t(langKeys.billingamountvalidation) });\r\n        register('invoicepurchaseorder', { validate: (value) => (value === '' || (value || '').length <= 15) || \"\" + t(langKeys.validation15char) });\r\n        register('invoicecomments', { validate: (value) => (value === '' || (value || '').length <= 150) || \"\" + t(langKeys.validation150char) });\r\n        register('autosendinvoice');\r\n        register('year', { validate: (value) => (value && value > 0) || \"\" + t(langKeys.field_required) });\r\n        register('month', { validate: (value) => (value && value > 0) || \"\" + t(langKeys.field_required) });\r\n    }, [register]);\r\n\r\n    const setSubmitData = (data: any) => {\r\n        setValue('corpid', data?.corpid || 0);\r\n        setValue('orgid', data?.orgid || 0);\r\n        setValue('clientdoctype', data?.doctype || '');\r\n        setValue('clientdocnumber', data?.docnum || '');\r\n        setValue('clientbusinessname', data?.businessname || '');\r\n        setValue('clientfiscaladdress', data?.fiscaladdress || '');\r\n        setValue('clientcountry', data?.sunatcountry || '');\r\n        setValue('clientmail', data?.contactemail || '');\r\n        setValue('clientcredittype', data?.credittype || '');\r\n        setValue('autosendinvoice', data?.autosendinvoice);\r\n\r\n        if (data?.credittype) {\r\n            var dueDate = new Date(getValues('invoicecreatedate'));\r\n\r\n            switch (data.credittype) {\r\n                case 'typecredit_15':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 15));\r\n                    break;\r\n                case 'typecredit_30':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 30));\r\n                    break;\r\n                case 'typecredit_45':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 45));\r\n                    break;\r\n                case 'typecredit_60':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 60));\r\n                    break;\r\n                case 'typecredit_90':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 90));\r\n                    break;\r\n            }\r\n\r\n            setValue('invoiceduedate', dueDate.toISOString().split('T')[0]);\r\n        }\r\n        else {\r\n            setValue('invoiceduedate', '');\r\n        }\r\n\r\n        if (data?.doctype) {\r\n            if (appsettingData?.data) {\r\n                var invoiceamount = getValues('invoicetotalamount');\r\n\r\n                if (data?.doctype === '0') {\r\n                    setAmountTax(0);\r\n                    setAmountTotal(invoiceamount || 0);\r\n                }\r\n                else {\r\n                    setAmountTax((invoiceamount || 0) * appsettingData.data[0].igv);\r\n                    setAmountTotal((invoiceamount || 0) + ((invoiceamount || 0) * appsettingData.data[0].igv));\r\n                }\r\n            }\r\n        }\r\n\r\n        trigger('corpid');\r\n        trigger('orgid');\r\n        trigger('clientdoctype');\r\n        trigger('clientdocnumber');\r\n        trigger('clientbusinessname');\r\n        trigger('clientfiscaladdress');\r\n        trigger('clientcountry');\r\n        trigger('clientmail');\r\n        trigger('clientcredittype');\r\n        trigger('autosendinvoice');\r\n        trigger('invoicecreatedate');\r\n        trigger('invoiceduedate');\r\n    }\r\n\r\n    const getDocumentType = (documenttype: string) => {\r\n        switch (documenttype) {\r\n            case '0':\r\n                return 'billingfield_billingno';\r\n            case '1':\r\n                return 'billingfield_billingdni';\r\n            case '4':\r\n                return 'billingfield_billingextra';\r\n            case '6':\r\n                return 'billingfield_billingruc';\r\n            case '7':\r\n                return 'billingfield_billingpass';\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n\r\n    const getDocumentResult = (country: string, documenttype: string) => {\r\n        if ((country === 'PE' && documenttype === '6') || (country !== 'PE' && documenttype === '0')) {\r\n            return 'emissorinvoice';\r\n        }\r\n\r\n        if ((country === 'PE') && (documenttype === '1' || documenttype === '4' || documenttype === '7')) {\r\n            return 'emissorticket';\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    const getInvoiceType = (invoicetype: string) => {\r\n        switch (invoicetype) {\r\n            case '01':\r\n                return 'emissorinvoice';\r\n            case '03':\r\n                return 'emissorticket';\r\n            case '07':\r\n                return 'emissorcreditnote';\r\n            default:\r\n                return langKeys.pendingpayment;\r\n        }\r\n    }\r\n\r\n    const onCreditTypeChange = (data: any) => {\r\n        if (data) {\r\n            var dueDate = new Date(getValues('invoicecreatedate'));\r\n\r\n            switch (data) {\r\n                case 'typecredit_15':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 15));\r\n                    break;\r\n                case 'typecredit_30':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 30));\r\n                    break;\r\n                case 'typecredit_45':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 45));\r\n                    break;\r\n                case 'typecredit_60':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 60));\r\n                    break;\r\n                case 'typecredit_90':\r\n                    dueDate = new Date(dueDate.setDate(dueDate.getDate() + 90));\r\n                    break;\r\n            }\r\n\r\n            setValue('invoiceduedate', dueDate.toISOString().split('T')[0]);\r\n        }\r\n        else {\r\n            setValue('invoiceduedate', '');\r\n        }\r\n\r\n        trigger('invoiceduedate');\r\n    }\r\n\r\n    const onCorpChange = (data: any) => {\r\n        setSubmitData(data);\r\n\r\n        if (data) {\r\n            dispatch(getMultiCollectionAux([getOrgSel(0, data.corpid)]));\r\n            setValue('billbyorg', data?.billbyorg);\r\n            setSavedCorp(data);\r\n        }\r\n        else {\r\n            setOrgList({ loading: false, data: [] });\r\n            setValue('billbyorg', false);\r\n            setSavedCorp(null);\r\n        }\r\n    }\r\n\r\n    const onOrgChange = (data: any) => {\r\n        if (data) {\r\n            setSubmitData(data);\r\n        }\r\n        else {\r\n            setSubmitData(savedCorp);\r\n        }\r\n    }\r\n\r\n    const onProductChange = () => {\r\n        var productDetail = getValues('productdetail');\r\n        var totalAmount = 0.0;\r\n\r\n        if (productDetail) {\r\n            productDetail.forEach((element: any) => {\r\n                if (element.productquantity && element.productsubtotal) {\r\n                    totalAmount = totalAmount + (element.productquantity * element.productsubtotal);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (appsettingData) {\r\n            if (appsettingData.data) {\r\n                if (getValues('clientdoctype') === '0') {\r\n                    setAmountTax(0);\r\n                    setAmountTotal(totalAmount);\r\n                }\r\n                else {\r\n                    setAmountTax(totalAmount * appsettingData.data[0].igv);\r\n                    setAmountTotal(totalAmount + (totalAmount * appsettingData.data[0].igv));\r\n                }\r\n            }\r\n        }\r\n\r\n        setValue('invoicetotalamount', totalAmount);\r\n        trigger('invoicetotalamount');\r\n    }\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(createInvoice(data));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: showInsertMessage ? t(langKeys.confirmation_save) : `${t(langKeys.invoiceconfirmation01)}\\n\\n${t(langKeys.invoiceconfirmation02)}${getValues('clientdocnumber')}\\n${t(langKeys.invoiceconfirmation03)}${getValues('clientbusinessname')}\\n${t(langKeys.invoiceconfirmation04)}${getValues('year')}\\n${t(langKeys.invoiceconfirmation05)}${getValues('month')}\\n${t(langKeys.invoiceconfirmation06)}${t(getDocumentResult(getValues('clientcountry') || '', getValues('clientdoctype') || ''))}\\n${t(langKeys.invoiceconfirmation07)}${t(getValues('clientcredittype'))}\\n${t(langKeys.invoiceconfirmation08)}${getValues('invoicecurrency')}\\n${t(langKeys.invoiceconfirmation09)}${formatNumber(getValues('invoicetotalamount') || 0)}\\n${t(langKeys.invoiceconfirmation10)}${formatNumber(amountTax || 0)}\\n${t(langKeys.invoiceconfirmation11)}${formatNumber(amountTotal || 0)}\\n\\n${t(langKeys.invoiceconfirmation12)}`,\r\n            callback\r\n        }))\r\n    });\r\n\r\n    const refreshInvoice = (data: any) => {\r\n        const callback = () => {\r\n            dispatch(execute(invoiceRefresh(data)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitRefresh(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_invoicerefresh),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (waitRefresh) {\r\n            if (!executeRes.loading && !executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.success) }))\r\n                dispatch(showBackdrop(false));\r\n                fetchData && fetchData();\r\n                setViewSelected(\"view-1\");\r\n                setWaitRefresh(false);\r\n            } else if (executeRes.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t(executeRes.code || \"error_unexpected_error\", { module: t(langKeys.organization_plural).toLocaleLowerCase() }) }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitRefresh(false);\r\n            }\r\n        }\r\n    }, [executeRes, waitRefresh])\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!culqiResult.loading && !culqiResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(culqiResult.code || \"success\") }))\r\n                dispatch(showBackdrop(false));\r\n                fetchData();\r\n                setViewSelected('view-1');\r\n                setWaitSave(false);\r\n            }\r\n            else if (culqiResult.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t(culqiResult.code || \"error_unexpected_db_error\") }))\r\n                dispatch(showBackdrop(false));\r\n                fetchData();\r\n                setViewSelected('view-1');\r\n                setWaitSave(false);\r\n            }\r\n        }\r\n    }, [culqiResult, waitSave])\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={invocesBread}\r\n                            handleClick={(id) => { setViewSelected(id); fetchData(); }}\r\n                        />\r\n                        <TitleDetail\r\n                            title={t(langKeys.emiteinvoicetitle)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => { setViewSelected(\"view-1\"); fetchData(); }}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {!invoicehasreport && <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            type='submit'\r\n                            onClick={() => { setValue('onlyinsert', true); setShowInsertMessage(true); }}\r\n                            startIcon={<SaveIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                        >{t(langKeys.saveasdraft)}\r\n                        </Button>}\r\n                        {(invoicehasreport && showUpdateButton) && <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => { refreshInvoice(data?.row || null) }}\r\n                            startIcon={<RefreshIcon style={{ color: 'white' }} />}\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                        >{t(langKeys.refresh)}\r\n                        </Button>}\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            type='submit'\r\n                            onClick={() => { setValue('onlyinsert', false); setShowInsertMessage(false); }}\r\n                            startIcon={<PaymentIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                        >{t(langKeys.emitinvoice)}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <div className='row-zyx'>\r\n                        <FieldView\r\n                            className={classes.section}\r\n                            label={''}\r\n                            value={t(langKeys.clientsearch)}\r\n                        />\r\n                        <FieldView\r\n                            className={classes.commentary}\r\n                            label={''}\r\n                            value={t(langKeys.billingtypevalidation) + ((getValues('corpid') && getValues('orgid')) ? t(langKeys.organization) : ((getValues('corpid')) ? t(langKeys.corporation) : ''))}\r\n                        />\r\n                    </div>\r\n                    <div className='row-zyx'>\r\n                        <FieldSelect\r\n                            label={t(langKeys.corporation)}\r\n                            loading={corpList.loading}\r\n                            onChange={(value) => { onCorpChange(value); }}\r\n                            className=\"col-3\"\r\n                            valueDefault={data?.row?.corpid ? data?.row?.corpid : getValues('corpid')}\r\n                            data={corpList.data}\r\n                            optionDesc=\"description\"\r\n                            optionValue=\"corpid\"\r\n                            error={errors?.corpid?.message}\r\n                            orderbylabel={true}\r\n                            disabled={invoicehasreport}\r\n                        />\r\n                        <FieldSelect\r\n                            label={t(langKeys.organization)}\r\n                            loading={orgList.loading}\r\n                            onChange={(value) => { onOrgChange(value); }}\r\n                            className=\"col-3\"\r\n                            valueDefault={data?.row?.orgid ? data?.row?.orgid : getValues('orgid')}\r\n                            data={orgList.data}\r\n                            optionDesc=\"orgdesc\"\r\n                            optionValue=\"orgid\"\r\n                            disabled={(getValues('billbyorg') === false) || invoicehasreport}\r\n                            error={errors?.orgid?.message}\r\n                            orderbylabel={true}\r\n                        />\r\n                        <FieldSelect\r\n                            label={t(langKeys.invoice_serviceyear)}\r\n                            onChange={(value) => { setValue('year', parseInt(value?.value || '0')); }}\r\n                            className=\"col-3\"\r\n                            valueDefault={data?.row?.year ? data?.row?.year.toString() : getValues('year')}\r\n                            data={dataYears}\r\n                            optionDesc=\"value\"\r\n                            optionValue=\"value\"\r\n                            error={errors?.year?.message}\r\n                            disabled={invoicehasreport}\r\n                        />\r\n                        <FieldSelect\r\n                            label={t(langKeys.invoice_servicemonth)}\r\n                            onChange={(value) => { setValue('month', parseInt(value?.val || '0')); }}\r\n                            className=\"col-3\"\r\n                            valueDefault={((data?.row?.month || 0) || getValues('month')).toString().padStart(2, \"0\")}\r\n                            data={dataMonths}\r\n                            optionDesc=\"val\"\r\n                            optionValue=\"val\"\r\n                            error={errors?.month?.message}\r\n                            disabled={invoicehasreport}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div style={{ backgroundColor: 'white', padding: 16 }}>\r\n                    <Tabs\r\n                        value={pageSelected}\r\n                        indicatorColor=\"primary\"\r\n                        variant=\"fullWidth\"\r\n                        style={{ borderBottom: '1px solid #EBEAED', backgroundColor: '#FFF', marginTop: 8 }}\r\n                        textColor=\"primary\"\r\n                        onChange={(_, value) => setPageSelected(value)}\r\n                    >\r\n                        <AntTab label={t(langKeys.billinginvoicedata)} />\r\n                    </Tabs>\r\n                    {pageSelected === 0 && <div className={classes.containerDetail}>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldEdit\r\n                                label={t(langKeys.docType)}\r\n                                valueDefault={t(getDocumentType(getValues('clientdoctype')))}\r\n                                className=\"col-3\"\r\n                                error={errors?.clientdoctype?.message}\r\n                                disabled={true}\r\n                            />\r\n                            <FieldEdit\r\n                                label={t(langKeys.documentnumber)}\r\n                                valueDefault={getValues('clientdocnumber')}\r\n                                className=\"col-3\"\r\n                                error={errors?.clientdocnumber?.message}\r\n                                disabled={true}\r\n                            />\r\n                            <FieldEdit\r\n                                label={t(langKeys.billingname)}\r\n                                valueDefault={getValues('clientbusinessname')}\r\n                                className=\"col-3\"\r\n                                error={errors?.clientbusinessname?.message}\r\n                                disabled={true}\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.invoicestatus)}\r\n                                value={t((data?.invoicestatus || 'DRAFT'))}\r\n                                className=\"col-3\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                label={t(langKeys.invoiceid)}\r\n                                value={data?.invoiceid || t(langKeys.pendingsave)}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.documenttype)}\r\n                                value={t(getInvoiceType(data?.invoicetype))}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.billingvoucher)}\r\n                                value={(data?.serie ? data.serie : 'X000') + '-' + (data?.correlative ? data?.correlative.toString().padStart(8, '0') : '00000000')}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.invoicedate)}\r\n                                value={getValues('invoicecreatedate')}\r\n                                className=\"col-3\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldSelect\r\n                                className=\"col-3\"\r\n                                label={t(langKeys.credittype)}\r\n                                loading={creditTypeList.loading}\r\n                                onChange={(value) => { setValue('clientcredittype', value?.domainvalue); onCreditTypeChange(value?.domainvalue); }}\r\n                                valueDefault={data?.row?.credittype ? data?.row?.credittype : getValues('clientcredittype')}\r\n                                data={creditTypeList.data}\r\n                                optionDesc=\"domainvalue\"\r\n                                optionValue=\"domainvalue\"\r\n                                error={errors?.clientcredittype?.message}\r\n                                uset={true}\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.dueDate)}\r\n                                value={getValues('invoiceduedate')}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldEdit\r\n                                label={t(langKeys.purchaseorder)}\r\n                                className=\"col-3\"\r\n                                valueDefault={getValues('invoicepurchaseorder')}\r\n                                onChange={(value) => setValue('invoicepurchaseorder', value)}\r\n                                error={errors?.invoicepurchaseorder?.message}\r\n                            />\r\n                            <FieldEdit\r\n                                label={t(langKeys.comments)}\r\n                                className=\"col-3\"\r\n                                valueDefault={getValues('invoicecomments')}\r\n                                onChange={(value) => setValue('invoicecomments', value)}\r\n                                error={errors?.invoicecomments?.message}\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldSelect\r\n                                className=\"col-3\"\r\n                                label={t(langKeys.currency)}\r\n                                onChange={(value) => setValue('invoicecurrency', value?.value)}\r\n                                valueDefault={getValues('invoicecurrency')}\r\n                                data={dataCurrency}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"value\"\r\n                                error={errors?.invoicecurrency?.message}\r\n                                orderbylabel={true}\r\n                                disabled={invoicehasreport}\r\n                            />\r\n                            <FieldEdit\r\n                                label={t(langKeys.taxbase)}\r\n                                valueDefault={formatNumber(getValues('invoicetotalamount') || 0)}\r\n                                className=\"col-3\"\r\n                                error={errors?.invoicetotalamount?.message}\r\n                                disabled={true}\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.billingtax)}\r\n                                value={formatNumber(amountTax || 0)}\r\n                                className=\"col-3\"\r\n                            />\r\n                            <FieldView\r\n                                label={t(langKeys.totalamount)}\r\n                                value={formatNumber(amountTotal || 0)}\r\n                                className=\"col-3\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <TableContainer>\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.description)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.measureunit)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.unitaryprice)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.quantity)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(langKeys.billingsubtotal)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <IconButton\r\n                                                    size=\"small\"\r\n                                                    aria-label=\"add\"\r\n                                                    color=\"primary\"\r\n                                                    style={{ marginLeft: '1rem' }}\r\n                                                    onClick={() => fieldsAppend({\r\n                                                        productdescription: '',\r\n                                                        productcode: 'S001',\r\n                                                        productmeasure: 'ZZ',\r\n                                                        productquantity: 0,\r\n                                                        productsubtotal: 0.0,\r\n                                                    })}\r\n                                                    disabled={invoicehasreport}\r\n                                                > <AddIcon />\r\n                                                </IconButton>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                        {fields.map((item, i) => (\r\n                                            <TableRow key={item.id}>\r\n                                                <TableCell>\r\n                                                    <FieldEditArray\r\n                                                        className={classes.fieldView}\r\n                                                        label={''}\r\n                                                        fregister={{\r\n                                                            ...register(`productdetail.${i}.productdescription`, {\r\n                                                                validate: (value: any) => (value && value.length && value.length <= 250) || (value.length < 250 ? t(langKeys.field_required) : t(langKeys.validation250char))\r\n                                                            })\r\n                                                        }}\r\n                                                        valueDefault={getValues(`productdetail.${i}.productdescription`)}\r\n                                                        error={errors?.productdetail?.[i]?.productdescription?.message}\r\n                                                        onChange={(value) => setValue(`productdetail.${i}.productdescription`, \"\" + value)}\r\n                                                        disabled={invoicehasreport}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <FieldSelect\r\n                                                        className={classes.fieldView}\r\n                                                        label={''}\r\n                                                        fregister={{\r\n                                                            ...register(`productdetail.${i}.productmeasure`, {\r\n                                                                validate: (value: any) => (value && value.length) || t(langKeys.field_required)\r\n                                                            })\r\n                                                        }}\r\n                                                        loading={measureList.loading}\r\n                                                        onChange={(value) => setValue(`productdetail.${i}.productmeasure`, \"\" + value?.code)}\r\n                                                        valueDefault={getValues(`productdetail.${i}.productmeasure`)}\r\n                                                        data={measureList.data}\r\n                                                        optionDesc=\"description\"\r\n                                                        optionValue=\"code\"\r\n                                                        error={errors?.productdetail?.[i]?.productmeasure?.message}\r\n                                                        orderbylabel={true}\r\n                                                        disabled={invoicehasreport}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <FieldEditArray\r\n                                                        className={classes.fieldView}\r\n                                                        label={''}\r\n                                                        fregister={{\r\n                                                            ...register(`productdetail.${i}.productsubtotal`, {\r\n                                                                validate: (value: any) => (value && value > 0) || t(langKeys.field_required)\r\n                                                            })\r\n                                                        }}\r\n                                                        valueDefault={getValues(`productdetail.${i}.productsubtotal`)}\r\n                                                        error={errors?.productdetail?.[i]?.productsubtotal?.message}\r\n                                                        onChange={(value) => { setValue(`productdetail.${i}.productsubtotal`, \"\" + value); onProductChange(); }}\r\n                                                        type=\"number\"\r\n                                                        inputProps={{ step: \"any\" }}\r\n                                                        disabled={invoicehasreport}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <FieldEditArray\r\n                                                        className={classes.fieldView}\r\n                                                        label={''}\r\n                                                        fregister={{\r\n                                                            ...register(`productdetail.${i}.productquantity`, {\r\n                                                                validate: (value: any) => (value && value > 0) || t(langKeys.field_required)\r\n                                                            })\r\n                                                        }}\r\n                                                        valueDefault={getValues(`productdetail.${i}.productquantity`)}\r\n                                                        error={errors?.productdetail?.[i]?.productquantity?.message}\r\n                                                        onChange={(value) => { setValue(`productdetail.${i}.productquantity`, \"\" + value); onProductChange(); }}\r\n                                                        type=\"number\"\r\n                                                        disabled={invoicehasreport}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <FieldView\r\n                                                        className={classes.fieldView}\r\n                                                        label={''}\r\n                                                        value={formatNumber((getValues(`productdetail.${i}.productsubtotal`) || 0) * (getValues(`productdetail.${i}.productquantity`) || 0))}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <IconButton\r\n                                                        size=\"small\"\r\n                                                        aria-label=\"add\"\r\n                                                        color=\"primary\"\r\n                                                        style={{ marginLeft: '1rem' }}\r\n                                                        onClick={() => { fieldRemove(i); onProductChange(); }}\r\n                                                        disabled={invoicehasreport}\r\n                                                    > <DeleteIcon />\r\n                                                    </IconButton>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        ))}\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        </div>\r\n                    </div>}\r\n                </div>\r\n            </form>\r\n        </div >\r\n    )\r\n}\r\n\r\nconst IDMESSAGINGPACKAGES = \"IDMESSAGINGPACKAGES\";\r\nconst MessagingPackages: React.FC<{ dataCorp: any, dataOrg: any }> = ({ dataCorp, dataOrg }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const mainResult = useSelector(state => state.main.mainData);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [dataBalance, setDataBalance] = useState<Dictionary[]>([]);\r\n    const [canRegister, setCanRegister] = useState(false);\r\n    const [rowSelected, setRowSelected] = useState<Dictionary | null>(null);\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n\r\n    const [dataMain, setdataMain] = useState({\r\n        corpid: user?.corpid || 0,\r\n        orgid: 0,\r\n        balanceid: 0,\r\n        type: \"\",\r\n        operationtype: \"\",\r\n        all: true,\r\n    });\r\n\r\n    const transactionType = [{ value: \"HSM\", description: t(langKeys.HSM) }, { value: \"MAIL\", description: t(langKeys.MAIL) }, { value: \"SMS\", description: t(langKeys.SMS) }, { value: \"GENERAL\", description: t(langKeys.GENERAL) }]\r\n    const operationType = [{ value: \"ENVIO\", description: t(langKeys.ENVIO) }, { value: \"COMPRA\", description: t(langKeys.COMPRA) }]\r\n\r\n    const fetchData = () => dispatch(getCollection(selBalanceData(dataMain)));\r\n\r\n    const search = () => dispatch(getCollection(selBalanceData(dataMain)));\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n        if (user?.paymentmethod === 'PREPAGO') {\r\n            setCanRegister(true);\r\n        }\r\n\r\n        dispatch(setMemoryTable({\r\n            id: IDMESSAGINGPACKAGES\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    const handleRegister = () => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: null, edit: true });\r\n    }\r\n\r\n    const handleView = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: row, edit: false });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.loading && !mainResult.error) {\r\n            setDataBalance(mainResult.data.map(x => ({\r\n                ...x,\r\n                typecolumn: t(x.type),\r\n                descriptioncolumn: x.description ? x.description : t(langKeys.none),\r\n                operationtypecolumn: t(x.operationtype),\r\n                messagetemplatedesccolumn: x.messagetemplatedesc ? x.messagetemplatedesc : t(langKeys.none),\r\n                documenttypecolumn: t(getInvoiceType(x.invoicetype)),\r\n                documentnumbercolumn: (x.serie && x.correlative) ? (x.serie + '-' + x.correlative.toString().padStart(8, '0')) : 'X000-00000000',\r\n            })))\r\n        }\r\n    }, [mainResult])\r\n\r\n    const getInvoiceType = (invoicetype: string) => {\r\n        switch (invoicetype) {\r\n            case '01':\r\n                return 'emissorinvoice';\r\n            case '03':\r\n                return 'emissorticket';\r\n            case '07':\r\n                return 'emissorcreditnote';\r\n            default:\r\n                return 'emissornone';\r\n        }\r\n    }\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: t(langKeys.corporation),\r\n                accessor: 'corpdesc',\r\n            },\r\n            {\r\n                Header: t(langKeys.organization),\r\n                accessor: 'orgdesc',\r\n            },\r\n            {\r\n                Header: t(langKeys.transactiondate),\r\n                accessor: 'transactiondate',\r\n            },\r\n            {\r\n                Header: t(langKeys.user),\r\n                accessor: 'transactionuser',\r\n            },\r\n            {\r\n                Header: t(langKeys.transactionmessagetype),\r\n                accessor: 'typecolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.transactionreference),\r\n                accessor: 'descriptioncolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.amount),\r\n                accessor: 'amount',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { amount } = props.cell.row.original;\r\n                    return formatNumber(amount || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.transactionbalance),\r\n                accessor: 'balance',\r\n                type: 'number',\r\n                sortType: 'number',\r\n                Cell: (props: any) => {\r\n                    const { balance } = props.cell.row.original;\r\n                    return formatNumber(balance || 0);\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.transactionoperationtype),\r\n                accessor: 'operationtypecolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.template),\r\n                accessor: 'messagetemplatedesccolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.documenttype),\r\n                accessor: 'documenttypecolumn',\r\n            },\r\n            {\r\n                Header: t(langKeys.billingvoucher),\r\n                accessor: 'documentnumbercolumn',\r\n                Cell: (props: any) => {\r\n                    const urlpdf = props.cell.row.original.urlpdf;\r\n                    const docnumber = (props.cell.row.original.serie ? props.cell.row.original.serie : 'X000') + '-' + (props.cell.row.original.correlative ? props.cell.row.original.correlative.toString().padStart(8, '0') : '00000000');\r\n                    return (\r\n                        <Fragment>\r\n                            <div>\r\n                                {(urlpdf ?\r\n                                    <a onClick={(e) => { e.stopPropagation(); }} href={urlpdf} target=\"_blank\" style={{ display: \"block\" }} rel=\"noreferrer\">{docnumber}</a>\r\n                                    :\r\n                                    <span style={{ display: \"block\" }}>{docnumber}</span>)\r\n                                }\r\n                            </div>\r\n                        </Fragment>\r\n                    )\r\n                }\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <div style={{ width: '100%' }}>\r\n                <TableZyx\r\n                    onClickRow={handleView}\r\n                    columns={columns}\r\n                    ButtonsElement={() => (\r\n                        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                            <FieldSelect\r\n                                label={t(langKeys.corporation)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.corpid}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, corpid: value?.corpid || 0, orgid: 0 }))}\r\n                                data={dataCorp}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"corpid\"\r\n                                disabled={[\"ADMINISTRADOR\", \"ADMINISTRADOR P\", \"ADMINISTRADOR LIMADERMA\"].includes(user?.roledesc || '')}\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.organization)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.orgid}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, orgid: value?.orgid || 0 }))}\r\n                                data={dataOrg.filter((e: any) => { return e.corpid === dataMain.corpid })}\r\n                                optionDesc=\"orgdesc\"\r\n                                optionValue=\"orgid\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.transactionmessagetype)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.type}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, type: value?.value || '' }))}\r\n                                data={transactionType}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"value\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <FieldSelect\r\n                                label={t(langKeys.transactionoperationtype)}\r\n                                className={classes.fieldsfilter}\r\n                                valueDefault={dataMain.operationtype}\r\n                                variant=\"outlined\"\r\n                                onChange={(value) => setdataMain(prev => ({ ...prev, operationtype: value?.value || '' }))}\r\n                                data={operationType}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"value\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            <Button\r\n                                disabled={mainResult.loading || false}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ width: 120, backgroundColor: \"#55BD84\" }}\r\n                                startIcon={<SearchIcon style={{ color: 'white' }} />}\r\n                                onClick={search}\r\n                            >{t(langKeys.search)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    data={dataBalance}\r\n                    filterGeneral={false}\r\n                    loading={mainResult.loading}\r\n                    download={true}\r\n                    register={canRegister}\r\n                    handleRegister={handleRegister}\r\n                    registertext={t(langKeys.transactionbuy)}\r\n                    pageSizeDefault={IDMESSAGINGPACKAGES === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDMESSAGINGPACKAGES === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDMESSAGINGPACKAGES === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n\r\n                />\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <MessagingPackagesDetail\r\n                fetchData={fetchData}\r\n                data={rowSelected}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst MessagingPackagesDetail: FC<DetailProps> = ({ data, setViewSelected, fetchData }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const culqiSelector = useSelector(state => state.culqi.request);\r\n    const exchangeRequest = useSelector(state => state.culqi.requestGetExchangeRate);\r\n    const mainResult = useSelector(state => state.main);\r\n    const multiResult = useSelector(state => state.main.multiDataAux);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [cardList, setCardList] = useState<any>([]);\r\n    const [corp, setCorp] = useState(0);\r\n    const [corpList, setCorpList] = useState<any>([]);\r\n    const [corpError, setCorpError] = useState('');\r\n    const [org, setOrg] = useState(0);\r\n    const [orgList, setOrgList] = useState<any>([]);\r\n    const [orgError, setOrgError] = useState('');\r\n    const [reference, setReference] = useState('');\r\n    const [referenceError, setReferenceError] = useState('');\r\n    const [beforeAmount, setBeforeAmount] = useState(0);\r\n    const [afterAmount, setAfterAmount] = useState(0);\r\n    const [buyAmount, setBuyAmount] = useState(0);\r\n    const [buyAmountError, setBuyAmountError] = useState('');\r\n    const [comments, setComments] = useState('');\r\n    const [commentsError, setCommentsError] = useState('');\r\n    const [purchaseOrder, setPurchaseOrder] = useState('');\r\n    const [purchaseOrderError, setPurchaseOrderError] = useState('');\r\n    const [currentCountry, setCurrentCountry] = useState('');\r\n    const [currentDoctype, setCurrentDoctype] = useState('');\r\n    const [currentBillbyorg, setCurrentBillbyorg] = useState(false);\r\n    const [totalPay, setTotalPay] = useState(0);\r\n    const [paymentDisabled, setPaymentDisabled] = useState(false);\r\n    const [publicKey, setPublicKey] = useState('');\r\n    const [showCulqi, setShowCulqi] = useState(false);\r\n    const [confirmButton, setConfirmButton] = useState(true);\r\n    const [disableInput, setDisableInput] = useState(data?.row ? true : false);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n    const [waitPay, setWaitPay] = useState(false);\r\n    const [detractionAlert, setDetractionAlert] = useState(false);\r\n    const [detractionAmount, setDetractionAmount] = useState(0);\r\n    const [messagingList, setMessagingList] = useState<any>([]);\r\n    const [priceSms, setPriceSms] = useState(0);\r\n    const [priceMail, setPriceMail] = useState(0);\r\n    const [priceHsm, setPriceHsm] = useState(0);\r\n    const [balanceSent, setBalanceSent] = useState<any>([]);\r\n    const [paymentTax, setPaymentTax] = useState(0);\r\n    const [totalAmount, setTotalAmount] = useState(0);\r\n    const [paymentCardId, setPaymentCardId] = useState(0);\r\n    const [paymentCardCode, setPaymentCardCode] = useState('');\r\n    const [paymentType, setPaymentType] = useState('FAVORITE');\r\n    const [favoriteCardId, setFavoriteCardId] = useState(0);\r\n    const [favoriteCardNumber, setFavoriteCardNumber] = useState('');\r\n    const [favoriteCardCode, setFavoriteCardCode] = useState('');\r\n\r\n    const dataPayment = [{ val: \"FAVORITE\", description: t(langKeys.paymentfavorite) }, { val: \"CARD\", description: t(langKeys.paymentcard) }, { val: \"CULQI\", description: t(langKeys.paymentculqi) }];\r\n\r\n    const handlePay = () => {\r\n        const callback = () => {\r\n            dispatch(showBackdrop(true));\r\n            dispatch(balance({\r\n                invoiceid: data?.invoiceid,\r\n                settings: {\r\n                    title: reference,\r\n                    description: reference,\r\n                    currency: 'USD',\r\n                    amount: Math.round(((totalPay * 100) + Number.EPSILON) * 100) / 100,\r\n                },\r\n                token: null,\r\n                metadata: {},\r\n                corpid: corp,\r\n                orgid: org,\r\n                reference: reference,\r\n                buyamount: buyAmount,\r\n                comments: comments,\r\n                purchaseorder: purchaseOrder,\r\n                totalpay: totalPay,\r\n                totalamount: totalAmount,\r\n                paymentcardid: paymentCardId,\r\n                paymentcardcode: paymentCardCode,\r\n                iscard: true,\r\n            }));\r\n            setWaitPay(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_payment),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    const handleCulqiSuccess = () => {\r\n        fetchData();\r\n        setViewSelected(\"view-1\");\r\n    }\r\n\r\n    useEffect(() => {\r\n        setMessagingList({ loading: true, data: [] });\r\n        setCorpList({ loading: true, data: [] });\r\n        setOrgList({ loading: false, data: [] });\r\n\r\n        dispatch(getMultiCollectionAux([getCorpSel([\"ADMINISTRADOR\", \"ADMINISTRADOR P\", \"ADMINISTRADOR LIMADERMA\"].includes(user?.roledesc || '') ? user?.corpid || 0 : 0), getBillingMessagingCurrent(new Date().getFullYear(), new Date().getMonth(), user?.countrycode || ''), listPaymentCard({ corpid: user?.corpid || 0, id: 0, orgid: 0 })]));\r\n\r\n        if (data?.row === null) {\r\n            dispatch(getCollection(getAppsettingInvoiceSel()));\r\n            dispatch(getExchangeRate(null));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n        else {\r\n            if (data?.row?.operationtype === \"ENVIO\") {\r\n                setBalanceSent({ loading: true, data: [] });\r\n                dispatch(getMultiCollectionAux([getBalanceSelSent(data?.row?.corpid, data?.row?.orgid, data?.row?.transactiondate, data?.row?.type, data?.row?.module, data?.row?.messagetemplateid)]));\r\n            }\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const indexCorp = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_CORP_SEL'));\r\n\r\n        if (indexCorp > -1) {\r\n            setCorpList({ loading: false, data: multiResult.data[indexCorp] && multiResult.data[indexCorp].success ? multiResult.data[indexCorp].data : [] });\r\n        }\r\n\r\n        const indexOrg = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_ORG_SEL'));\r\n\r\n        if (indexOrg > -1) {\r\n            setOrgList({ loading: false, data: multiResult.data[indexOrg] && multiResult.data[indexOrg].success ? multiResult.data[indexOrg].data : [] });\r\n        }\r\n\r\n        const indexMessaging = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_BILLINGMESSAGING_CURRENT'));\r\n\r\n        if (indexMessaging > -1) {\r\n            setMessagingList({ loading: false, data: multiResult.data[indexMessaging] && multiResult.data[indexMessaging].success ? multiResult.data[indexMessaging].data : [] });\r\n        }\r\n\r\n        const indexSent = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_BALANCE_SEL_SENT'));\r\n\r\n        if (indexSent > -1) {\r\n            setBalanceSent({ loading: false, data: multiResult.data[indexSent] && multiResult.data[indexSent].success ? multiResult.data[indexSent].data : [] });\r\n        }\r\n\r\n        const indexCard = multiResult.data.findIndex((x: MultiData) => x.key === ('UFN_PAYMENTCARD_LST'));\r\n\r\n        if (indexCard > -1) {\r\n            setCardList({ loading: false, data: multiResult.data[indexCard] && multiResult.data[indexCard].success ? multiResult.data[indexCard].data : [] });\r\n        }\r\n    }, [multiResult]);\r\n\r\n    useEffect(() => {\r\n        if (cardList) {\r\n            if (cardList.data) {\r\n                if (cardList.data.length > 0) {\r\n                    var favoriteCard = cardList.data.find((o: { favorite: boolean; }) => o.favorite === true);\r\n\r\n                    if (favoriteCard) {\r\n                        setFavoriteCardId(favoriteCard.paymentcardid);\r\n                        setFavoriteCardNumber(favoriteCard.cardnumber);\r\n                        setFavoriteCardCode(favoriteCard.cardcode);\r\n                        setPaymentCardId(favoriteCard.paymentcardid);\r\n                        setPaymentCardCode(favoriteCard.cardcode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [cardList]);\r\n\r\n    useEffect(() => {\r\n        if (paymentType) {\r\n            if (paymentType === \"FAVORITE\") {\r\n                setPaymentCardId(favoriteCardId);\r\n                setPaymentCardCode(favoriteCardCode);\r\n            }\r\n\r\n            if (paymentType === \"CARD\" || paymentType === \"CULQI\") {\r\n                setPaymentCardId(0);\r\n                setPaymentCardCode('');\r\n            }\r\n        }\r\n    }, [paymentType]);\r\n\r\n    useEffect(() => {\r\n        if (waitPay) {\r\n            if (!culqiSelector.loading && culqiSelector.data) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: '' + t(culqiSelector.message || langKeys.success) }))\r\n                dispatch(showBackdrop(false));\r\n                dispatch(resetBalance());\r\n                handleCulqiSuccess && handleCulqiSuccess();\r\n                setWaitPay(false);\r\n            }\r\n            else if (culqiSelector.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: '' + t(culqiSelector.message || langKeys.error_cos_unexpected) }))\r\n                dispatch(showBackdrop(false));\r\n                dispatch(resetBalance());\r\n                setWaitPay(false);\r\n            }\r\n        }\r\n    }, [culqiSelector, waitPay]);\r\n\r\n    useEffect(() => {\r\n        if (!messagingList.loading) {\r\n            if (messagingList.data) {\r\n                setPriceHsm((messagingList.data[0].companystartfee || 0) + (messagingList.data[0].vcacomission || 0));\r\n                setPriceSms((messagingList.data[0].pricepersms || 0) + (messagingList.data[0].vcacomissionpersms || 0));\r\n                setPriceMail((messagingList.data[0].pricepermail || 0) + (messagingList.data[0].vcacomissionpermail || 0));\r\n            }\r\n        }\r\n    }, [messagingList]);\r\n\r\n    useEffect(() => {\r\n        updateTotalPay(buyAmount);\r\n    }, [currentCountry, currentDoctype, buyAmount, totalPay, totalAmount]);\r\n\r\n    useEffect(() => {\r\n        if (corp && org && comments.length <= 150 && purchaseOrder.length <= 15 && reference && (buyAmount && buyAmount > 0) && (totalPay && totalPay > 0)) {\r\n            setPaymentDisabled(false);\r\n            setConfirmButton(false);\r\n        }\r\n        else {\r\n            setPaymentDisabled(true);\r\n            setConfirmButton(true);\r\n        }\r\n    }, [corp, org, comments, purchaseOrder, reference, buyAmount, totalPay])\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!mainResult.mainData.loading && !exchangeRequest.loading) {\r\n                dispatch(showBackdrop(false));\r\n\r\n                if (mainResult.mainData.data) {\r\n                    if (mainResult.mainData.data[0]) {\r\n                        var appsetting = mainResult.mainData.data[0];\r\n\r\n                        setPublicKey(appsetting.publickey);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [mainResult, exchangeRequest, waitSave])\r\n\r\n    const updateTotalPay = (buyAmount: number) => {\r\n        if (currentCountry && currentDoctype) {\r\n            if (currentCountry === 'PE') {\r\n                setTotalAmount(Math.round((((buyAmount || 0) * (1 + (mainResult.mainData.data[0].igv || 0))) + Number.EPSILON) * 100) / 100);\r\n                if (currentDoctype === '6') {\r\n                    var compareamount = (buyAmount || 0) * (exchangeRequest?.exchangerate || 0);\r\n\r\n                    if (compareamount > mainResult.mainData.data[0].detractionminimum) {\r\n                        setTotalPay(Math.round(((((buyAmount || 0) * (1 + (mainResult.mainData.data[0].igv || 0))) - (((buyAmount || 0) * (1 + (mainResult.mainData.data[0].igv || 0))) * (mainResult.mainData.data[0].detraction || 0))) + Number.EPSILON) * 100) / 100);\r\n                        setDetractionAlert(true);\r\n                        setDetractionAmount(Math.round((((mainResult.mainData.data[0].detraction || 0) * 100) + Number.EPSILON) * 100) / 100);\r\n                        setPaymentTax(Math.round((((buyAmount || 0) * (mainResult.mainData.data[0].igv || 0)) + Number.EPSILON) * 100) / 100);\r\n                    }\r\n                    else {\r\n                        setDetractionAlert(false);\r\n                        setTotalPay(Math.round((((buyAmount || 0) * (1 + (mainResult.mainData.data[0].igv || 0))) + Number.EPSILON) * 100) / 100);\r\n                        setPaymentTax(Math.round((((buyAmount || 0) * (mainResult.mainData.data[0].igv || 0)) + Number.EPSILON) * 100) / 100);\r\n                    }\r\n                }\r\n                else {\r\n                    setDetractionAlert(false);\r\n                    setTotalPay(Math.round((((buyAmount || 0) * (1 + (mainResult.mainData.data[0].igv || 0))) + Number.EPSILON) * 100) / 100);\r\n                    setPaymentTax(Math.round((((buyAmount || 0) * (mainResult.mainData.data[0].igv || 0)) + Number.EPSILON) * 100) / 100);\r\n                }\r\n            }\r\n            else {\r\n                setTotalAmount(Math.round(((buyAmount || 0) + Number.EPSILON) * 100) / 100);\r\n                setDetractionAlert(false);\r\n                setTotalPay(Math.round(((buyAmount || 0) + Number.EPSILON) * 100) / 100);\r\n                setPaymentTax(0);\r\n            }\r\n        }\r\n        else {\r\n            setTotalAmount(Math.round(((buyAmount || 0) + Number.EPSILON) * 100) / 100);\r\n            setDetractionAlert(false);\r\n            setTotalPay(Math.round(((buyAmount || 0) + Number.EPSILON) * 100) / 100);\r\n            setPaymentTax(0);\r\n        }\r\n        setAfterAmount(beforeAmount + totalAmount);\r\n    }\r\n\r\n    const handleCorp = (value: any) => {\r\n        dispatch(getMultiCollectionAux([getOrgSel(0, value)]));\r\n\r\n        if (value) {\r\n            var corporationdata = corpList.data.find((x: { corpid: any; }) => x.corpid === value);\r\n            if (corporationdata) {\r\n                setCurrentBillbyorg(corporationdata?.billbyorg);\r\n                if (corporationdata.billbyorg === false) {\r\n                    setCurrentCountry(corporationdata?.sunatcountry);\r\n                    setCurrentDoctype(corporationdata?.doctype);\r\n                }\r\n            }\r\n        }\r\n\r\n        setCorp(value);\r\n        setCorpError(value ? '' : t(langKeys.required));\r\n    }\r\n\r\n    const handleOrg = (value: any) => {\r\n        if (value) {\r\n            var organizationdata = orgList.data.find((x: { orgid: any; }) => x.orgid === value);\r\n            if (organizationdata) {\r\n                setBeforeAmount((organizationdata?.balance || 0));\r\n                setAfterAmount((organizationdata?.balance || 0) + totalAmount);\r\n                if (currentBillbyorg) {\r\n                    setCurrentCountry(organizationdata?.sunatcountry);\r\n                    setCurrentDoctype(organizationdata?.doctype);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            setBeforeAmount(0);\r\n            setAfterAmount(totalAmount);\r\n        }\r\n        setOrg(value);\r\n        setOrgError(value ? '' : t(langKeys.required));\r\n    }\r\n\r\n    const handleReference = (value: any) => {\r\n        setReference(value);\r\n        setReferenceError(value ? '' : t(langKeys.required));\r\n    }\r\n\r\n    const handleBuyAmount = (value: any) => {\r\n        setBuyAmount(parseFloat(value));\r\n        setBuyAmountError((value && value > 0) ? '' : t(langKeys.required));\r\n    }\r\n\r\n    const handlePurchaseOrder = (value: any) => {\r\n        setPurchaseOrder(value);\r\n        setPurchaseOrderError(value.length > 15 ? t(langKeys.validation15char) : '')\r\n    }\r\n\r\n    const handleComments = (value: any) => {\r\n        setComments(value);\r\n        setCommentsError(value.length > 150 ? t(langKeys.validation150char) : '');\r\n    }\r\n\r\n    const handleShowCulqi = () => {\r\n        if (showCulqi) {\r\n            setShowCulqi(false);\r\n            setDisableInput(false);\r\n        }\r\n        else {\r\n            setShowCulqi(true);\r\n            setDisableInput(true);\r\n        }\r\n    }\r\n\r\n    const getInvoiceType = (invoicetype: string) => {\r\n        switch (invoicetype) {\r\n            case '01':\r\n                return 'emissorinvoice';\r\n            case '03':\r\n                return 'emissorticket';\r\n            case '07':\r\n                return 'emissorcreditnote';\r\n            default:\r\n                return 'emissornone';\r\n        }\r\n    }\r\n\r\n    const paymentBread = [\r\n        { id: \"view-1\", name: t(langKeys.messagingpackages) },\r\n        { id: \"view-2\", name: (data?.edit ? t(langKeys.messagingpackagesnew) : t(langKeys.messagingpackagesdetail)) }\r\n    ];\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={paymentBread}\r\n                            handleClick={(id) => { setViewSelected(id); fetchData(); }}\r\n                        />\r\n                        <TitleDetail\r\n                            title={(data?.edit ? t(langKeys.messagingpackagesnew) : t(langKeys.messagingpackagesdetail))}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => { setViewSelected(\"view-1\"); fetchData(); }}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {data?.edit && <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={showCulqi ? (<ClearIcon color=\"secondary\" />) : (<SaveIcon color=\"secondary\" />)}\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                            onClick={() => handleShowCulqi()}\r\n                            disabled={confirmButton}\r\n                        >{showCulqi ? t(langKeys.cancel) : t(langKeys.transactionconfirm)}</Button>}\r\n                        {(paymentType === \"CULQI\" && publicKey && showCulqi) &&\r\n                            <CulqiModal\r\n                                type=\"BALANCE\"\r\n                                invoiceid={0}\r\n                                title={reference}\r\n                                description={reference}\r\n                                currency={'USD'}\r\n                                amount={Math.round(((totalPay * 100) + Number.EPSILON) * 100) / 100}\r\n                                callbackOnSuccess={() => { handleCulqiSuccess() }}\r\n                                buttontitle={t(langKeys.proceedpayment)}\r\n                                disabled={paymentDisabled}\r\n                                successmessage={t(langKeys.culqipaysuccess)}\r\n                                publickey={publicKey}\r\n                                corpid={corp}\r\n                                orgid={org}\r\n                                reference={reference}\r\n                                buyamount={buyAmount}\r\n                                totalamount={totalAmount}\r\n                                comments={comments}\r\n                                purchaseorder={purchaseOrder}\r\n                                totalpay={totalPay}\r\n                            ></CulqiModal>\r\n                        }\r\n                        {((paymentType === \"FAVORITE\" || paymentType === \"CARD\") && showCulqi) &&\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"button\"\r\n                                startIcon={<AttachMoneyIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                                onClick={handlePay}\r\n                                disabled={paymentDisabled || !paymentCardId || !paymentCardCode}\r\n                            >{t(langKeys.proceedpayment)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div style={{ backgroundColor: 'white', padding: 16 }}>\r\n                    {(!disableInput || data?.edit === false) && <div>\r\n                        <div className=\"row-zyx\">\r\n                            {data?.edit ? (\r\n                                <FieldSelect\r\n                                    label={t(langKeys.corporation)}\r\n                                    loading={corpList.loading}\r\n                                    onChange={(value) => { handleCorp(value?.corpid || 0) }}\r\n                                    className=\"col-6\"\r\n                                    valueDefault={corp}\r\n                                    data={corpList.data}\r\n                                    optionDesc=\"description\"\r\n                                    optionValue=\"corpid\"\r\n                                    error={corpError}\r\n                                    disabled={disableInput}\r\n                                    orderbylabel={true}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-6\"\r\n                                    label={t(langKeys.corporation)}\r\n                                    value={data?.row?.corpdesc}\r\n                                />\r\n                            )}\r\n                            {data?.edit ? (\r\n                                <FieldSelect\r\n                                    label={t(langKeys.organization)}\r\n                                    loading={orgList.loading}\r\n                                    onChange={(value) => { handleOrg(value?.orgid || 0) }}\r\n                                    className=\"col-6\"\r\n                                    valueDefault={org}\r\n                                    data={orgList.data}\r\n                                    optionDesc=\"orgdesc\"\r\n                                    optionValue=\"orgid\"\r\n                                    error={orgError}\r\n                                    disabled={disableInput}\r\n                                    orderbylabel={true}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-6\"\r\n                                    label={t(langKeys.organization)}\r\n                                    value={data?.row?.orgdesc}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            {data?.edit ? (\r\n                                <FieldEdit\r\n                                    label={t(langKeys.transactionreference)}\r\n                                    onChange={(value) => handleReference(value)}\r\n                                    valueDefault={reference}\r\n                                    error={referenceError}\r\n                                    className=\"col-12\"\r\n                                    disabled={disableInput}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-12\"\r\n                                    label={t(langKeys.transactionreference)}\r\n                                    value={data?.row?.description || t(langKeys.none)}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        {data?.row?.operationtype !== \"ENVIO\" && <div className=\"row-zyx\">\r\n                            {data?.edit ? (\r\n                                <FieldEdit\r\n                                    label={t(langKeys.transactionbuyamount)}\r\n                                    onChange={(value) => handleBuyAmount(value || 0)}\r\n                                    valueDefault={buyAmount}\r\n                                    error={buyAmountError}\r\n                                    className=\"col-4\"\r\n                                    type=\"number\"\r\n                                    inputProps={{ step: \"any\" }}\r\n                                    disabled={disableInput}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.transactionbuyamount)}\r\n                                    value={formatNumber(data?.row?.subtotal || 0)}\r\n                                />\r\n                            )}\r\n                            {data?.edit ? (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.billingtaxes)}\r\n                                    value={'$' + formatNumber(paymentTax || 0)}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.billingtaxes)}\r\n                                    value={'$' + formatNumber(data?.row?.taxes || 0)}\r\n                                />\r\n                            )}\r\n                            {data?.edit ? (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.totalamount)}\r\n                                    value={'$' + formatNumber((totalAmount || 0))}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.totalamount)}\r\n                                    value={'$' + formatNumber((data?.row?.amount || 0))}\r\n                                />\r\n                            )}\r\n                        </div>}\r\n                        <div className=\"row-zyx\">\r\n                            {data?.edit ? (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.transactionlastbalance)}\r\n                                    value={'$' + formatNumber(beforeAmount || 0)}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.transactionlastbalance)}\r\n                                    value={'$' + formatNumber((data?.row?.balance - data?.row?.amount) || 0)}\r\n                                />\r\n                            )}\r\n                            {data?.edit ? (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.totalamount)}\r\n                                    value={'$' + formatNumber((totalAmount || 0))}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.totalamount)}\r\n                                    value={'$' + formatNumber((data?.row?.amount || 0))}\r\n                                />\r\n                            )}\r\n                            {data?.edit ? (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.transactionafterbalance)}\r\n                                    value={'$' + formatNumber(afterAmount || 0)}\r\n                                />\r\n                            ) : (\r\n                                <FieldView\r\n                                    className=\"col-4\"\r\n                                    label={t(langKeys.transactionafterbalance)}\r\n                                    value={'$' + formatNumber(data?.row?.balance || 0)}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    </div>}\r\n                    {disableInput && <div>\r\n                        {(data?.edit) && <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.section}\r\n                                label={''}\r\n                                value={t(langKeys.paymentmethod)}\r\n                            />\r\n                        </div>}\r\n                        {(data?.edit) && <div className=\"row-zyx\">\r\n                            <FieldSelect\r\n                                label={t(langKeys.paymentmethodtype)}\r\n                                onChange={(value) => { setPaymentType(value?.val || 0) }}\r\n                                className=\"col-6\"\r\n                                valueDefault={paymentType}\r\n                                data={dataPayment}\r\n                                optionDesc=\"description\"\r\n                                optionValue=\"val\"\r\n                                orderbylabel={true}\r\n                            />\r\n                            {(paymentType === \"CARD\") && <FieldSelect\r\n                                label={t(langKeys.paymentmethodcard)}\r\n                                onChange={(value) => { setPaymentCardCode(value?.cardcode || ''); setPaymentCardId(value?.paymentcardid || 0); }}\r\n                                className=\"col-6\"\r\n                                valueDefault={paymentCardId}\r\n                                data={cardList.data ? cardList.data.filter((e: { favorite: boolean; }) => e.favorite !== true) : []}\r\n                                optionDesc=\"cardnumber\"\r\n                                optionValue=\"paymentcardid\"\r\n                                loading={cardList.loading}\r\n                                orderbylabel={true}\r\n                            />}\r\n                            {(paymentType === \"FAVORITE\") && <FieldEdit\r\n                                className=\"col-6\"\r\n                                label={t(langKeys.paymentmethodcard)}\r\n                                valueDefault={favoriteCardNumber}\r\n                                disabled={true}\r\n                            />}\r\n                        </div>}\r\n                        {(data?.edit || data?.row?.operationtype === \"COMPRA\") && <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.section}\r\n                                label={''}\r\n                                value={t(langKeys.paymentinformation)}\r\n                            />\r\n                        </div>}\r\n                        {(data?.edit || data?.row?.operationtype === \"COMPRA\") && <div className=\"row-zyx\">\r\n                            {data?.edit && <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.servicedescription)}\r\n                                value={t(langKeys.transactionrechargetitle) + toISOLocalString(new Date()).split('T')[0]}\r\n                            />}\r\n                            {data?.row?.operationtype === \"COMPRA\" && <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.servicedescription)}\r\n                                value={t(langKeys.transactionrechargetitle) + toISOLocalString(new Date(data?.row?.createdate)).split('T')[0]}\r\n                            />}\r\n                            {data?.edit && <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.totalamount)}\r\n                                value={'$' + formatNumber((totalAmount || 0))}\r\n                            />}\r\n                            {data?.row?.operationtype === \"COMPRA\" && <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.totalamount)}\r\n                                value={'$' + formatNumber((data?.row?.amount || 0))}\r\n                            />}\r\n                            {data?.edit && <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.totaltopay)}\r\n                                value={'$' + formatNumber((totalPay || 0))}\r\n                            />}\r\n                            {data?.row?.operationtype === \"COMPRA\" && <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.totaltopay)}\r\n                                value={'$' + formatNumber((data?.row?.culqiamount || 0))}\r\n                            />}\r\n                        </div>}\r\n                    </div>}\r\n                    {(data?.row?.operationtype === \"COMPRA\") && <div className=\"row-zyx\">\r\n                        <FieldView\r\n                            className=\"col-4\"\r\n                            label={t(langKeys.documenttype)}\r\n                            value={t(getInvoiceType(data?.row?.invoicetype))}\r\n                        />\r\n                        <FieldView\r\n                            onclick={() => { if (data?.row?.urlpdf) { window.open(data?.row?.urlpdf, \"_blank\"); } }}\r\n                            label={t(langKeys.billingvoucher)}\r\n                            value={(data?.row?.serie ? data?.row?.serie : 'X000') + '-' + (data?.row?.correlative ? data?.row?.correlative.toString().padStart(8, '0') : '00000000')}\r\n                            className=\"col-4\"\r\n                            styles={(data?.row?.urlpdf) ? { cursor: 'pointer', textDecoration: 'underline', color: 'blue' } : undefined}\r\n                        />\r\n                        <FieldView\r\n                            className=\"col-4\"\r\n                            label={t(langKeys.purchaseorder)}\r\n                            value={data?.row?.purchaseorder || t(langKeys.none)}\r\n                        />\r\n                    </div>}\r\n                    {(data?.row?.operationtype === \"ENVIO\") && <div className=\"row-zyx\">\r\n                        <TableContainer>\r\n                            <Table>\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell>\r\n                                            <FieldView\r\n                                                label={''}\r\n                                                value={t(langKeys.transactionmessagetype)}\r\n                                                className={classes.fieldView}\r\n                                            />\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <FieldView\r\n                                                label={''}\r\n                                                value={t(langKeys.transactionreceiver)}\r\n                                                className={classes.fieldView}\r\n                                            />\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <FieldView\r\n                                                label={''}\r\n                                                value={t(langKeys.transactioncost)}\r\n                                                className={classes.fieldView}\r\n                                            />\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <FieldView\r\n                                                label={''}\r\n                                                value={t(langKeys.transactiondatetime)}\r\n                                                className={classes.fieldView}\r\n                                            />\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <FieldView\r\n                                                label={''}\r\n                                                value={t(langKeys.user)}\r\n                                                className={classes.fieldView}\r\n                                            />\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {balanceSent?.data?.map(function (file: any) {\r\n                                        return <TableRow>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={t(file?.type || langKeys.none)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={file?.receiver}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={formatNumberFourDecimals(file?.amount || 0)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={toISOLocalString(new Date(file?.createdate)).replace(\"T\", \" \").substring(0, 19)}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <FieldView\r\n                                                    label={''}\r\n                                                    value={file?.transactionuser}\r\n                                                    className={classes.fieldView}\r\n                                                />\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    })}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </div>}\r\n                    {!disableInput && <div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.section}\r\n                                label={''}\r\n                                value={t(langKeys.transactioninformation)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.pricemessagesms)}\r\n                                value={'$' + formatNumberFourDecimals((priceSms || 0))}\r\n                            />\r\n                            <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.pricemessagemail)}\r\n                                value={'$' + formatNumberFourDecimals((priceMail || 0))}\r\n                            />\r\n                            <FieldView\r\n                                className=\"col-4\"\r\n                                label={t(langKeys.pricemessagehsm)}\r\n                                value={'$' + formatNumberFourDecimals((priceHsm || 0))}\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.commentary}\r\n                                label={''}\r\n                                value={t(langKeys.pricemessagenote1)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.commentary}\r\n                                label={''}\r\n                                value={t(langKeys.pricemessagenote2)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.commentary}\r\n                                label={''}\r\n                                value={t(langKeys.pricemessagenote)}\r\n                            />\r\n                            <a href={'https://developers.facebook.com/docs/whatsapp/pricing'} target=\"_blank\" style={{ display: \"block\" }} rel=\"noreferrer\">{'https://developers.facebook.com/docs/whatsapp/pricing'}</a>\r\n                        </div>\r\n                    </div>}\r\n                    {disableInput && <div>\r\n                        {(data?.edit && detractionAlert) && <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.commentary}\r\n                                label={''}\r\n                                value={t(langKeys.detractionnotepay1) + `${detractionAmount}` + t(langKeys.detractionnotepay2)}\r\n                            />\r\n                        </div>}\r\n                        {data?.edit && <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.section}\r\n                                label={''}\r\n                                value={t(langKeys.additional_information)}\r\n                            />\r\n                        </div>}\r\n                        {data?.edit && <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.commentary}\r\n                                label={''}\r\n                                value={t(langKeys.additionalinformation2)}\r\n                            />\r\n                        </div>}\r\n                        {data?.edit && <div className=\"row-zyx\">\r\n                            <FieldEdit\r\n                                label={t(langKeys.purchaseorder)}\r\n                                onChange={(value) => handlePurchaseOrder(value)}\r\n                                valueDefault={purchaseOrder}\r\n                                error={purchaseOrderError}\r\n                                className=\"col-12\"\r\n                                disabled={!disableInput}\r\n                            />\r\n                        </div>}\r\n                        {data?.edit && <div className=\"row-zyx\">\r\n                            <FieldEdit\r\n                                label={t(langKeys.comments)}\r\n                                onChange={(value) => handleComments(value)}\r\n                                valueDefault={comments}\r\n                                error={commentsError}\r\n                                className=\"col-12\"\r\n                                disabled={!disableInput}\r\n                            />\r\n                        </div>}\r\n                        {data?.edit && <div className=\"row-zyx\">\r\n                            <FieldView\r\n                                className={classes.commentary}\r\n                                label={''}\r\n                                value={t(langKeys.additionalinformation1)}\r\n                            />\r\n                        </div>}\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nconst IDPAYMENTMETHODS = \"IDPAYMENTMETHODS\";\r\nconst PaymentMethods: React.FC<{}> = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const deleteRequest = useSelector(state => state.culqi.requestCardDelete);\r\n    const executeRequest = useSelector(state => state.main.execute);\r\n    const mainResult = useSelector(state => state.main.mainData);\r\n    const memoryTable = useSelector(state => state.main.memoryTable);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [dataPaymentMethods, setDataPaymentMethods] = useState<Dictionary[]>([]);\r\n    const [rowSelected, setRowSelected] = useState<RowSelected>({ row: null, edit: true });\r\n    const [viewSelected, setViewSelected] = useState(\"view-1\");\r\n    const [waitDelete, setWaitDelete] = useState(false);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const fetchData = () => dispatch(getCollection(listPaymentCard({\r\n        corpid: user?.corpid || 0,\r\n        id: 0,\r\n        orgid: 0,\r\n    })));\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n        dispatch(setMemoryTable({\r\n            id: IDPAYMENTMETHODS\r\n        }))\r\n        return () => {\r\n            dispatch(cleanMemoryTable());\r\n        }\r\n    }, [])\r\n\r\n    const handleRegister = () => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: null, edit: true });\r\n    }\r\n\r\n    const handleView = (row: Dictionary) => {\r\n        setViewSelected(\"view-2\");\r\n        setRowSelected({ row: row, edit: false });\r\n    }\r\n\r\n    const handleDelete = (row: Dictionary) => {\r\n        if (row.favorite) {\r\n            dispatch(showSnackbar({ show: true, severity: \"error\", message: t(langKeys.paymentmethod_preferreddelete) }));\r\n        }\r\n        else {\r\n            const callback = () => {\r\n                dispatch(cardDelete(row));\r\n                dispatch(showBackdrop(true));\r\n                setWaitDelete(true);\r\n            }\r\n\r\n            dispatch(manageConfirmation({\r\n                visible: true,\r\n                question: t(langKeys.confirmation_delete),\r\n                callback\r\n            }))\r\n        }\r\n    }\r\n\r\n    const handleFavorite = (row: Dictionary) => {\r\n        row.favorite = true;\r\n        row.username = user?.usr;\r\n\r\n        const callback = () => {\r\n            dispatch(execute(paymentCardInsert(row)));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_paymentcard),\r\n            callback\r\n        }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!mainResult.loading && !mainResult.error) {\r\n            setDataPaymentMethods(mainResult.data.map(x => ({\r\n                ...x,\r\n                favoritecolumn: t(x.favorite ? langKeys.affirmative : langKeys.negative),\r\n            })))\r\n        }\r\n    }, [mainResult])\r\n\r\n    useEffect(() => {\r\n        if (waitDelete) {\r\n            if (!deleteRequest.loading && !deleteRequest.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_delete) }))\r\n                fetchData && fetchData();\r\n                setWaitDelete(false);\r\n                dispatch(showBackdrop(false));\r\n            } else if (deleteRequest.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t((deleteRequest.msg || deleteRequest.code) || \"error_unexpected_error\") }))\r\n                setWaitDelete(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [deleteRequest, waitDelete])\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!executeRequest.loading && !executeRequest.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.markpreferred_success) }))\r\n                fetchData && fetchData();\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            } else if (executeRequest.error) {\r\n                const errormessage = t(executeRequest.code || \"error_unexpected_error\", { module: t(langKeys.organization_plural).toLocaleLowerCase() })\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: errormessage }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [executeRequest, waitSave])\r\n\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                NoFilter: true,\r\n                isComponent: true,\r\n                minWidth: 60,\r\n                width: '1%',\r\n                accessor: 'corpid',\r\n                Cell: (props: any) => {\r\n                    const row = props.cell.row.original;\r\n                    return (\r\n                        <TemplateIcons\r\n                            deleteFunction={() => handleDelete(row)}\r\n                            extraFunction={row.favorite ? undefined : () => handleFavorite(row)}\r\n                            extraOption={row.favorite ? undefined : t(langKeys.markpreferred)}\r\n                        />\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: t(langKeys.name_plural),\r\n                accessor: 'firstname',\r\n            },\r\n            {\r\n                Header: t(langKeys.ticket_lastname),\r\n                accessor: 'lastname',\r\n            },\r\n            {\r\n                Header: t(langKeys.ticket_email),\r\n                accessor: 'mail',\r\n            },\r\n            {\r\n                Header: t(langKeys.phone),\r\n                accessor: 'phone',\r\n            },\r\n            {\r\n                Header: t(langKeys.creditcardnumber),\r\n                accessor: 'cardnumber',\r\n            },\r\n            {\r\n                Header: t(langKeys.preferred),\r\n                accessor: 'favoritecolumn',\r\n            },\r\n        ],\r\n        []\r\n    );\r\n\r\n    if (viewSelected === \"view-1\") {\r\n        return (\r\n            <div style={{ width: '100%' }}>\r\n                <TableZyx\r\n                    onClickRow={handleView}\r\n                    columns={columns}\r\n                    data={dataPaymentMethods}\r\n                    filterGeneral={false}\r\n                    loading={mainResult.loading}\r\n                    download={true}\r\n                    register={true}\r\n                    handleRegister={handleRegister}\r\n                    registertext={t(langKeys.create)}\r\n                    pageSizeDefault={IDPAYMENTMETHODS === memoryTable.id ? memoryTable.pageSize === -1 ? 20 : memoryTable.pageSize : 20}\r\n                    initialPageIndex={IDPAYMENTMETHODS === memoryTable.id ? memoryTable.page === -1 ? 0 : memoryTable.page : 0}\r\n                    initialStateFilter={IDPAYMENTMETHODS === memoryTable.id ? Object.entries(memoryTable.filters).map(([key, value]) => ({ id: key, value })) : undefined}\r\n                />\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <PaymentMethodsDetails\r\n                data={rowSelected}\r\n                fetchData={fetchData}\r\n                setViewSelected={setViewSelected}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst PaymentMethodsDetails: React.FC<DetailPropsPaymentMethod> = ({ data: { edit, row }, fetchData, setViewSelected }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const classes = useStyles();\r\n    const createRequest = useSelector(state => state.culqi.requestCardCreate);\r\n\r\n    const [checkedFavorite, setCheckedFavorite] = useState(row?.favorite || false);\r\n    const [icon, setIcon] = useState(<></>);\r\n    const [waitSave, setWaitSave] = useState(false);\r\n\r\n    const datamonth = useMemo(() => ([\r\n        { id: 1, desc: \"01\" },\r\n        { id: 2, desc: \"02\" },\r\n        { id: 3, desc: \"03\" },\r\n        { id: 4, desc: \"04\" },\r\n        { id: 5, desc: \"05\" },\r\n        { id: 6, desc: \"06\" },\r\n        { id: 7, desc: \"07\" },\r\n        { id: 8, desc: \"08\" },\r\n        { id: 9, desc: \"09\" },\r\n        { id: 10, desc: \"10\" },\r\n        { id: 11, desc: \"11\" },\r\n        { id: 12, desc: \"12\" },\r\n    ]), [t]);\r\n\r\n    const arrayBreadPaymentMethods = [\r\n        { id: \"view-1\", name: t(langKeys.paymentmethod) },\r\n        { id: \"view-2\", name: t(langKeys.paymentmethodsdetail) }\r\n    ];\r\n\r\n    const emailRequired = (value: string) => {\r\n        if (value.length === 0) {\r\n            return t(langKeys.field_required) as string;\r\n        } else if (!/\\S+@\\S+\\.\\S+/.test(value)) {\r\n            return t(langKeys.emailverification) as string;\r\n        }\r\n    }\r\n\r\n    const { register, handleSubmit, setValue, getValues, control, formState: { errors } } = useForm({\r\n        defaultValues: {\r\n            firstname: row?.firstname || '',\r\n            lastname: row?.lastname || '',\r\n            mail: row?.mail || '',\r\n            cardnumber: row?.cardnumber || '',\r\n            securitycode: row?.securitycode || '',\r\n            expirationmonth: row?.expirationmonth || '',\r\n            expirationyear: row?.expirationyear || '',\r\n            phone: row?.phone || '',\r\n            favorite: row?.favorite || false,\r\n            cardlimit: 16,\r\n        }\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        if (!edit) {\r\n            if (row?.cardnumber) {\r\n                if (row.cardnumber.slice(0, 1) === \"4\") {\r\n                    setIcon(<img alt=\"aux\" src=\"https://static.culqi.com/v2/v2/static/img/visa.svg\" width=\"50px\" style={{ padding: 5 }}></img>)\r\n                    // setLimitNumbers(19);\r\n                    setValue('cardlimit', 19);\r\n                } else if (row.cardnumber.slice(0, 2) === \"51\" || row.cardnumber.slice(0, 2) === \"55\") {\r\n                    setIcon(<img alt=\"aux\" src=\"https://static.culqi.com/v2/v2/static/img/mastercard.svg\" width=\"50px\" style={{ padding: 5 }}></img>)\r\n                    // setLimitNumbers(19);\r\n                    setValue('cardlimit', 19);\r\n                } else if (row.cardnumber.slice(0, 2) === \"37\" || row.cardnumber.slice(0, 2) === \"34\") {\r\n                    setIcon(<img alt=\"aux\" src=\"https://static.culqi.com/v2/v2/static/img/amex.svg\" width=\"50px\" style={{ padding: 5 }}></img>)\r\n                    // setLimitNumbers(18);\r\n                    setValue('cardlimit', 18);\r\n                } else if (row.cardnumber.slice(0, 2) === \"36\" || row.cardnumber.slice(0, 2) === \"38\" || row.cardnumber.slice(0, 3) === \"300\" || row.cardnumber.slice(0, 3) === \"305\") {\r\n                    setIcon(<img alt=\"aux\" src=\"https://static.culqi.com/v2/v2/static/img/diners.svg\" width=\"50px\" style={{ padding: 5 }}></img>)\r\n                    // setLimitNumbers(17);\r\n                    setValue('cardlimit', 17);\r\n                } else {\r\n                    setIcon(<></>)\r\n                    // setLimitNumbers(10);\r\n                    setValue('cardlimit', 10);\r\n                }\r\n            }\r\n        }\r\n    }, [edit]);\r\n\r\n    React.useEffect(() => {\r\n        register('firstname', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('lastname', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('mail', { validate: emailRequired, value: '' });\r\n        register('cardnumber', { validate: (value) => (value && value.length !== 0 && value.length === getValues('cardlimit')) || (value.length === 0 ? t(langKeys.field_required) : t(langKeys.creditcardvalidate)) });\r\n        register('securitycode', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('expirationmonth', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('expirationyear', { validate: (value) => (value && value.length && value.length <= 4) || t(langKeys.field_required) });\r\n        register('favorite');\r\n        register('phone', { validate: (value) => (value && value.length) || t(langKeys.field_required) });\r\n        register('cardlimit');\r\n    }, [edit, register]);\r\n\r\n    useEffect(() => {\r\n        if (waitSave) {\r\n            if (!createRequest.loading && !createRequest.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: t(langKeys.successful_register) }))\r\n                fetchData && fetchData();\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n                setViewSelected(\"view-1\");\r\n            } else if (createRequest.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: t((createRequest.msg || createRequest.code) || \"error_unexpected_error\") }))\r\n                setWaitSave(false);\r\n                dispatch(showBackdrop(false));\r\n            }\r\n        }\r\n    }, [createRequest, waitSave])\r\n\r\n    const onSubmit = handleSubmit((data) => {\r\n        const callback = () => {\r\n            dispatch(cardCreate(data));\r\n            dispatch(showBackdrop(true));\r\n            setWaitSave(true);\r\n        }\r\n\r\n        dispatch(manageConfirmation({\r\n            visible: true,\r\n            question: t(langKeys.confirmation_save),\r\n            callback\r\n        }))\r\n    });\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <form onSubmit={onSubmit}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <TemplateBreadcrumbs\r\n                            breadcrumbs={arrayBreadPaymentMethods}\r\n                            handleClick={setViewSelected}\r\n                        />\r\n                        <TitleDetail\r\n                            title={row ? t(langKeys.paymentmethod) : t(langKeys.paymentmethodnew)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            startIcon={<ClearIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#FB5F5F\" }}\r\n                            onClick={() => setViewSelected(\"view-1\")}\r\n                        >{t(langKeys.back)}</Button>\r\n                        {edit &&\r\n                            <Button\r\n                                className={classes.button}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                startIcon={<SaveIcon color=\"secondary\" />}\r\n                                style={{ backgroundColor: \"#55BD84\" }}\r\n                            >{t(langKeys.save)}\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.containerDetail}>\r\n                    <h3>{t(langKeys.addpaymentmethodsub)}</h3>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.firstname)}\r\n                            onChange={(value) => setValue('firstname', value)}\r\n                            valueDefault={getValues('firstname')}\r\n                            error={errors?.firstname?.message}\r\n                            className=\"col-6\"\r\n                            disabled={!edit}\r\n                        />\r\n                        <FieldEdit\r\n                            label={t(langKeys.lastname)}\r\n                            onChange={(value) => setValue('lastname', value)}\r\n                            valueDefault={getValues('lastname')}\r\n                            error={errors?.lastname?.message}\r\n                            className=\"col-6\"\r\n                            disabled={!edit}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row-zyx\">\r\n                        <FieldEdit\r\n                            label={t(langKeys.email)}\r\n                            onChange={(value) => setValue('mail', value)}\r\n                            valueDefault={getValues('mail')}\r\n                            error={errors?.mail?.message}\r\n                            className=\"col-6\"\r\n                            disabled={!edit}\r\n                        />\r\n                        <Controller\r\n                            name=\"phone\"\r\n                            control={control}\r\n                            rules={{\r\n                                validate: (value) => {\r\n                                    if (value.length === 0) {\r\n                                        return t(langKeys.field_required) as string;\r\n                                    } else if (value.length < 10) {\r\n                                        return t(langKeys.validationphone) as string;\r\n                                    }\r\n                                }\r\n                            }}\r\n                            render={({ field, formState: { errors } }) => (\r\n                                <CssPhonemui\r\n                                    {...field}\r\n                                    className=\"col-6\"\r\n                                    variant=\"outlined\"\r\n                                    margin=\"normal\"\r\n                                    fullWidth\r\n                                    size=\"small\"\r\n                                    defaultCountry={'pe'}\r\n                                    label={t(langKeys.phone)}\r\n                                    error={!!errors?.phone}\r\n                                    helperText={errors?.phone?.message}\r\n                                    disabled={!edit}\r\n                                />\r\n                            )}\r\n                        />\r\n                    </div>\r\n                    <h3>{t(langKeys.creditcard)}</h3>\r\n                    {edit && <div style={{ display: \"flex\" }}>\r\n                        <img alt=\"aux2\" src=\"https://static.culqi.com/v2/v2/static/img/visa.svg\" width=\"50px\" style={{ padding: 5 }}></img>\r\n                        <img alt=\"aux2\" src=\"https://static.culqi.com/v2/v2/static/img/mastercard.svg\" width=\"50px\" style={{ padding: 5 }}></img>\r\n                        <img alt=\"aux2\" src=\"https://static.culqi.com/v2/v2/static/img/amex.svg\" width=\"50px\" style={{ padding: 5 }}></img>\r\n                        <img alt=\"aux2\" src=\"https://static.culqi.com/v2/v2/static/img/diners.svg\" width=\"50px\" style={{ padding: 5 }}></img>\r\n                    </div>}\r\n                    <div style={{ display: \"flex\", width: \"100%\" }}>\r\n                        <div style={{ width: \"50%\" }}>\r\n                            <div className=\"row-zyx\">\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    margin=\"normal\"\r\n                                    fullWidth\r\n                                    size=\"small\"\r\n                                    label={t(langKeys.creditcard)}\r\n                                    error={!!errors.cardnumber}\r\n                                    helperText={errors.cardnumber?.message}\r\n                                    disabled={!edit}\r\n                                    defaultValue={getValues('cardnumber')}\r\n                                    onPaste={e => {\r\n                                        e.preventDefault()\r\n                                    }}\r\n                                    onChange={(e) => {\r\n                                        let val = e.target.value.replace(/[^0-9]/g, '');\r\n                                        let spaces = Math.floor(val.length / 4)\r\n                                        let partialvalue = val.slice(0, 4)\r\n                                        for (let i = 1; i <= spaces; i++) {\r\n                                            partialvalue += \" \" + val.slice(i * 4, (i + 1) * 4)\r\n                                        }\r\n                                        if (partialvalue.slice(-1) === \" \") {\r\n                                            partialvalue = partialvalue.slice(0, -1);\r\n                                        }\r\n                                        e.target.value = partialvalue;\r\n\r\n                                        setValue(\"cardnumber\", partialvalue.trim());\r\n                                    }}\r\n                                    onInput={(e: any) => {\r\n                                        if (e.target.value.slice(0, 1) === \"4\") {\r\n                                            setIcon(<img alt=\"aux\" src=\"https://static.culqi.com/v2/v2/static/img/visa.svg\" width=\"50px\" style={{ padding: 5 }}></img>)\r\n                                            // setLimitNumbers(19);\r\n                                            setValue('cardlimit', 19);\r\n                                        } else if (e.target.value.slice(0, 2) === \"51\" || e.target.value.slice(0, 2) === \"55\") {\r\n                                            setIcon(<img alt=\"aux\" src=\"https://static.culqi.com/v2/v2/static/img/mastercard.svg\" width=\"50px\" style={{ padding: 5 }}></img>)\r\n                                            // setLimitNumbers(19);\r\n                                            setValue('cardlimit', 19);\r\n                                        } else if (e.target.value.slice(0, 2) === \"37\" || e.target.value.slice(0, 2) === \"34\") {\r\n                                            setIcon(<img alt=\"aux\" src=\"https://static.culqi.com/v2/v2/static/img/amex.svg\" width=\"50px\" style={{ padding: 5 }}></img>)\r\n                                            // setLimitNumbers(18);\r\n                                            setValue('cardlimit', 18);\r\n                                        } else if (e.target.value.slice(0, 2) === \"36\" || e.target.value.slice(0, 2) === \"38\" || e.target.value.slice(0, 3) === \"300\" || e.target.value.slice(0, 3) === \"305\") {\r\n                                            setIcon(<img alt=\"aux\" src=\"https://static.culqi.com/v2/v2/static/img/diners.svg\" width=\"50px\" style={{ padding: 5 }}></img>)\r\n                                            // setLimitNumbers(17);\r\n                                            setValue('cardlimit', 17);\r\n                                        } else {\r\n                                            setIcon(<></>)\r\n                                            // setLimitNumbers(10);\r\n                                            setValue('cardlimit', 10);\r\n                                        }\r\n                                    }}\r\n                                    InputProps={{\r\n                                        endAdornment: icon,\r\n                                    }}\r\n                                    inputProps={{\r\n                                        maxLength: getValues('cardlimit'),\r\n                                    }}\r\n                                    className=\"col-9\"\r\n                                />\r\n                                <div className={\"col-3\"} style={{ paddingBottom: '3px' }}>\r\n                                    <Box fontWeight={500} lineHeight=\"18px\" fontSize={14} mb={2} color=\"textPrimary\">{t(langKeys.preferred)}</Box>\r\n                                    <FormControlLabel\r\n                                        style={{ paddingLeft: 10 }}\r\n                                        control={<IOSSwitch checked={checkedFavorite} disabled={!edit} onChange={(e) => { setCheckedFavorite(e.target.checked); setValue('favorite', e.target.checked) }} />}\r\n                                        label={\"\"}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            {edit && <h3>{t(langKeys.dueDate)}</h3>}\r\n                            {edit && <div style={{ display: \"flex\" }}>\r\n                                <FieldSelect\r\n                                    onChange={(data: typeof datamonth[number]) => {\r\n                                        setValue('expirationmonth', data?.desc || \"\");\r\n                                    }}\r\n                                    variant=\"outlined\"\r\n                                    style={{ marginTop: 8, marginRight: 10 }}\r\n                                    className=\"col-6\"\r\n                                    valueDefault={getValues('expirationmonth')}\r\n                                    label={\"MM\"}\r\n                                    error={errors.expirationmonth?.message}\r\n                                    data={datamonth}\r\n                                    optionDesc=\"desc\"\r\n                                    optionValue=\"id\"\r\n                                />\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    margin=\"normal\"\r\n                                    fullWidth\r\n                                    className=\"col-6\"\r\n                                    style={{ marginTop: 8 }}\r\n                                    type=\"number\"\r\n                                    size=\"small\"\r\n                                    label={\"YYYY\"}\r\n                                    error={!!errors.expirationyear}\r\n                                    helperText={errors.expirationyear?.message}\r\n                                    inputProps={{\r\n                                        maxLength: 4\r\n                                    }}\r\n                                    onChange={(e) => {\r\n                                        setValue(\"expirationyear\", e.target.value);\r\n                                    }}\r\n                                />\r\n                            </div>}\r\n                            {edit && <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                fullWidth\r\n                                type=\"password\"\r\n                                size=\"small\"\r\n                                label={t(langKeys.securitycode)}\r\n                                error={!!errors.securitycode}\r\n                                helperText={errors.securitycode?.message}\r\n                                inputProps={{\r\n                                    maxLength: getValues('cardlimit') === 18 ? 4 : 3\r\n                                }}\r\n                                onChange={(e) => {\r\n                                    setValue(\"securitycode\", e.target.value);\r\n                                }}\r\n                            />}\r\n                        </div>\r\n                        <div style={{ width: \"50%\" }}>\r\n                            {edit && <div style={{ textAlign: \"center\", padding: \"20px\", border: \"1px solid #7721ad\", borderRadius: \"15px\", margin: \"10px\" }}>{t(langKeys.finishregwarn)}</div>}\r\n                            {edit && <div style={{ textAlign: \"center\", padding: \"20px\", color: \"#7721ad\", margin: \"10px\" }}>{t(langKeys.finishregwarn2)}</div>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Invoice: FC = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const multiData = useSelector(state => state.main.multiData);\r\n    const user = useSelector(state => state.login.validateToken.user);\r\n\r\n    const [dataCorp, setDataCorp] = useState<any>([]);\r\n    const [dataOrg, setDataOrg] = useState<any>([]);\r\n    const [dataPaymentPlan, setDataPaymentPlan] = useState<any>([]);\r\n    const [dataPlan, setDataPlan] = useState<any>([]);\r\n    const [pageSelected, setPageSelected] = useState(0);\r\n    const [sentFirstInfo, setSentFirstInfo] = useState(false);\r\n\r\n    const [customSearch, setCustomSearch] = useState({\r\n        year: 0,\r\n        month: 0,\r\n        corpid: 0,\r\n        orgid: 0,\r\n        totalize: 2,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (customSearch.corpid !== 0) {\r\n            setPageSelected(1);\r\n        }\r\n    }, [customSearch])\r\n\r\n    useEffect(() => {\r\n        if (!multiData.loading && sentFirstInfo) {\r\n            setSentFirstInfo(false);\r\n            setDataPlan(multiData.data[0] && multiData.data[0].success ? multiData.data[0].data : []);\r\n            setDataOrg(multiData.data[1] && multiData.data[1].success ? multiData.data[1].data : []);\r\n            setDataCorp(multiData.data[2] && multiData.data[2].success ? multiData.data[2].data : []);\r\n            setDataPaymentPlan(multiData.data[3] && multiData.data[3].success ? multiData.data[3].data : []);\r\n        }\r\n    }, [multiData])\r\n\r\n    useEffect(() => {\r\n        setSentFirstInfo(true);\r\n        dispatch(getCountryList())\r\n        if (user?.roledesc === \"SUPERADMIN\") {\r\n            dispatch(getMultiCollection([\r\n                getPlanSel(),\r\n                getOrgSelList(0),\r\n                getCorpSel(0),\r\n                getPaymentPlanSel(),\r\n            ]));\r\n        }\r\n        else {\r\n            dispatch(getMultiCollection([\r\n                getPlanSel(),\r\n                getOrgSelList(user?.corpid || 0),\r\n                getCorpSelVariant(user?.corpid || 0, user?.orgid || 0, user?.usr || ''),\r\n                getPaymentPlanSel(),\r\n            ]));\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            {user?.roledesc === \"SUPERADMIN\" && <div>\r\n                <Tabs\r\n                    value={pageSelected}\r\n                    indicatorColor=\"primary\"\r\n                    variant=\"fullWidth\"\r\n                    style={{ borderBottom: '1px solid #EBEAED', backgroundColor: '#FFF', marginTop: 8 }}\r\n                    textColor=\"primary\"\r\n                    onChange={(_, value) => setPageSelected(value)}\r\n                >\r\n                    <AntTab label={t(langKeys.costperperiod)} />\r\n                    <AntTab label={t(langKeys.periodreport)} />\r\n                    <AntTab label={t(langKeys.payments)} />\r\n                    <AntTab label={t(langKeys.invoice)} />\r\n                    <AntTab label={t(langKeys.messagingpackages)} />\r\n                    <AntTab label={t(langKeys.paymentmethods)} />\r\n                </Tabs>\r\n                {pageSelected === 0 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <CostPerPeriod dataCorp={dataCorp} dataOrg={dataOrg} dataPaymentPlan={dataPaymentPlan} dataPlan={dataPlan} />\r\n                    </div>\r\n                }\r\n                {pageSelected === 1 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <PeriodReport dataCorp={dataCorp} dataOrg={dataOrg} customSearch={customSearch} />\r\n                    </div>\r\n                }\r\n                {pageSelected === 2 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <Payments dataCorp={dataCorp} dataOrg={dataOrg} setCustomSearch={setCustomSearch} />\r\n                    </div>\r\n                }\r\n                {pageSelected === 3 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <Billing dataCorp={dataCorp} dataOrg={dataOrg} />\r\n                    </div>\r\n                }\r\n                {pageSelected === 4 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <MessagingPackages dataCorp={dataCorp} dataOrg={dataOrg} />\r\n                    </div>\r\n                }\r\n                {pageSelected === 5 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <PaymentMethods />\r\n                    </div>\r\n                }\r\n            </div>}\r\n            {[\"ADMINISTRADOR\", \"ADMINISTRADOR P\", \"ADMINISTRADOR LIMADERMA\"].includes(user?.roledesc || '') && <div>\r\n                <Tabs\r\n                    value={pageSelected}\r\n                    indicatorColor=\"primary\"\r\n                    variant=\"fullWidth\"\r\n                    style={{ borderBottom: '1px solid #EBEAED', backgroundColor: '#FFF', marginTop: 8 }}\r\n                    textColor=\"primary\"\r\n                    onChange={(_, value) => setPageSelected(value)}\r\n                >\r\n                    <AntTab label={t(langKeys.periodreport)} />\r\n                    <AntTab label={t(langKeys.payments)} />\r\n                    <AntTab label={t(langKeys.messagingpackages)} />\r\n                    <AntTab label={t(langKeys.paymentmethods)} />\r\n                </Tabs>\r\n                {pageSelected === 0 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <PeriodReport dataCorp={dataCorp} dataOrg={dataOrg} customSearch={customSearch} />\r\n                    </div>\r\n                }\r\n                {pageSelected === 1 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <Payments dataCorp={dataCorp} dataOrg={dataOrg} setCustomSearch={setCustomSearch} />\r\n                    </div>\r\n                }\r\n                {pageSelected === 2 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <MessagingPackages dataCorp={dataCorp} dataOrg={dataOrg} />\r\n                    </div>\r\n                }\r\n                {pageSelected === 3 &&\r\n                    <div style={{ marginTop: 16 }}>\r\n                        <PaymentMethods />\r\n                    </div>\r\n                }\r\n            </div>}\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Invoice;","import { IActionCall, IRequestBody } from \"@types\";\r\nimport { ChannelsService } from \"network\";\r\nimport actionTypes from \"./actionTypes\";\r\n\r\nexport const getChannelsListSub = (accessToken: String, appId: String): IActionCall => ({\r\n    callAPI: () => ChannelsService.getPagelistSub(accessToken, appId),\r\n    types: {\r\n        loading: actionTypes.PAGELIST,\r\n        success: actionTypes.PAGELIST_SUCCESS,\r\n        failure: actionTypes.PAGELIST_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const executeSubscription = (requestBody: IRequestBody): IActionCall => ({\r\n    callAPI: () => ChannelsService.execSub(requestBody),\r\n    types: {\r\n        loading: actionTypes.SIGNUP,\r\n        success: actionTypes.SIGNUP_SUCCESS,\r\n        failure: actionTypes.SIGNUP_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const validatechannels = (requestBody: IRequestBody): IActionCall => ({\r\n    callAPI: () => ChannelsService.valChannels(requestBody),\r\n    types: {\r\n        loading: actionTypes.VALCHANNELS,\r\n        success: actionTypes.VALCHANNELS_SUCCESS,\r\n        failure: actionTypes.VALCHANNELS_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const executeCheckNewUser = (requestBody: IRequestBody): IActionCall => ({\r\n    callAPI: () => ChannelsService.validateNewUser(requestBody),\r\n    types: {\r\n        loading: actionTypes.ISVALID,\r\n        success: actionTypes.ISVALID_SUCCESS,\r\n        failure: actionTypes.ISVALID_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const verifyPlan = (accessToken: String): IActionCall => ({\r\n    callAPI: () => ChannelsService.vrfplan(accessToken),\r\n    types: {\r\n        loading: actionTypes.VERIFYPLAN,\r\n        success: actionTypes.VERIFYPLAN_SUCCESS,\r\n        failure: actionTypes.VERIFYPLAN_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetGetChannelsListSub = (): IActionCall => ({type: actionTypes.PAGELIST_RESET});\r\n\r\nexport const getCurrencyList = (): IActionCall => ({\r\n    callAPI: () => ChannelsService.getCurrencyList(),\r\n    types: {\r\n        loading: actionTypes.CURRENCYLIST,\r\n        success: actionTypes.CURRENCYLIST_SUCCESS,\r\n        failure: actionTypes.CURRENCYLIST_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const getCountryList = (): IActionCall => ({\r\n    callAPI: () => ChannelsService.getCountryList(),\r\n    types: {\r\n        loading: actionTypes.COUNTRYLIST,\r\n        success: actionTypes.COUNTRYLIST_SUCCESS,\r\n        failure: actionTypes.COUNTRYLIST_FAILURE,\r\n    },\r\n    type: null,\r\n});","import { IActionCall } from \"@types\";\r\nimport { CulqiService } from \"network\";\r\nimport actionTypes from \"./actionTypes\";\r\n\r\nexport const charge = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.charge(request),\r\n    types: {\r\n        loading: actionTypes.CHARGE,\r\n        success: actionTypes.CHARGE_SUCCESS,\r\n        failure: actionTypes.CHARGE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetCharge = (): IActionCall => ({ type: actionTypes.CHARGE_RESET });\r\n\r\nexport const balance = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.balance(request),\r\n    types: {\r\n        loading: actionTypes.BALANCE,\r\n        success: actionTypes.BALANCE_SUCCESS,\r\n        failure: actionTypes.BALANCE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetBalance = (): IActionCall => ({ type: actionTypes.BALANCE_RESET });\r\n\r\nexport const paymentOrder = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.paymentOrder(request),\r\n    types: {\r\n        loading: actionTypes.PAYMENTORDER,\r\n        success: actionTypes.PAYMENTORDER_SUCCESS,\r\n        failure: actionTypes.PAYMENTORDER_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetPaymentOrder = (): IActionCall => ({ type: actionTypes.PAYMENTORDER_RESET });\r\n\r\nexport const subscribe = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.subscribe(request),\r\n    types: {\r\n        loading: actionTypes.SUBSCRIBE,\r\n        success: actionTypes.SUBSCRIBE_SUCCESS,\r\n        failure: actionTypes.SUBSCRIBE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetSubscribe = (): IActionCall => ({ type: actionTypes.SUBSCRIBE_RESET });\r\n\r\nexport const unsubscribe = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.unsubscribe(request),\r\n    types: {\r\n        loading: actionTypes.UNSUBSCRIBE,\r\n        success: actionTypes.UNSUBSCRIBE_SUCCESS,\r\n        failure: actionTypes.UNSUBSCRIBE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetUnsubscribe = (): IActionCall => ({ type: actionTypes.UNSUBSCRIBE_RESET });\r\n\r\nexport const sendInvoice = (invoiceid: number): IActionCall => ({\r\n    callAPI: () => CulqiService.sendInvoice({ parameters: { invoiceid } }),\r\n    types: {\r\n        loading: actionTypes.SEND_INVOICE,\r\n        success: actionTypes.SEND_INVOICE_SUCCESS,\r\n        failure: actionTypes.SEND_INVOICE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetSendInvoice = (): IActionCall => ({ type: actionTypes.SEND_INVOICE_RESET });\r\n\r\nexport const createInvoice = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.createInvoice(request),\r\n    types: {\r\n        loading: actionTypes.CREATE_INVOICE,\r\n        success: actionTypes.CREATE_INVOICE_SUCCESS,\r\n        failure: actionTypes.CREATE_INVOICE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetcreateInvoice = (): IActionCall => ({ type: actionTypes.CREATE_INVOICE_RESET });\r\n\r\nexport const createCreditNote = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.createCreditNote(request),\r\n    types: {\r\n        loading: actionTypes.CREATE_CREDITNOTE,\r\n        success: actionTypes.CREATE_CREDITNOTE_SUCCESS,\r\n        failure: actionTypes.CREATE_CREDITNOTE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetCreateCreditNote = (): IActionCall => ({ type: actionTypes.CREATE_CREDITNOTE_RESET });\r\n\r\nexport const regularizeInvoice = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.regularizeInvoice(request),\r\n    types: {\r\n        loading: actionTypes.REGULARIZE_INVOICE,\r\n        success: actionTypes.REGULARIZE_INVOICE_SUCCESS,\r\n        failure: actionTypes.REGULARIZE_INVOICE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetRegularizeInvoice = (): IActionCall => ({ type: actionTypes.REGULARIZE_INVOICE_RESET });\r\n\r\nexport const getExchangeRate = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.getExchangeRate(request),\r\n    types: {\r\n        loading: actionTypes.GET_EXCHANGERATE,\r\n        success: actionTypes.GET_EXCHANGERATE_SUCCESS,\r\n        failure: actionTypes.GET_EXCHANGERATE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetGetExchangeRate = (): IActionCall => ({ type: actionTypes.GET_EXCHANGERATE_RESET });\r\n\r\nexport const emitInvoice = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.emitInvoice(request),\r\n    types: {\r\n        loading: actionTypes.EMIT_INVOICE,\r\n        success: actionTypes.EMIT_INVOICE_SUCCESS,\r\n        failure: actionTypes.EMIT_INVOICE_FAILURE,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetEmitInvoice = (): IActionCall => ({ type: actionTypes.EMIT_INVOICE_RESET });\r\n\r\nexport const cardCreate = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.cardCreate(request),\r\n    types: {\r\n        failure: actionTypes.CARD_CREATE_FAILURE,\r\n        loading: actionTypes.CARD_CREATE,\r\n        success: actionTypes.CARD_CREATE_SUCCESS,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetCardCreate = (): IActionCall => ({ type: actionTypes.CARD_CREATE_RESET });\r\n\r\nexport const cardDelete = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.cardDelete(request),\r\n    types: {\r\n        failure: actionTypes.CARD_DELETE_FAILURE,\r\n        loading: actionTypes.CARD_DELETE,\r\n        success: actionTypes.CARD_DELETE_SUCCESS,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetCardDelete = (): IActionCall => ({ type: actionTypes.CARD_DELETE_RESET });\r\n\r\nexport const cardGet = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.cardGet(request),\r\n    types: {\r\n        failure: actionTypes.CARD_GET_FAILURE,\r\n        loading: actionTypes.CARD_GET,\r\n        success: actionTypes.CARD_GET_SUCCESS,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetCardGet = (): IActionCall => ({ type: actionTypes.CARD_GET_RESET });\r\n\r\nexport const reportPdf = (request: any): IActionCall => ({\r\n    callAPI: () => CulqiService.reportPdf(request),\r\n    types: {\r\n        failure: actionTypes.DRAW_REPORTPDF_FAILURE,\r\n        loading: actionTypes.DRAW_REPORTPDF,\r\n        success: actionTypes.DRAW_REPORTPDF_SUCCESS,\r\n    },\r\n    type: null,\r\n});\r\n\r\nexport const resetReportPdf = (): IActionCall => ({ type: actionTypes.DRAW_REPORTPDF_RESET });","import AttachMoneyIcon from '@material-ui/icons/AttachMoney';\r\n\r\nimport { apiUrls } from 'common/constants';\r\nimport { Button } from '@material-ui/core';\r\nimport { charge, resetCharge, subscribe, resetSubscribe, balance, resetBalance, paymentOrder, resetPaymentOrder } from 'store/culqi/actions'\r\nimport { CulqiProvider, Culqi } from 'react-culqi';\r\nimport { Dictionary } from '@types';\r\nimport { FC, useEffect, useState } from 'react';\r\nimport { langKeys } from 'lang/keys';\r\nimport { showBackdrop, showSnackbar } from 'store/popus/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'hooks';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst globalpublickey = apiUrls.CULQIKEY;\r\n\r\ninterface CulqiOptionsProps {\r\n    buttontext?: string;\r\n    desctext?: string;\r\n    logo?: string;\r\n    maincolor?: string;\r\n    maintext?: string;\r\n}\r\n\r\ninterface CulqiModalProps {\r\n    amount: number;\r\n    buttontitle?: string;\r\n    buyamount?: number;\r\n    callbackOnSuccess?: () => void;\r\n    comments?: string;\r\n    corpid?: number;\r\n    currency: string;\r\n    description: string;\r\n    disabled?: boolean;\r\n    interval?: string;\r\n    interval_count?: number;\r\n    invoiceid?: number;\r\n    paymentorderid?: number;\r\n    limit?: number;\r\n    metadata?: Dictionary;\r\n    options?: CulqiOptionsProps;\r\n    orgid?: number;\r\n    override?: boolean;\r\n    publickey?: string;\r\n    purchaseorder?: string;\r\n    reference?: string;\r\n    successmessage?: string;\r\n    title: string;\r\n    totalamount?: number;\r\n    totalpay?: number;\r\n    type?: \"CHARGE\" | \"SUBSCRIPTION\" | \"BALANCE\" | \"PAYMENTORDER\",\r\n}\r\n\r\nconst CulqiModal: FC<CulqiModalProps> = ({ amount, buttontitle, buyamount, callbackOnSuccess, comments, corpid = 0, currency = \"USD\", description, disabled = false, interval, interval_count, invoiceid, paymentorderid, limit, metadata, options = {}, orgid = 0, override, publickey, purchaseorder, reference, successmessage, title, totalamount, totalpay, type = \"CHARGE\" }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const culqiSelector = useSelector(state => state.culqi.request);\r\n\r\n    const [waitPay, setWaitPay] = useState(false);\r\n\r\n    const createCharge = (token: any) => {\r\n        dispatch(showBackdrop(true));\r\n        dispatch(charge({\r\n            comments,\r\n            corpid,\r\n            invoiceid,\r\n            metadata,\r\n            orgid,\r\n            override,\r\n            purchaseorder,\r\n            settings: { title, description, currency, amount },\r\n            token,\r\n        }));\r\n        setWaitPay(true);\r\n    }\r\n\r\n    const createBalance = (token: any) => {\r\n        dispatch(showBackdrop(true));\r\n        dispatch(balance({\r\n            buyamount,\r\n            comments,\r\n            corpid,\r\n            invoiceid,\r\n            metadata,\r\n            orgid,\r\n            purchaseorder,\r\n            reference,\r\n            settings: { title, description, currency, amount },\r\n            token,\r\n            totalamount,\r\n            totalpay,\r\n        }));\r\n        setWaitPay(true);\r\n    }\r\n\r\n    const createPaymentOrder = (token: any) => {\r\n        dispatch(showBackdrop(true));\r\n        dispatch(paymentOrder({\r\n            corpid,\r\n            metadata,\r\n            orgid,\r\n            paymentorderid,\r\n            settings: { title, description, currency, amount },\r\n            token,\r\n        }));\r\n        setWaitPay(true);\r\n    }\r\n\r\n    const createSubscription = (token: any) => {\r\n        dispatch(showBackdrop(true));\r\n        dispatch(subscribe({\r\n            metadata,\r\n            settings: { title, description, currency, amount, interval, interval_count, limit },\r\n            token,\r\n        }));\r\n        setWaitPay(true);\r\n    }\r\n\r\n    const onToken = (token: any) => {\r\n        switch (type) {\r\n            case 'BALANCE':\r\n                createBalance(token);\r\n                break;\r\n\r\n            case 'CHARGE':\r\n                createCharge(token);\r\n                break;\r\n\r\n            case 'PAYMENTORDER':\r\n                createPaymentOrder(token);\r\n                break;\r\n\r\n            case 'SUBSCRIPTION':\r\n                createSubscription(token);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const onError = (error: any) => {\r\n        switch (type) {\r\n            case 'BALANCE':\r\n                dispatch(resetBalance());\r\n                break;\r\n\r\n            case 'CHARGE':\r\n                dispatch(resetCharge());\r\n                break;\r\n\r\n            case 'PAYMENTORDER':\r\n                dispatch(resetPaymentOrder());\r\n                break;\r\n\r\n            case 'SUBSCRIPTION':\r\n                dispatch(resetSubscribe());\r\n                break;\r\n        }\r\n    }\r\n\r\n    const resetRequest = () => {\r\n        switch (type) {\r\n            case 'BALANCE':\r\n                dispatch(resetBalance());\r\n                break;\r\n\r\n            case 'CHARGE':\r\n                dispatch(resetCharge());\r\n                break;\r\n\r\n            case 'PAYMENTORDER':\r\n                dispatch(resetPaymentOrder());\r\n                break;\r\n\r\n            case 'SUBSCRIPTION':\r\n                dispatch(resetSubscribe());\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (waitPay) {\r\n            if (!culqiSelector.loading && !culqiSelector.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"success\", message: `${successmessage ? successmessage : culqiSelector.message}` }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitPay(false);\r\n\r\n                resetRequest && resetRequest();\r\n                callbackOnSuccess && callbackOnSuccess();\r\n            }\r\n            else if (culqiSelector.error) {\r\n                dispatch(showSnackbar({ show: true, severity: \"error\", message: `${culqiSelector.message ? culqiSelector.message : t(\"error_unexpected_error\")}` }))\r\n                dispatch(showBackdrop(false));\r\n                setWaitPay(false);\r\n\r\n                resetRequest && resetRequest();\r\n            }\r\n        }\r\n    }, [culqiSelector, waitPay]);\r\n\r\n    return (\r\n        <CulqiProvider\r\n            amount={amount}\r\n            currency={currency}\r\n            description={description}\r\n            onError={onError}\r\n            onToken={onToken}\r\n            options={{\r\n                style: {\r\n                    maincolor: \"#7721AD\",\r\n                    buttontext: \"#FFFFFF\",\r\n                    maintext: \"#7721AD\",\r\n                    ...options\r\n                }\r\n            }}\r\n            publicKey={publickey || globalpublickey}\r\n            title={title}\r\n        >\r\n            <Culqi>\r\n                {({ openCulqi }: any) => {\r\n                    return (\r\n                        <Button\r\n                            color=\"primary\"\r\n                            disabled={disabled || waitPay}\r\n                            onClick={openCulqi}\r\n                            startIcon={<AttachMoneyIcon color=\"secondary\" />}\r\n                            style={{ backgroundColor: \"#55BD84\" }}\r\n                            type=\"button\"\r\n                            variant=\"contained\"\r\n                        >\r\n                            {buttontitle ? buttontitle : t(langKeys.pay)}\r\n                        </Button>\r\n                    )\r\n                }}\r\n            </Culqi>\r\n        </CulqiProvider>\r\n    );\r\n};\r\n\r\nexport default CulqiModal;"],"sourceRoot":""}